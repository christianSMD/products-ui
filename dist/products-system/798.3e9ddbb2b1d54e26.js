var oC=Object.defineProperty,sC=Object.defineProperties,rC=Object.getOwnPropertyDescriptors,Wa=Object.getOwnPropertySymbols,aC=Object.prototype.hasOwnProperty,cC=Object.prototype.propertyIsEnumerable,Ko=(W,w,m)=>w in W?oC(W,w,{enumerable:!0,configurable:!0,writable:!0,value:m}):W[w]=m,Bn=(W,w)=>{for(var m in w||(w={}))aC.call(w,m)&&Ko(W,m,w[m]);if(Wa)for(var m of Wa(w))cC.call(w,m)&&Ko(W,m,w[m]);return W},Hn=(W,w)=>sC(W,rC(w)),E=(W,w,m)=>(Ko(W,"symbol"!=typeof w?w+"":w,m),m);(self.webpackChunkproducts_system=self.webpackChunkproducts_system||[]).push([[798],{5876:(W,w,m)=>{const y=m(532),x=m(7554),C=m(179),Z=m(1036);function f(t,k,q,L,N){const F=[].slice.call(arguments,1),D=F.length,Y="function"==typeof F[D-1];if(!Y&&!y())throw new Error("Callback required as last argument");if(!Y){if(D<1)throw new Error("Too few arguments provided");return 1===D?(q=k,k=L=void 0):2===D&&!k.getContext&&(L=q,q=k,k=void 0),new Promise(function(X,ct){try{const tt=x.create(q,L);X(t(tt,k,L))}catch(tt){ct(tt)}})}if(D<2)throw new Error("Too few arguments provided");2===D?(N=q,q=k,k=L=void 0):3===D&&(k.getContext&&void 0===N?(N=L,L=void 0):(N=L,L=q,q=k,k=void 0));try{const X=x.create(q,L);N(null,t(X,k,L))}catch(X){N(X)}}w.rT=f.bind(null,C.render),w.hz=f.bind(null,C.renderToDataURL),w.toString=f.bind(null,function(t,k,q){return Z.render(t,q)})},532:W=>{W.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(W,w,m)=>{const T=m(4860).getSymbolSize;w.getRowColCoords=function(x){if(1===x)return[];const C=Math.floor(x/7)+2,Z=T(x),f=145===Z?26:2*Math.ceil((Z-13)/(2*C-2)),t=[Z-7];for(let k=1;k<C-1;k++)t[k]=t[k-1]-f;return t.push(6),t.reverse()},w.getPositions=function(x){const C=[],Z=w.getRowColCoords(x),f=Z.length;for(let t=0;t<f;t++)for(let k=0;k<f;k++)0===t&&0===k||0===t&&k===f-1||t===f-1&&0===k||C.push([Z[t],Z[k]]);return C}},812:(W,w,m)=>{const T=m(6906),y=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function x(C){this.mode=T.ALPHANUMERIC,this.data=C}x.getBitsLength=function(Z){return 11*Math.floor(Z/2)+Z%2*6},x.prototype.getLength=function(){return this.data.length},x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)},x.prototype.write=function(Z){let f;for(f=0;f+2<=this.data.length;f+=2){let t=45*y.indexOf(this.data[f]);t+=y.indexOf(this.data[f+1]),Z.put(t,11)}this.data.length%2&&Z.put(y.indexOf(this.data[f]),6)},W.exports=x},3044:W=>{function w(){this.buffer=[],this.length=0}w.prototype={get:function(m){const T=Math.floor(m/8);return 1==(this.buffer[T]>>>7-m%8&1)},put:function(m,T){for(let y=0;y<T;y++)this.putBit(1==(m>>>T-y-1&1))},getLengthInBits:function(){return this.length},putBit:function(m){const T=Math.floor(this.length/8);this.buffer.length<=T&&this.buffer.push(0),m&&(this.buffer[T]|=128>>>this.length%8),this.length++}},W.exports=w},1973:W=>{function w(m){if(!m||m<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=m,this.data=new Uint8Array(m*m),this.reservedBit=new Uint8Array(m*m)}w.prototype.set=function(m,T,y,x){const C=m*this.size+T;this.data[C]=y,x&&(this.reservedBit[C]=!0)},w.prototype.get=function(m,T){return this.data[m*this.size+T]},w.prototype.xor=function(m,T,y){this.data[m*this.size+T]^=y},w.prototype.isReserved=function(m,T){return this.reservedBit[m*this.size+T]},W.exports=w},1824:(W,w,m)=>{const T=m(8419),y=m(6906);function x(C){this.mode=y.BYTE,this.data=new Uint8Array(T(C))}x.getBitsLength=function(Z){return 8*Z},x.prototype.getLength=function(){return this.data.length},x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)},x.prototype.write=function(C){for(let Z=0,f=this.data.length;Z<f;Z++)C.put(this.data[Z],8)},W.exports=x},6194:(W,w,m)=>{const T=m(9020),y=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],x=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];w.getBlocksCount=function(Z,f){switch(f){case T.L:return y[4*(Z-1)+0];case T.M:return y[4*(Z-1)+1];case T.Q:return y[4*(Z-1)+2];case T.H:return y[4*(Z-1)+3];default:return}},w.getTotalCodewordsCount=function(Z,f){switch(f){case T.L:return x[4*(Z-1)+0];case T.M:return x[4*(Z-1)+1];case T.Q:return x[4*(Z-1)+2];case T.H:return x[4*(Z-1)+3];default:return}}},9020:(W,w)=>{w.L={bit:1},w.M={bit:0},w.Q={bit:3},w.H={bit:2},w.isValid=function(y){return y&&void 0!==y.bit&&y.bit>=0&&y.bit<4},w.from=function(y,x){if(w.isValid(y))return y;try{return function m(T){if("string"!=typeof T)throw new Error("Param is not a string");switch(T.toLowerCase()){case"l":case"low":return w.L;case"m":case"medium":return w.M;case"q":case"quartile":return w.Q;case"h":case"high":return w.H;default:throw new Error("Unknown EC Level: "+T)}}(y)}catch(C){return x}}},9172:(W,w,m)=>{const T=m(4860).getSymbolSize;w.getPositions=function(C){const Z=T(C);return[[0,0],[Z-7,0],[0,Z-7]]}},611:(W,w,m)=>{const T=m(4860),C=T.getBCHDigit(1335);w.getEncodedBits=function(f,t){const k=f.bit<<3|t;let q=k<<10;for(;T.getBCHDigit(q)-C>=0;)q^=1335<<T.getBCHDigit(q)-C;return 21522^(k<<10|q)}},7794:(W,w)=>{const m=new Uint8Array(512),T=new Uint8Array(256);(function(){let x=1;for(let C=0;C<255;C++)m[C]=x,T[x]=C,x<<=1,256&x&&(x^=285);for(let C=255;C<512;C++)m[C]=m[C-255]})(),w.log=function(x){if(x<1)throw new Error("log("+x+")");return T[x]},w.exp=function(x){return m[x]},w.mul=function(x,C){return 0===x||0===C?0:m[T[x]+T[C]]}},8043:(W,w,m)=>{const T=m(6906),y=m(4860);function x(C){this.mode=T.KANJI,this.data=C}x.getBitsLength=function(Z){return 13*Z},x.prototype.getLength=function(){return this.data.length},x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)},x.prototype.write=function(C){let Z;for(Z=0;Z<this.data.length;Z++){let f=y.toSJIS(this.data[Z]);if(f>=33088&&f<=40956)f-=33088;else{if(!(f>=57408&&f<=60351))throw new Error("Invalid SJIS character: "+this.data[Z]+"\nMake sure your charset is UTF-8");f-=49472}f=192*(f>>>8&255)+(255&f),C.put(f,13)}},W.exports=x},7135:(W,w)=>{w.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function T(y,x,C){switch(y){case w.Patterns.PATTERN000:return(x+C)%2==0;case w.Patterns.PATTERN001:return x%2==0;case w.Patterns.PATTERN010:return C%3==0;case w.Patterns.PATTERN011:return(x+C)%3==0;case w.Patterns.PATTERN100:return(Math.floor(x/2)+Math.floor(C/3))%2==0;case w.Patterns.PATTERN101:return x*C%2+x*C%3==0;case w.Patterns.PATTERN110:return(x*C%2+x*C%3)%2==0;case w.Patterns.PATTERN111:return(x*C%3+(x+C)%2)%2==0;default:throw new Error("bad maskPattern:"+y)}}w.isValid=function(x){return null!=x&&""!==x&&!isNaN(x)&&x>=0&&x<=7},w.from=function(x){return w.isValid(x)?parseInt(x,10):void 0},w.getPenaltyN1=function(x){const C=x.size;let Z=0,f=0,t=0,k=null,q=null;for(let L=0;L<C;L++){f=t=0,k=q=null;for(let N=0;N<C;N++){let F=x.get(L,N);F===k?f++:(f>=5&&(Z+=f-5+3),k=F,f=1),F=x.get(N,L),F===q?t++:(t>=5&&(Z+=t-5+3),q=F,t=1)}f>=5&&(Z+=f-5+3),t>=5&&(Z+=t-5+3)}return Z},w.getPenaltyN2=function(x){const C=x.size;let Z=0;for(let f=0;f<C-1;f++)for(let t=0;t<C-1;t++){const k=x.get(f,t)+x.get(f,t+1)+x.get(f+1,t)+x.get(f+1,t+1);(4===k||0===k)&&Z++}return 3*Z},w.getPenaltyN3=function(x){const C=x.size;let Z=0,f=0,t=0;for(let k=0;k<C;k++){f=t=0;for(let q=0;q<C;q++)f=f<<1&2047|x.get(k,q),q>=10&&(1488===f||93===f)&&Z++,t=t<<1&2047|x.get(q,k),q>=10&&(1488===t||93===t)&&Z++}return 40*Z},w.getPenaltyN4=function(x){let C=0;const Z=x.data.length;for(let t=0;t<Z;t++)C+=x.data[t];return 10*Math.abs(Math.ceil(100*C/Z/5)-10)},w.applyMask=function(x,C){const Z=C.size;for(let f=0;f<Z;f++)for(let t=0;t<Z;t++)C.isReserved(t,f)||C.xor(t,f,T(x,t,f))},w.getBestMask=function(x,C){const Z=Object.keys(w.Patterns).length;let f=0,t=1/0;for(let k=0;k<Z;k++){C(k),w.applyMask(k,x);const q=w.getPenaltyN1(x)+w.getPenaltyN2(x)+w.getPenaltyN3(x)+w.getPenaltyN4(x);w.applyMask(k,x),q<t&&(t=q,f=k)}return f}},6906:(W,w,m)=>{const T=m(2316),y=m(4677);w.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},w.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},w.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},w.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},w.MIXED={bit:-1},w.getCharCountIndicator=function(Z,f){if(!Z.ccBits)throw new Error("Invalid mode: "+Z);if(!T.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?Z.ccBits[0]:f<27?Z.ccBits[1]:Z.ccBits[2]},w.getBestModeForData=function(Z){return y.testNumeric(Z)?w.NUMERIC:y.testAlphanumeric(Z)?w.ALPHANUMERIC:y.testKanji(Z)?w.KANJI:w.BYTE},w.toString=function(Z){if(Z&&Z.id)return Z.id;throw new Error("Invalid mode")},w.isValid=function(Z){return Z&&Z.bit&&Z.ccBits},w.from=function(Z,f){if(w.isValid(Z))return Z;try{return function x(C){if("string"!=typeof C)throw new Error("Param is not a string");switch(C.toLowerCase()){case"numeric":return w.NUMERIC;case"alphanumeric":return w.ALPHANUMERIC;case"kanji":return w.KANJI;case"byte":return w.BYTE;default:throw new Error("Unknown mode: "+C)}}(Z)}catch(t){return f}}},6002:(W,w,m)=>{const T=m(6906);function y(x){this.mode=T.NUMERIC,this.data=x.toString()}y.getBitsLength=function(C){return 10*Math.floor(C/3)+(C%3?C%3*3+1:0)},y.prototype.getLength=function(){return this.data.length},y.prototype.getBitsLength=function(){return y.getBitsLength(this.data.length)},y.prototype.write=function(C){let Z,f,t;for(Z=0;Z+3<=this.data.length;Z+=3)f=this.data.substr(Z,3),t=parseInt(f,10),C.put(t,10);const k=this.data.length-Z;k>0&&(f=this.data.substr(Z),t=parseInt(f,10),C.put(t,3*k+1))},W.exports=y},7793:(W,w,m)=>{const T=m(7794);w.mul=function(x,C){const Z=new Uint8Array(x.length+C.length-1);for(let f=0;f<x.length;f++)for(let t=0;t<C.length;t++)Z[f+t]^=T.mul(x[f],C[t]);return Z},w.mod=function(x,C){let Z=new Uint8Array(x);for(;Z.length-C.length>=0;){const f=Z[0];for(let k=0;k<C.length;k++)Z[k]^=T.mul(C[k],f);let t=0;for(;t<Z.length&&0===Z[t];)t++;Z=Z.slice(t)}return Z},w.generateECPolynomial=function(x){let C=new Uint8Array([1]);for(let Z=0;Z<x;Z++)C=w.mul(C,new Uint8Array([1,T.exp(Z)]));return C}},7554:(W,w,m)=>{const T=m(4860),y=m(9020),x=m(3044),C=m(1973),Z=m(3012),f=m(9172),t=m(7135),k=m(6194),q=m(8098),L=m(6602),N=m(611),F=m(6906),D=m(9465);function et(Q,U,$){const J=Q.size,V=N.getEncodedBits(U,$);let G,j;for(G=0;G<15;G++)j=1==(V>>G&1),Q.set(G<6?G:G<8?G+1:J-15+G,8,j,!0),Q.set(8,G<8?J-G-1:G<9?15-G-1+1:15-G-1,j,!0);Q.set(J-8,8,1,!0)}function Mt(Q,U,$,J){let V;if(Array.isArray(Q))V=D.fromArray(Q);else{if("string"!=typeof Q)throw new Error("Invalid data");{let Vt=U;if(!Vt){const Ce=D.rawSplit(Q);Vt=L.getBestVersionForData(Ce,$)}V=D.fromString(Q,Vt||40)}}const G=L.getBestVersionForData(V,$);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(U){if(U<G)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+G+".\n")}else U=G;const j=function z(Q,U,$){const J=new x;$.forEach(function(it){J.put(it.mode.bit,4),J.put(it.getLength(),F.getCharCountIndicator(it.mode,Q)),it.write(J)});const j=8*(T.getSymbolTotalCodewords(Q)-k.getTotalCodewordsCount(Q,U));for(J.getLengthInBits()+4<=j&&J.put(0,4);J.getLengthInBits()%8!=0;)J.putBit(0);const ot=(j-J.getLengthInBits())/8;for(let it=0;it<ot;it++)J.put(it%2?17:236,8);return function pt(Q,U,$){const J=T.getSymbolTotalCodewords(U),G=J-k.getTotalCodewordsCount(U,$),j=k.getBlocksCount(U,$),it=j-J%j,Vt=Math.floor(J/j),Ce=Math.floor(G/j),Yn=Ce+1,Vi=Vt-Ce,Jn=new q(Vi);let oi=0;const Ne=new Array(j),ji=new Array(j);let si=0;const Qn=new Uint8Array(Q.buffer);for(let de=0;de<j;de++){const ai=de<it?Ce:Yn;Ne[de]=Qn.slice(oi,oi+ai),ji[de]=Jn.encode(Ne[de]),oi+=ai,si=Math.max(si,ai)}const ri=new Uint8Array(J);let Bt,Ht,Gi=0;for(Bt=0;Bt<si;Bt++)for(Ht=0;Ht<j;Ht++)Bt<Ne[Ht].length&&(ri[Gi++]=Ne[Ht][Bt]);for(Bt=0;Bt<Vi;Bt++)for(Ht=0;Ht<j;Ht++)ri[Gi++]=ji[Ht][Bt];return ri}(J,Q,U)}(U,$,V),ot=T.getSymbolSize(U),it=new C(ot);return function Y(Q,U){const $=Q.size,J=f.getPositions(U);for(let V=0;V<J.length;V++){const G=J[V][0],j=J[V][1];for(let ot=-1;ot<=7;ot++)if(!(G+ot<=-1||$<=G+ot))for(let it=-1;it<=7;it++)j+it<=-1||$<=j+it||Q.set(G+ot,j+it,ot>=0&&ot<=6&&(0===it||6===it)||it>=0&&it<=6&&(0===ot||6===ot)||ot>=2&&ot<=4&&it>=2&&it<=4,!0)}}(it,U),function X(Q){const U=Q.size;for(let $=8;$<U-8;$++){const J=$%2==0;Q.set($,6,J,!0),Q.set(6,$,J,!0)}}(it),function ct(Q,U){const $=Z.getPositions(U);for(let J=0;J<$.length;J++){const V=$[J][0],G=$[J][1];for(let j=-2;j<=2;j++)for(let ot=-2;ot<=2;ot++)Q.set(V+j,G+ot,-2===j||2===j||-2===ot||2===ot||0===j&&0===ot,!0)}}(it,U),et(it,$,0),U>=7&&function tt(Q,U){const $=Q.size,J=L.getEncodedBits(U);let V,G,j;for(let ot=0;ot<18;ot++)V=Math.floor(ot/3),G=ot%3+$-8-3,j=1==(J>>ot&1),Q.set(V,G,j,!0),Q.set(G,V,j,!0)}(it,U),function P(Q,U){const $=Q.size;let J=-1,V=$-1,G=7,j=0;for(let ot=$-1;ot>0;ot-=2)for(6===ot&&ot--;;){for(let it=0;it<2;it++)if(!Q.isReserved(V,ot-it)){let Vt=!1;j<U.length&&(Vt=1==(U[j]>>>G&1)),Q.set(V,ot-it,Vt),G--,-1===G&&(j++,G=7)}if(V+=J,V<0||$<=V){V-=J,J=-J;break}}}(it,j),isNaN(J)&&(J=t.getBestMask(it,et.bind(null,it,$))),t.applyMask(J,it),et(it,$,J),{modules:it,version:U,errorCorrectionLevel:$,maskPattern:J,segments:V}}w.create=function(U,$){if(void 0===U||""===U)throw new Error("No input text");let V,G,J=y.M;return void 0!==$&&(J=y.from($.errorCorrectionLevel,y.M),V=L.from($.version),G=t.from($.maskPattern),$.toSJISFunc&&T.setToSJISFunction($.toSJISFunc)),Mt(U,V,J,G)}},8098:(W,w,m)=>{const T=m(7793);function y(x){this.genPoly=void 0,this.degree=x,this.degree&&this.initialize(this.degree)}y.prototype.initialize=function(C){this.degree=C,this.genPoly=T.generateECPolynomial(this.degree)},y.prototype.encode=function(C){if(!this.genPoly)throw new Error("Encoder not initialized");const Z=new Uint8Array(C.length+this.degree);Z.set(C);const f=T.mod(Z,this.genPoly),t=this.degree-f.length;if(t>0){const k=new Uint8Array(this.degree);return k.set(f,t),k}return f},W.exports=y},4677:(W,w)=>{const m="[0-9]+";let y="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";y=y.replace(/u/g,"\\u");const x="(?:(?![A-Z0-9 $%*+\\-./:]|"+y+")(?:.|[\r\n]))+";w.KANJI=new RegExp(y,"g"),w.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),w.BYTE=new RegExp(x,"g"),w.NUMERIC=new RegExp(m,"g"),w.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const C=new RegExp("^"+y+"$"),Z=new RegExp("^"+m+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");w.testKanji=function(k){return C.test(k)},w.testNumeric=function(k){return Z.test(k)},w.testAlphanumeric=function(k){return f.test(k)}},9465:(W,w,m)=>{const T=m(6906),y=m(6002),x=m(812),C=m(1824),Z=m(8043),f=m(4677),t=m(4860),k=m(4901);function q(tt){return unescape(encodeURIComponent(tt)).length}function L(tt,et,P){const z=[];let pt;for(;null!==(pt=tt.exec(P));)z.push({data:pt[0],index:pt.index,mode:et,length:pt[0].length});return z}function N(tt){const et=L(f.NUMERIC,T.NUMERIC,tt),P=L(f.ALPHANUMERIC,T.ALPHANUMERIC,tt);let z,pt;return t.isKanjiModeEnabled()?(z=L(f.BYTE,T.BYTE,tt),pt=L(f.KANJI,T.KANJI,tt)):(z=L(f.BYTE_KANJI,T.BYTE,tt),pt=[]),et.concat(P,z,pt).sort(function(Q,U){return Q.index-U.index}).map(function(Q){return{data:Q.data,mode:Q.mode,length:Q.length}})}function F(tt,et){switch(et){case T.NUMERIC:return y.getBitsLength(tt);case T.ALPHANUMERIC:return x.getBitsLength(tt);case T.KANJI:return Z.getBitsLength(tt);case T.BYTE:return C.getBitsLength(tt)}}function ct(tt,et){let P;const z=T.getBestModeForData(tt);if(P=T.from(et,z),P!==T.BYTE&&P.bit<z.bit)throw new Error('"'+tt+'" cannot be encoded with mode '+T.toString(P)+".\n Suggested mode is: "+T.toString(z));switch(P===T.KANJI&&!t.isKanjiModeEnabled()&&(P=T.BYTE),P){case T.NUMERIC:return new y(tt);case T.ALPHANUMERIC:return new x(tt);case T.KANJI:return new Z(tt);case T.BYTE:return new C(tt)}}w.fromArray=function(et){return et.reduce(function(P,z){return"string"==typeof z?P.push(ct(z,null)):z.data&&P.push(ct(z.data,z.mode)),P},[])},w.fromString=function(et,P){const pt=function Y(tt){const et=[];for(let P=0;P<tt.length;P++){const z=tt[P];switch(z.mode){case T.NUMERIC:et.push([z,{data:z.data,mode:T.ALPHANUMERIC,length:z.length},{data:z.data,mode:T.BYTE,length:z.length}]);break;case T.ALPHANUMERIC:et.push([z,{data:z.data,mode:T.BYTE,length:z.length}]);break;case T.KANJI:et.push([z,{data:z.data,mode:T.BYTE,length:q(z.data)}]);break;case T.BYTE:et.push([{data:z.data,mode:T.BYTE,length:q(z.data)}])}}return et}(N(et,t.isKanjiModeEnabled())),Mt=function X(tt,et){const P={},z={start:{}};let pt=["start"];for(let Mt=0;Mt<tt.length;Mt++){const Q=tt[Mt],U=[];for(let $=0;$<Q.length;$++){const J=Q[$],V=""+Mt+$;U.push(V),P[V]={node:J,lastCount:0},z[V]={};for(let G=0;G<pt.length;G++){const j=pt[G];P[j]&&P[j].node.mode===J.mode?(z[j][V]=F(P[j].lastCount+J.length,J.mode)-F(P[j].lastCount,J.mode),P[j].lastCount+=J.length):(P[j]&&(P[j].lastCount=J.length),z[j][V]=F(J.length,J.mode)+4+T.getCharCountIndicator(J.mode,et))}}pt=U}for(let Mt=0;Mt<pt.length;Mt++)z[pt[Mt]].end=0;return{map:z,table:P}}(pt,P),Q=k.find_path(Mt.map,"start","end"),U=[];for(let $=1;$<Q.length-1;$++)U.push(Mt.table[Q[$]].node);return w.fromArray(function D(tt){return tt.reduce(function(et,P){const z=et.length-1>=0?et[et.length-1]:null;return z&&z.mode===P.mode?(et[et.length-1].data+=P.data,et):(et.push(P),et)},[])}(U))},w.rawSplit=function(et){return w.fromArray(N(et,t.isKanjiModeEnabled()))}},4860:(W,w)=>{let m;const T=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];w.getSymbolSize=function(x){if(!x)throw new Error('"version" cannot be null or undefined');if(x<1||x>40)throw new Error('"version" should be in range from 1 to 40');return 4*x+17},w.getSymbolTotalCodewords=function(x){return T[x]},w.getBCHDigit=function(y){let x=0;for(;0!==y;)x++,y>>>=1;return x},w.setToSJISFunction=function(x){if("function"!=typeof x)throw new Error('"toSJISFunc" is not a valid function.');m=x},w.isKanjiModeEnabled=function(){return void 0!==m},w.toSJIS=function(x){return m(x)}},2316:(W,w)=>{w.isValid=function(T){return!isNaN(T)&&T>=1&&T<=40}},6602:(W,w,m)=>{const T=m(4860),y=m(6194),x=m(9020),C=m(6906),Z=m(2316),t=T.getBCHDigit(7973);function q(F,D){return C.getCharCountIndicator(F,D)+4}function L(F,D){let Y=0;return F.forEach(function(X){Y+=q(X.mode,D)+X.getBitsLength()}),Y}w.from=function(D,Y){return Z.isValid(D)?parseInt(D,10):Y},w.getCapacity=function(D,Y,X){if(!Z.isValid(D))throw new Error("Invalid QR Code version");void 0===X&&(X=C.BYTE);const et=8*(T.getSymbolTotalCodewords(D)-y.getTotalCodewordsCount(D,Y));if(X===C.MIXED)return et;const P=et-q(X,D);switch(X){case C.NUMERIC:return Math.floor(P/10*3);case C.ALPHANUMERIC:return Math.floor(P/11*2);case C.KANJI:return Math.floor(P/13);default:return Math.floor(P/8)}},w.getBestVersionForData=function(D,Y){let X;const ct=x.from(Y,x.M);if(Array.isArray(D)){if(D.length>1)return function N(F,D){for(let Y=1;Y<=40;Y++)if(L(F,Y)<=w.getCapacity(Y,D,C.MIXED))return Y}(D,ct);if(0===D.length)return 1;X=D[0]}else X=D;return function k(F,D,Y){for(let X=1;X<=40;X++)if(D<=w.getCapacity(X,Y,F))return X}(X.mode,X.getLength(),ct)},w.getEncodedBits=function(D){if(!Z.isValid(D)||D<7)throw new Error("Invalid QR Code version");let Y=D<<12;for(;T.getBCHDigit(Y)-t>=0;)Y^=7973<<T.getBCHDigit(Y)-t;return D<<12|Y}},179:(W,w,m)=>{const T=m(714);w.render=function(Z,f,t){let k=t,q=f;void 0===k&&(!f||!f.getContext)&&(k=f,f=void 0),f||(q=function x(){try{return document.createElement("canvas")}catch(C){throw new Error("You need to specify a canvas element")}}()),k=T.getOptions(k);const L=T.getImageWidth(Z.modules.size,k),N=q.getContext("2d"),F=N.createImageData(L,L);return T.qrToImageData(F.data,Z,k),function y(C,Z,f){C.clearRect(0,0,Z.width,Z.height),Z.style||(Z.style={}),Z.height=f,Z.width=f,Z.style.height=f+"px",Z.style.width=f+"px"}(N,q,L),N.putImageData(F,0,0),q},w.renderToDataURL=function(Z,f,t){let k=t;return void 0===k&&(!f||!f.getContext)&&(k=f,f=void 0),k||(k={}),w.render(Z,f,k).toDataURL(k.type||"image/png",(k.rendererOpts||{}).quality)}},1036:(W,w,m)=>{const T=m(714);function y(Z,f){const t=Z.a/255,k=f+'="'+Z.hex+'"';return t<1?k+" "+f+'-opacity="'+t.toFixed(2).slice(1)+'"':k}function x(Z,f,t){let k=Z+f;return void 0!==t&&(k+=" "+t),k}w.render=function(f,t,k){const q=T.getOptions(t),L=f.modules.size,N=f.modules.data,F=L+2*q.margin,D=q.color.light.a?"<path "+y(q.color.light,"fill")+' d="M0 0h'+F+"v"+F+'H0z"/>':"",Y="<path "+y(q.color.dark,"stroke")+' d="'+function C(Z,f,t){let k="",q=0,L=!1,N=0;for(let F=0;F<Z.length;F++){const D=Math.floor(F%f),Y=Math.floor(F/f);!D&&!L&&(L=!0),Z[F]?(N++,F>0&&D>0&&Z[F-1]||(k+=L?x("M",D+t,.5+Y+t):x("m",q,0),q=0,L=!1),D+1<f&&Z[F+1]||(k+=x("h",N),N=0)):q++}return k}(N,L,q.margin)+'"/>',tt='<svg xmlns="http://www.w3.org/2000/svg" '+(q.width?'width="'+q.width+'" height="'+q.width+'" ':"")+'viewBox="0 0 '+F+" "+F+'" shape-rendering="crispEdges">'+D+Y+"</svg>\n";return"function"==typeof k&&k(null,tt),tt}},714:(W,w)=>{function m(T){if("number"==typeof T&&(T=T.toString()),"string"!=typeof T)throw new Error("Color should be defined as hex string");let y=T.slice().replace("#","").split("");if(y.length<3||5===y.length||y.length>8)throw new Error("Invalid hex color: "+T);(3===y.length||4===y.length)&&(y=Array.prototype.concat.apply([],y.map(function(C){return[C,C]}))),6===y.length&&y.push("F","F");const x=parseInt(y.join(""),16);return{r:x>>24&255,g:x>>16&255,b:x>>8&255,a:255&x,hex:"#"+y.slice(0,6).join("")}}w.getOptions=function(y){y||(y={}),y.color||(y.color={});const C=y.width&&y.width>=21?y.width:void 0;return{width:C,scale:C?4:y.scale||4,margin:null==y.margin||y.margin<0?4:y.margin,color:{dark:m(y.color.dark||"#000000ff"),light:m(y.color.light||"#ffffffff")},type:y.type,rendererOpts:y.rendererOpts||{}}},w.getScale=function(y,x){return x.width&&x.width>=y+2*x.margin?x.width/(y+2*x.margin):x.scale},w.getImageWidth=function(y,x){const C=w.getScale(y,x);return Math.floor((y+2*x.margin)*C)},w.qrToImageData=function(y,x,C){const Z=x.modules.size,f=x.modules.data,t=w.getScale(Z,C),k=Math.floor((Z+2*C.margin)*t),q=C.margin*t,L=[C.color.light,C.color.dark];for(let N=0;N<k;N++)for(let F=0;F<k;F++){let D=4*(N*k+F),Y=C.color.light;N>=q&&F>=q&&N<k-q&&F<k-q&&(Y=L[f[Math.floor((N-q)/t)*Z+Math.floor((F-q)/t)]?1:0]),y[D++]=Y.r,y[D++]=Y.g,y[D++]=Y.b,y[D]=Y.a}}},2798:(W,w,m)=>{"use strict";m.r(w),m.d(w,{ProductsModule:()=>nC});var T=m(9808),y=m(1083),x=m(520),C=m(6087),Z=m(4847),f=m(8279),t=m(5e3),k=m(1038),q=m(6689),L=m(5962),N=m(7261),F=m(1357),D=m(5664),Y=m(776);let X=(()=>{class n{constructor(){this.products=[],this.categories=[]}getProducts(){return console.log("Products GETTER"),console.log(this.products),this.products}setProducts(e){this.products=e}getCategories(){return this.categories}setCategories(e){this.categories=e}searchProductByName(e){const o=e.toLowerCase();return this.products.find(r=>r.name.toLowerCase()==o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ct=m(7423);function tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().selectBrand(r.name)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}let et=(()=>{class n{constructor(e,o,s,r,a,c,l,d,h,u){this.navbar=e,this.sideNav=o,this.topNav=s,this.api=r,this._snackBar=a,this.router=c,this.info=l,this._liveAnnouncer=d,this.treeNav=h,this.productService=u,this.typesLoader=!1,this.types=[],this.displayedColumns=["brand","products","manager"],this.newType="",this.groups=[],this.brandManager="",this.users=[],this.loadBrandManager=!0,this.roles=[],this.productsList=[],this.adminRole=!1,this.brandManagerRole=!1,this.singleBrand=!1,this.currentBrand="",this.focusType="47",this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.uploadRole=!1,this.detailProgress=0,this.today=new Date,this.brandsList=[]}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getUsers(),this.getRoles(),this.brandManagerRole=this.info.role(87),this.adminRole=this.info.role(90),this.uploadRole=this.info.role(57)}getAllTypes(){this.info.setLoadingInfo("Preparing...","info"),this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.types=e,this.brandsList=this.types.filter(r=>"Brand"==r.grouping),this.dataSource=new f.by(this.brandsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;let s=this.types.map(r=>r.grouping);this.groups=Array.from(new Set(s)),s=[],this.info.setLoadingInfo("Preparing Successful","success")},error:e=>{this.typesLoader=!1,this.info.setLoadingInfo("Failed to communicate with the server","danger")}})}table(e){let o=e.tab.textLabel,s=this.types.filter(r=>r.grouping==o);""==o&&(s=this.types),this.dataSource=new f.by(s),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}announceSortChange(e){console.log(e),this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,o){this._snackBar.open(e,o)}addNewType(e){const o=this.newType;this.types.find(r=>r.name.toLowerCase()==o.toLowerCase())?this.openSnackBar(`${this.newType} already added.`,"OKay"):this.api.POST("types",{name:this.newType,grouping:e}).subscribe({next:r=>{console.log(r),this.getAllTypes(),this.table({index:0,tab:{textLabel:this.newType}}),this.openSnackBar(`${this.newType} has been added.`,"OKay")},error:r=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+r.message,"Okay"),this.info.setLoadingInfo("Failed to communicate with the server","danger")}})}getUsers(){this.info.setLoadingInfo("Loading...","info");try{this.api.GET("users").subscribe({next:e=>{this.users=e,this.loadBrandManager=!1,this.info.setLoadingInfo("Done loading users","success")},error:e=>{this.loadBrandManager=!1,this.openSnackBar("Failed to connect to the server: "+e.message,"Okay"),this.info.setLoadingInfo("Fetching users failed, having trouble connecting to the server","warning")}})}catch(e){this.info.setLoadingInfo("An uknown error happened trying to het users","danger"),this.loadBrandManager=!1}}selectUser(e,o){this.info.setLoadingInfo("Updating brand manager,...","info"),this.api.POST("roles",{user_id:e.value,type_id:86,product_id:0,brand_id:o}).subscribe({next:r=>{this.openSnackBar("Brand Manager updated","Okay"),this.info.setLoadingInfo("Brand manager updated successfully","success"),this.info.activity(`Updated Brand Manager for brand: ${o}`,0)},error:r=>{this.openSnackBar(r.message,"Okay"),this.info.setLoadingInfo(r.message,"warning")}})}changeName(e,o){const s=e.target.value,r=o;this.info.setLoadingInfo("Changing name...","info"),this.api.POST(`types/update/${r}`,{name:s}).subscribe({next:a=>{console.log(a),this.openSnackBar("Brand name changes to "+s,"Okay"),this.info.setLoadingInfo(`Brand name changes to ${s}`,"info")},error:a=>{this.openSnackBar(a.message,"Okay"),this.info.setLoadingInfo("Failed to update brand name","warning")}})}getRoles(){this.info.setLoadingInfo("Please wait...","info"),this.api.GET("roles").subscribe({next:e=>{this.roles=e,this.info.setLoadingInfo("","info")},error:e=>{this.info.setLoadingInfo("Failed to get roles for logged in user","danger")}})}getManager(e){const o=this.roles.find(s=>s.brand_id==e);if(o){const s=this.users.find(r=>r.id==o.user_id);return null==s?void 0:s.name}return""}countBrandProducts(e){this.info.setLoadingInfo("counting products for each brand","info"),this.productsList=this.productService.getProducts();const o=this.productsList.filter(s=>s.brand_type_id==e);return this.info.setLoadingInfo("Products loaded for all brands","info"),o.length}selectBrand(e){this.router.navigate(["/brand",e.toLowerCase()])}editSingleBrand(e,o){this.currentBrand=o,this.currentId=e,this.singleBrand=!this.singleBrand}setFocusType(e){this.focusType=e.target.value}onChange(e){this.files=e.target.files;for(let o=0;o<this.files.length;o++)this.files[o].size>9e6&&this.messages.push("\u{1f6ab} "+this.files[o].name+" is too large!")}uploadDocument(e,o){if(this.loading=!this.loading,this.files.length>0)for(let s=0;s<this.files.length;s++)this.api.upload("upload-document",{file:this.files[s],name:this.files[s].name,product_id:this.currentId,product_sku:"",type_id:e,type:o,permissions:"",expiry_date:""}).subscribe(r=>{if("object"==typeof r&&(this.loading=!1),r.type===x.dt.UploadProgress)this.uploadProgress=Math.round(100*r.loaded/r.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(r instanceof x.Zn){const a=this.files[s].name+" ploaded the file successfully.";this.info.activity(`${this.files[s].name} uploaded`,this.currentId),this.messages.push(a)}this.documents()},r=>{this.info.errorHandler(r),this.uploadProgress=0,this.messages.push(this.files[s].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}documents(){this.api.GET(`product-document-files/${this.currentId}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(L.s),t.Y36(N.ux),t.Y36(y.F0),t.Y36(F.C),t.Y36(D.Kd),t.Y36(Y.r),t.Y36(X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands"]],viewQuery:function(e,o){if(1&e&&(t.Gf(C.NW,5),t.Gf(Z.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first)}},decls:3,vars:1,consts:[[1,"loadingInfo"],["mat-raised-button","","class","brand-btn",3,"click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"brand-btn",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"span",0),t._UZ(1,"hr"),t.YNc(2,tt,2,1,"button",1)),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.brandsList))},directives:[T.sg,ct.lW],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.brand-btn[_ngcontent-%COMP%]{background-color:#f8f8ff;color:#000;margin:9px}"]}),n})();var P=m(3075),z=m(9224),pt=m(3251),Mt=m(4834),Q=m(3874),U=m(7322),$=m(7531),J=m(4107),V=m(508),G=m(3954);let j=(()=>{class n{transform(e,o){let s=[];for(let r=0;r<e.length;r++)e[r].parent==o&&s.push(e[r]);return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"parent",type:n,pure:!0}),n})();function ot(n,i){1&n&&t._uU(0," Manage Categories ")}function it(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(6).selectCategory(r.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," ")}}function Vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(5).selectCategory(r.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,it,5,1,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(5);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Ce(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).selectCategory(r.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Vt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Yn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).selectCategory(r.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Ce,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Vi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).selectCategory(r.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Yn,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Jn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().selectCategory(r.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Vi,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function oi(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"mat-form-field",36),t.TgZ(3,"mat-label"),t._uU(4,"Attribute Name"),t.qZA(),t._UZ(5,"input",37),t.qZA(),t.TgZ(6,"button",38),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw(2).removeNewAttribute(r)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.index;t.xp6(1),t.Q6J("formGroupName",e)}}function Ne(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"mat-card",5),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"div",19),t.TgZ(6,"form",26),t.ynx(7,28),t.YNc(8,oi,9,1,"ng-container",8),t.BQk(),t.TgZ(9,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(10,"mat-icon"),t._uU(11,"add_circle_outline"),t.qZA(),t._uU(12," Add Field "),t.qZA(),t.TgZ(13,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("update")}),t._uU(14,"Save Attributes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij("",e.selectedCatName," Attributes"),t.xp6(3),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls)}}function ji(n,i){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function si(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"add_circle_outline"),t.qZA(),t._uU(2," New Category "))}function Qn(n,i){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function ri(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.newCategoryName," Attributes")}}function Gi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," attribute")}}function Bt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," Attributes")}}function Ht(n,i){if(1&n&&(t.TgZ(0,"div",35),t.TgZ(1,"mat-grid-list",41),t.TgZ(2,"mat-grid-tile"),t.TgZ(3,"mat-form-field",12),t.TgZ(4,"mat-label"),t._uU(5,"Attribute Name"),t.qZA(),t._UZ(6,"input",37),t.qZA(),t.qZA(),t._UZ(7,"mat-grid-tile"),t.qZA(),t.qZA()),2&n){const e=t.oxw().index;t.Q6J("formGroupName",e)}}function de(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.YNc(2,Ht,8,1,"div",40),t.BQk()),2&n){const e=i.index,o=t.oxw();t.xp6(1),t.hij(" ",o.hasValue()," "),t.xp6(1),t.Q6J("ngIf",e>=o.tempLength)}}function ai(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("new")}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.disableSaveAttrBtn),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}let Ka=(()=>{class n{constructor(e,o,s,r,a,c){this.navbar=e,this.api=o,this.formBuilder=s,this._snackBar=r,this.info=a,this.products=c,this.newCategoryId=0,this.newCategoryName="",this.categoriesList=[],this.attributesFields=[],this.selectedCatName="",this.selectedCatId=0,this.selectedCatParentId="",this.selectedCatParentName="",this.currentStep=1,this.disableSaveCatBtn=!1,this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.saveCatBtnText="Save Category",this.saveAttrBtnText="Save Attributes",this.goToCategoriesBtn=!1,this.hasParent=!1,this.roles=[],this.permission=!1,this.tempLength=0}ngOnInit(){this.info.auth(),this.attrCount=0,this.navbar.show(),this.getAllCategories(),this.selectCategory(205),this.permission=this.info.role(60),this.addCategory=this.formBuilder.group({name:["",P.kI.required],parent:[""]}),this.updateCategory=this.formBuilder.group({name:[""],parent:[""]}),this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}getAllCategories(){this.categoriesList=this.products.getCategories()}addNewCategory(){this.addCategory.valid?(this.disableSaveCatBtn=!0,this.saveCatBtnText="Saving...",this.api.POST("categories",this.addCategory.value).subscribe({next:e=>{console.log(e.id),this.newCategoryId=e.id,this.newCategoryName=e.name,this.disableAddAttrBtn=!1,this.disableSaveAttrBtn=!1,this.info.activity(`Added a new category: ${e.name}`,0),this.saveCatBtnText="Category Saved",this.getAllCategories(),this.openSnackBar(e.name+" Added","Okay")},error:e=>{console.log("AddNewCategory Error: "+e.message),this.openSnackBar("Failed to save category. Please try again or contact Administrator.","Okay"),this.disableSaveCatBtn=!1,this.saveCatBtnText="Failed. Try again"}})):console.log("Form input invalid.")}get attributes(){return this.categoryForm.get("attributes")}addNewAttribute(){const e=this.formBuilder.group({attrName:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}updateAttributes(e){if(this.attributes.valid){this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.goToCategoriesBtn=!0,this.saveAttrBtnText="Saving...";let o=[];for(let r=0;r<this.categoryForm.value.attributes.length;r++)o.push(this.categoryForm.value.attributes[r].attrName);let s="new"==e?this.newCategoryId:this.selectedCatId;this.api.POST(`categories/update/${s}`,o).subscribe({next:r=>{this.saveAttrBtnText="Attributes Saved",this.openSnackBar(this.attrCount+" attribute(s) added","Okay"),this.info.activity(`Updated attributes for category: ${s}`,0),this.getAllCategories()},error:r=>{this.openSnackBar(r.message,"Okay")}})}else this.openSnackBar("Please enter value","Okay")}updateParent(){console.log("updating: "+this.selectedCatId),this.api.POST(`categories/update-parent/${this.selectedCatId}`,this.updateCategory.value).subscribe({next:e=>{console.log(e),this.getAllCategories()},error:e=>{this.openSnackBar(e.message,"Okay")}})}selectCategory(e){this.clearSelectedCat(),console.log(e);try{let o=this.categoriesList.find(r=>r.id===e),s=null==o?void 0:o.attributes;s=JSON.parse(s),this.attributesFields=s,console.log("Fields: ",this.attributesFields),this.selectedCatId=null==o?void 0:o.id,this.selectedCatName=null==o?void 0:o.name,this.selectedCatParentId=null==o?void 0:o.parent,this.getParent(parseInt(this.selectedCatParentId));for(let r=0;r<this.attributesFields.length;r++){const a=this.formBuilder.group({attrName:[this.attributesFields[r]]});this.attributes.push(a)}}catch(o){console.log(o)}}getParent(e){if(e>0){let o=this.categoriesList.find(s=>s.id===e);this.selectedCatParentName=null==o?void 0:o.name,this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,P.kI.required],parent:[{value:this.selectedCatParentName,disabled:!1}]})}else this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,P.kI.required],parent:[{value:"",disabled:!1}]})}openSnackBar(e,o){this._snackBar.open(e,o)}clearSelectedCat(){this.getAllCategories(),this.selectedCatId=0,this.selectedCatName="",this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}selectParentCategory(e){this.hasParent=!0}refresh(){location.reload()}hasValue(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(L.s),t.Y36(P.qu),t.Y36(N.ux),t.Y36(F.C),t.Y36(X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-categories"]],decls:81,vars:22,consts:[["routerLink","../../"],["dynamicHeight","",3,"selectedTabChange"],["mat-tab-label",""],[1,"row"],[1,"col-md-4"],[2,"margin-top","1rem","margin-bottom","9rem"],[2,"margin-top","2rem","font-size","small"],[1,"catList"],[4,"ngFor","ngForOf"],["class","col-md-4 show",4,"ngIf"],[1,"col-md-4","show",3,"hidden"],[2,"margin-top","2rem",3,"formGroup"],["appearance","outline",2,"width","100%"],["name","name","matInput","","formControlName","name","placeholder","Edit Category Name",1,"capitalize"],["name","categories","formControlName","parent",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"click"],[3,"disabled"],[1,"col-md-5"],[2,"margin-top","2rem"],[3,"formGroup","ngSubmit"],["cols","3","rowHeight","80px"],["name","category_name","matInput","","formControlName","name","placeholder","Enter Category Name","required","",1,"capitalize"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"disabled"],[1,"col-md-7"],[4,"ngIf"],[3,"formGroup"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem","margin-bottom","1rem",3,"disabled","click"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","primary",2,"margin-left","1rem",3,"hidden","click"],[3,"click"],[1,"edit"],[1,"col-md-4","show"],["mat-raised-button","","type","button","color","basic",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[3,"formGroupName"],["appearance","outline"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","E.g. colour","required","",1,"capitalize"],["mat-mini-fab","","type","button","color","warn",2,"margin-left","1rem",3,"click"],[3,"value"],[3,"formGroupName",4,"ngIf"],["cols","2","rowHeight","80px"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Categories\n"),t.qZA(),t.TgZ(4,"mat-card"),t.TgZ(5,"mat-tab-group",1),t.NdJ("selectedTabChange",function(){return o.clearSelectedCat()}),t.TgZ(6,"mat-tab"),t.YNc(7,ot,1,0,"ng-template",2),t.TgZ(8,"div",3),t.TgZ(9,"div",4),t.TgZ(10,"mat-card",5),t.TgZ(11,"h2"),t._uU(12,"Categories"),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"div",6),t.TgZ(15,"ul",7),t.YNc(16,Jn,8,5,"li",8),t.ALo(17,"parent"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,Ne,15,3,"div",9),t.TgZ(19,"div",10),t.TgZ(20,"mat-card",5),t.TgZ(21,"h2"),t._uU(22),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"form",11),t.TgZ(25,"mat-form-field",12),t.TgZ(26,"mat-label"),t._uU(27,"Category Name"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field",12),t.TgZ(30,"mat-label"),t._uU(31,"Parent Category"),t.qZA(),t.TgZ(32,"mat-select",14),t.NdJ("selectionChange",function(r){return o.selectParentCategory(r)}),t.YNc(33,ji,2,2,"mat-option",15),t.qZA(),t.qZA(),t.TgZ(34,"button",16),t.NdJ("click",function(){return o.updateParent()}),t._uU(35,"Save Details"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"mat-tab",17),t.YNc(37,si,3,0,"ng-template",2),t.TgZ(38,"div",3),t.TgZ(39,"div",18),t.TgZ(40,"mat-card",5),t.TgZ(41,"h2"),t._uU(42,"New Category"),t.qZA(),t._UZ(43,"mat-divider"),t.TgZ(44,"div",19),t.TgZ(45,"form",20),t.NdJ("ngSubmit",function(){return o.addNewCategory()}),t.TgZ(46,"mat-grid-list",21),t.TgZ(47,"mat-grid-tile"),t.TgZ(48,"mat-form-field",12),t.TgZ(49,"mat-label"),t._uU(50,"Category Name"),t.qZA(),t._UZ(51,"input",22),t.qZA(),t.qZA(),t.TgZ(52,"mat-grid-tile"),t.TgZ(53,"mat-form-field",12),t.TgZ(54,"mat-label"),t._uU(55,"Parent Category"),t.qZA(),t.TgZ(56,"mat-select",14),t.NdJ("selectionChange",function(r){return o.selectParentCategory(r)}),t.YNc(57,Qn,2,2,"mat-option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"mat-grid-tile"),t.TgZ(59,"button",23),t._uU(60),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",24),t.TgZ(62,"mat-card",5),t.TgZ(63,"h2"),t.YNc(64,ri,2,1,"span",25),t.YNc(65,Gi,2,1,"span",25),t.YNc(66,Bt,2,1,"span",25),t.qZA(),t._UZ(67,"mat-divider"),t.TgZ(68,"div",19),t.TgZ(69,"form",26),t.TgZ(70,"button",27),t.NdJ("click",function(){return o.addNewAttribute()}),t.TgZ(71,"mat-icon"),t._uU(72,"add_circle_outline"),t.qZA(),t._uU(73," Add Attribute "),t.qZA(),t.ynx(74,28),t.YNc(75,de,3,2,"ng-container",8),t.BQk(),t.YNc(76,ai,3,2,"div",25),t._UZ(77,"br"),t._UZ(78,"br"),t.TgZ(79,"button",29),t.NdJ("click",function(){return o.refresh()}),t._uU(80,"Go To Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",t.xi3(17,19,o.categoriesList,"0")),t.xp6(2),t.Q6J("ngIf",""!==o.selectedCatName),t.xp6(1),t.Q6J("hidden",""==o.selectedCatName),t.xp6(3),t.hij("",o.selectedCatName," Details"),t.xp6(2),t.Q6J("formGroup",o.updateCategory),t.xp6(9),t.Q6J("ngForOf",o.categoriesList),t.xp6(3),t.Q6J("disabled",!o.permission),t.xp6(9),t.Q6J("formGroup",o.addCategory),t.xp6(12),t.Q6J("ngForOf",o.categoriesList),t.xp6(2),t.Q6J("disabled",o.disableSaveCatBtn),t.xp6(1),t.Oqu(o.saveCatBtnText),t.xp6(4),t.Q6J("ngIf",o.attrCount<1),t.xp6(1),t.Q6J("ngIf",1==o.attrCount),t.xp6(1),t.Q6J("ngIf",o.attrCount>1),t.xp6(3),t.Q6J("formGroup",o.categoryForm),t.xp6(1),t.Q6J("disabled",o.disableAddAttrBtn),t.xp6(5),t.Q6J("ngForOf",o.attributes.controls),t.xp6(1),t.Q6J("ngIf",o.attrCount>0),t.xp6(3),t.Q6J("hidden",!o.goToCategoriesBtn))},directives:[y.yS,z.a8,pt.SP,pt.uX,pt.uD,Mt.d,T.sg,Q.Hw,T.O5,P._Y,P.JL,P.sg,P.CE,P.x0,U.KE,U.hX,$.Nt,P.Fj,P.JJ,P.u,P.Q7,ct.lW,J.gD,V.ey,G.Il,G.DX],pipes:[j],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.catList[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:larger;text-transform:uppercase}.step-active[_ngcontent-%COMP%]{background-color:#28e3fc;border-radius:50%;padding:4px 10px}.step-inactive[_ngcontent-%COMP%]{background-color:#d4ddd8;color:#8d8d8d;border-radius:50%;padding:4px 10px}.step-done[_ngcontent-%COMP%]{background-color:#2dc954;color:#fff;border-radius:50%;padding:4px 10px}ul[_ngcontent-%COMP%]{line-height:2rem;list-style-type:square}li[_ngcontent-%COMP%]:hover{color:#d3526a}.edit[_ngcontent-%COMP%]{font-size:medium;cursor:pointer}.show[_ngcontent-%COMP%]{transition-timing-function:ease-in}"]}),n})();var ve=m(655),ci=m(659),jt=m(9419),Gt=m(5899),Te=m(7877);function Xa(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Please wait..."),t.qZA())}function tc(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Search"),t.qZA())}function ec(n,i){1&n&&t._UZ(0,"mat-progress-bar",43)}function ic(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1,"verified"),t.qZA())}function nc(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"mat-icon",46),t._uU(2,"check_circle"),t.qZA(),t.qZA())}function oc(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"mat-icon",47),t._uU(2,"remove_circle_outline"),t.qZA(),t.qZA())}function sc(n,i){if(1&n&&(t.TgZ(0,"td",45),t.YNc(1,nc,3,0,"span",17),t.YNc(2,oc,3,0,"span",17),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.verified),t.xp6(1),t.Q6J("ngIf",1!=e.verified)}}function rc(n,i){1&n&&t._UZ(0,"th",44)}function ac(n,i){if(1&n&&(t.TgZ(0,"td",48),t._UZ(1,"img",49),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function cc(n,i){1&n&&(t.TgZ(0,"th",44),t.TgZ(1,"span",50),t._uU(2,"SKU"),t.qZA(),t.qZA())}function lc(n,i){if(1&n&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function dc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Name "),t.qZA())}function hc(n,i){if(1&n&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function uc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Brand "),t.qZA())}function pc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function gc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Description "),t.qZA())}function _c(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function fc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Categories "),t.qZA())}function mc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.displayProductCategories(e.id)," ")}}function bc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Updated "),t.qZA())}function xc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Cc(n,i){1&n&&t._UZ(0,"th",44)}function vc(n,i){if(1&n&&(t.TgZ(0,"td",45),t.TgZ(1,"button",51),t._uU(2," View Details "),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function Tc(n,i){1&n&&t._UZ(0,"tr",52)}function yc(n,i){1&n&&t._UZ(0,"tr",53)}function Zc(n,i){if(1&n&&(t.TgZ(0,"tr",54),t.TgZ(1,"td",55),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(56);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Pc=function(){return[10,25,50,100]};class Ee{constructor(i,e,o,s,r,a,c,l,d,h,u){this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=r,this._snackBar=a,this.info=c,this.router=l,this.lookup=d,this.products=h,this._liveAnnouncer=u,this.productsList=[],this.typesList=[],this.categoriesList=[],this.productsLoader=!1,this.loggedIn=!1,this.activeProducts=0,this.eolProducts=0,this.developmentProducts=0,this.allProducts=0,this.regionsCount=0,this.progressMode="determinate",this.brands=[],this.productsByBrand=[],this.uknownBrandProducts=0,this.displayedColumns=["verified","thumbnail","sku","name","brand","description","categories","updated","view"],this.verifiedProducts=[],this.owners=[],this.productCategories=[],this.productCategoryTree=[]}ngOnInit(){this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllProducts()}getAllProducts(){this.productsLoader=!0,this.loaderInfo="Loading products...",this.api.GET("products").subscribe({next:i=>{this.productsList=i,this.verifiedProducts=this.productsList.filter(e=>1==e.verified),this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.loaderInfo="Loading products complete...",this.blockUI.stop(),this.veriftStats(this.productsList)},error:i=>{this.openSnackBar("Failed to connect to the server: "+i.message,"Okay")}})}getAllCategories(){this.productsLoader=!0,this.loaderInfo="Loading categories",this.api.GET("categories").subscribe({next:i=>{this.categoriesList=i,this.productsLoader=!1,this.loaderInfo="Loading categories complete..."},error:i=>{this.productsLoader=!1,this.loaderInfo="Failed to load categories"}})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getAllTypes(){this.typesList=this.lookup.getTypes()}productsBybrand(){this.api.GET("dashboard").subscribe({next:i=>{console.log("by brands ",i),this.productsByBrand=i},error:i=>{console.log(i)}})}getBrandName(i){try{let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}catch(e){return this.info.errorHandler(e),""}}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}veriftStats(i){}productsToDisplay(i){let e=[];"active"==i&&(e=this.productsList.filter(o=>1==o.is_active),this.productsViewInfo="Showing: Active Products..."),"verified"==i&&(e=this.productsList.filter(o=>1==o.verified),this.productsViewInfo="Showing: Verified Products..."),"unverified"==i&&(e=this.productsList.filter(o=>0==o.verified),this.productsViewInfo="Showing: Unverified Products..."),this.dataSource=new f.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}displayProductCategories(i){this.productsLoader=!0,this.loaderInfo="Loading product categories...",this.api.GET(`product-categories/search/${i}`).subscribe({next:e=>{this.productCategories=e,console.log(e),this.productsLoader=!1,this.loaderInfo="Loading complete"},error:e=>{this.productsLoader=!1,this.loaderInfo="Something went wrong when trying to load some product categories."}})}}Ee.\u0275fac=function(i){return new(i||Ee)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(F.C),t.Y36(y.F0),t.Y36(jt.W),t.Y36(X),t.Y36(D.Kd))},Ee.\u0275cmp=t.Xpm({type:Ee,selectors:[["app-dashboard"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(Z.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},decls:97,vars:17,consts:[["routerLink","/"],[1,"row"],[1,"col-12","col-sm-6","col-md-3"],[2,"background-color","rgb(26, 26, 26)","color","white","margin-bottom","1rem",3,"click"],[1,"col-md-8"],[1,"col-md-4"],[2,"color","cornflowerblue","float","right"],["mode","determinate","value","100"],[2,"color","rgb(100, 237, 157)","float","right"],["color","primary","mode","determinate",3,"value"],[2,"background-color","rgb(26, 26, 26)","color","white","margin-bottom","1rem"],[2,"color","rgb(237, 223, 100)","float","right"],["color","accent","mode","determinate",3,"value"],[2,"color","rgb(237, 100, 100)","float","right"],["color","warn","mode","determinate",3,"value"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],[4,"ngIf"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"disabled","keyup"],["input",""],["matSuffix",""],[2,"float","right","color","grey"],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","verified"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","categories"],["matColumnDef","updated"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary"],[2,"color","lightgray"],["mat-cell","",3,"routerLink"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Dashboard\n"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.TgZ(7,"mat-card",3),t.NdJ("click",function(){return e.productsToDisplay("active")}),t.TgZ(8,"div",1),t.TgZ(9,"div",4),t.TgZ(10,"h2"),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"div",5),t.TgZ(13,"mat-icon",6),t._uU(14,"check_circle"),t.qZA(),t.qZA(),t.qZA(),t._uU(15," Active Products "),t._UZ(16,"mat-progress-bar",7),t.qZA(),t.qZA(),t.TgZ(17,"div",2),t.TgZ(18,"mat-card",3),t.NdJ("click",function(){return e.productsToDisplay("verified")}),t.TgZ(19,"div",1),t.TgZ(20,"div",4),t.TgZ(21,"h2"),t._uU(22),t.qZA(),t.qZA(),t.TgZ(23,"div",5),t.TgZ(24,"mat-icon",8),t._uU(25,"check_circle_outline"),t.qZA(),t.qZA(),t.qZA(),t._uU(26," Verified "),t._UZ(27,"mat-progress-bar",9),t.qZA(),t.qZA(),t.TgZ(28,"div",2),t.TgZ(29,"mat-card",10),t.TgZ(30,"div",1),t.TgZ(31,"div",4),t.TgZ(32,"h2"),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"div",5),t.TgZ(35,"mat-icon",11),t._uU(36,"design_services"),t.qZA(),t.qZA(),t.qZA(),t._uU(37," In Development "),t._UZ(38,"mat-progress-bar",12),t.qZA(),t.qZA(),t.TgZ(39,"div",2),t.TgZ(40,"mat-card",10),t.TgZ(41,"div",1),t.TgZ(42,"div",4),t.TgZ(43,"h2"),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"div",5),t.TgZ(46,"mat-icon",13),t._uU(47,"heart_broken"),t.qZA(),t.qZA(),t.qZA(),t._uU(48," EoL "),t._UZ(49,"mat-progress-bar",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",1),t.TgZ(51,"div",15),t.TgZ(52,"mat-form-field",16),t.YNc(53,Xa,2,0,"mat-label",17),t.YNc(54,tc,2,0,"mat-label",17),t.TgZ(55,"input",18,19),t.NdJ("keyup",function(s){return e.applyFilter(s)}),t.qZA(),t.TgZ(57,"mat-icon",20),t._uU(58,"search"),t.qZA(),t.qZA(),t.TgZ(59,"span",21),t._uU(60),t.qZA(),t.TgZ(61,"div",22),t.YNc(62,ec,1,0,"mat-progress-bar",23),t.TgZ(63,"table",24,25),t.NdJ("matSortChange",function(s){return e.announceSortChange(s)}),t.ynx(65,26),t.YNc(66,ic,2,0,"th",27),t.YNc(67,sc,3,2,"td",28),t.BQk(),t.ynx(68,29),t.YNc(69,rc,1,0,"th",27),t.YNc(70,ac,2,2,"td",30),t.BQk(),t.ynx(71,31),t.YNc(72,cc,3,0,"th",27),t.YNc(73,lc,2,2,"td",30),t.BQk(),t.ynx(74,32),t.YNc(75,dc,2,0,"th",27),t.YNc(76,hc,2,2,"td",30),t.BQk(),t.ynx(77,33),t.YNc(78,uc,2,0,"th",27),t.YNc(79,pc,2,1,"td",28),t.BQk(),t.ynx(80,34),t.YNc(81,gc,2,0,"th",27),t.YNc(82,_c,2,1,"td",28),t.BQk(),t.ynx(83,35),t.YNc(84,fc,2,0,"th",27),t.YNc(85,mc,2,1,"td",28),t.BQk(),t.ynx(86,36),t.YNc(87,bc,2,0,"th",27),t.YNc(88,xc,3,3,"td",28),t.BQk(),t.ynx(89,37),t.YNc(90,Cc,1,0,"th",27),t.YNc(91,vc,3,1,"td",28),t.BQk(),t.YNc(92,Tc,1,0,"tr",38),t.YNc(93,yc,1,0,"tr",39),t.YNc(94,Zc,3,1,"tr",40),t.qZA(),t._UZ(95,"mat-paginator",41),t.qZA(),t.qZA(),t._UZ(96,"div",42),t.qZA()),2&i&&(t.xp6(11),t.Oqu(e.productsList.length),t.xp6(11),t.Oqu(e.verifiedProducts.length),t.xp6(5),t.s9C("value",e.verifiedProducts.length/e.productsList.length*100),t.xp6(6),t.Oqu(e.developmentProducts),t.xp6(5),t.s9C("value",e.developmentProducts/e.allProducts*100),t.xp6(6),t.Oqu(e.eolProducts),t.xp6(5),t.s9C("value",e.eolProducts/e.allProducts*100),t.xp6(4),t.Q6J("ngIf",e.productsLoader),t.xp6(1),t.Q6J("ngIf",!e.productsLoader),t.xp6(1),t.Q6J("disabled",e.productsLoader),t.xp6(5),t.Oqu(e.loaderInfo),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(29),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(16,Pc)))},directives:[y.yS,z.a8,Q.Hw,Gt.pW,U.KE,T.O5,U.hX,$.Nt,U.R9,f.BZ,Te.jt,Z.YE,f.w1,f.fO,f.ge,Z.nU,f.Dz,f.ev,y.rH,ct.lW,f.as,f.XQ,f.nj,f.Gk,f.Ee,C.NW],pipes:[T.uU],styles:['.mat-progress-bar[_ngcontent-%COMP%]{height:7px;border-radius:3px}.mat-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{height:7px;border-radius:3px}.brands[_ngcontent-%COMP%]{overflow-y:auto;height:30rem;padding:1rem}table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}dl[_ngcontent-%COMP%]{display:flex;background-color:#fff;flex-direction:column;width:100%;max-width:700px;position:relative;padding:20px}dt[_ngcontent-%COMP%]{align-self:flex-start;width:100%;display:block;text-align:center;font-size:1.2em;font-weight:700;margin-bottom:20px;margin-left:130px}.text[_ngcontent-%COMP%]{font-weight:600;display:flex;align-items:center;height:40px;width:130px;background-color:#fff;position:absolute;left:0;justify-content:flex-end}.percentage[_ngcontent-%COMP%]{font-size:.8em;line-height:1;text-transform:uppercase;width:100%;height:40px;margin-left:130px;background:repeating-linear-gradient(to right,#ddd,#ddd 1px,#fff 1px,#fff 5%)}.percentage[_ngcontent-%COMP%]:after{content:"";display:block;background-color:#3d9970;width:50px;margin-bottom:10px;height:90%;position:relative;top:50%;transform:translateY(-50%);transition:background-color .3s ease;cursor:pointer}.percentage[_ngcontent-%COMP%]:hover:after, .percentage[_ngcontent-%COMP%]:focus:after{background-color:#aaa}.percentage-1[_ngcontent-%COMP%]:after{width:1%}.percentage-2[_ngcontent-%COMP%]:after{width:2%}.percentage-3[_ngcontent-%COMP%]:after{width:3%}.percentage-4[_ngcontent-%COMP%]:after{width:4%}.percentage-5[_ngcontent-%COMP%]:after{width:5%}.percentage-6[_ngcontent-%COMP%]:after{width:6%}.percentage-7[_ngcontent-%COMP%]:after{width:7%}.percentage-8[_ngcontent-%COMP%]:after{width:8%}.percentage-9[_ngcontent-%COMP%]:after{width:9%}.percentage-10[_ngcontent-%COMP%]:after{width:10%}.percentage-11[_ngcontent-%COMP%]:after{width:11%}.percentage-12[_ngcontent-%COMP%]:after{width:12%}.percentage-13[_ngcontent-%COMP%]:after{width:13%}.percentage-14[_ngcontent-%COMP%]:after{width:14%}.percentage-15[_ngcontent-%COMP%]:after{width:15%}.percentage-16[_ngcontent-%COMP%]:after{width:16%}.percentage-17[_ngcontent-%COMP%]:after{width:17%}.percentage-18[_ngcontent-%COMP%]:after{width:18%}.percentage-19[_ngcontent-%COMP%]:after{width:19%}.percentage-20[_ngcontent-%COMP%]:after{width:20%}.percentage-21[_ngcontent-%COMP%]:after{width:21%}.percentage-22[_ngcontent-%COMP%]:after{width:22%}.percentage-23[_ngcontent-%COMP%]:after{width:23%}.percentage-24[_ngcontent-%COMP%]:after{width:24%}.percentage-25[_ngcontent-%COMP%]:after{width:25%}.percentage-26[_ngcontent-%COMP%]:after{width:26%}.percentage-27[_ngcontent-%COMP%]:after{width:27%}.percentage-28[_ngcontent-%COMP%]:after{width:28%}.percentage-29[_ngcontent-%COMP%]:after{width:29%}.percentage-30[_ngcontent-%COMP%]:after{width:30%}.percentage-31[_ngcontent-%COMP%]:after{width:31%}.percentage-32[_ngcontent-%COMP%]:after{width:32%}.percentage-33[_ngcontent-%COMP%]:after{width:33%}.percentage-34[_ngcontent-%COMP%]:after{width:34%}.percentage-35[_ngcontent-%COMP%]:after{width:35%}.percentage-36[_ngcontent-%COMP%]:after{width:36%}.percentage-37[_ngcontent-%COMP%]:after{width:37%}.percentage-38[_ngcontent-%COMP%]:after{width:38%}.percentage-39[_ngcontent-%COMP%]:after{width:39%}.percentage-40[_ngcontent-%COMP%]:after{width:40%}.percentage-41[_ngcontent-%COMP%]:after{width:41%}.percentage-42[_ngcontent-%COMP%]:after{width:42%}.percentage-43[_ngcontent-%COMP%]:after{width:43%}.percentage-44[_ngcontent-%COMP%]:after{width:44%}.percentage-45[_ngcontent-%COMP%]:after{width:45%}.percentage-46[_ngcontent-%COMP%]:after{width:46%}.percentage-47[_ngcontent-%COMP%]:after{width:47%}.percentage-48[_ngcontent-%COMP%]:after{width:48%}.percentage-49[_ngcontent-%COMP%]:after{width:49%}.percentage-50[_ngcontent-%COMP%]:after{width:50%}.percentage-51[_ngcontent-%COMP%]:after{width:51%}.percentage-52[_ngcontent-%COMP%]:after{width:52%}.percentage-53[_ngcontent-%COMP%]:after{width:53%}.percentage-54[_ngcontent-%COMP%]:after{width:54%}.percentage-55[_ngcontent-%COMP%]:after{width:55%}.percentage-56[_ngcontent-%COMP%]:after{width:56%}.percentage-57[_ngcontent-%COMP%]:after{width:57%}.percentage-58[_ngcontent-%COMP%]:after{width:58%}.percentage-59[_ngcontent-%COMP%]:after{width:59%}.percentage-60[_ngcontent-%COMP%]:after{width:60%}.percentage-61[_ngcontent-%COMP%]:after{width:61%}.percentage-62[_ngcontent-%COMP%]:after{width:62%}.percentage-63[_ngcontent-%COMP%]:after{width:63%}.percentage-64[_ngcontent-%COMP%]:after{width:64%}.percentage-65[_ngcontent-%COMP%]:after{width:65%}.percentage-66[_ngcontent-%COMP%]:after{width:66%}.percentage-67[_ngcontent-%COMP%]:after{width:67%}.percentage-68[_ngcontent-%COMP%]:after{width:68%}.percentage-69[_ngcontent-%COMP%]:after{width:69%}.percentage-70[_ngcontent-%COMP%]:after{width:70%}.percentage-71[_ngcontent-%COMP%]:after{width:71%}.percentage-72[_ngcontent-%COMP%]:after{width:72%}.percentage-73[_ngcontent-%COMP%]:after{width:73%}.percentage-74[_ngcontent-%COMP%]:after{width:74%}.percentage-75[_ngcontent-%COMP%]:after{width:75%}.percentage-76[_ngcontent-%COMP%]:after{width:76%}.percentage-77[_ngcontent-%COMP%]:after{width:77%}.percentage-78[_ngcontent-%COMP%]:after{width:78%}.percentage-79[_ngcontent-%COMP%]:after{width:79%}.percentage-80[_ngcontent-%COMP%]:after{width:80%}.percentage-81[_ngcontent-%COMP%]:after{width:81%}.percentage-82[_ngcontent-%COMP%]:after{width:82%}.percentage-83[_ngcontent-%COMP%]:after{width:83%}.percentage-84[_ngcontent-%COMP%]:after{width:84%}.percentage-85[_ngcontent-%COMP%]:after{width:85%}.percentage-86[_ngcontent-%COMP%]:after{width:86%}.percentage-87[_ngcontent-%COMP%]:after{width:87%}.percentage-88[_ngcontent-%COMP%]:after{width:88%}.percentage-89[_ngcontent-%COMP%]:after{width:89%}.percentage-90[_ngcontent-%COMP%]:after{width:90%}.percentage-91[_ngcontent-%COMP%]:after{width:91%}.percentage-92[_ngcontent-%COMP%]:after{width:92%}.percentage-93[_ngcontent-%COMP%]:after{width:93%}.percentage-94[_ngcontent-%COMP%]:after{width:94%}.percentage-95[_ngcontent-%COMP%]:after{width:95%}.percentage-96[_ngcontent-%COMP%]:after{width:96%}.percentage-97[_ngcontent-%COMP%]:after{width:97%}.percentage-98[_ngcontent-%COMP%]:after{width:98%}.percentage-99[_ngcontent-%COMP%]:after{width:99%}.percentage-100[_ngcontent-%COMP%]:after{width:100%}#q-graph[_ngcontent-%COMP%]{display:block;position:relative;width:100%;height:300px;margin:1.1em 0 0;padding:0;background:transparent;font-size:11px}#q-graph[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{caption-side:top;width:600px;text-transform:uppercase;letter-spacing:.5px;top:-40px;position:relative;z-index:10;font-weight:700}#q-graph[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #q-graph[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:absolute;bottom:0;width:150px;z-index:2;margin:0;padding:0;text-align:center}#q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{transition:all .3s ease}#q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:#4d4d4d;opacity:.9;color:#fff}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{left:100%;top:50%;bottom:auto;margin:-2.5em 0 0 5em}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:7.5em;height:auto;padding:.5em 1em}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sent[_ngcontent-%COMP%]{top:0;left:0;line-height:2}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.paid[_ngcontent-%COMP%]{top:2.75em;line-height:2;left:0}#q-graph[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:296px;padding-top:2px;border-right:1px dotted #C4C4C4;color:#aaa}#q-graph[_ngcontent-%COMP%]   #q1[_ngcontent-%COMP%]{left:0}#q-graph[_ngcontent-%COMP%]   #q2[_ngcontent-%COMP%]{left:150px}#q-graph[_ngcontent-%COMP%]   #q3[_ngcontent-%COMP%]{left:300px}#q-graph[_ngcontent-%COMP%]   #q4[_ngcontent-%COMP%]{left:450px;border-right:none}#q-graph[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{bottom:-1.75em;vertical-align:top;font-weight:400;color:#333}#q-graph[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:60px;border:1px solid;border-bottom:none;color:#000}#q-graph[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;padding:0;opacity:.4}#q-graph[_ngcontent-%COMP%]   .sent[_ngcontent-%COMP%]{left:13px;background-color:#39cccc;border-color:transparent}#q-graph[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{left:77px;background-color:#7fdbff;border-color:transparent}#ticks[_ngcontent-%COMP%]{position:relative;top:-300px;left:2px;width:596px;height:300px;z-index:1;margin-bottom:-300px;font-size:10px;font-family:fira-sans-2,Verdana,sans-serif}#ticks[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{position:relative;border-bottom:1px dotted #C4C4C4;width:600px}#ticks[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:-5em;top:-.8em;margin:0 0 0 .5em}']}),(0,ve.gn)([(0,ci.bH)()],Ee.prototype,"blockUI",void 0);var Wi=m(631);function wc(n,i){1&n&&t._UZ(0,"mat-progress-bar",37)}function Ac(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Type "),t.qZA())}function kc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.type," ")}}function Mc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," SKU "),t.qZA())}function Sc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function Ic(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Name "),t.qZA())}function Oc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Dc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Published"),t.qZA())}function Lc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 1 "),t.qZA())}function qc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Is featured"),t.qZA())}function Nc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 1 "),t.qZA())}function Ec(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Short description"),t.qZA())}function Fc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 1 "),t.qZA())}function Uc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Short description"),t.qZA())}function Rc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Bc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Description"),t.qZA())}function Hc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Yc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Tax status"),t.qZA())}function Jc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," taxable "),t.qZA())}function Qc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"In stock"),t.qZA())}function zc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 1 "),t.qZA())}function $c(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Categories"),t.qZA())}function Vc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.categories," ")}}function jc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Images"),t.qZA())}function Gc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.filePath(e.images)," ")}}function Wc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function Kc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function Xc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function tl(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function el(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function il(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function nl(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function ol(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function sl(n,i){1&n&&t._UZ(0,"tr",40)}function rl(n,i){1&n&&t._UZ(0,"tr",41)}function al(n,i){if(1&n&&(t.TgZ(0,"tr",42),t.TgZ(1,"td",43),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(21);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const cl=function(){return[10,25,100]};let ll=(()=>{class n extends Wi._k{constructor(e,o,s,r,a,c,l,d,h,u){super(),this.navbar=e,this.sideNav=o,this.topNav=s,this.treeNav=r,this.api=a,this._snackBar=c,this._liveAnnouncer=l,this.info=d,this.lookup=h,this.products=u,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.query="",this.displayedColumns=["type","sku","name","published","isFeatured","visibility","shortDescription","description","taxStatus","inStock","weight","length","width","height","categories","images"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(p=>{this.loggedIn=p})}ngOnInit(){this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}getProducts(){console.log("getting: "+this.query),this.info.setLoadingInfo("Loading products...","info"),this.productsLoader=!0,this.api.GET(`wordpress-export/${this.query}`).subscribe({next:e=>{this.productsList=e,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.info.setLoadingInfo("Products loaded","success")},error:e=>{this.info.setLoadingInfo("Failed to connect to the server: "+e.message,"success"),this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}filePath(e){return e.split(",").join(",")}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,o){this._snackBar.open(e,o)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.typesList=this.lookup.getTypes()}getBrandName(e){let o=0;return o=parseInt(e)-1,null==this.typesList[o]?"":this.typesList[o].name}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(D.Kd),t.Y36(F.C),t.Y36(jt.W),t.Y36(X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-export-csv"]],viewQuery:function(e,o){if(1&e&&(t.Gf(C.NW,5),t.Gf(Z.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first)}},features:[t.qOj],decls:80,vars:7,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",2,"float","right",3,"click"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","outline","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","published"],["matColumnDef","isFeatured"],["matColumnDef","visibility"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","taxStatus"],["matColumnDef","inStock"],["matColumnDef","categories"],["matColumnDef","images"],["matColumnDef","weight"],["matColumnDef","length"],["matColumnDef","width"],["matColumnDef","height"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(s),t.MAs(27).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"div",2),t.TgZ(9,"div",3),t.TgZ(10,"mat-form-field",4),t.TgZ(11,"mat-label"),t._uU(12,"Search Brand"),t.qZA(),t.TgZ(13,"input",5),t.NdJ("ngModelChange",function(a){return o.query=a}),t.qZA(),t.TgZ(14,"mat-icon",6),t.NdJ("click",function(){return o.getProducts()}),t._uU(15,"search"),t.qZA(),t.qZA(),t._uU(16," \xa0 "),t.TgZ(17,"mat-form-field",7),t.TgZ(18,"mat-label"),t._uU(19,"Filter results"),t.qZA(),t.TgZ(20,"input",8,9),t.NdJ("keyup",function(a){return o.applyFilter(a)}),t.qZA(),t.TgZ(22,"mat-icon",10),t._uU(23,"funnel"),t.qZA(),t.qZA(),t.TgZ(24,"div",11),t.YNc(25,wc,1,0,"mat-progress-bar",12),t.TgZ(26,"table",13,14),t.NdJ("matSortChange",function(a){return o.announceSortChange(a)}),t.ynx(28,15),t.YNc(29,Ac,2,0,"th",16),t.YNc(30,kc,2,1,"td",17),t.BQk(),t.ynx(31,18),t.YNc(32,Mc,2,0,"th",16),t.YNc(33,Sc,2,1,"td",17),t.BQk(),t.ynx(34,19),t.YNc(35,Ic,2,0,"th",16),t.YNc(36,Oc,2,1,"td",17),t.BQk(),t.ynx(37,20),t.YNc(38,Dc,2,0,"th",16),t.YNc(39,Lc,2,0,"td",17),t.BQk(),t.ynx(40,21),t.YNc(41,qc,2,0,"th",16),t.YNc(42,Nc,2,0,"td",17),t.BQk(),t.ynx(43,22),t.YNc(44,Ec,2,0,"th",16),t.YNc(45,Fc,2,0,"td",17),t.BQk(),t.ynx(46,23),t.YNc(47,Uc,2,0,"th",16),t.YNc(48,Rc,2,1,"td",17),t.BQk(),t.ynx(49,24),t.YNc(50,Bc,2,0,"th",16),t.YNc(51,Hc,2,1,"td",17),t.BQk(),t.ynx(52,25),t.YNc(53,Yc,2,0,"th",16),t.YNc(54,Jc,2,0,"td",17),t.BQk(),t.ynx(55,26),t.YNc(56,Qc,2,0,"th",16),t.YNc(57,zc,2,0,"td",17),t.BQk(),t.ynx(58,27),t.YNc(59,$c,2,0,"th",16),t.YNc(60,Vc,2,1,"td",17),t.BQk(),t.ynx(61,28),t.YNc(62,jc,2,0,"th",16),t.YNc(63,Gc,2,1,"td",17),t.BQk(),t.ynx(64,29),t.YNc(65,Wc,2,0,"th",16),t.YNc(66,Kc,2,0,"td",17),t.BQk(),t.ynx(67,30),t.YNc(68,Xc,2,0,"th",16),t.YNc(69,tl,2,0,"td",17),t.BQk(),t.ynx(70,31),t.YNc(71,el,2,0,"th",16),t.YNc(72,il,2,0,"td",17),t.BQk(),t.ynx(73,32),t.YNc(74,nl,2,0,"th",16),t.YNc(75,ol,2,0,"td",17),t.BQk(),t.YNc(76,sl,1,0,"tr",33),t.YNc(77,rl,1,0,"tr",34),t.YNc(78,al,3,1,"tr",35),t.qZA(),t._UZ(79,"mat-paginator",36),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(13),t.Q6J("ngModel",o.query),t.xp6(12),t.Q6J("ngIf",1==o.productsLoader),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(50),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(6,cl)))},directives:[y.yS,ct.lW,Q.Hw,U.KE,U.hX,$.Nt,P.Fj,P.JJ,P.On,U.R9,T.O5,Gt.pW,f.BZ,Te.jt,Z.YE,f.w1,f.fO,f.ge,Z.nU,f.Dz,f.ev,f.as,f.XQ,f.nj,f.Gk,f.Ee,C.NW],styles:[""]}),n})();var li=m(4327),dl=m.n(li);let Fe=(()=>{class n{transform(e,o){let s=[];for(let r=0;r<e.length;r++)e[r].grouping==o&&s.push(e[r]);return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"typeGroup",type:n,pure:!0}),n})();function hl(n,i){if(1&n&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}let ul=(()=>{class n{constructor(e,o,s,r,a,c,l,d,h,u){this.navbar=e,this.sideNav=o,this.topNav=s,this.treeNav=r,this.api=a,this._snackBar=c,this.info=l,this.router=d,this.lookup=h,this.products=u,this.categories=[],this.types=[],this.brands=[],this.eol=!1,this.development=!1,this.active=!1}ngOnInit(){this.getAllTypes(),this.getAllCategories()}openSnackBar(e,o){this._snackBar.open(e,o,{duration:2e3})}getAllTypes(){this.types=this.lookup.getTypes()}selectBrand(e){console.log(e),this.brandName=e.value}getAllCategories(){}export(){this.openSnackBar("Exporting... ","Okay"),this.api.downloadCSV("export",this.brand,this.active,this.development,this.eol).subscribe(e=>{const o=new Blob([e],{type:"application/octet-stream"});dl().saveAs(o,`${this.brand}.csv`),this.openSnackBar("Done! ","Okay")},e=>{console.log(e),this.openSnackBar("\u{1f622} "+e.message,"Okay")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(F.C),t.Y36(y.F0),t.Y36(jt.W),t.Y36(X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-export"]],decls:17,vars:5,consts:[["routerLink","/"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","outline",2,"width","30%"],["matInput","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-raised-button","","type","submit","color","primary",3,"click"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products for WordPress\n"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"mat-form-field",3),t.TgZ(7,"mat-label"),t._uU(8,"Choose Brand to Export:"),t.qZA(),t.TgZ(9,"mat-select",4),t.NdJ("ngModelChange",function(r){return o.brand=r})("selectionChange",function(r){return o.selectBrand(r)}),t.YNc(10,hl,2,2,"mat-option",5),t.ALo(11,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",6),t.TgZ(13,"div",6),t._UZ(14,"br"),t.TgZ(15,"button",7),t.NdJ("click",function(){return o.export()}),t._uU(16,"Export"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngModel",o.brand),t.xp6(1),t.Q6J("ngForOf",t.xi3(11,2,o.types,"Brand")))},directives:[y.yS,U.KE,U.hX,J.gD,P.JJ,P.On,T.sg,V.ey,ct.lW],pipes:[Fe],styles:[".checkbox-div[_ngcontent-%COMP%]{padding:1rem;background-color:#fff8dc}.checkbox[_ngcontent-%COMP%]{margin-right:2rem}"]}),n})();var he=m(7446);function pl(n,i){1&n&&(t.TgZ(0,"button",40),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function gl(n,i){if(1&n&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function _l(n,i){1&n&&t._UZ(0,"mat-progress-bar",42)}function fl(n,i){1&n&&t._UZ(0,"th",43)}function ml(n,i){if(1&n&&(t.TgZ(0,"td",44),t._UZ(1,"img",45),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function bl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," SKU "),t.qZA())}function xl(n,i){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function Cl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Name "),t.qZA())}function vl(n,i){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function Tl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Brand "),t.qZA())}function yl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.brand," ")}}function Zl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Description "),t.qZA())}function Pl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function wl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Active "),t.qZA())}function Al(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().iconClick(s.sku+" is active")}),t.TgZ(1,"mat-icon",49),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function kl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",50),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Ml(n,i){if(1&n&&(t.TgZ(0,"td",44),t.YNc(1,Al,3,0,"span",47),t.YNc(2,kl,3,0,"span",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Sl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," In Development "),t.qZA())}function Il(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().iconClick(s.sku+" is in development")}),t.TgZ(1,"mat-icon",51),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Ol(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",50),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Dl(n,i){if(1&n&&(t.TgZ(0,"td",44),t.YNc(1,Il,3,0,"span",47),t.YNc(2,Ol,3,0,"span",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Ll(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," EOL "),t.qZA())}function ql(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().iconClick(s.sku+" is in end of life")}),t.TgZ(1,"mat-icon",52),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Nl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",50),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function El(n,i){if(1&n&&(t.TgZ(0,"td",44),t.YNc(1,ql,3,0,"span",47),t.YNc(2,Nl,3,0,"span",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function Fl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Updated "),t.qZA())}function Ul(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Rl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Created "),t.qZA())}function Bl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Hl(n,i){1&n&&t._UZ(0,"th",43)}function Yl(n,i){if(1&n&&(t.TgZ(0,"td",44),t.TgZ(1,"button",53),t._uU(2," View Details "),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.sku,"")}}function Jl(n,i){1&n&&t._UZ(0,"tr",54)}function Ql(n,i){1&n&&t._UZ(0,"tr",55)}function zl(n,i){if(1&n&&(t.TgZ(0,"tr",56),t.TgZ(1,"td",57),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(24);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const $l=function(){return[10,25,50,100]};class Ue extends Wi._k{constructor(i,e,o,s,r,a,c,l,d,h,u){super(),this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=r,this.route=a,this._snackBar=c,this._liveAnnouncer=l,this.info=d,this.lookup=h,this.products=u,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllCategories()}ngAfterContentInit(){this.route.params.subscribe(i=>{this.urlParam=i.brand,this.brand=this.urlParam.toUpperCase(),this.getAllTypes()})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllTypes(){try{let i;this.typesList=this.lookup.getTypes(),i=this.typesList.find(e=>e.name.toLocaleLowerCase()==this.brand.toLocaleLowerCase()),this.getAllProducts(i.id)}catch(i){console.log("Handled")}}getAllProducts(i){const e=this.products.getProducts();this.productsList=e.filter(o=>o.brand_type_id==i),this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}openSnackBar(i,e){this._snackBar.open(i,e)}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getBrandName(i){let e=0;return e=parseInt(i)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(i){return console.log("Role check"),!!this.info.role(i)}iconClick(i){this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view"]}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?o=>1==o.is_in_development&&1==o.is_active:this.activeProducts&&this.eolProducts?o=>1==o.is_active&&1==o.is_eol:this.developmentProducts&&this.eolProducts?o=>1==o.is_in_development&&1==o.is_eol:this.activeProducts?o=>1==o.is_active:this.developmentProducts?o=>1==o.is_in_development:o=>1==o.is_eol),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:i=>{this.categoriesList=i},error:i=>{alert(i)}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}Ue.\u0275fac=function(i){return new(i||Ue)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(y.gz),t.Y36(N.ux),t.Y36(D.Kd),t.Y36(F.C),t.Y36(jt.W),t.Y36(X))},Ue.\u0275cmp=t.Xpm({type:Ue,selectors:[["app-list-products"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(Z.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},features:[t.qOj],decls:89,vars:14,consts:[["routerLink","../../"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","",1,"m-1",2,"width","100%",3,"click"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",0),t._uU(3,"Products"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.YNc(7,pl,4,0,"button",3),t.qZA(),t.TgZ(8,"div",2),t.TgZ(9,"button",4),t.NdJ("click",function(){return t.CHM(o),t.MAs(50).exportTable("csv",{fileName:"products_system"})}),t.TgZ(10,"mat-icon"),t._uU(11,"download_file"),t.qZA(),t._uU(12," Export CSV "),t.qZA(),t.qZA(),t.TgZ(13,"div",2),t.TgZ(14,"button",5),t.TgZ(15,"mat-icon"),t._uU(16,"wordpress"),t.qZA(),t._uU(17," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Filter"),t.qZA(),t.TgZ(23,"input",8,9),t.NdJ("keyup",function(r){return e.applyFilter(r)}),t.qZA(),t.TgZ(25,"mat-icon",10),t._uU(26,"filter_list"),t.qZA(),t.qZA(),t.TgZ(27,"mat-form-field",11),t.TgZ(28,"mat-label"),t._uU(29,"Categories"),t.qZA(),t.TgZ(30,"mat-select",12),t.NdJ("selectionChange",function(r){return e.filterByCategory(r)}),t.YNc(31,gl,2,2,"mat-option",13),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"span",15),t.TgZ(34,"mat-checkbox",16),t.NdJ("ngModelChange",function(r){return e.displayDates=r})("change",function(r){return e.showDates(r)}),t._uU(35,"More info"),t.qZA(),t.qZA(),t.TgZ(36,"span",15),t.TgZ(37,"mat-checkbox",17),t.NdJ("ngModelChange",function(r){return e.eolProducts=r})("change",function(r){return e.filterStatuses(r)}),t._uU(38,"EOL"),t.qZA(),t.qZA(),t.TgZ(39,"span",15),t.TgZ(40,"mat-checkbox",17),t.NdJ("ngModelChange",function(r){return e.developmentProducts=r})("change",function(r){return e.filterStatuses(r)}),t._uU(41,"In Development"),t.qZA(),t.qZA(),t.TgZ(42,"span",15),t.TgZ(43,"mat-checkbox",17),t.NdJ("ngModelChange",function(r){return e.activeProducts=r})("change",function(r){return e.filterStatuses(r)}),t._uU(44,"Active"),t.qZA(),t.qZA(),t.TgZ(45,"span",15),t.TgZ(46,"mat-checkbox",17),t.NdJ("ngModelChange",function(r){return e.allProducts=r})("change",function(r){return e.filterStatuses(r)}),t._uU(47,"All"),t.qZA(),t.qZA(),t.YNc(48,_l,1,0,"mat-progress-bar",18),t.TgZ(49,"table",19,20),t.NdJ("matSortChange",function(r){return e.announceSortChange(r)}),t.ynx(51,21),t.YNc(52,fl,1,0,"th",22),t.YNc(53,ml,2,1,"td",23),t.BQk(),t.ynx(54,24),t.YNc(55,bl,2,0,"th",22),t.YNc(56,xl,2,2,"td",25),t.BQk(),t.ynx(57,26),t.YNc(58,Cl,2,0,"th",22),t.YNc(59,vl,2,2,"td",25),t.BQk(),t.ynx(60,27),t.YNc(61,Tl,2,0,"th",22),t.YNc(62,yl,2,1,"td",23),t.BQk(),t.ynx(63,28),t.YNc(64,Zl,2,0,"th",22),t.YNc(65,Pl,2,1,"td",23),t.BQk(),t.ynx(66,29),t.YNc(67,wl,2,0,"th",22),t.YNc(68,Ml,3,2,"td",23),t.BQk(),t.ynx(69,30),t.YNc(70,Sl,2,0,"th",22),t.YNc(71,Dl,3,2,"td",23),t.BQk(),t.ynx(72,31),t.YNc(73,Ll,2,0,"th",22),t.YNc(74,El,3,2,"td",23),t.BQk(),t.ynx(75,32),t.YNc(76,Fl,2,0,"th",22),t.YNc(77,Ul,3,3,"td",23),t.BQk(),t.ynx(78,33),t.YNc(79,Rl,2,0,"th",22),t.YNc(80,Bl,3,3,"td",23),t.BQk(),t.ynx(81,34),t.YNc(82,Hl,1,0,"th",22),t.YNc(83,Yl,3,1,"td",23),t.BQk(),t.YNc(84,Jl,1,0,"tr",35),t.YNc(85,Ql,1,0,"tr",36),t.YNc(86,zl,3,1,"tr",37),t.qZA(),t._UZ(87,"mat-paginator",38),t.qZA(),t.qZA(),t._UZ(88,"div",39),t.qZA(),t.qZA()}2&i&&(t.xp6(4),t.hij(" / Brand / ",e.brand," "),t.xp6(3),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(35),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(13,$l)))},directives:[y.yS,T.O5,ct.lW,y.rH,Q.Hw,U.KE,U.hX,$.Nt,U.R9,J.gD,T.sg,V.ey,he.oG,P.JJ,P.On,Gt.pW,f.BZ,Te.jt,Z.YE,f.w1,f.fO,f.ge,Z.nU,f.Dz,f.ev,f.as,f.XQ,f.nj,f.Gk,f.Ee,C.NW],pipes:[T.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,ve.gn)([(0,ci.bH)()],Ue.prototype,"blockUI",void 0);var Wt=m(8675),Re=m(4004),Nt=m(925),ht=m(3191),ft=m(7579),di=m(727),Vl=m(4986),jl=m(2805),Wl=m(6406),Xo=m(8306),Be=m(6451),ye=m(2722),He=m(5698),Kl=m(8505),Xl=m(3900),zn=m(393),hi=m(226);function $n(n,i,e){for(let o in i)if(i.hasOwnProperty(o)){const s=i[o];s?n.setProperty(o,s,(null==e?void 0:e.has(o))?"important":""):n.removeProperty(o)}return n}function Ye(n,i){const e=i?"":"none";$n(n.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function ts(n,i,e){$n(n.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function Ki(n,i){return i&&"none"!=i?n+" "+i:n}function es(n){const i=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*i}function Vn(n,i){return n.getPropertyValue(i).split(",").map(o=>o.trim())}function jn(n){const i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function Gn(n,i,e){const{top:o,bottom:s,left:r,right:a}=n;return e>=o&&e<=s&&i>=r&&i<=a}function ui(n,i,e){n.top+=i,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function is(n,i,e,o){const{top:s,right:r,bottom:a,left:c,width:l,height:d}=n,h=l*i,u=d*i;return o>s-u&&o<a+u&&e>c-h&&e<r+h}class ns{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:jn(e)})})}handleScroll(i){const e=(0,Nt.sA)(i),o=this.positions.get(e);if(!o)return null;const s=o.scrollPosition;let r,a;if(e===this._document){const d=this.getViewportScrollPosition();r=d.top,a=d.left}else r=e.scrollTop,a=e.scrollLeft;const c=s.top-r,l=s.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&e!==h&&e.contains(h)&&ui(d.clientRect,c,l)}),s.top=r,s.left=a,{top:c,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function os(n){const i=n.cloneNode(!0),e=i.querySelectorAll("[id]"),o=n.nodeName.toLowerCase();i.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===o?as(n,i):("input"===o||"select"===o||"textarea"===o)&&rs(n,i),ss("canvas",n,i,as),ss("input, textarea, select",n,i,rs),i}function ss(n,i,e,o){const s=i.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)o(s[a],r[a])}}let ed=0;function rs(n,i){"file"!==i.type&&(i.value=n.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${ed++}`)}function as(n,i){const e=i.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(o){}}const cs=(0,Nt.i$)({passive:!0}),Xi=(0,Nt.i$)({passive:!1}),Wn=new Set(["position"]);class nd{constructor(i,e,o,s,r,a){this._config=e,this._document=o,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ft.x,this._pointerMoveSubscription=di.w0.EMPTY,this._pointerUpSubscription=di.w0.EMPTY,this._scrollSubscription=di.w0.EMPTY,this._resizeSubscription=di.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ft.x,this.started=new ft.x,this.released=new ft.x,this.ended=new ft.x,this.entered=new ft.x,this.exited=new ft.x,this.dropped=new ft.x,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(c);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const l=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const g=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),_=this._dropContainer;if(!g)return void this._endDragSequence(c);(!_||!_.isDragging()&&!_.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const d=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,l);else{const h=this._activeTransform;h.x=d.x-this._pickupPositionOnPage.x+this._passiveTransform.x,h.y=d.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(h.x,h.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:c,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const l=this._getTargetHandle(c);l&&!this._disabledHandles.has(l)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new ns(o),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const e=(0,ht.Ig)(i);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(o=>Ye(o,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(o=>(0,ht.fI)(o)),this._handles.forEach(o=>Ye(o,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(o=>{this._handles.indexOf(o)>-1&&e.add(o)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=(0,ht.fI)(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Xi),e.addEventListener("touchstart",this._pointerDown,cs),e.addEventListener("dragstart",this._nativeDragStart,Xi)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?(0,ht.fI)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){var i,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(i=this._rootElement)||void 0===i||i.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Ye(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Ye(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var i,e;null===(i=this._preview)||void 0===i||i.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var i,e;null===(i=this._placeholder)||void 0===i||i.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){pi(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const o=this._rootElement,s=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();s.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=this._createPreviewElement(),ts(o,!1,Wn),this._document.body.appendChild(s.replaceChild(r,o)),this._getPreviewInsertionPoint(s,c).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const o=this.isDragging(),s=pi(e),r=!s&&0!==e.button,a=this._rootElement,c=(0,Nt.sA)(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=s?(0,D.yG)(e):(0,D.X6)(e);if(c&&c.draggable&&"mousedown"===e.type&&e.preventDefault(),o||r||l||d)return;if(this._handles.length){const p=a.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=jn(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){ts(this._rootElement,!0,Wn),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,o=e.getItemIndex(this),s=this._getPointerPositionOnPage(i),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:o,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,o,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:o,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,i,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,s),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,o=i?i.template:null;let s;if(o&&i){const r=i.matchSize?this._rootElement.getBoundingClientRect():null,a=i.viewContainer.createEmbeddedView(o,i.context);a.detectChanges(),s=ds(a,this._document),this._previewRef=a,i.matchSize?hs(s,r):s.style.transform=tn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=os(r),hs(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return $n(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Wn),Ye(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function td(n){const i=getComputedStyle(n),e=Vn(i,"transition-property"),o=e.find(c=>"transform"===c||"all"===c);if(!o)return 0;const s=e.indexOf(o),r=Vn(i,"transition-duration"),a=Vn(i,"transition-delay");return es(r[s])+es(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(o=>{const s=a=>{var c;(!a||(0,Nt.sA)(a)===this._preview&&"transform"===a.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",s),o(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let o;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),o=ds(this._placeholderRef,this._document)):o=os(this._rootElement),o.style.pointerEvents="none",o.classList.add("cdk-drag-placeholder"),o}_getPointerPositionInElement(i,e){const o=this._rootElement.getBoundingClientRect(),s=i===this._rootElement?null:i,r=s?s.getBoundingClientRect():o,a=pi(e)?e.targetTouches[0]:e,c=this._getViewportScrollPosition();return{x:r.left-o.left+(a.pageX-r.left-c.left),y:r.top-o.top+(a.pageY-r.top-c.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),o=pi(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,s=o.pageX-e.left,r=o.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=s,c.y=r,c.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:o,y:s}=this.constrainPosition?this.constrainPosition(i,this):i;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(o=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,c=this._boundaryRect,{width:l,height:d}=this._getPreviewRect(),h=c.top+a,u=c.bottom-(d-a);o=ls(o,c.left+r,c.right-(l-r)),s=ls(s,h,u)}return{x:o,y:s}}_updatePointerDirectionDelta(i){const{x:e,y:o}=i,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),c=Math.abs(o-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),c>this._config.pointerDirectionChangeThreshold&&(s.y=o>r.y?1:-1,r.y=o),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Ye(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Xi),i.removeEventListener("touchstart",this._pointerDown,cs),i.removeEventListener("dragstart",this._nativeDragStart,Xi)}_applyRootElementTransform(i,e){const o=tn(i,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=Ki(o,this._initialTransform)}_applyPreviewTransform(i,e){var o;const s=(null===(o=this._previewTemplate)||void 0===o?void 0:o.template)?void 0:this._initialTransform,r=tn(i,e);this._preview.style.transform=Ki(r,s)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const o=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===s.width&&0===s.height)return;const r=o.left-s.left,a=s.right-o.right,c=o.top-s.top,l=s.bottom-o.bottom;o.width>s.width?(r>0&&(i+=r),a>0&&(i-=a)):i=0,o.height>s.height?(c>0&&(e+=c),l>0&&(e-=l)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:pi(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const o=(0,Nt.sA)(i);this._boundaryRect&&o!==this._boundaryElement&&o.contains(this._boundaryElement)&&ui(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var i;return(null===(i=this._parentPositions.positions.get(this._document))||void 0===i?void 0:i.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Nt.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const o=this._previewContainer||"global";if("parent"===o)return i;if("global"===o){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,ht.fI)(o)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}}function tn(n,i){return`translate3d(${Math.round(n)}px, ${Math.round(i)}px, 0)`}function ls(n,i,e){return Math.max(i,Math.min(e,n))}function pi(n){return"t"===n.type[0]}function ds(n,i){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const o=i.createElement("div");return e.forEach(s=>o.appendChild(s)),o}function hs(n,i){n.style.width=`${i.width}px`,n.style.height=`${i.height}px`,n.style.transform=tn(i.left,i.top)}function Kn(n,i,e){const o=gi(i,n.length-1),s=gi(e,n.length-1);if(o===s)return;const r=n[o],a=s<o?-1:1;for(let c=o;c!==s;c+=a)n[c]=n[c+a];n[s]=r}function gi(n,i){return Math.max(0,Math.min(i,n))}class od{constructor(i,e,o,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ft.x,this.entered=new ft.x,this.exited=new ft.x,this.dropped=new ft.x,this.sorted=new ft.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=di.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ft.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Gl(n=0,i=Vl.z){return n<0&&(n=0),(0,jl.H)(n,n,i)}(0,Wl.Z).pipe((0,ye.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-c):2===this._verticalScrollDirection&&a.scrollBy(0,c),1===this._horizontalScrollDirection?a.scrollBy(-c,0):2===this._horizontalScrollDirection&&a.scrollBy(c,0)})},this.element=(0,ht.fI)(i),this._document=o,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new ns(o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,o,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(i):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(i,e,o))):r=s;const a=this._activeDraggables,c=a.indexOf(i),l=i.getPlaceholderElement();let d=a[r];if(d===i&&(d=a[r+1]),!d&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(e,o)&&(d=a[0]),c>-1&&a.splice(c,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(l,h),a.splice(r,0,i)}else(0,ht.fI)(this.element).appendChild(l),a.push(i);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,o,s,r,a,c){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:o,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:c})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(o=>o._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===i.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(i){return this._direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._orientation=i,this}withScrollableParents(i){const e=(0,ht.fI)(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(o=>o.drag===i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,o,s){if(this.sortingDisabled||!this._clientRect||!is(this._clientRect,.05,e,o))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(i,e,o,s);if(-1===a&&r.length>0)return;const c="horizontal"===this._orientation,l=r.findIndex(v=>v.drag===i),d=r[a],u=d.clientRect,p=l>a?1:-1,g=this._getItemOffsetPx(r[l].clientRect,u,p),_=this._getSiblingOffsetPx(l,r,p),b=r.slice();Kn(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:i}),r.forEach((v,A)=>{if(b[A]===v)return;const M=v.drag===i,I=M?g:_,O=M?i.getPlaceholderElement():v.drag.getRootElement();v.offset+=I,c?(O.style.transform=Ki(`translate3d(${Math.round(v.offset)}px, 0, 0)`,v.initialTransform),ui(v.clientRect,0,I)):(O.style.transform=Ki(`translate3d(0, ${Math.round(v.offset)}px, 0)`,v.initialTransform),ui(v.clientRect,I,0))}),this._previousSwap.overlaps=Gn(u,e,o),this._previousSwap.drag=d.drag,this._previousSwap.delta=c?s.x:s.y}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let o,s=0,r=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||o||is(a.clientRect,.05,i,e)&&([s,r]=function sd(n,i,e,o){const s=gs(i,o),r=_s(i,e);let a=0,c=0;if(s){const l=n.scrollTop;1===s?l>0&&(a=1):n.scrollHeight-l>n.clientHeight&&(a=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(c=1):n.scrollWidth-l>n.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,i,e),(s||r)&&(o=c))}),!s&&!r){const{width:a,height:c}=this._viewportRuler.getViewportSize(),l={width:a,height:c,top:0,right:a,bottom:c,left:0};s=gs(l,e),r=_s(l,i),o=window}o&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=o,(s||r)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=(0,ht.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=(0,ht.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_cacheItemPositions(){const i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const o=e.getVisibleElement();return{drag:e,offset:0,initialTransform:o.style.transform||"",clientRect:jn(o)}}).sort((e,o)=>i?e.clientRect.left-o.clientRect.left:e.clientRect.top-o.clientRect.top)}_reset(){this._isDragging=!1;const i=(0,ht.fI)(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var o;const s=e.getRootElement();if(s){const r=null===(o=this._itemPositions.find(a=>a.drag===e))||void 0===o?void 0:o.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(i,e,o){const s="horizontal"===this._orientation,r=e[i].clientRect,a=e[i+-1*o];let c=r[s?"width":"height"]*o;if(a){const l=s?"left":"top",d=s?"right":"bottom";-1===o?c-=a.clientRect[l]-r[d]:c+=r[l]-a.clientRect[d]}return c}_getItemOffsetPx(i,e,o){const s="horizontal"===this._orientation;let r=s?e.left-i.left:e.top-i.top;return-1===o&&(r+=s?e.width-i.width:e.height-i.height),r}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const o=this._itemPositions,s="horizontal"===this._orientation;if(o[0].drag!==this._activeDraggables[0]){const a=o[o.length-1].clientRect;return s?i>=a.right:e>=a.bottom}{const a=o[0].clientRect;return s?i<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(i,e,o,s){const r="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:l})=>{if(c===i)return!1;if(s){const d=r?s.x:s.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):o>=Math.floor(l.top)&&o<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,i,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(i,e){return null!=this._clientRect&&Gn(this._clientRect,i,e)}_getSiblingContainerFromPosition(i,e,o){return this._siblings.find(s=>s._canReceive(i,e,o))}_canReceive(i,e,o){if(!this._clientRect||!Gn(this._clientRect,e,o)||!this.enterPredicate(i,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,o);if(!s)return!1;const r=(0,ht.fI)(this.element);return s===r||r.contains(s)}_startReceiving(i,e){const o=this._activeSiblings;!o.has(i)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(o.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&(this._itemPositions.forEach(({clientRect:o})=>{ui(o,e.top,e.left)}),this._itemPositions.forEach(({drag:o})=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=(0,Nt.kV)((0,ht.fI)(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function gs(n,i){const{top:e,bottom:o,height:s}=n,r=.05*s;return i>=e-r&&i<=e+r?1:i>=o-r&&i<=o+r?2:0}function _s(n,i){const{left:e,right:o,width:s}=n,r=.05*s;return i>=e-r&&i<=e+r?1:i>=o-r&&i<=o+r?2:0}const en=(0,Nt.i$)({passive:!1,capture:!0});let rd=(()=>{class n{constructor(e,o){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new ft.x,this.pointerUp=new ft.x,this.scroll=new ft.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=o}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,en)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,en)}startDragging(e,o){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=o.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:en}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:en}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const o=this._activeDragInstances.indexOf(e);o>-1&&(this._activeDragInstances.splice(o,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const o=[this.scroll];return e&&e!==this._document&&o.push(new Xo.y(s=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&s.next(c)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),(0,Be.T)(...o)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,o)=>{this._document.removeEventListener(o,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.R0b),t.LFG(T.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ad={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Xn=(()=>{class n{constructor(e,o,s,r){this._document=e,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,o=ad){return new nd(e,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new od(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T.K0),t.LFG(t.R0b),t.LFG(zn.rL),t.LFG(rd))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fs=new t.OlP("CDK_DRAG_PARENT"),ms=new t.OlP("CdkDropListGroup"),bs=new t.OlP("CDK_DRAG_CONFIG");let cd=0;const xs=new t.OlP("CdkDropList");let Cs=(()=>{class n{constructor(e,o,s,r,a,c,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=c,this._destroyed=new ft.x,this.connectedTo=[],this.id="cdk-drop-list-"+cd++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=o.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(d,h)=>this.enterPredicate(d.data,h.data),this._dropListRef.sortPredicate=(d,h,u)=>this.sortPredicate(d,h.data,u.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),c&&c._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,ht.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,o)=>e._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,Wt.O)(this._dir.value),(0,ye.R)(this._destroyed)).subscribe(o=>e.withDirection(o)),e.beforeStarted.subscribe(()=>{const o=(0,ht.Eq)(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===o.indexOf(s)&&o.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,ht.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,ht.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,ht.su)(this.autoScrollStep,2),e.connectedTo(o.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:o,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:c}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=a&&a,this.orientation=c||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(Xn),t.Y36(t.sBO),t.Y36(zn.mF),t.Y36(hi.Is,8),t.Y36(ms,12),t.Y36(bs,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,o){2&e&&(t.uIk("id",o.id),t.ekj("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:ms,useValue:void 0},{provide:xs,useExisting:n}])]}),n})();const vs=new t.OlP("CdkDragHandle"),ld=new t.OlP("CdkDragPlaceholder"),dd=new t.OlP("CdkDragPreview");let Ts=(()=>{class n{constructor(e,o,s,r,a,c,l,d,h,u,p){this.element=e,this.dropContainer=o,this._ngZone=r,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=h,this._selfHandle=u,this._parentDrag=p,this._destroyed=new ft.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new Xo.y(g=>{const _=this._dragRef.moved.pipe((0,Re.U)(b=>({source:this,pointerPosition:b.pointerPosition,event:b.event,delta:b.delta,distance:b.distance}))).subscribe(g);return()=>{_.unsubscribe()}}),this._dragRef=d.createDrag(e,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:null==c?void 0:c.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),c&&this._assignDefaults(c),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,ht.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,He.q)(1),(0,ye.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const o=e.rootElementSelector,s=e.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const o=this.element.nativeElement;let s=o;this.rootElementSelector&&(s=void 0!==o.closest?o.closest(this.rootElementSelector):null===(e=o.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(s||o)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,ht.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const o=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:(0,ht.su)(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),o&&e.withDirection(o.value)}}),e.beforeStarted.pipe((0,He.q)(1)).subscribe(()=>{var o;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let s=this.element.nativeElement.parentElement;for(;s;){if(s.classList.contains("cdk-drag")){e.withParent((null===(o=n._dragInstances.find(r=>r.element.nativeElement===s))||void 0===o?void 0:o._dragRef)||null);break}s=s.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint})})}_assignDefaults(e){const{lockAxis:o,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:c,draggingDisabled:l,rootElementSelector:d,previewContainer:h}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,o&&(this.lockAxis=o),r&&(this.constrainPosition=r),a&&(this.previewClass=a),c&&(this.boundaryElement=c),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,Wt.O)(this._handles),(0,Kl.b)(e=>{const o=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),(0,Xl.w)(e=>(0,Be.T)(...e.map(o=>o._stateChanges.pipe((0,Wt.O)(o))))),(0,ye.R)(this._destroyed)).subscribe(e=>{const o=this._dragRef,s=e.element.nativeElement;e.disabled?o.disableHandle(s):o.enableHandle(s)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(xs,12),t.Y36(T.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(bs,8),t.Y36(hi.Is,8),t.Y36(Xn),t.Y36(t.sBO),t.Y36(vs,10),t.Y36(fs,12))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,o,s){if(1&e&&(t.Suo(s,dd,5),t.Suo(s,ld,5),t.Suo(s,vs,5)),2&e){let r;t.iGM(r=t.CRH())&&(o._previewTemplate=r.first),t.iGM(r=t.CRH())&&(o._placeholderTemplate=r.first),t.iGM(r=t.CRH())&&(o._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,o){2&e&&t.ekj("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:fs,useExisting:n}]),t.TTD]}),n})(),ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Xn],imports:[zn.ZD]}),n})();var _i=m(1079);function pd(n,i){1&n&&(t.TgZ(0,"div",64),t._uU(1,"Enter a valid SKU"),t.qZA())}function gd(n,i){1&n&&(t.TgZ(0,"div",65),t._uU(1,"\u2714"),t.qZA())}function _d(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",9),t.TgZ(1,"mat-label"),t._uU(2,"SKU"),t.qZA(),t.TgZ(3,"input",60,61),t.NdJ("keyup",function(s){return t.CHM(e),t.oxw().checkSku(s)}),t.qZA(),t.YNc(5,pd,2,0,"div",62),t.YNc(6,gd,2,0,"div",63),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.invalidSku),t.xp6(1),t.Q6J("ngIf",!e.invalidSku)}}function fd(n,i){1&n&&(t.TgZ(0,"mat-hint"),t._uU(1,"\u26a0 There is already a product with this name."),t.qZA())}function md(n,i){if(1&n&&(t.TgZ(0,"mat-option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function bd(n,i){1&n&&(t.TgZ(0,"mat-form-field",9),t.TgZ(1,"mat-label"),t._uU(2,"Short Description"),t.qZA(),t._UZ(3,"textarea",67,68),t.qZA())}function xd(n,i){if(1&n&&(t.TgZ(0,"mat-option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Cd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",74),t.TgZ(1,"mat-label"),t._uU(2,"Selected Product"),t.qZA(),t._UZ(3,"input",75),t.TgZ(4,"mat-icon",76),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).removeFromBundle(r)}),t._uU(5,"delete"),t.qZA(),t.TgZ(6,"mat-hint"),t.TgZ(7,"a",77),t._uU(8,"View this product"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(3),t.s9C("value",e),t.xp6(4),t.MGl("href","https://products.smdtechnologies.com/",e,"",t.LSH)}}function vd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveBundleProduct("Pamphlet")}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij("Save New ",e.newProductType,"")}}function Td(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveBundleProduct("Presentation")}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij("Create ",e.newProductType,"")}}function yd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-form-field",31),t.TgZ(2,"mat-label"),t._uU(3,"Search Product"),t.qZA(),t._UZ(4,"input",69),t.TgZ(5,"mat-autocomplete",70,71),t.NdJ("optionSelected",function(s){return t.CHM(e),t.oxw().addToBundle(s)}),t.YNc(7,xd,2,2,"mat-option",15),t.ALo(8,"async"),t.qZA(),t.qZA(),t.YNc(9,Cd,9,2,"mat-form-field",72),t.YNc(10,vd,2,1,"button",73),t.YNc(11,Td,2,1,"button",73),t.qZA()}if(2&n){const e=t.MAs(6),o=t.oxw();t.xp6(4),t.Q6J("formControl",o.autocompleteControl)("matAutocomplete",e),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,6,o.filteredOptions)),t.xp6(2),t.Q6J("ngForOf",o.newPamphletSKUs),t.xp6(1),t.Q6J("ngIf","linked-product"==o.newProductType),t.xp6(1),t.Q6J("ngIf","presentation"==o.newProductType)}}function Zd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"mat-checkbox",79,80),t._uU(3,"Is in development"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"mat-checkbox",81,82),t._uU(7,"Is EOL"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-checkbox",83,84),t._uU(11,"Is Active"),t.qZA(),t._UZ(12,"hr"),t.TgZ(13,"button",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveProduct()}),t._uU(14),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("disabled",!e.newProductForm.dirty||e.invalidSku),t.xp6(1),t.hij("Save New ",e.newProductType,"")}}function Pd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(7).checkedItem(r.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.name)}}function wd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(6).checkedItem(r.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Pd,3,1,"li",24),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(6);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Ad(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(5).checkedItem(r.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,wd,6,5,"li",24),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(5);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function kd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).checkedItem(r.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Ad,6,5,"li",24),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Md(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).checkedItem(r.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,kd,6,5,"li",24),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Sd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).checkedItem(r.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Md,6,5,"li",24),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Id(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",86),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().checkedItem(r.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,Sd,6,5,"li",24),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Od(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",87),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(2,"Save Categories"),t.qZA(),t.qZA()}}function Dd(n,i){1&n&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"mat-icon"),t._uU(3,"warning"),t.qZA(),t._uU(4," Please save product first."),t.qZA(),t.TgZ(5,"button",88),t._uU(6,"Save Categories"),t.qZA(),t.qZA())}function Ld(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.attrName)}}function qd(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89),t.TgZ(2,"mat-grid-list",90),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",91),t.TgZ(5,"mat-label"),t._uU(6,"Attribute Name"),t.qZA(),t._UZ(7,"input",92),t.qZA(),t.qZA(),t.TgZ(8,"mat-grid-tile"),t.TgZ(9,"mat-form-field",91),t.TgZ(10,"mat-label"),t._uU(11,"Attribute Value"),t.qZA(),t._UZ(12,"input",93),t.qZA(),t.qZA(),t._UZ(13,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.index;t.xp6(1),t.Q6J("formGroupName",e)}}function Nd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"button",94),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveAttributes("new")}),t._uU(3),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.saveAttrBtnText)}}function Ed(n,i){if(1&n&&(t.TgZ(0,"mat-option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Fd(n,i){if(1&n&&(t.TgZ(0,"option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ud(n,i){1&n&&(t.TgZ(0,"div",95),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Rd(n,i){if(1&n&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function Bd(n,i){if(1&n&&(t.TgZ(0,"div",96),t.YNc(1,Rd,3,1,"ul",29),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Hd(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function Yd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-option",100),t.NdJ("onSelectionChange",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().updateFileType(s.id,s.type_id)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Jd(n,i){if(1&n&&(t.TgZ(0,"div",97),t.TgZ(1,"div",1),t.TgZ(2,"div",42),t._UZ(3,"img",98),t.qZA(),t.TgZ(4,"div",50),t.TgZ(5,"mat-form-field",9),t.TgZ(6,"mat-label"),t._uU(7,"Image Type"),t.qZA(),t.TgZ(8,"mat-select"),t.YNc(9,Yd,2,2,"mat-option",99),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(3),t.s9C("alt",e.path),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,3,o.typesList,"Image"))}}function Qd(n,i){if(1&n&&(t.TgZ(0,"div",101),t._UZ(1,"img",102),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.s9C("alt",e.path),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH)}}function zd(n,i){1&n&&(t.TgZ(0,"div",95),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function $d(n,i){if(1&n&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function Vd(n,i){if(1&n&&(t.TgZ(0,"div",96),t.YNc(1,$d,3,1,"ul",29),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function jd(n,i){1&n&&(t.TgZ(0,"button",103),t._uU(1," Done "),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA(),t.qZA())}function Gd(n,i){if(1&n&&(t.TgZ(0,"mat-card",104),t.TgZ(1,"p"),t._uU(2,"\u26a0 It looks like there is already a brand with the name: "),t.TgZ(3,"i"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t._UZ(7,"img",105),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.similarProduct.name),t.xp6(2),t.Oqu(e.similarProduct.short_description),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.similarProduct.clean_sku,"",t.LSH),t.xp6(2),t.hij("\xa0",e.similarProduct.sku,"")}}let Wd=(()=>{class n{constructor(e,o,s,r,a,c,l,d,h){this.navbar=e,this.api=o,this.formBuilder=s,this._snackBar=r,this.info=a,this.route=c,this.router=l,this.lookup=d,this.products=h,this.productsList=[],this.categoriesList=[],this.selectedCategories=[],this.typesList=[],this.displayedColumns=["id","sku","name","brand","description"],this.panelOpenState=!1,this.panelOpenStateVariations=!1,this.categoriesLoader=!1,this.typesLoader=!1,this.parent=!1,this.frontImage=!1,this.newProductId=0,this.newProductSKU="",this.newProductName="",this.shortLink="",this.loading=!1,this.files=[],this.images=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.focusType="47",this.newProductCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save and Continue",this.disableSaveAttrBtn=!1,this.activeTabIndex=0,this.nextBtn=!1,this.prevBtn=!1,this.doneBtn=!1,this.savedFiles=[],this.skuPattern="^[a-zA-Z0-9_()-]{4,20}$",this.invalidSku=!0,this.autocompleteControl=new P.NI(""),this.options=[],this.newPamphlet=[],this.newPamphletSKUs=[],this.SKUsLoader=!0}ngOnInit(){this.info.auth(),this.attrCount=0,this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.getAllTypes(),this.getAllCategories(),this.entireProducts(),this.filteredOptions=this.autocompleteControl.valueChanges.pipe((0,Wt.O)(""),(0,Re.U)(e=>this._filter(e||""))),this.route.paramMap.subscribe(e=>{this.newProductType=e.get("type")}),window.addEventListener("beforeunload",function(e){return e.returnValue="","o/"}),this.newProductForm=this.formBuilder.group({sku:["",[P.kI.required,P.kI.pattern(this.skuPattern)]],name:["",P.kI.required],brand_type_id:["",P.kI.required],description:["",P.kI.required],short_description:["",P.kI.required],parent_id:[0,P.kI.required],is_eol:[0,P.kI.required],is_in_development:[0,P.kI.required],is_active:[0,P.kI.required],type:[this.newProductType]}),this.newProductFormPackaging=this.formBuilder.group({weight:["",P.kI.required],length:["",P.kI.required],width:["",P.kI.required],height:["",P.kI.required],packaging_type_id:["",P.kI.required],product_id:[this.newProductId,P.kI.required]}),this.newProductFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])})}entireProducts(){this.productsList=this.products.getProducts(),this.options=this.productsList.map(e=>e.sku)}_filter(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.options.filter(r=>r.toLowerCase().includes(s))}return o}get attributes(){return this.newProductFormAttributes.get("attributes")}get sku(){return this.newProductForm.get("sku")}setParent(){this.parent=!0,console.log(this.parent)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllCategories(){this.categoriesList=this.products.getCategories()}getAllTypes(){this.typesList=this.lookup.getTypes()}saveProduct(){this.api.POST("products",this.newProductForm.value).subscribe({next:e=>{this.newProductId=e.id,this.newProductSKU=e.sku,this.newProductName=e.name,this.newProductFormPackaging.patchValue({product_id:e.id}),this.info.activity(`${this.info.getUserName()} added a new product`,this.newProductId),this.openSnackBar(e.name+" Added \u{1f603}","Okay"),this.router.navigate([e.sku])},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}saveBundleProduct(e){console.log(this.newProductForm.value),this.api.POST("products-pamphlet",this.newProductForm.value).subscribe({next:o=>{this.info.activity("Created new pamphlet",0),this.openSnackBar(o.name+" Created \u{1f603}","Okay");for(let s=0;s<this.newPamphlet.length;s++)this.api.POST("link-products",{parent_id:o.id,child_id:this.newPamphlet[s],relationship:e}).subscribe({next:r=>{console.log(r)},error:r=>{this.openSnackBar("\u{1f622} "+r.message,"Okay")}});this.router.navigate([o.sku])},error:o=>{this.openSnackBar("\u{1f622} "+o.message,"Okay")}})}addToBundle(e){const o=this.productsList.find(r=>r.sku==e.option.value),s=null==o?void 0:o.id;console.log("Product: ",o),this.newPamphlet.push(s),this.newPamphletSKUs.push(e.option.value),this.autocompleteControl.reset()}removeFromBundle(e){const o=this.productsList.find(c=>c.sku==e),r=this.newPamphlet.indexOf(null==o?void 0:o.id),a=this.newPamphletSKUs.indexOf(e);r>-1&&this.newPamphlet.splice(r,1),a>-1&&this.newPamphletSKUs.splice(a,1)}saveCategories(){const e=this.selectedCategories;if(e.length>0){for(let o=0;o<e.length;o++)this.api.POST("product-categories",{product_id:this.newProductId,category_id:e[o]}).subscribe({next:s=>{this.prevBtn=!0,this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:s=>{this.openSnackBar("\u{1f622} "+s.message,"Okay")}});this.nextTab()}this.openSnackBar("Please choose categories","Okay")}saveAttributes(e){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let o=this.newProductFormAttributes.getRawValue();this.api.POST(`products/update-attributes/${this.newProductId}`,o).subscribe({next:s=>{console.log(s),this.saveAttrBtnText="Attributes Saved",this.openSnackBar("Attributes Saved","Okay"),this.nextBtn=!0,this.nextTab()},error:s=>{this.openSnackBar(s.message,"Okay")}})}savePackaging(){this.api.POST("packaging",this.newProductFormPackaging.value).subscribe({next:e=>{this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}returnTypeName(e){return this.typesList[e-=1].name}onChange(e){this.files=e.target.files,console.log(this.files);for(let o=0;o<this.files.length;o++)this.files[o].size>9e6&&this.messages.push("\u{1f6ab} "+this.files[o].name+" is too large!")}onUpload(e){if(this.loading=!this.loading,console.log("Files being uploaded: ",this.files.length),this.files.length>0)for(let o=0;o<this.files.length;o++)console.log("Uploading file "+this.files[o].name),this.api.upload("uploading-file-api",{file:this.files[o],name:this.files[o].name,product_id:this.newProductId,product_sku:this.newProductSKU,type_id:e}).subscribe(s=>{"object"==typeof s&&(this.shortLink=s.link,this.loading=!1),s.type===x.dt.UploadProgress?(this.uploadProgress=Math.round(100*s.loaded/s.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`):s instanceof x.Zn&&(this.messages.push(this.files[o].name+" ploaded the file successfully."),this.info.activity(`Added ${this.files.length} files`,this.newProductId)),this.getFiles()},s=>{this.uploadProgress=0,this.messages.push(this.files[o].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}setFocusType(e){this.focusType=e.target.value}openSnackBar(e,o){this._snackBar.open(e,o)}getProductCategories(){this.api.GET(`product-categories/search/${this.newProductId}`).subscribe({next:e=>{for(let o=0;o<e.length;o++){let s=JSON.parse(e[o].attributes);this.getParents(e[o].parent);for(let r=0;r<s.length;r++)if(-1===this.attributes.value.findIndex(c=>c.attrName===s[r].attrName)){const c=this.formBuilder.group({attrName:[s[r].attrName,P.kI.required],attrValue:["0",P.kI.required]});this.attributes.push(c),this.attrCount=this.attrCount+1}}},error:e=>{console.log(e)}})}getParents(e){this.api.GET(`categories/get-parents/${e}`).subscribe({next:o=>{console.log("From parents",o);for(let s=0;s<o.length;s++){let r=JSON.parse(o[s].attributes);for(let a=0;a<r.length;a++)if(-1===this.attributes.value.findIndex(l=>l.attrName===r[a].attrName)){const l=this.formBuilder.group({attrName:[r[a].attrName,P.kI.required],attrValue:["0",P.kI.required]});this.attributes.push(l),this.attrCount=this.attrCount+1}}},error:o=>{console.log(o)}})}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}nextTab(){this.activeTabIndex=(this.activeTabIndex+1)%6,this.doneBtn=this.activeTabIndex>4,2==this.activeTabIndex&&(this.nextBtn=!1)}previousTab(){this.activeTabIndex=(this.activeTabIndex-1)%6}done(){location.reload()}getFiles(){this.api.GET(`product-files/${this.newProductId}`).subscribe({next:e=>{this.savedFiles=e,this.getProductImageOrder()},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.newProductId}`).subscribe({next:e=>{if(e.length>0){const o=JSON.parse(e[0].order_list);let s=[];for(let r=0;r<o.length;r++){const a=o[r],c=this.savedFiles.find(l=>l.id==a);s.push(c)}this.savedFiles=s}},error:e=>{console.log(e)}})}drop(e){Kn(this.savedFiles,e.previousIndex,e.currentIndex);let o=[];for(let r=0;r<this.savedFiles.length;r++)o.push(this.savedFiles[r].id);const s=JSON.stringify(o);this.api.POST("image-order",{product_id:this.newProductId,order_list:s}).subscribe({next:r=>{console.log(r),this.info.activity("Rearranged images",this.newProductId)},error:r=>{console.log(r)}})}updateFileType(e,o){this.api.POST(`product-files/update-fileType/${e}`,{type_id:o}).subscribe({next:s=>{console.log(s),this.info.activity("Updated file type",this.newProductId)},error:s=>{console.log(s)}})}filePath(e){return e.substring(7)}checkSku(e){var o;let s=null===(o=this.newProductForm.get("sku"))||void 0===o?void 0:o.status;this.invalidSku="invalid"==(null==s?void 0:s.toLocaleLowerCase())}checkedItem(e){const o=this.selectedCategories.indexOf(e);o<0?this.selectedCategories.push(e):this.selectedCategories.splice(o,1),console.log(this.selectedCategories)}checkProductName(e){this.similarProduct=this.products.searchProductByName(e.target.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(L.s),t.Y36(P.qu),t.Y36(N.ux),t.Y36(F.C),t.Y36(y.gz),t.Y36(y.F0),t.Y36(jt.W),t.Y36(X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-product"]],decls:155,vars:49,consts:[["routerLink","/"],[1,"row"],[1,"col-md-9"],[3,"selectedIndex","selectedIndexChange"],["label","1. General"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"col-md-6"],["appearance","outline","style","width: 90%;",4,"ngIf"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","name","placeholder","Enter Product Name",3,"keyup"],["name",""],[4,"ngIf"],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["style","width: 90%;","appearance","outline",4,"ngIf"],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],["class","m-3",4,"ngIf"],["disabled","","label","2. Select Categories"],[1,"row","form-border"],[1,"col-md-6",2,"background-color","rgb(241, 241, 241)"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],["disabled","","label","3. Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],[4,"ngFor","ngForIn"],["formArrayName","attributes"],[4,"ngFor","ngForOf"],["disabled","","label","4. Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],[1,"m-3"],["type","hidden","formControlName","product_id"],["type","submit","mat-raised-button","","type","submit","color","primary",3,"disabled","click"],["disabled","","label","5. Upload Files"],[1,"col-md-4"],[1,"form-control",3,"change"],["type","file","multiple","",1,"form-control",3,"change"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[1,"col-md-8"],["disabled","","label","6. Upload Media"],[1,"col-md-3"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box","cdkDrag","",4,"ngFor","ngForOf"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-4","form-border"],["mat-raised-button","","type","button","class","switch-tab","color","primary","routerLink","/",4,"ngIf"],["mat-raised-button","","type","button","color","basic",1,"switch-tab",3,"disabled","click"],["style","margin-top: 1rem; background-color: rgb(255, 210, 159);",4,"ngIf"],["matInput","","formControlName","sku","placeholder","Product Code / SKU",3,"keyup"],["sku",""],["class","invalid",4,"ngIf"],["class","valid",4,"ngIf"],[1,"invalid"],[1,"valid"],[3,"value"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["type","text","placeholder","Enter SKU","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],["appearance","outline","style","margin-bottom: 1rem;",4,"ngFor","ngForOf"],["type","submit","style","float: right;","mat-raised-button","","type","submit","color","primary",3,"click",4,"ngIf"],["appearance","outline",2,"margin-bottom","1rem"],["type","text","placeholder","Search SKU","aria-label","Number","matInput","","readonly","",3,"value"],["matSuffix","",3,"click"],["target","_blank",3,"href"],["type","submit","mat-raised-button","","type","submit","color","primary",2,"float","right",3,"click"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],[1,"categories-list"],[3,"click"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","","disabled",""],[3,"formGroupName"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required","","readonly",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[1,"container"],[1,"message"],["cdkDrag","",1,"file-box"],["width","304","height","236",1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],[1,"col-md-2"],["width","140","height","160",1,"tile-img",3,"alt","src"],["mat-raised-button","","type","button","color","primary","routerLink","/",1,"switch-tab"],[2,"margin-top","1rem","background-color","rgb(255, 210, 159)"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"mat-card"),t.TgZ(7,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(r){return o.activeTabIndex=r}),t.TgZ(8,"mat-tab",4),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t.TgZ(11,"div",1),t.TgZ(12,"div",7),t.YNc(13,_d,7,2,"mat-form-field",8),t.TgZ(14,"mat-form-field",9),t.TgZ(15,"mat-label"),t._uU(16,"Product Name"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(r){return o.checkProductName(r)}),t.qZA(),t.YNc(19,fd,2,0,"mat-hint",12),t.qZA(),t.TgZ(20,"mat-form-field",9),t.TgZ(21,"mat-label"),t._uU(22,"Product Brand"),t.qZA(),t.TgZ(23,"mat-select",13,14),t.YNc(25,md,2,2,"mat-option",15),t.ALo(26,"typeGroup"),t.qZA(),t.qZA(),t.YNc(27,bd,5,0,"mat-form-field",16),t.TgZ(28,"mat-form-field",9),t.TgZ(29,"mat-label"),t._uU(30,"Description"),t.qZA(),t._UZ(31,"textarea",17,18),t.qZA(),t.qZA(),t.TgZ(33,"div",7),t.YNc(34,yd,12,8,"div",12),t.YNc(35,Zd,15,2,"div",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"mat-tab",20),t.TgZ(37,"div",6),t.TgZ(38,"form"),t.TgZ(39,"div",21),t.TgZ(40,"div",22),t.TgZ(41,"section",23),t.TgZ(42,"ul"),t.YNc(43,Id,8,5,"li",24),t.ALo(44,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",7),t.YNc(46,Od,3,0,"div",12),t.YNc(47,Dd,7,0,"div",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"mat-tab",25),t.TgZ(49,"div",26),t.TgZ(50,"ul"),t.YNc(51,Ld,2,1,"li",27),t.qZA(),t.TgZ(52,"form",5),t.ynx(53,28),t.YNc(54,qd,14,1,"ng-container",29),t.BQk(),t.YNc(55,Nd,4,1,"div",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"mat-tab",30),t.TgZ(57,"form",5),t.TgZ(58,"div",6),t.TgZ(59,"div",21),t.TgZ(60,"div",7),t.TgZ(61,"mat-form-field",31),t.TgZ(62,"mat-label"),t._uU(63,"Choose Packaging Type:"),t.qZA(),t.TgZ(64,"mat-select",32),t.YNc(65,Ed,2,2,"mat-option",15),t.ALo(66,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(67,"mat-form-field",31),t.TgZ(68,"mat-label"),t._uU(69,"Weight (KG)"),t.qZA(),t._UZ(70,"input",33),t.TgZ(71,"mat-icon",34),t._uU(72,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(73,"mat-form-field",31),t.TgZ(74,"mat-label"),t._uU(75,"Dimensions(cm): Length"),t.qZA(),t._UZ(76,"input",35),t.TgZ(77,"mat-icon",34),t._uU(78,"design_services"),t.qZA(),t.qZA(),t.TgZ(79,"mat-form-field",31),t.TgZ(80,"mat-label"),t._uU(81,"Dimensions(cm): Width"),t.qZA(),t._UZ(82,"input",36),t.TgZ(83,"mat-icon",34),t._uU(84,"design_services"),t.qZA(),t.qZA(),t.TgZ(85,"mat-form-field",31),t.TgZ(86,"mat-label"),t._uU(87,"Dimensions(cm): Height"),t.qZA(),t._UZ(88,"input",37),t.TgZ(89,"mat-icon",34),t._uU(90,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(91,"div",7),t.TgZ(92,"div",38),t._UZ(93,"input",39),t.TgZ(94,"button",40),t.NdJ("click",function(){return o.savePackaging()}),t._uU(95,"Save Packaging"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(96,"mat-tab",41),t.TgZ(97,"div",6),t.TgZ(98,"div",1),t.TgZ(99,"div",42),t.TgZ(100,"select",43),t.NdJ("change",function(r){return o.setFocusType(r)}),t.YNc(101,Fd,2,2,"option",15),t.ALo(102,"typeGroup"),t.qZA(),t._UZ(103,"br"),t.TgZ(104,"input",44),t.NdJ("change",function(r){return o.onChange(r)}),t.qZA(),t._UZ(105,"br"),t.TgZ(106,"button",45),t.NdJ("click",function(){return o.onUpload("55")}),t._uU(107,"Upload File"),t.qZA(),t._UZ(108,"hr"),t.YNc(109,Ud,3,0,"div",46),t.TgZ(110,"div",47),t._UZ(111,"div",48),t.qZA(),t.YNc(112,Bd,2,1,"div",49),t.qZA(),t.TgZ(113,"div",50),t.TgZ(114,"ul"),t.YNc(115,Hd,2,1,"li",29),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"mat-tab",51),t.TgZ(117,"div",6),t.TgZ(118,"div",1),t.TgZ(119,"div",52),t.TgZ(120,"div",53),t.NdJ("cdkDropListDropped",function(r){return o.drop(r)}),t.YNc(121,Jd,11,6,"div",54),t.qZA(),t.qZA(),t.TgZ(122,"div",2),t.TgZ(123,"div",1),t.YNc(124,Qd,2,2,"div",55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(125,"mat-card"),t.TgZ(126,"div",1),t.TgZ(127,"div",56),t.TgZ(128,"input",44),t.NdJ("change",function(r){return o.onChange(r)}),t.qZA(),t._UZ(129,"br"),t.TgZ(130,"button",45),t.NdJ("click",function(){return o.onUpload("47")}),t._uU(131,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(132,"div",50),t.YNc(133,zd,3,0,"div",46),t.TgZ(134,"div",47),t._UZ(135,"div",48),t.qZA(),t.YNc(136,Vd,2,1,"div",49),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(137,"div"),t.YNc(138,jd,4,0,"button",57),t.TgZ(139,"button",58),t.NdJ("click",function(){return o.nextTab()}),t._uU(140," Next "),t.TgZ(141,"mat-icon"),t._uU(142,"arrow_circle_right"),t.qZA(),t.qZA(),t.TgZ(143,"button",58),t.NdJ("click",function(){return o.previousTab()}),t.TgZ(144,"mat-icon"),t._uU(145,"arrow_circle_left"),t.qZA(),t._uU(146," Back "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(147,"div",52),t.TgZ(148,"mat-card"),t.TgZ(149,"h2"),t.TgZ(150,"strong"),t._uU(151),t.qZA(),t.TgZ(152,"small"),t._uU(153),t.qZA(),t.qZA(),t.qZA(),t.YNc(154,Gd,10,4,"mat-card",59),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" / Add New ",o.newProductType,""),t.xp6(4),t.Q6J("selectedIndex",o.activeTabIndex),t.xp6(2),t.Q6J("formGroup",o.newProductForm),t.xp6(4),t.Q6J("ngIf","product"==o.newProductType),t.xp6(6),t.Q6J("ngIf",o.similarProduct),t.xp6(6),t.Q6J("ngForOf",t.xi3(26,37,o.typesList,"Brand")),t.xp6(2),t.Q6J("ngIf","product"==o.newProductType),t.xp6(7),t.Q6J("ngIf","linked-product"==o.newProductType||"presentation"==o.newProductType),t.xp6(1),t.Q6J("ngIf","product"==o.newProductType),t.xp6(8),t.Q6J("ngForOf",t.xi3(44,40,o.categoriesList,"0")),t.xp6(3),t.Q6J("ngIf",0!=o.newProductId),t.xp6(1),t.Q6J("ngIf",0==o.newProductId),t.xp6(4),t.Q6J("ngForIn",o.attributesFields),t.xp6(1),t.Q6J("formGroup",o.newProductFormAttributes),t.xp6(2),t.Q6J("ngForOf",o.attributes.controls),t.xp6(1),t.Q6J("ngIf",o.attrCount>0),t.xp6(2),t.Q6J("formGroup",o.newProductFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(66,43,o.typesList,"Packaging")),t.xp6(29),t.Q6J("disabled",!o.newProductFormPackaging.dirty),t.xp6(7),t.Q6J("ngForOf",t.xi3(102,46,o.typesList,"File")),t.xp6(8),t.Q6J("ngIf",o.loading),t.xp6(2),t.Akn(o.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",o.messages.length),t.xp6(3),t.Q6J("ngForOf",o.savedFiles),t.xp6(6),t.Q6J("ngForOf",o.savedFiles),t.xp6(3),t.Q6J("ngForOf",o.savedFiles),t.xp6(9),t.Q6J("ngIf",o.loading),t.xp6(2),t.Akn(o.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",o.messages.length),t.xp6(2),t.Q6J("ngIf",o.doneBtn),t.xp6(1),t.Q6J("disabled",!o.nextBtn),t.xp6(4),t.Q6J("disabled",!o.nextBtn),t.xp6(8),t.hij(" ",o.newProductName,""),t.xp6(2),t.Oqu(o.newProductSKU),t.xp6(1),t.Q6J("ngIf",o.similarProduct))},directives:[y.yS,z.a8,pt.SP,pt.uX,P._Y,P.JL,P.sg,T.O5,U.KE,U.hX,$.Nt,P.Fj,P.JJ,P.u,U.bx,J.gD,T.sg,V.ey,_i.ZL,P.oH,_i.XC,Q.Hw,U.R9,ct.lW,he.oG,P.F,P.CE,P.x0,G.Il,G.DX,P.Q7,P.YN,P.Kr,Cs,Ts,y.rH],pipes:[Fe,T.Ov,j],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.switch-tab[_ngcontent-%COMP%]{margin-left:2rem;float:right;margin-top:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:green}"]}),n})();var to=m(7544),fi=m(7238);function Kd(n,i){1&n&&(t.TgZ(0,"div",4),t.TgZ(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",5),t.qZA())}function Xd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",48),t.TgZ(1,"div",7),t.TgZ(2,"div",49),t._uU(3),t.qZA(),t.TgZ(4,"div",50),t.TgZ(5,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).productsToDisplay("missingCategories")}),t._uU(6,"View Products"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(3),t.hij(" \u26a0 ",e.productsMissingCategories.length," of your verified products are missing categories. Please add categories to these products. ")}}function th(n,i){if(1&n&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function eh(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function ih(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"div",47),t.TgZ(2,"form",52),t.TgZ(3,"div",53),t.TgZ(4,"div",54),t.TgZ(5,"div",55),t.TgZ(6,"h3"),t._uU(7,"Pamphlet Details:"),t.qZA(),t.TgZ(8,"mat-form-field",56),t.TgZ(9,"mat-label"),t._uU(10,"Pamphlet Name"),t.qZA(),t._UZ(11,"input",57,58),t.TgZ(13,"mat-icon",18),t._uU(14,"create"),t.qZA(),t.qZA(),t.TgZ(15,"mat-form-field",56),t.TgZ(16,"mat-label"),t._uU(17,"Brand"),t.qZA(),t.TgZ(18,"mat-select",59,60),t.YNc(20,th,2,2,"mat-option",61),t.ALo(21,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field",56),t.TgZ(23,"mat-label"),t._uU(24,"Description"),t.qZA(),t._UZ(25,"textarea",62,63),t.qZA(),t.qZA(),t.TgZ(27,"div",50),t.TgZ(28,"h3"),t._uU(29,"Selected Products:"),t.qZA(),t.TgZ(30,"mat-card"),t.TgZ(31,"ul"),t.YNc(32,eh,2,1,"li",64),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",65),t.TgZ(34,"h3",66),t._uU(35,"..."),t.qZA(),t.TgZ(36,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveProduct()}),t._uU(37,"Create Pamphlet"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("formGroup",e.newProductForm),t.xp6(18),t.Q6J("ngForOf",t.xi3(21,3,e.typesList,"Brand")),t.xp6(12),t.Q6J("ngForOf",e.newPamphletSKUs)}}function nh(n,i){1&n&&t._UZ(0,"mat-progress-bar",5)}function oh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1,"Create Pamphlet"),t.qZA())}function sh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",70),t.TgZ(1,"span",71),t.TgZ(2,"mat-checkbox",72),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(2).addToPamphlet(a.product_id,a.sku,s)}),t._uU(3,"Add to list"),t.qZA(),t.qZA(),t.qZA()}}function rh(n,i){1&n&&t._UZ(0,"th",69)}function ah(n,i){if(1&n&&(t.TgZ(0,"td",70),t.TgZ(1,"a",73),t._UZ(2,"img",74),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.clean_sku,""),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/web/",e.clean_sku,"",t.LSH)}}function ch(n,i){1&n&&(t.TgZ(0,"th",69),t.TgZ(1,"span",75),t._uU(2,"SKU"),t.qZA(),t.qZA())}function lh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.TgZ(1,"a",73),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.clean_sku,""),t.xp6(1),t.Oqu(e.sku)}}function dh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Name "),t.qZA())}function hh(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function uh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Brand "),t.qZA())}function ph(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",76),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return a.selectBrand(a.getBrandName(r.brand_type_id))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function gh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Description "),t.qZA())}function _h(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function fh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Active "),t.qZA())}function mh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is active")}),t.TgZ(1,"mat-icon",79),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function bh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function xh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,mh,3,0,"span",77),t.YNc(2,bh,3,0,"span",77),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Ch(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," In Development "),t.qZA())}function vh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is in development")}),t.TgZ(1,"mat-icon",81),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Th(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function yh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,vh,3,0,"span",77),t.YNc(2,Th,3,0,"span",77),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Zh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," EOL "),t.qZA())}function Ph(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is in end of life")}),t.TgZ(1,"mat-icon",82),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function wh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Ah(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,Ph,3,0,"span",77),t.YNc(2,wh,3,0,"span",77),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function kh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Updated "),t.qZA())}function Mh(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Sh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Created "),t.qZA())}function Ih(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Oh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Verified "),t.qZA())}function Dh(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"mat-icon",79),t._uU(2,"check_circle"),t.qZA(),t.qZA())}function Lh(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA())}function qh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,Dh,3,0,"span",3),t.YNc(2,Lh,3,0,"span",3),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.verified),t.xp6(1),t.Q6J("ngIf",0==e.verified)}}function Nh(n,i){1&n&&t._UZ(0,"th",69)}function Eh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.TgZ(1,"a",83),t._uU(2," View Details "),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.clean_sku,"")}}function Fh(n,i){1&n&&t._UZ(0,"tr",84)}function Uh(n,i){1&n&&t._UZ(0,"tr",85)}function Rh(n,i){if(1&n&&(t.TgZ(0,"tr",86),t.TgZ(1,"td",87),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(27);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Bh=function(){return[10,25,50,100]};function Hh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",6),t._uU(3,"All Products"),t.qZA(),t._uU(4," / Product Manager / My Products"),t.qZA(),t.TgZ(5,"div",7),t.TgZ(6,"div",8),t.TgZ(7,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().productsToDisplay("active")}),t.TgZ(8,"mat-icon"),t._uU(9,"check_circle_outline"),t.qZA(),t._uU(10," Active Products "),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().productsToDisplay("verified")}),t.TgZ(12,"mat-icon"),t._uU(13,"verified"),t.qZA(),t._uU(14," Verfied Products "),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().productsToDisplay("unverified")}),t.TgZ(16,"mat-icon"),t._uU(17,"do_not_disturb"),t.qZA(),t._uU(18," Unverfied Products "),t.qZA(),t.qZA(),t.qZA(),t.YNc(19,Xd,7,1,"div",12),t.YNc(20,ih,38,6,"div",13),t.TgZ(21,"div",7),t.TgZ(22,"div",14),t.TgZ(23,"mat-form-field",15),t.TgZ(24,"mat-label"),t._uU(25,"Search"),t.qZA(),t.TgZ(26,"input",16,17),t.NdJ("keyup",function(s){return t.CHM(e),t.oxw().applyFilter(s)}),t.qZA(),t.TgZ(28,"mat-icon",18),t._uU(29,"search"),t.qZA(),t.qZA(),t.TgZ(30,"span",19),t._uU(31),t.qZA(),t.TgZ(32,"div",20),t.TgZ(33,"span",21),t.TgZ(34,"mat-checkbox",22),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().displayDates=s})("change",function(s){return t.CHM(e),t.oxw().showDates(s)}),t._uU(35,"More info"),t.qZA(),t.qZA(),t.TgZ(36,"span",21),t.TgZ(37,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().eolProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(38,"EOL"),t.qZA(),t.qZA(),t.TgZ(39,"span",21),t.TgZ(40,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().developmentProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(41,"In Development"),t.qZA(),t.qZA(),t.TgZ(42,"span",21),t.TgZ(43,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().activeProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(44,"Active"),t.qZA(),t.qZA(),t.TgZ(45,"span",21),t.TgZ(46,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().allProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(47,"All"),t.qZA(),t.qZA(),t.YNc(48,nh,1,0,"mat-progress-bar",24),t.TgZ(49,"table",25,26),t.NdJ("matSortChange",function(s){return t.CHM(e),t.oxw().announceSortChange(s)}),t.ynx(51,27),t.YNc(52,oh,2,0,"th",28),t.YNc(53,sh,4,0,"td",29),t.BQk(),t.ynx(54,30),t.YNc(55,rh,1,0,"th",28),t.YNc(56,ah,3,2,"td",29),t.BQk(),t.ynx(57,31),t.YNc(58,ch,3,0,"th",28),t.YNc(59,lh,3,2,"td",29),t.BQk(),t.ynx(60,32),t.YNc(61,dh,2,0,"th",28),t.YNc(62,hh,2,1,"td",29),t.BQk(),t.ynx(63,33),t.YNc(64,uh,2,0,"th",28),t.YNc(65,ph,2,1,"td",34),t.BQk(),t.ynx(66,35),t.YNc(67,gh,2,0,"th",28),t.YNc(68,_h,2,1,"td",29),t.BQk(),t.ynx(69,36),t.YNc(70,fh,2,0,"th",28),t.YNc(71,xh,3,2,"td",29),t.BQk(),t.ynx(72,37),t.YNc(73,Ch,2,0,"th",28),t.YNc(74,yh,3,2,"td",29),t.BQk(),t.ynx(75,38),t.YNc(76,Zh,2,0,"th",28),t.YNc(77,Ah,3,2,"td",29),t.BQk(),t.ynx(78,39),t.YNc(79,kh,2,0,"th",28),t.YNc(80,Mh,3,3,"td",29),t.BQk(),t.ynx(81,40),t.YNc(82,Sh,2,0,"th",28),t.YNc(83,Ih,3,3,"td",29),t.BQk(),t.ynx(84,41),t.YNc(85,Oh,2,0,"th",28),t.YNc(86,qh,3,2,"td",29),t.BQk(),t.ynx(87,42),t.YNc(88,Nh,1,0,"th",28),t.YNc(89,Eh,3,1,"td",29),t.BQk(),t.YNc(90,Fh,1,0,"tr",43),t.YNc(91,Uh,1,0,"tr",44),t.YNc(92,Rh,3,1,"tr",45),t.qZA(),t._UZ(93,"mat-paginator",46),t.qZA(),t.qZA(),t._UZ(94,"div",47),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(7),t.s9C("matBadge",e.productsList.length),t.MGl("matTooltip","",e.productsList.length," products"),t.xp6(4),t.s9C("matBadge",e.verifiedProducts.length),t.MGl("matTooltip","",e.verifiedProducts.length," products"),t.xp6(4),t.s9C("matBadge",e.productsList.length-e.verifiedProducts.length),t.MGl("matTooltip","",e.productsList.length," products"),t.xp6(4),t.Q6J("ngIf",e.productsMissingCategories.length>0),t.xp6(1),t.Q6J("ngIf",e.showNewPamphletPanel),t.xp6(11),t.Oqu(e.productsViewInfo),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(41),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(19,Bh))}}class Je extends Wi._k{constructor(i,e,o,s,r,a,c,l,d,h,u,p){super(),this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=r,this._snackBar=a,this._liveAnnouncer=c,this.info=l,this.router=d,this.formBuilder=h,this.lookup=u,this.products=p,this.productsList=[],this.categoriesList=[],this.primaryCategoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","verified","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.newPamphlet=[],this.newPamphletSKUs=[],this.showNewPamphletPanel=!1,this.productManagerProducts=[],this.productsMissingCategories=[],this.productManagerRole=!1,this.verifiedProducts=[],this.info.isUserLoggedIn.subscribe(g=>{this.loggedIn=g})}ngOnInit(){this.productManagerRole=this.info.role(88),window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.newProductForm=this.formBuilder.group({name:["",P.kI.required],brand_type_id:["",P.kI.required],description:["",P.kI.required]}),this.info.auth()}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.info.setLoadingInfo("Loading your products...","info"),this.productsLoader=!0,this.api.GET(`product-manager/products/${this.info.getUserId()}`).subscribe({next:i=>{this.productsList=i,this.verifiedProducts=this.productsList.filter(e=>1==e.verified),this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Your products loaded successfully","info"),this.checkProductCategories()},error:i=>{this.openSnackBar("Failed to connect to the server: "+i.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+i.message,"danger")}})}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getAllTypes(){this.info.setLoadingInfo("Preparing, please wait...","info"),this.typesList=this.lookup.getTypes(),this.api.GET("types").subscribe({next:i=>{this.lookup.setTypes(i),this.typesList=this.lookup.getTypes(),this.info.setLoadingInfo("","success")},error:i=>{this.openSnackBar("Failed to communicate with the server: "+i.message,"Okay")}})}getBrandName(i){try{let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}catch(e){return this.info.errorHandler(e),""}}permission(i){return this.info.setLoadingInfo("checking permissions...","info"),!!this.info.role(i)}iconClick(i){this.info.setLoadingInfo("","info"),this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","verified","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","verified","view"]}selectBrand(i){this.router.navigate(["/brand",i.toLowerCase()])}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?(e=this.productsList,this.info.setLoadingInfo("Showing all your products.","info")):this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList,this.info.setLoadingInfo("Showing Active, EOL, and In Development products","info")):this.activeProducts&&this.developmentProducts?(e=this.productsList.filter(o=>1==o.is_in_development&&1==o.is_active),this.info.setLoadingInfo("Showing Active and In Development products","info")):this.activeProducts&&this.eolProducts?(e=this.productsList.filter(o=>1==o.is_active&&1==o.is_eol),this.info.setLoadingInfo("Showing Active and EOL products","info")):this.developmentProducts&&this.eolProducts?(e=this.productsList.filter(o=>1==o.is_in_development&&1==o.is_eol),this.info.setLoadingInfo("Showing EOL and In Development products","info")):this.activeProducts?(e=this.productsList.filter(o=>1==o.is_active),this.info.setLoadingInfo("Showing Active products","info")):this.developmentProducts?(e=this.productsList.filter(o=>1==o.is_in_development),this.info.setLoadingInfo("Showing  In Development products","info")):(e=this.productsList.filter(o=>1==o.is_eol),this.info.setLoadingInfo("Showing EOL products","info")),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.info.setLoadingInfo("Loading categories","info"),this.api.GET("categories").subscribe({next:i=>{this.products.setCategories(i),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=i.filter(e=>"0"==e.parent),this.info.setLoadingInfo("Categories loaded","success")},error:i=>{this.info.setLoadingInfo(i,"warn")}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}showPamphletCheckboxes(){this.showNewPamphletPanel=!this.showNewPamphletPanel,this.displayedColumns=this.showNewPamphletPanel?["pamphlet","thumbnail","sku","name","brand","description","verified","view"]:["thumbnail","sku","name","brand","description","verified","view"]}productsToDisplay(i){let e=[];"active"==i&&(e=this.productsList.filter(o=>1==o.is_active),this.productsViewInfo="Showing: Active Products"),"verified"==i&&(e=this.productsList.filter(o=>1==o.verified),this.productsViewInfo="Showing: Verified Products"),"unverified"==i&&(e=this.productsList.filter(o=>0==o.verified),this.productsViewInfo="Showing: Unverified Products"),"missingCategories"==i&&(e=this.productsMissingCategories,this.productsViewInfo="Showing: Verified Products with missing categories"),this.dataSource=new f.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkProductCategories(){this.info.setLoadingInfo("Loading product categories...","success"),this.productsLoader=!0,this.api.GET(`product-manager-catrgories/products/${this.info.getUserId()}`).subscribe({next:i=>{console.log(i),this.productsMissingCategories=i,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Product categories loaded","success")},error:i=>{}})}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}addToPamphlet(i,e,o){}saveProduct(){}}function Qe(n){return n+.5|0}Je.\u0275fac=function(i){return new(i||Je)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(D.Kd),t.Y36(F.C),t.Y36(y.F0),t.Y36(P.qu),t.Y36(jt.W),t.Y36(X))},Je.\u0275cmp=t.Xpm({type:Je,selectors:[["app-product-manager"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(Z.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},features:[t.qOj],decls:4,vars:2,consts:[[2,"width","100%"],[1,"loadingInfo"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],["routerLink","/"],[1,"row"],[1,"col-12","col-md-12"],["mat-raised-button","","color","accent",1,"p-2",3,"matBadge","matTooltip","click"],["mat-raised-button","","color","accent",1,"p-2",2,"margin-left","1rem",3,"matBadge","matTooltip","click"],["mat-raised-button","","color","warn",1,"p-2",2,"margin-left","1rem",3,"matBadge","matTooltip","click"],["class","card warning",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-12","mt-1"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[2,"float","right","margin-left","3rem","color","rgb(145, 194, 211)"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","pamphlet"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","verified"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],[1,"card","warning"],[1,"col-md-8"],[1,"col-md-4"],["mat-stroked-button","",2,"float","right",3,"click"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"row",2,"background-color","#f7f7f7","padding","1rem","border","1px solid rgb(231, 231, 231)"],[1,"col-md-6"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["rows","3","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[4,"ngFor","ngForOf"],[1,"col-md-2"],[2,"color","#ffff"],["type","submit","mat-raised-button","","type","submit","color","primary",2,"float","right",3,"click"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"padding","9px","background-color","#f0f0f0","color","green"],["color","primary",1,"table-setting",3,"change"],["target","_blank",3,"routerLink"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","target","_blank","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.qZA(),t.YNc(2,Kd,4,0,"div",2),t.YNc(3,Hh,95,20,"div",3)),2&i&&(t.xp6(2),t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},directives:[T.O5,Gt.pW,y.yS,ct.lW,to.k,fi.gM,Q.Hw,P._Y,P.JL,P.sg,U.KE,U.hX,$.Nt,P.Fj,P.JJ,P.u,U.R9,J.gD,T.sg,V.ey,z.a8,he.oG,P.On,f.BZ,Te.jt,Z.YE,f.w1,f.fO,f.ge,Z.nU,f.Dz,f.ev,ct.zs,f.as,f.XQ,f.nj,f.Gk,f.Ee,C.NW],pipes:[Fe,T.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.loadingInfo[_ngcontent-%COMP%]{float:right}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.warning[_ngcontent-%COMP%]{background-color:#ffa600d5;color:#000;padding:9px;margin-bottom:1rem;margin-top:1rem}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%]{width:100%}.table-category[_ngcontent-%COMP%]{width:100%;float:none}.mat-column-id[_ngcontent-%COMP%], .sku-title[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,ve.gn)([(0,ci.bH)()],Je.prototype,"blockUI",void 0);const ie=(n,i,e)=>Math.max(Math.min(n,e),i);function mi(n){return ie(Qe(2.55*n),0,255)}function ue(n){return ie(Qe(255*n),0,255)}function ne(n){return ie(Qe(n/2.55)/100,0,1)}function ys(n){return ie(Qe(100*n),0,100)}const Rt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eo=[..."0123456789ABCDEF"],Yh=n=>eo[15&n],Jh=n=>eo[(240&n)>>4]+eo[15&n],nn=n=>(240&n)>>4==(15&n);const jh=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zs(n,i,e){const o=i*Math.min(e,1-e),s=(r,a=(r+n/30)%12)=>e-o*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function Gh(n,i,e){const o=(s,r=(s+n/60)%6)=>e-e*i*Math.max(Math.min(r,4-r,1),0);return[o(5),o(3),o(1)]}function Wh(n,i,e){const o=Zs(n,1,.5);let s;for(i+e>1&&(s=1/(i+e),i*=s,e*=s),s=0;s<3;s++)o[s]*=1-i-e,o[s]+=i;return o}function io(n){const e=n.r/255,o=n.g/255,s=n.b/255,r=Math.max(e,o,s),a=Math.min(e,o,s),c=(r+a)/2;let l,d,h;return r!==a&&(h=r-a,d=c>.5?h/(2-r-a):h/(r+a),l=function Kh(n,i,e,o,s){return n===s?(i-e)/o+(i<e?6:0):i===s?(e-n)/o+2:(n-i)/o+4}(e,o,s,h,r),l=60*l+.5),[0|l,d||0,c]}function no(n,i,e,o){return(Array.isArray(i)?n(i[0],i[1],i[2]):n(i,e,o)).map(ue)}function oo(n,i,e){return no(Zs,n,i,e)}function Ps(n){return(n%360+360)%360}const ws={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},As={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let on;const ru=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,so=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,ze=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function sn(n,i,e){if(n){let o=io(n);o[i]=Math.max(0,Math.min(o[i]+o[i]*e,0===i?360:1)),o=oo(o),n.r=o[0],n.g=o[1],n.b=o[2]}}function ks(n,i){return n&&Object.assign(i||{},n)}function Ms(n){var i={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(i={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(i.a=ue(n[3]))):(i=ks(n,{r:0,g:0,b:0,a:1})).a=ue(i.a),i}function du(n){return"r"===n.charAt(0)?function au(n){const i=ru.exec(n);let o,s,r,e=255;if(i){if(i[7]!==o){const a=+i[7];e=i[8]?mi(a):ie(255*a,0,255)}return o=+i[1],s=+i[3],r=+i[5],o=255&(i[2]?mi(o):ie(o,0,255)),s=255&(i[4]?mi(s):ie(s,0,255)),r=255&(i[6]?mi(r):ie(r,0,255)),{r:o,g:s,b:r,a:e}}}(n):function eu(n){const i=jh.exec(n);let o,e=255;if(!i)return;i[5]!==o&&(e=i[6]?mi(+i[5]):ue(+i[5]));const s=Ps(+i[2]),r=+i[3]/100,a=+i[4]/100;return o="hwb"===i[1]?function Xh(n,i,e){return no(Wh,n,i,e)}(s,r,a):"hsv"===i[1]?function tu(n,i,e){return no(Gh,n,i,e)}(s,r,a):oo(s,r,a),{r:o[0],g:o[1],b:o[2],a:e}}(n)}class $e{constructor(i){if(i instanceof $e)return i;const e=typeof i;let o;"object"===e?o=Ms(i):"string"===e&&(o=function zh(n){var e,i=n.length;return"#"===n[0]&&(4===i||5===i?e={r:255&17*Rt[n[1]],g:255&17*Rt[n[2]],b:255&17*Rt[n[3]],a:5===i?17*Rt[n[4]]:255}:(7===i||9===i)&&(e={r:Rt[n[1]]<<4|Rt[n[2]],g:Rt[n[3]]<<4|Rt[n[4]],b:Rt[n[5]]<<4|Rt[n[6]],a:9===i?Rt[n[7]]<<4|Rt[n[8]]:255})),e}(i)||function su(n){on||(on=function ou(){const n={},i=Object.keys(As),e=Object.keys(ws);let o,s,r,a,c;for(o=0;o<i.length;o++){for(a=c=i[o],s=0;s<e.length;s++)r=e[s],c=c.replace(r,ws[r]);r=parseInt(As[a],16),n[c]=[r>>16&255,r>>8&255,255&r]}return n}(),on.transparent=[0,0,0,0]);const i=on[n.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||du(i)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var i=ks(this._rgb);return i&&(i.a=ne(i.a)),i}set rgb(i){this._rgb=Ms(i)}rgbString(){return this._valid?function cu(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ne(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Vh(n){var i=(n=>nn(n.r)&&nn(n.g)&&nn(n.b)&&nn(n.a))(n)?Yh:Jh;return n?"#"+i(n.r)+i(n.g)+i(n.b)+((n,i)=>n<255?i(n):"")(n.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function nu(n){if(!n)return;const i=io(n),e=i[0],o=ys(i[1]),s=ys(i[2]);return n.a<255?`hsla(${e}, ${o}%, ${s}%, ${ne(n.a)})`:`hsl(${e}, ${o}%, ${s}%)`}(this._rgb):void 0}mix(i,e){if(i){const o=this.rgb,s=i.rgb;let r;const a=e===r?.5:e,c=2*a-1,l=o.a-s.a,d=((c*l==-1?c:(c+l)/(1+c*l))+1)/2;r=1-d,o.r=255&d*o.r+r*s.r+.5,o.g=255&d*o.g+r*s.g+.5,o.b=255&d*o.b+r*s.b+.5,o.a=a*o.a+(1-a)*s.a,this.rgb=o}return this}interpolate(i,e){return i&&(this._rgb=function lu(n,i,e){const o=ze(ne(n.r)),s=ze(ne(n.g)),r=ze(ne(n.b));return{r:ue(so(o+e*(ze(ne(i.r))-o))),g:ue(so(s+e*(ze(ne(i.g))-s))),b:ue(so(r+e*(ze(ne(i.b))-r))),a:n.a+e*(i.a-n.a)}}(this._rgb,i._rgb,e)),this}clone(){return new $e(this.rgb)}alpha(i){return this._rgb.a=ue(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=Qe(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return sn(this._rgb,2,i),this}darken(i){return sn(this._rgb,2,-i),this}saturate(i){return sn(this._rgb,1,i),this}desaturate(i){return sn(this._rgb,1,-i),this}rotate(i){return function iu(n,i){var e=io(n);e[0]=Ps(e[0]+i),e=oo(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,i),this}}function oe(){}const hu=(()=>{let n=0;return()=>n++})();function dt(n){return null==n}function bt(n){if(Array.isArray&&Array.isArray(n))return!0;const i=Object.prototype.toString.call(n);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function at(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Tt(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Et(n,i){return Tt(n)?n:i}function nt(n,i){return void 0===n?i:n}const Ss=(n,i)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*i:+n;function mt(n,i,e){if(n&&"function"==typeof n.call)return n.apply(e,i)}function gt(n,i,e,o){let s,r,a;if(bt(n))if(r=n.length,o)for(s=r-1;s>=0;s--)i.call(e,n[s],s);else for(s=0;s<r;s++)i.call(e,n[s],s);else if(at(n))for(a=Object.keys(n),r=a.length,s=0;s<r;s++)i.call(e,n[a[s]],a[s])}function rn(n,i){let e,o,s,r;if(!n||!i||n.length!==i.length)return!1;for(e=0,o=n.length;e<o;++e)if(s=n[e],r=i[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function an(n){if(bt(n))return n.map(an);if(at(n)){const i=Object.create(null),e=Object.keys(n),o=e.length;let s=0;for(;s<o;++s)i[e[s]]=an(n[e[s]]);return i}return n}function Is(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function pu(n,i,e,o){if(!Is(n))return;const s=i[n],r=e[n];at(s)&&at(r)?bi(s,r,o):i[n]=an(r)}function bi(n,i,e){const o=bt(i)?i:[i],s=o.length;if(!at(n))return n;const r=(e=e||{}).merger||pu;let a;for(let c=0;c<s;++c){if(a=o[c],!at(a))continue;const l=Object.keys(a);for(let d=0,h=l.length;d<h;++d)r(l[d],n,a,e)}return n}function xi(n,i){return bi(n,i,{merger:gu})}function gu(n,i,e){if(!Is(n))return;const o=i[n],s=e[n];at(o)&&at(s)?xi(o,s):Object.prototype.hasOwnProperty.call(i,n)||(i[n]=an(s))}const Os={"":n=>n,x:n=>n.x,y:n=>n.y};function pe(n,i){return(Os[i]||(Os[i]=function fu(n){const i=function _u(n){const i=n.split("."),e=[];let o="";for(const s of i)o+=s,o.endsWith("\\")?o=o.slice(0,-1)+".":(e.push(o),o="");return e}(n);return e=>{for(const o of i){if(""===o)break;e=e&&e[o]}return e}}(i)))(n)}function ro(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ci=n=>void 0!==n,ge=n=>"function"==typeof n,Ds=(n,i)=>{if(n.size!==i.size)return!1;for(const e of n)if(!i.has(e))return!1;return!0},Ct=Math.PI,xt=2*Ct,bu=xt+Ct,cn=Number.POSITIVE_INFINITY,xu=Ct/180,yt=Ct/2,Ze=Ct/4,Ls=2*Ct/3,_e=Math.log10,Kt=Math.sign;function vi(n,i,e){return Math.abs(n-i)<e}function qs(n){const i=Math.round(n);n=vi(n,i,n/1e3)?i:n;const e=Math.pow(10,Math.floor(_e(n))),o=n/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function Ve(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Ns(n,i,e){let o,s,r;for(o=0,s=n.length;o<s;o++)r=n[o][e],isNaN(r)||(i.min=Math.min(i.min,r),i.max=Math.max(i.max,r))}function Yt(n){return n*(Ct/180)}function ao(n){return n*(180/Ct)}function Es(n){if(!Tt(n))return;let i=1,e=0;for(;Math.round(n*i)/i!==n;)i*=10,e++;return e}function Fs(n,i){const e=i.x-n.x,o=i.y-n.y,s=Math.sqrt(e*e+o*o);let r=Math.atan2(o,e);return r<-.5*Ct&&(r+=xt),{angle:r,distance:s}}function co(n,i){return Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2))}function Tu(n,i){return(n-i+bu)%xt-Ct}function Ft(n){return(n%xt+xt)%xt}function Ti(n,i,e,o){const s=Ft(n),r=Ft(i),a=Ft(e),c=Ft(r-s),l=Ft(a-s),d=Ft(s-r),h=Ft(s-a);return s===r||s===a||o&&r===a||c>l&&d<h}function At(n,i,e){return Math.max(i,Math.min(e,n))}function se(n,i,e,o=1e-6){return n>=Math.min(i,e)-o&&n<=Math.max(i,e)+o}function lo(n,i,e){e=e||(a=>n[a]<i);let r,o=n.length-1,s=0;for(;o-s>1;)r=s+o>>1,e(r)?s=r:o=r;return{lo:s,hi:o}}const re=(n,i,e,o)=>lo(n,e,o?s=>{const r=n[s][i];return r<e||r===e&&n[s+1][i]===e}:s=>n[s][i]<e),Zu=(n,i,e)=>lo(n,e,o=>n[o][i]>=e),Us=["push","pop","shift","splice","unshift"];function Rs(n,i){const e=n._chartjs;if(!e)return;const o=e.listeners,s=o.indexOf(i);-1!==s&&o.splice(s,1),!(o.length>0)&&(Us.forEach(r=>{delete n[r]}),delete n._chartjs)}function Bs(n){const i=new Set(n);return i.size===n.length?n:Array.from(i)}const Hs="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function Ys(n,i){let e=[],o=!1;return function(...s){e=s,o||(o=!0,Hs.call(window,()=>{o=!1,n.apply(i,e)}))}}const ho=n=>"start"===n?"left":"end"===n?"right":"center",St=(n,i,e)=>"start"===n?i:"end"===n?e:(i+e)/2;function Js(n,i,e){const o=i.length;let s=0,r=o;if(n._sorted){const{iScale:a,_parsed:c}=n,l=a.axis,{min:d,max:h,minDefined:u,maxDefined:p}=a.getUserBounds();u&&(s=At(Math.min(re(c,a.axis,d).lo,e?o:re(i,l,a.getPixelForValue(d)).lo),0,o-1)),r=p?At(Math.max(re(c,a.axis,h,!0).hi+1,e?0:re(i,l,a.getPixelForValue(h),!0).hi+1),s,o)-s:o-s}return{start:s,count:r}}function Qs(n){const{xScale:i,yScale:e,_scaleRanges:o}=n,s={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!o)return n._scaleRanges=s,!0;const r=o.xmin!==i.min||o.xmax!==i.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,s),r}const ln=n=>0===n||1===n,zs=(n,i,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-i)*xt/e),$s=(n,i,e)=>Math.pow(2,-10*n)*Math.sin((n-i)*xt/e)+1,yi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*yt),easeOutSine:n=>Math.sin(n*yt),easeInOutSine:n=>-.5*(Math.cos(Ct*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>ln(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ln(n)?n:zs(n,.075,.3),easeOutElastic:n=>ln(n)?n:$s(n,.075,.3),easeInOutElastic(n){const i=.1125;return ln(n)?n:n<.5?.5*zs(2*n,i,.45):.5+.5*$s(2*n-1,i,.45)},easeInBack(n){const i=1.70158;return n*n*((i+1)*n-i)},easeOutBack(n){const i=1.70158;return(n-=1)*n*((i+1)*n+i)+1},easeInOutBack(n){let i=1.70158;return(n/=.5)<1?n*n*((1+(i*=1.525))*n-i)*.5:.5*((n-=2)*n*((1+(i*=1.525))*n+i)+2)},easeInBounce:n=>1-yi.easeOutBounce(1-n),easeOutBounce(n){const i=7.5625,e=2.75;return n<1/e?i*n*n:n<2/e?i*(n-=1.5/e)*n+.75:n<2.5/e?i*(n-=2.25/e)*n+.9375:i*(n-=2.625/e)*n+.984375},easeInOutBounce:n=>n<.5?.5*yi.easeInBounce(2*n):.5*yi.easeOutBounce(2*n-1)+.5};function uo(n){if(n&&"object"==typeof n){const i=n.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function Vs(n){return uo(n)?n:new $e(n)}function po(n){return uo(n)?n:new $e(n).saturate(.5).darken(.1).hexString()}const Mu=["x","y","borderWidth","radius","tension"],Su=["color","borderColor","backgroundColor"],js=new Map;function Zi(n,i,e){return function Du(n,i){i=i||{};const e=n+JSON.stringify(i);let o=js.get(e);return o||(o=new Intl.NumberFormat(n,i),js.set(e,o)),o}(i,e).format(n)}const Gs={values:n=>bt(n)?n:""+n,numeric(n,i,e){if(0===n)return"0";const o=this.chart.options.locale;let s,r=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=function Lu(n,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=_e(Math.abs(r)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),Zi(n,o,l)},logarithmic(n,i,e){if(0===n)return"0";const o=e[i].significand||n/Math.pow(10,Math.floor(_e(n)));return[1,2,3,5,10,15].includes(o)||i>.8*e.length?Gs.numeric.call(this,n,i,e):""}};var dn={formatters:Gs};const Pe=Object.create(null),go=Object.create(null);function Pi(n,i){if(!i)return n;const e=i.split(".");for(let o=0,s=e.length;o<s;++o){const r=e[o];n=n[r]||(n[r]=Object.create(null))}return n}function _o(n,i,e){return"string"==typeof i?bi(Pi(n,i),e):bi(Pi(n,""),i)}class Nu{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,s)=>po(s.backgroundColor),this.hoverBorderColor=(o,s)=>po(s.borderColor),this.hoverColor=(o,s)=>po(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return _o(this,i,e)}get(i){return Pi(this,i)}describe(i,e){return _o(go,i,e)}override(i,e){return _o(Pe,i,e)}route(i,e,o,s){const r=Pi(this,i),a=Pi(this,o),c="_"+e;Object.defineProperties(r,{[c]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[c],d=a[s];return at(l)?Object.assign({},d,l):nt(l,d)},set(l){this[c]=l}}})}apply(i){i.forEach(e=>e(this))}}var Zt=new Nu({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Iu(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),n.set("animations",{colors:{type:"color",properties:Su},numbers:{type:"number",properties:Mu}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function Ou(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function qu(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function hn(n,i,e,o,s){let r=i[s];return r||(r=i[s]=n.measureText(s).width,e.push(s)),r>o&&(o=r),o}function Fu(n,i,e,o){let s=(o=o||{}).data=o.data||{},r=o.garbageCollect=o.garbageCollect||[];o.font!==i&&(s=o.data={},r=o.garbageCollect=[],o.font=i),n.save(),n.font=i;let a=0;const c=e.length;let l,d,h,u,p;for(l=0;l<c;l++)if(u=e[l],null==u||bt(u)){if(bt(u))for(d=0,h=u.length;d<h;d++)p=u[d],null!=p&&!bt(p)&&(a=hn(n,s,r,a,p))}else a=hn(n,s,r,a,u);n.restore();const g=r.length/2;if(g>e.length){for(l=0;l<g;l++)delete s[r[l]];r.splice(0,g)}return a}function we(n,i,e){const o=n.currentDevicePixelRatio,s=0!==e?Math.max(e/2,.5):0;return Math.round((i-s)*o)/o+s}function Ws(n,i){(i=i||n.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,n.width,n.height),i.restore()}function fo(n,i,e,o){Ks(n,i,e,o,null)}function Ks(n,i,e,o,s){let r,a,c,l,d,h,u,p;const g=i.pointStyle,_=i.rotation,b=i.radius;let v=(_||0)*xu;if(g&&"object"==typeof g&&(r=g.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,o),n.rotate(v),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void n.restore();if(!(isNaN(b)||b<=0)){switch(n.beginPath(),g){default:s?n.ellipse(e,o,s/2,b,0,0,xt):n.arc(e,o,b,0,xt),n.closePath();break;case"triangle":h=s?s/2:b,n.moveTo(e+Math.sin(v)*h,o-Math.cos(v)*b),v+=Ls,n.lineTo(e+Math.sin(v)*h,o-Math.cos(v)*b),v+=Ls,n.lineTo(e+Math.sin(v)*h,o-Math.cos(v)*b),n.closePath();break;case"rectRounded":d=.516*b,l=b-d,a=Math.cos(v+Ze)*l,u=Math.cos(v+Ze)*(s?s/2-d:l),c=Math.sin(v+Ze)*l,p=Math.sin(v+Ze)*(s?s/2-d:l),n.arc(e-u,o-c,d,v-Ct,v-yt),n.arc(e+p,o-a,d,v-yt,v),n.arc(e+u,o+c,d,v,v+yt),n.arc(e-p,o+a,d,v+yt,v+Ct),n.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*b,h=s?s/2:l,n.rect(e-h,o-l,2*h,2*l);break}v+=Ze;case"rectRot":u=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,c=Math.sin(v)*b,p=Math.sin(v)*(s?s/2:b),n.moveTo(e-u,o-c),n.lineTo(e+p,o-a),n.lineTo(e+u,o+c),n.lineTo(e-p,o+a),n.closePath();break;case"crossRot":v+=Ze;case"cross":u=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,c=Math.sin(v)*b,p=Math.sin(v)*(s?s/2:b),n.moveTo(e-u,o-c),n.lineTo(e+u,o+c),n.moveTo(e+p,o-a),n.lineTo(e-p,o+a);break;case"star":u=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,c=Math.sin(v)*b,p=Math.sin(v)*(s?s/2:b),n.moveTo(e-u,o-c),n.lineTo(e+u,o+c),n.moveTo(e+p,o-a),n.lineTo(e-p,o+a),v+=Ze,u=Math.cos(v)*(s?s/2:b),a=Math.cos(v)*b,c=Math.sin(v)*b,p=Math.sin(v)*(s?s/2:b),n.moveTo(e-u,o-c),n.lineTo(e+u,o+c),n.moveTo(e+p,o-a),n.lineTo(e-p,o+a);break;case"line":a=s?s/2:Math.cos(v)*b,c=Math.sin(v)*b,n.moveTo(e-a,o-c),n.lineTo(e+a,o+c);break;case"dash":n.moveTo(e,o),n.lineTo(e+Math.cos(v)*(s?s/2:b),o+Math.sin(v)*b);break;case!1:n.closePath()}n.fill(),i.borderWidth>0&&n.stroke()}}function ae(n,i,e){return e=e||.5,!i||n&&n.x>i.left-e&&n.x<i.right+e&&n.y>i.top-e&&n.y<i.bottom+e}function un(n,i){n.save(),n.beginPath(),n.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),n.clip()}function pn(n){n.restore()}function Uu(n,i,e,o,s){if(!i)return n.lineTo(e.x,e.y);if("middle"===s){const r=(i.x+e.x)/2;n.lineTo(r,i.y),n.lineTo(r,e.y)}else"after"===s!=!!o?n.lineTo(i.x,e.y):n.lineTo(e.x,i.y);n.lineTo(e.x,e.y)}function Ru(n,i,e,o){if(!i)return n.lineTo(e.x,e.y);n.bezierCurveTo(o?i.cp1x:i.cp2x,o?i.cp1y:i.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function Hu(n,i,e,o,s){if(s.strikethrough||s.underline){const r=n.measureText(o),a=i-r.actualBoundingBoxLeft,c=i+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,d=e+r.actualBoundingBoxDescent,h=s.strikethrough?(l+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,h),n.lineTo(c,h),n.stroke()}}function Yu(n,i){const e=n.fillStyle;n.fillStyle=i.color,n.fillRect(i.left,i.top,i.width,i.height),n.fillStyle=e}function Ae(n,i,e,o,s,r={}){const a=bt(i)?i:[i],c=r.strokeWidth>0&&""!==r.strokeColor;let l,d;for(n.save(),n.font=s.string,function Bu(n,i){i.translation&&n.translate(i.translation[0],i.translation[1]),dt(i.rotation)||n.rotate(i.rotation),i.color&&(n.fillStyle=i.color),i.textAlign&&(n.textAlign=i.textAlign),i.textBaseline&&(n.textBaseline=i.textBaseline)}(n,r),l=0;l<a.length;++l)d=a[l],r.backdrop&&Yu(n,r.backdrop),c&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),dt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(d,e,o,r.maxWidth)),n.fillText(d,e,o,r.maxWidth),Hu(n,e,o,d,r),o+=Number(s.lineHeight);n.restore()}function wi(n,i){const{x:e,y:o,w:s,h:r,radius:a}=i;n.arc(e+a.topLeft,o+a.topLeft,a.topLeft,-yt,Ct,!0),n.lineTo(e,o+r-a.bottomLeft),n.arc(e+a.bottomLeft,o+r-a.bottomLeft,a.bottomLeft,Ct,yt,!0),n.lineTo(e+s-a.bottomRight,o+r),n.arc(e+s-a.bottomRight,o+r-a.bottomRight,a.bottomRight,yt,0,!0),n.lineTo(e+s,o+a.topRight),n.arc(e+s-a.topRight,o+a.topRight,a.topRight,0,-yt,!0),n.lineTo(e+a.topLeft,o)}const Ju=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Qu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zu(n,i){const e=(""+n).match(Ju);if(!e||"normal"===e[1])return 1.2*i;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return i*n}const $u=n=>+n||0;function mo(n,i){const e={},o=at(i),s=o?Object.keys(i):i,r=at(n)?o?a=>nt(n[a],n[i[a]]):a=>n[a]:()=>n;for(const a of s)e[a]=$u(r(a));return e}function Xs(n){return mo(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ke(n){return mo(n,["topLeft","topRight","bottomLeft","bottomRight"])}function It(n){const i=Xs(n);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function wt(n,i){let e=nt((n=n||{}).size,(i=i||Zt.font).size);"string"==typeof e&&(e=parseInt(e,10));let o=nt(n.style,i.style);o&&!(""+o).match(Qu)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const s={family:nt(n.family,i.family),lineHeight:zu(nt(n.lineHeight,i.lineHeight),e),size:e,style:o,weight:nt(n.weight,i.weight),string:""};return s.string=function Eu(n){return!n||dt(n.size)||dt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(s),s}function Ai(n,i,e,o){let r,a,c,s=!0;for(r=0,a=n.length;r<a;++r)if(c=n[r],void 0!==c&&(void 0!==i&&"function"==typeof c&&(c=c(i),s=!1),void 0!==e&&bt(c)&&(c=c[e%c.length],s=!1),void 0!==c))return o&&!s&&(o.cacheable=!1),c}function fe(n,i){return Object.assign(Object.create(n),i)}function bo(n,i=[""],e,o,s=(()=>n[0])){const r=e||n;void 0===o&&(o=or("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:o,_getTarget:s,override:c=>bo([c,...n],i,r,o)};return new Proxy(a,{deleteProperty:(c,l)=>(delete c[l],delete c._keys,delete n[0][l],!0),get:(c,l)=>er(c,l,()=>function ip(n,i,e,o){let s;for(const r of i)if(s=or(ju(r,n),e),void 0!==s)return xo(n,s)?Co(e,o,n,s):s}(l,i,n,c)),getOwnPropertyDescriptor:(c,l)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,l)=>sr(c).includes(l),ownKeys:c=>sr(c),set(c,l,d){const h=c._storage||(c._storage=s());return c[l]=h[l]=d,delete c._keys,!0}})}function je(n,i,e,o){const s={_cacheable:!1,_proxy:n,_context:i,_subProxy:e,_stack:new Set,_descriptors:tr(n,o),setContext:r=>je(n,r,e,o),override:r=>je(n.override(r),i,e,o)};return new Proxy(s,{deleteProperty:(r,a)=>(delete r[a],delete n[a],!0),get:(r,a,c)=>er(r,a,()=>function Gu(n,i,e){const{_proxy:o,_context:s,_subProxy:r,_descriptors:a}=n;let c=o[i];return ge(c)&&a.isScriptable(i)&&(c=function Wu(n,i,e,o){const{_proxy:s,_context:r,_subProxy:a,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let l=i(r,a||o);return c.delete(n),xo(n,l)&&(l=Co(s._scopes,s,n,l)),l}(i,c,n,e)),bt(c)&&c.length&&(c=function Ku(n,i,e,o){const{_proxy:s,_context:r,_subProxy:a,_descriptors:c}=e;if(void 0!==r.index&&o(n))return i[r.index%i.length];if(at(i[0])){const l=i,d=s._scopes.filter(h=>h!==l);i=[];for(const h of l){const u=Co(d,s,n,h);i.push(je(u,r,a&&a[n],c))}}return i}(i,c,n,a.isIndexable)),xo(i,c)&&(c=je(c,s,r&&r[i],a)),c}(r,a,c)),getOwnPropertyDescriptor:(r,a)=>r._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(r,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(r,a,c)=>(n[a]=c,delete r[a],!0)})}function tr(n,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:o=i.indexable,_allKeys:s=i.allKeys}=n;return{allKeys:s,scriptable:e,indexable:o,isScriptable:ge(e)?e:()=>e,isIndexable:ge(o)?o:()=>o}}const ju=(n,i)=>n?n+ro(i):i,xo=(n,i)=>at(i)&&"adapters"!==n&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function er(n,i,e){if(Object.prototype.hasOwnProperty.call(n,i))return n[i];const o=e();return n[i]=o,o}function ir(n,i,e){return ge(n)?n(i,e):n}const Xu=(n,i)=>!0===n?i:"string"==typeof n?pe(i,n):void 0;function tp(n,i,e,o,s){for(const r of i){const a=Xu(e,r);if(a){n.add(a);const c=ir(a._fallback,e,s);if(void 0!==c&&c!==e&&c!==o)return c}else if(!1===a&&void 0!==o&&e!==o)return null}return!1}function Co(n,i,e,o){const s=i._rootScopes,r=ir(i._fallback,e,o),a=[...n,...s],c=new Set;c.add(o);let l=nr(c,a,e,r||e,o);return null!==l&&(void 0===r||r===e||(l=nr(c,a,r,l,o),null!==l))&&bo(Array.from(c),[""],s,r,()=>function ep(n,i,e){const o=n._getTarget();i in o||(o[i]={});const s=o[i];return bt(s)&&at(e)?e:s||{}}(i,e,o))}function nr(n,i,e,o,s){for(;e;)e=tp(n,i,e,o,s);return e}function or(n,i){for(const e of i){if(!e)continue;const o=e[n];if(void 0!==o)return o}}function sr(n){let i=n._keys;return i||(i=n._keys=function np(n){const i=new Set;for(const e of n)for(const o of Object.keys(e).filter(s=>!s.startsWith("_")))i.add(o);return Array.from(i)}(n._scopes)),i}function rr(n,i,e,o){const{iScale:s}=n,{key:r="r"}=this._parsing,a=new Array(o);let c,l,d,h;for(c=0,l=o;c<l;++c)d=c+e,h=i[d],a[c]={r:s.parse(pe(h,r),d)};return a}const op=Number.EPSILON||1e-14,Ge=(n,i)=>i<n.length&&!n[i].skip&&n[i],ar=n=>"x"===n?"y":"x";function sp(n,i,e,o){const s=n.skip?i:n,r=i,a=e.skip?i:e,c=co(r,s),l=co(a,r);let d=c/(c+l),h=l/(c+l);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=o*d,p=o*h;return{previous:{x:r.x-u*(a.x-s.x),y:r.y-u*(a.y-s.y)},next:{x:r.x+p*(a.x-s.x),y:r.y+p*(a.y-s.y)}}}function gn(n,i,e){return Math.max(Math.min(n,e),i)}function dp(n,i,e,o,s){let r,a,c,l;if(i.spanGaps&&(n=n.filter(d=>!d.skip)),"monotone"===i.cubicInterpolationMode)!function cp(n,i="x"){const e=ar(i),o=n.length,s=Array(o).fill(0),r=Array(o);let a,c,l,d=Ge(n,0);for(a=0;a<o;++a)if(c=l,l=d,d=Ge(n,a+1),l){if(d){const h=d[i]-l[i];s[a]=0!==h?(d[e]-l[e])/h:0}r[a]=c?d?Kt(s[a-1])!==Kt(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}(function rp(n,i,e){const o=n.length;let s,r,a,c,l,d=Ge(n,0);for(let h=0;h<o-1;++h)if(l=d,d=Ge(n,h+1),l&&d){if(vi(i[h],0,op)){e[h]=e[h+1]=0;continue}s=e[h]/i[h],r=e[h+1]/i[h],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(a=3/Math.sqrt(c),e[h]=s*a*i[h],e[h+1]=r*a*i[h])}})(n,s,r),function ap(n,i,e="x"){const o=ar(e),s=n.length;let r,a,c,l=Ge(n,0);for(let d=0;d<s;++d){if(a=c,c=l,l=Ge(n,d+1),!c)continue;const h=c[e],u=c[o];a&&(r=(h-a[e])/3,c[`cp1${e}`]=h-r,c[`cp1${o}`]=u-r*i[d]),l&&(r=(l[e]-h)/3,c[`cp2${e}`]=h+r,c[`cp2${o}`]=u+r*i[d])}}(n,r,i)}(n,s);else{let d=o?n[n.length-1]:n[0];for(r=0,a=n.length;r<a;++r)c=n[r],l=sp(d,c,n[Math.min(r+1,a-(o?0:1))%a],i.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,d=c}i.capBezierPoints&&function lp(n,i){let e,o,s,r,a,c=ae(n[0],i);for(e=0,o=n.length;e<o;++e)a=r,r=c,c=e<o-1&&ae(n[e+1],i),r&&(s=n[e],a&&(s.cp1x=gn(s.cp1x,i.left,i.right),s.cp1y=gn(s.cp1y,i.top,i.bottom)),c&&(s.cp2x=gn(s.cp2x,i.left,i.right),s.cp2y=gn(s.cp2y,i.top,i.bottom)))}(n,e)}function cr(){return"undefined"!=typeof window&&"undefined"!=typeof document}function vo(n){let i=n.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function _n(n,i,e){let o;return"string"==typeof n?(o=parseInt(n,10),-1!==n.indexOf("%")&&(o=o/100*i.parentNode[e])):o=n,o}const fn=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),up=["top","right","bottom","left"];function Me(n,i,e){const o={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=up[s];o[r]=parseFloat(n[i+"-"+r+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Se(n,i){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:o}=i,s=fn(e),r="border-box"===s.boxSizing,a=Me(s,"padding"),c=Me(s,"border","width"),{x:l,y:d,box:h}=function gp(n,i){const e=n.touches,o=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=o;let c,l,a=!1;if(((n,i,e)=>(n>0||i>0)&&(!e||!e.shadowRoot))(s,r,n.target))c=s,l=r;else{const d=i.getBoundingClientRect();c=o.clientX-d.left,l=o.clientY-d.top,a=!0}return{x:c,y:l,box:a}}(n,e),u=a.left+(h&&c.left),p=a.top+(h&&c.top);let{width:g,height:_}=i;return r&&(g-=a.width+c.width,_-=a.height+c.height),{x:Math.round((l-u)/g*e.width/o),y:Math.round((d-p)/_*e.height/o)}}const mn=n=>Math.round(10*n)/10;function lr(n,i,e){const o=i||1,s=Math.floor(n.height*o),r=Math.floor(n.width*o);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==o||a.height!==s||a.width!==r)&&(n.currentDevicePixelRatio=o,a.height=s,a.width=r,n.ctx.setTransform(o,0,0,o,0,0),!0)}const mp=function(){let n=!1;try{const i={get passive(){return n=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch(i){}return n}();function dr(n,i){const e=function hp(n,i){return fn(n).getPropertyValue(i)}(n,i),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Ie(n,i,e,o){return{x:n.x+e*(i.x-n.x),y:n.y+e*(i.y-n.y)}}function bp(n,i,e,o){return{x:n.x+e*(i.x-n.x),y:"middle"===o?e<.5?n.y:i.y:"after"===o?e<1?n.y:i.y:e>0?i.y:n.y}}function xp(n,i,e,o){const s={x:n.cp2x,y:n.cp2y},r={x:i.cp1x,y:i.cp1y},a=Ie(n,s,e),c=Ie(s,r,e),l=Ie(r,i,e),d=Ie(a,c,e),h=Ie(c,l,e);return Ie(d,h,e)}function We(n,i,e){return n?function(n,i){return{x:e=>n+n+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,o)=>e-o,leftForLtr:(e,o)=>e-o}}(i,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,i)=>n+i,leftForLtr:(n,i)=>n}}function hr(n,i){let e,o;("ltr"===i||"rtl"===i)&&(e=n.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),n.prevTextDirection=o)}function ur(n,i){void 0!==i&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",i[0],i[1]))}function pr(n){return"angle"===n?{between:Ti,compare:Tu,normalize:Ft}:{between:se,compare:(i,e)=>i-e,normalize:i=>i}}function gr({start:n,end:i,count:e,loop:o,style:s}){return{start:n%e,end:i%e,loop:o&&(i-n+1)%e==0,style:s}}function _r(n,i,e){if(!e)return[n];const{property:o,start:s,end:r}=e,a=i.length,{compare:c,between:l,normalize:d}=pr(o),{start:h,end:u,loop:p,style:g}=function Tp(n,i,e){const{property:o,start:s,end:r}=e,{between:a,normalize:c}=pr(o),l=i.length;let p,g,{start:d,end:h,loop:u}=n;if(u){for(d+=l,h+=l,p=0,g=l;p<g&&a(c(i[d%l][o]),s,r);++p)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:u,style:n.style}}(n,i,e),_=[];let A,M,I,b=!1,v=null;for(let H=h,K=h;H<=u;++H)M=i[H%a],!M.skip&&(A=d(M[o]),A!==I&&(b=l(A,s,r),null===v&&(b||l(s,I,A)&&0!==c(s,I))&&(v=0===c(A,s)?H:K),null!==v&&(!b||0===c(r,A)||l(r,I,A))&&(_.push(gr({start:v,end:H,loop:p,count:a,style:g})),v=null),K=H,I=A));return null!==v&&_.push(gr({start:v,end:u,loop:p,count:a,style:g})),_}function fr(n,i){const e=[],o=n.segments;for(let s=0;s<o.length;s++){const r=_r(o[s],n.points,i);r.length&&e.push(...r)}return e}function br(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Ap(n,i){if(!i)return!1;const e=[],o=function(s,r){return uo(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,o)!==JSON.stringify(i,o)}class kp{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,o,s){const a=e.duration;e.listeners[s].forEach(c=>c({chart:i,initial:e.initial,numSteps:a,currentStep:Math.min(o-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Hs.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((o,s)=>{if(!o.running||!o.items.length)return;const r=o.items;let l,a=r.length-1,c=!1;for(;a>=0;--a)l=r[a],l._active?(l._total>o.duration&&(o.duration=l._total),l.tick(i),c=!0):(r[a]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,o,i,"progress")),r.length||(o.running=!1,this._notify(s,o,i,"complete"),o.initial=!1),e+=r.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let o=e.get(i);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,o)),o}listen(i,e,o){this._getAnims(i).listeners[e].push(o)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,s)=>Math.max(o,s._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const o=e.items;let s=o.length-1;for(;s>=0;--s)o[s].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var ce=new kp;const xr="transparent",Mp={boolean:(n,i,e)=>e>.5?i:n,color(n,i,e){const o=Vs(n||xr),s=o.valid&&Vs(i||xr);return s&&s.valid?s.mix(o,e).hexString():i},number:(n,i,e)=>n+(i-n)*e};class Sp{constructor(i,e,o,s){const r=e[o];s=Ai([i.to,s,r,i.from]);const a=Ai([i.from,r,s]);this._active=!0,this._fn=i.fn||Mp[i.type||typeof a],this._easing=yi[i.easing]||yi.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=o,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(i,e,o){if(this._active){this._notify(!1);const s=this._target[this._prop],r=o-this._start,a=this._duration-r;this._start=o,this._duration=Math.floor(Math.max(a,i.duration)),this._total+=r,this._loop=!!i.loop,this._to=Ai([i.to,e,s,i.from]),this._from=Ai([i.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,o=this._duration,s=this._prop,r=this._from,a=this._loop,c=this._to;let l;if(this._active=r!==c&&(a||e<o),!this._active)return this._target[s]=c,void this._notify(!0);e<0?this._target[s]=r:(l=e/o%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,c,l))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,o)=>{i.push({res:e,rej:o})})}_notify(i){const e=i?"res":"rej",o=this._promises||[];for(let s=0;s<o.length;s++)o[s][e]()}}class Cr{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!at(i))return;const e=Object.keys(Zt.animation),o=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{const r=i[s];if(!at(r))return;const a={};for(const c of e)a[c]=r[c];(bt(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!o.has(c))&&o.set(c,a)})})}_animateOptions(i,e){const o=e.options,s=function Op(n,i){if(!i)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=i}(i,o);if(!s)return[];const r=this._createAnimations(s,o);return o.$shared&&function Ip(n,i){const e=[],o=Object.keys(i);for(let s=0;s<o.length;s++){const r=n[o[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}(i.options.$animations,o).then(()=>{i.options=o},()=>{}),r}_createAnimations(i,e){const o=this._properties,s=[],r=i.$animations||(i.$animations={}),a=Object.keys(e),c=Date.now();let l;for(l=a.length-1;l>=0;--l){const d=a[l];if("$"===d.charAt(0))continue;if("options"===d){s.push(...this._animateOptions(i,e));continue}const h=e[d];let u=r[d];const p=o.get(d);if(u){if(p&&u.active()){u.update(p,h,c);continue}u.cancel()}p&&p.duration?(r[d]=u=new Sp(p,i,d,h),s.push(u)):i[d]=h}return s}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const o=this._createAnimations(i,e);return o.length?(ce.add(this._chart,o),!0):void 0}}function vr(n,i){const e=n&&n.options||{},o=e.reverse,s=void 0===e.min?i:0,r=void 0===e.max?i:0;return{start:o?r:s,end:o?s:r}}function Tr(n,i){const e=[],o=n._getSortedDatasetMetas(i);let s,r;for(s=0,r=o.length;s<r;++s)e.push(o[s].index);return e}function yr(n,i,e,o={}){const s=n.keys,r="single"===o.mode;let a,c,l,d;if(null!==i){for(a=0,c=s.length;a<c;++a){if(l=+s[a],l===e){if(o.all)continue;break}d=n.values[l],Tt(d)&&(r||0===i||Kt(i)===Kt(d))&&(i+=d)}return i}}function Zr(n,i){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==i.stack}function Fp(n,i,e){const o=n[i]||(n[i]={});return o[e]||(o[e]={})}function Pr(n,i,e,o){for(const s of i.getMatchingVisibleMetas(o).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function wr(n,i){const{chart:e,_cachedMeta:o}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:c}=o,l=r.axis,d=a.axis,h=function Np(n,i,e){return`${n.id}.${i.id}.${e.stack||e.type}`}(r,a,o),u=i.length;let p;for(let g=0;g<u;++g){const _=i[g],{[l]:b,[d]:v}=_;p=(_._stacks||(_._stacks={}))[d]=Fp(s,h,b),p[c]=v,p._top=Pr(p,a,!0,o.type),p._bottom=Pr(p,a,!1,o.type),(p._visualValues||(p._visualValues={}))[c]=v}}function To(n,i){const e=n.scales;return Object.keys(e).filter(o=>e[o].axis===i).shift()}function ki(n,i){const e=n.controller.index,o=n.vScale&&n.vScale.axis;if(o){i=i||n._parsed;for(const s of i){const r=s._stacks;if(!r||void 0===r[o]||void 0===r[o][e])return;delete r[o][e],void 0!==r[o]._visualValues&&void 0!==r[o]._visualValues[e]&&delete r[o]._visualValues[e]}}}const yo=n=>"reset"===n||"none"===n,Ar=(n,i)=>i?n:Object.assign({},n);class Jt{constructor(i,e){this.chart=i,this._ctx=i.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=Zr(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&ki(this._cachedMeta),this.index=i}linkScales(){const i=this.chart,e=this._cachedMeta,o=this.getDataset(),s=(u,p,g,_)=>"x"===u?p:"r"===u?_:g,r=e.xAxisID=nt(o.xAxisID,To(i,"x")),a=e.yAxisID=nt(o.yAxisID,To(i,"y")),c=e.rAxisID=nt(o.rAxisID,To(i,"r")),l=e.indexAxis,d=e.iAxisID=s(l,r,a,c),h=e.vAxisID=s(l,a,r,c);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){const e=this._cachedMeta;return i===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const i=this._cachedMeta;this._data&&Rs(this._data,this),i._stacked&&ki(i)}_dataCheck(){const i=this.getDataset(),e=i.data||(i.data=[]),o=this._data;if(at(e))this._data=function qp(n){const i=Object.keys(n),e=new Array(i.length);let o,s,r;for(o=0,s=i.length;o<s;++o)r=i[o],e[o]={x:r,y:n[r]};return e}(e);else if(o!==e){if(o){Rs(o,this);const s=this._cachedMeta;ki(s),s._parsed=[]}e&&Object.isExtensible(e)&&function wu(n,i){n._chartjs?n._chartjs.listeners.push(i):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Us.forEach(e=>{const o="_onData"+ro(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[o]&&c[o](...r)}),a}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){const e=this._cachedMeta,o=this.getDataset();let s=!1;this._dataCheck();const r=e._stacked;e._stacked=Zr(e.vScale,e),e.stack!==o.stack&&(s=!0,ki(e),e.stack=o.stack),this._resyncElements(i),(s||r!==e._stacked)&&wr(this,e._parsed)}configure(){const i=this.chart.config,e=i.datasetScopeKeys(this._type),o=i.getOptionScopes(this.getDataset(),e,!0);this.options=i.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,e){const{_cachedMeta:o,_data:s}=this,{iScale:r,_stacked:a}=o,c=r.axis;let h,u,p,l=0===i&&e===s.length||o._sorted,d=i>0&&o._parsed[i-1];if(!1===this._parsing)o._parsed=s,o._sorted=!0,p=s;else{p=bt(s[i])?this.parseArrayData(o,s,i,e):at(s[i])?this.parseObjectData(o,s,i,e):this.parsePrimitiveData(o,s,i,e);const g=()=>null===u[c]||d&&u[c]<d[c];for(h=0;h<e;++h)o._parsed[h+i]=u=p[h],l&&(g()&&(l=!1),d=u);o._sorted=l}a&&wr(this,p)}parsePrimitiveData(i,e,o,s){const{iScale:r,vScale:a}=i,c=r.axis,l=a.axis,d=r.getLabels(),h=r===a,u=new Array(s);let p,g,_;for(p=0,g=s;p<g;++p)_=p+o,u[p]={[c]:h||r.parse(d[_],_),[l]:a.parse(e[_],_)};return u}parseArrayData(i,e,o,s){const{xScale:r,yScale:a}=i,c=new Array(s);let l,d,h,u;for(l=0,d=s;l<d;++l)h=l+o,u=e[h],c[l]={x:r.parse(u[0],h),y:a.parse(u[1],h)};return c}parseObjectData(i,e,o,s){const{xScale:r,yScale:a}=i,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s);let h,u,p,g;for(h=0,u=s;h<u;++h)p=h+o,g=e[p],d[h]={x:r.parse(pe(g,c),p),y:a.parse(pe(g,l),p)};return d}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,e,o){const r=this._cachedMeta,a=e[i.axis];return yr({keys:Tr(this.chart,!0),values:e._stacks[i.axis]._visualValues},a,r.index,{mode:o})}updateRangeFromParsed(i,e,o,s){const r=o[e.axis];let a=null===r?NaN:r;const c=s&&o._stacks[e.axis];s&&c&&(s.values=c,a=yr(s,r,this._cachedMeta.index)),i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}getMinMax(i,e){const o=this._cachedMeta,s=o._parsed,r=o._sorted&&i===o.iScale,a=s.length,c=this._getOtherScale(i),l=((n,i,e)=>n&&!i.hidden&&i._stacked&&{keys:Tr(this.chart,!0),values:null})(e,o),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function Ep(n){const{min:i,max:e,minDefined:o,maxDefined:s}=n.getUserBounds();return{min:o?i:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}(c);let p,g;function _(){g=s[p];const b=g[c.axis];return!Tt(g[i.axis])||h>b||u<b}for(p=0;p<a&&(_()||(this.updateRangeFromParsed(d,i,g,l),!r));++p);if(r)for(p=a-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(d,i,g,l);break}return d}getAllParsedValues(i){const e=this._cachedMeta._parsed,o=[];let s,r,a;for(s=0,r=e.length;s<r;++s)a=e[s][i.axis],Tt(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(i){const e=this._cachedMeta,o=e.iScale,s=e.vScale,r=this.getParsed(i);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(i){const e=this._cachedMeta;this.update(i||"default"),e._clip=function Lp(n){let i,e,o,s;return at(n)?(i=n.top,e=n.right,o=n.bottom,s=n.left):i=e=o=s=n,{top:i,right:e,bottom:o,left:s,disabled:!1===n}}(nt(this.options.clip,function Dp(n,i,e){if(!1===e)return!1;const o=vr(n,e),s=vr(i,e);return{top:s.end,right:o.end,bottom:s.start,left:o.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(i){}draw(){const i=this._ctx,o=this._cachedMeta,s=o.data||[],r=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let h;for(o.dataset&&o.dataset.draw(i,r,c,l),h=c;h<c+l;++h){const u=s[h];u.hidden||(u.active&&d?a.push(u):u.draw(i,r))}for(h=0;h<a.length;++h)a[h].draw(i,r)}getStyle(i,e){const o=e?"active":"default";return void 0===i&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(i||0,o)}getContext(i,e,o){const s=this.getDataset();let r;if(i>=0&&i<this._cachedMeta.data.length){const a=this._cachedMeta.data[i];r=a.$context||(a.$context=function Rp(n,i,e){return fe(n,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),i,a)),r.parsed=this.getParsed(i),r.raw=s.data[i],r.index=r.dataIndex=i}else r=this.$context||(this.$context=function Up(n,i){return fe(n,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=o,r}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,e){return this._resolveElementOptions(this.dataElementType.id,e,i)}_resolveElementOptions(i,e="default",o){const s="active"===e,r=this._cachedDataOpts,a=i+"-"+e,c=r[a],l=this.enableOptionSharing&&Ci(o);if(c)return Ar(c,l);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,i),u=s?[`${i}Hover`,"hover",i,""]:[i,""],p=d.getOptionScopes(this.getDataset(),h),g=Object.keys(Zt.elements[i]),b=d.resolveNamedOptions(p,g,()=>this.getContext(o,s,e),u);return b.$shared&&(b.$shared=l,r[a]=Object.freeze(Ar(b,l))),b}_resolveAnimations(i,e,o){const s=this.chart,r=this._cachedDataOpts,a=`animation-${e}`,c=r[a];if(c)return c;let l;if(!1!==s.options.animation){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),p=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(p,this.getContext(i,o,e))}const d=new Cr(s,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,e){return!e||yo(i)||this.chart._animationsDisabled}_getSharedOptions(i,e){const o=this.resolveDataElementOptions(i,e),s=this._sharedOptions,r=this.getSharedOptions(o),a=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,o),{sharedOptions:r,includeOptions:a}}updateElement(i,e,o,s){yo(s)?Object.assign(i,o):this._resolveAnimations(e,s).update(i,o)}updateSharedOptions(i,e,o){i&&!yo(e)&&this._resolveAnimations(void 0,e).update(i,o)}_setStyle(i,e,o,s){i.active=s;const r=this.getStyle(e,s);this._resolveAnimations(e,o,s).update(i,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(i,e,o){this._setStyle(i,o,"active",!1)}setHoverStyle(i,e,o){this._setStyle(i,o,"active",!0)}_removeDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){const e=this._data,o=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const s=o.length,r=e.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,i):r<s&&this._removeElements(r,s-r)}_insertElements(i,e,o=!0){const s=this._cachedMeta,r=s.data,a=i+e;let c;const l=d=>{for(d.length+=e,c=d.length-1;c>=a;c--)d[c]=d[c-e]};for(l(r),c=i;c<a;++c)r[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(i,e),o&&this.updateElements(r,i,e,"reset")}updateElements(i,e,o,s){}_removeElements(i,e){const o=this._cachedMeta;if(this._parsing){const s=o._parsed.splice(i,e);o._stacked&&ki(o,s)}o.data.splice(i,e)}_sync(i){if(this._parsing)this._syncList.push(i);else{const[e,o,s]=i;this[e](o,s)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){const i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,e){e&&this._sync(["_removeElements",i,e]);const o=arguments.length-2;o&&this._sync(["_insertElements",i,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Yp(n){const i=n.iScale,e=function Hp(n,i){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(i);let o=[];for(let s=0,r=e.length;s<r;s++)o=o.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Bs(o.sort((s,r)=>s-r))}return n._cache.$bar}(i,n.type);let s,r,a,c,o=i._length;const l=()=>{32767===a||-32768===a||(Ci(c)&&(o=Math.min(o,Math.abs(a-c)||o)),c=a)};for(s=0,r=e.length;s<r;++s)a=i.getPixelForValue(e[s]),l();for(c=void 0,s=0,r=i.ticks.length;s<r;++s)a=i.getPixelForTick(s),l();return o}function kr(n,i,e,o){return bt(n)?function zp(n,i,e,o){const s=e.parse(n[0],o),r=e.parse(n[1],o),a=Math.min(s,r),c=Math.max(s,r);let l=a,d=c;Math.abs(a)>Math.abs(c)&&(l=c,d=a),i[e.axis]=d,i._custom={barStart:l,barEnd:d,start:s,end:r,min:a,max:c}}(n,i,e,o):i[e.axis]=e.parse(n,o),i}function Mr(n,i,e,o){const s=n.iScale,r=n.vScale,a=s.getLabels(),c=s===r,l=[];let d,h,u,p;for(d=e,h=e+o;d<h;++d)p=i[d],u={},u[s.axis]=c||s.parse(a[d],d),l.push(kr(p,u,r,d));return l}function Zo(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function jp(n,i,e,o){let s=i.borderSkipped;const r={};if(!s)return void(n.borderSkipped=r);if(!0===s)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:c,reverse:l,top:d,bottom:h}=function Vp(n){let i,e,o,s,r;return n.horizontal?(i=n.base>n.x,e="left",o="right"):(i=n.base<n.y,e="bottom",o="top"),i?(s="end",r="start"):(s="start",r="end"),{start:e,end:o,reverse:i,top:s,bottom:r}}(n);"middle"===s&&e&&(n.enableBorderRadius=!0,(e._top||0)===o?s=d:(e._bottom||0)===o?s=h:(r[Sr(h,a,c,l)]=!0,s=d)),r[Sr(s,a,c,l)]=!0,n.borderSkipped=r}function Sr(n,i,e,o){return o?(n=function Gp(n,i,e){return n===i?e:n===e?i:n}(n,i,e),n=Ir(n,e,i)):n=Ir(n,i,e),n}function Ir(n,i,e){return"start"===n?i:"end"===n?e:n}function Wp(n,{inflateAmount:i},e){n.inflateAmount="auto"===i?1===e?.33:0:i}E(Jt,"defaults",{}),E(Jt,"datasetElementType",null),E(Jt,"dataElementType",null);class bn extends Jt{parsePrimitiveData(i,e,o,s){return Mr(i,e,o,s)}parseArrayData(i,e,o,s){return Mr(i,e,o,s)}parseObjectData(i,e,o,s){const{iScale:r,vScale:a}=i,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d="x"===r.axis?c:l,h="x"===a.axis?c:l,u=[];let p,g,_,b;for(p=o,g=o+s;p<g;++p)b=e[p],_={},_[r.axis]=r.parse(pe(b,d),p),u.push(kr(pe(b,h),_,a,p));return u}updateRangeFromParsed(i,e,o,s){super.updateRangeFromParsed(i,e,o,s);const r=o._custom;r&&e===this._cachedMeta.vScale&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(i){const e=this._cachedMeta,{iScale:o,vScale:s}=e,r=this.getParsed(i),a=r._custom,c=Zo(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(i){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,i)}updateElements(i,e,o,s){const r="reset"===s,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(e,s);for(let g=e;g<e+o;g++){const _=this.getParsed(g),b=r||dt(_[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,h),A=(_._stacks||{})[c.axis],M={horizontal:d,base:b.base,enableBorderRadius:!A||Zo(_._custom)||a===A._top||a===A._bottom,x:d?b.head:v.center,y:d?v.center:b.head,height:d?v.size:Math.abs(b.size),width:d?Math.abs(b.size):v.size};p&&(M.options=u||this.resolveDataElementOptions(g,i[g].active?"active":s));const I=M.options||i[g].options;jp(M,I,A,a),Wp(M,I,h.ratio),this.updateElement(i[g],g,M,s)}}_getStacks(i,e){const{iScale:o}=this._cachedMeta,s=o.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=o.options.stacked,a=[],c=l=>{const d=l.controller.getParsed(e),h=d&&d[l.vScale.axis];if(dt(h)||isNaN(h))return!0};for(const l of s)if((void 0===e||!c(l))&&((!1===r||-1===a.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&a.push(l.stack),l.index===i))break;return a.length||a.push(void 0),a}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,e,o){const s=this._getStacks(i,o),r=void 0!==e?s.indexOf(e):-1;return-1===r?s.length-1:r}_getRuler(){const i=this.options,e=this._cachedMeta,o=e.iScale,s=[];let r,a;for(r=0,a=e.data.length;r<a;++r)s.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));const c=i.barThickness;return{min:c||Yp(e),pixels:s,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:i.grouped,ratio:c?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){const{_cachedMeta:{vScale:e,_stacked:o,index:s},options:{base:r,minBarLength:a}}=this,c=r||0,l=this.getParsed(i),d=l._custom,h=Zo(d);let _,b,u=l[e.axis],p=0,g=o?this.applyStack(e,l,o):u;g!==u&&(p=g-u,g=u),h&&(u=d.barStart,g=d.barEnd-d.barStart,0!==u&&Kt(u)!==Kt(d.barEnd)&&(p=0),p+=u);const v=dt(r)||h?p:r;let A=e.getPixelForValue(v);if(_=this.chart.getDataVisibility(i)?e.getPixelForValue(p+g):A,b=_-A,Math.abs(b)<a){b=function $p(n,i,e){return 0!==n?Kt(n):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(b,e,c)*a,u===c&&(A-=b/2);const M=e.getPixelForDecimal(0),I=e.getPixelForDecimal(1),O=Math.min(M,I),S=Math.max(M,I);A=Math.max(Math.min(A,S),O),_=A+b,o&&!h&&(l._stacks[e.axis]._visualValues[s]=e.getValueForPixel(_)-e.getValueForPixel(A))}if(A===e.getPixelForValue(c)){const M=Kt(b)*e.getLineWidthForValue(c)/2;A+=M,b-=M}return{size:b,base:A,head:_,center:_+b/2}}_calculateBarIndexPixels(i,e){const o=e.scale,s=this.options,r=s.skipNull,a=nt(s.maxBarThickness,1/0);let c,l;if(e.grouped){const d=r?this._getStackCount(i):e.stackCount,h="flex"===s.barThickness?function Qp(n,i,e,o){const s=i.pixels,r=s[n];let a=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const l=e.categoryPercentage;null===a&&(a=r-(null===c?i.end-i.start:c-r)),null===c&&(c=r+r-a);const d=r-(r-Math.min(a,c))/2*l;return{chunk:Math.abs(c-a)/2*l/o,ratio:e.barPercentage,start:d}}(i,e,s,d):function Jp(n,i,e,o){const s=e.barThickness;let r,a;return dt(s)?(r=i.min*e.categoryPercentage,a=e.barPercentage):(r=s*o,a=1),{chunk:r/o,ratio:a,start:i.pixels[n]-r/2}}(i,e,s,d),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?i:void 0);c=h.start+h.chunk*u+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=o.getPixelForValue(this.getParsed(i)[o.axis],i),l=Math.min(a,e.min*e.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const i=this._cachedMeta,e=i.vScale,o=i.data,s=o.length;let r=0;for(;r<s;++r)null!==this.getParsed(r)[e.axis]&&o[r].draw(this._ctx)}}E(bn,"id","bar"),E(bn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),E(bn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class xn extends Jt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,e,o,s){const r=super.parsePrimitiveData(i,e,o,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+o).radius;return r}parseArrayData(i,e,o,s){const r=super.parseArrayData(i,e,o,s);for(let a=0;a<r.length;a++)r[a]._custom=nt(e[o+a][2],this.resolveDataElementOptions(a+o).radius);return r}parseObjectData(i,e,o,s){const r=super.parseObjectData(i,e,o,s);for(let a=0;a<r.length;a++){const c=e[o+a];r[a]._custom=nt(c&&c.r&&+c.r,this.resolveDataElementOptions(a+o).radius)}return r}getMaxOverflow(){const i=this._cachedMeta.data;let e=0;for(let o=i.length-1;o>=0;--o)e=Math.max(e,i[o].size(this.resolveDataElementOptions(o))/2);return e>0&&e}getLabelAndValue(i){const e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:r}=e,a=this.getParsed(i),c=s.getLabelForValue(a.x),l=r.getLabelForValue(a.y),d=a._custom;return{label:o[i]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(i){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,i)}updateElements(i,e,o,s){const r="reset"===s,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(e,s),h=a.axis,u=c.axis;for(let p=e;p<e+o;p++){const g=i[p],_=!r&&this.getParsed(p),b={},v=b[h]=r?a.getPixelForDecimal(.5):a.getPixelForValue(_[h]),A=b[u]=r?c.getBasePixel():c.getPixelForValue(_[u]);b.skip=isNaN(v)||isNaN(A),d&&(b.options=l||this.resolveDataElementOptions(p,g.active?"active":s),r&&(b.options.radius=0)),this.updateElement(g,p,b,s)}}resolveDataElementOptions(i,e){const o=this.getParsed(i);let s=super.resolveDataElementOptions(i,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return"active"!==e&&(s.radius=0),s.radius+=nt(o&&o._custom,r),s}}E(xn,"id","bubble"),E(xn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),E(xn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Oe extends Jt{constructor(i,e){super(i,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,e){const o=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=o;else{let a,c,r=l=>+o[l];if(at(o[i])){const{key:l="value"}=this._parsing;r=d=>+pe(o[d],l)}for(a=i,c=i+e;a<c;++a)s._parsed[a]=r(a)}}_getRotation(){return Yt(this.options.rotation-90)}_getCircumference(){return Yt(this.options.circumference)}_getRotationExtents(){let i=xt,e=-xt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const s=this.chart.getDatasetMeta(o).controller,r=s._getRotation(),a=s._getCircumference();i=Math.min(i,r),e=Math.max(e,r+a)}return{rotation:i,circumference:e-i}}update(i){const e=this.chart,{chartArea:o}=e,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(o.width,o.height)-a)/2,0),l=Math.min(((n,i)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/i)(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:_,offsetY:b}=function Kp(n,i,e){let o=1,s=1,r=0,a=0;if(i<xt){const c=n,l=c+i,d=Math.cos(c),h=Math.sin(c),u=Math.cos(l),p=Math.sin(l),g=(I,O,S)=>Ti(I,c,l,!0)?1:Math.max(O,O*e,S,S*e),_=(I,O,S)=>Ti(I,c,l,!0)?-1:Math.min(O,O*e,S,S*e),b=g(0,d,u),v=g(yt,h,p),A=_(Ct,d,u),M=_(Ct+yt,h,p);o=(b-A)/2,s=(v-M)/2,r=-(b+A)/2,a=-(v+M)/2}return{ratioX:o,ratioY:s,offsetX:r,offsetY:a}}(u,h,l),M=Math.max(Math.min((o.width-a)/p,(o.height-a)/g)/2,0),I=Ss(this.options.radius,M),S=(I-Math.max(I*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=_*I,this.offsetY=b*I,s.total=this.calculateTotal(),this.outerRadius=I-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*d,0),this.updateElements(r,0,r.length,i)}_circumference(i,e){const o=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&o.animation.animateRotate||!this.chart.getDataVisibility(i)||null===s._parsed[i]||s.data[i].hidden?0:this.calculateCircumference(s._parsed[i]*r/xt)}updateElements(i,e,o,s){const r="reset"===s,a=this.chart,c=a.chartArea,h=(c.left+c.right)/2,u=(c.top+c.bottom)/2,p=r&&a.options.animation.animateScale,g=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:b,includeOptions:v}=this._getSharedOptions(e,s);let M,A=this._getRotation();for(M=0;M<e;++M)A+=this._circumference(M,r);for(M=e;M<e+o;++M){const I=this._circumference(M,r),O=i[M],S={x:h+this.offsetX,y:u+this.offsetY,startAngle:A,endAngle:A+I,circumference:I,outerRadius:_,innerRadius:g};v&&(S.options=b||this.resolveDataElementOptions(M,O.active?"active":s)),A+=I,this.updateElement(O,M,S,s)}}calculateTotal(){const i=this._cachedMeta,e=i.data;let s,o=0;for(s=0;s<e.length;s++){const r=i._parsed[s];null!==r&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(o+=Math.abs(r))}return o}calculateCircumference(i){const e=this._cachedMeta.total;return e>0&&!isNaN(i)?xt*(Math.abs(i)/e):0}getLabelAndValue(i){const o=this.chart,s=o.data.labels||[],r=Zi(this._cachedMeta._parsed[i],o.options.locale);return{label:s[i]||"",value:r}}getMaxBorderWidth(i){let e=0;const o=this.chart;let s,r,a,c,l;if(!i)for(s=0,r=o.data.datasets.length;s<r;++s)if(o.isDatasetVisible(s)){a=o.getDatasetMeta(s),i=a.data,c=a.controller;break}if(!i)return 0;for(s=0,r=i.length;s<r;++s)l=c.resolveDataElementOptions(s),"inner"!==l.borderAlign&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(i){let e=0;for(let o=0,s=i.length;o<s;++o){const r=this.resolveDataElementOptions(o);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(i){let e=0;for(let o=0;o<i;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}_getRingWeight(i){return Math.max(nt(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}E(Oe,"id","doughnut"),E(Oe,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),E(Oe,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")}),E(Oe,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:o,color:s}}=i.legend.options;return e.labels.map((r,a)=>{const l=i.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}}});class Cn extends Jt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){const e=this._cachedMeta,{dataset:o,data:s=[],_dataset:r}=e,a=this.chart._animationsDisabled;let{start:c,count:l}=Js(e,s,a);this._drawStart=c,this._drawCount=l,Qs(e)&&(c=0,l=s.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=s;const d=this.resolveDatasetElementOptions(i);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:d},i),this.updateElements(s,c,l,i)}updateElements(i,e,o,s){const r="reset"===s,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,s),p=a.axis,g=c.axis,{spanGaps:_,segment:b}=this.options,v=Ve(_)?_:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||r||"none"===s,M=e+o,I=i.length;let O=e>0&&this.getParsed(e-1);for(let S=0;S<I;++S){const R=i[S],B=A?R:{};if(S<e||S>=M){B.skip=!0;continue}const H=this.getParsed(S),K=dt(H[g]),st=B[p]=a.getPixelForValue(H[p],S),rt=B[g]=r||K?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,H,l):H[g],S);B.skip=isNaN(st)||isNaN(rt)||K,B.stop=S>0&&Math.abs(H[p]-O[p])>v,b&&(B.parsed=H,B.raw=d.data[S]),u&&(B.options=h||this.resolveDataElementOptions(S,R.active?"active":s)),A||this.updateElement(R,S,B,s),O=H}}getMaxOverflow(){const i=this._cachedMeta,e=i.dataset,o=e.options&&e.options.borderWidth||0,s=i.data||[];if(!s.length)return o;const r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,r,a)/2}draw(){const i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}E(Cn,"id","line"),E(Cn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),E(Cn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Mi extends Jt{constructor(i,e){super(i,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){const o=this.chart,s=o.data.labels||[],r=Zi(this._cachedMeta._parsed[i].r,o.options.locale);return{label:s[i]||"",value:r}}parseObjectData(i,e,o,s){return rr.bind(this)(i,e,o,s)}update(i){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,i)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const i=this.chart,e=i.chartArea,o=i.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),c=(r-Math.max(o.cutoutPercentage?r/100*o.cutoutPercentage:1,0))/i.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(i,e,o,s){const r="reset"===s,a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,p=d.getIndexAngle(0)-.5*Ct;let _,g=p;const b=360/this.countVisibleElements();for(_=0;_<e;++_)g+=this._computeAngle(_,s,b);for(_=e;_<e+o;_++){const v=i[_];let A=g,M=g+this._computeAngle(_,s,b),I=a.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=M,r&&(l.animateScale&&(I=0),l.animateRotate&&(A=M=p));const O={x:h,y:u,innerRadius:0,outerRadius:I,startAngle:A,endAngle:M,options:this.resolveDataElementOptions(_,v.active?"active":s)};this.updateElement(v,_,O,s)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((o,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(i,e,o){return this.chart.getDataVisibility(i)?Yt(this.resolveDataElementOptions(i,e).angle||o):0}}E(Mi,"id","polarArea"),E(Mi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),E(Mi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:o,color:s}}=i.legend.options;return e.labels.map((r,a)=>{const l=i.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Po extends Oe{}E(Po,"id","pie"),E(Po,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class vn extends Jt{getLabelAndValue(i){const e=this._cachedMeta.vScale,o=this.getParsed(i);return{label:e.getLabels()[i],value:""+e.getLabelForValue(o[e.axis])}}parseObjectData(i,e,o,s){return rr.bind(this)(i,e,o,s)}update(i){const e=this._cachedMeta,o=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(o.points=s,"resize"!==i){const a=this.resolveDatasetElementOptions(i);this.options.showLine||(a.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:r.length===s.length,options:a},i)}this.updateElements(s,0,s.length,i)}updateElements(i,e,o,s){const r=this._cachedMeta.rScale,a="reset"===s;for(let c=e;c<e+o;c++){const l=i[c],d=this.resolveDataElementOptions(c,l.active?"active":s),h=r.getPointPositionForValue(c,this.getParsed(c).r),u=a?r.xCenter:h.x,p=a?r.yCenter:h.y,g={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:d};this.updateElement(l,c,g,s)}}}E(vn,"id","radar"),E(vn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),E(vn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Tn extends Jt{getLabelAndValue(i){const e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:r}=e,a=this.getParsed(i),c=s.getLabelForValue(a.x),l=r.getLabelForValue(a.y);return{label:o[i]||"",value:"("+c+", "+l+")"}}update(i){const e=this._cachedMeta,{data:o=[]}=e,s=this.chart._animationsDisabled;let{start:r,count:a}=Js(e,o,s);if(this._drawStart=r,this._drawCount=a,Qs(e)&&(r=0,a=o.length),this.options.showLine){const{dataset:c,_dataset:l}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=o;const d=this.resolveDatasetElementOptions(i);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},i)}this.updateElements(o,r,a,i)}addElements(){const{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,e,o,s){const r="reset"===s,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),u=this.getSharedOptions(h),p=this.includeOptions(s,u),g=a.axis,_=c.axis,{spanGaps:b,segment:v}=this.options,A=Ve(b)?b:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||r||"none"===s;let I=e>0&&this.getParsed(e-1);for(let O=e;O<e+o;++O){const S=i[O],R=this.getParsed(O),B=M?S:{},H=dt(R[_]),K=B[g]=a.getPixelForValue(R[g],O),st=B[_]=r||H?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,R,l):R[_],O);B.skip=isNaN(K)||isNaN(st)||H,B.stop=O>0&&Math.abs(R[g]-I[g])>A,v&&(B.parsed=R,B.raw=d.data[O]),p&&(B.options=u||this.resolveDataElementOptions(O,S.active?"active":s)),M||this.updateElement(S,O,B,s),I=R}this.updateSharedOptions(u,s,h)}getMaxOverflow(){const i=this._cachedMeta,e=i.data||[];if(!this.options.showLine){let c=0;for(let l=e.length-1;l>=0;--l)c=Math.max(c,e[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const o=i.dataset,s=o.options&&o.options.borderWidth||0;if(!e.length)return s;const r=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,r,a)/2}}E(Tn,"id","scatter"),E(Tn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),E(Tn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Xp=Object.freeze({__proto__:null,BarController:bn,BubbleController:xn,DoughnutController:Oe,LineController:Cn,PieController:Po,PolarAreaController:Mi,RadarController:vn,ScatterController:Tn});function De(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wo{constructor(i){E(this,"options"),this.options=i||{}}static override(i){Object.assign(wo.prototype,i)}init(){}formats(){return De()}parse(){return De()}format(){return De()}add(){return De()}diff(){return De()}startOf(){return De()}endOf(){return De()}}var tg__date=wo;function eg(n,i,e,o){const{controller:s,data:r,_sorted:a}=n,c=s._cachedMeta.iScale;if(c&&i===c.axis&&"r"!==i&&a&&r.length){const l=c._reversePixels?Zu:re;if(!o)return l(r,i,e);if(s._sharedOptions){const d=r[0],h="function"==typeof d.getRange&&d.getRange(i);if(h){const u=l(r,i,e-h),p=l(r,i,e+h);return{lo:u.lo,hi:p.hi}}}}return{lo:0,hi:r.length-1}}function Si(n,i,e,o,s){const r=n.getSortedVisibleDatasetMetas(),a=e[i];for(let c=0,l=r.length;c<l;++c){const{index:d,data:h}=r[c],{lo:u,hi:p}=eg(r[c],i,a,s);for(let g=u;g<=p;++g){const _=h[g];_.skip||o(_,d,g)}}}function Ao(n,i,e,o,s){const r=[];return!s&&!n.isPointInArea(i)||Si(n,e,i,function(c,l,d){!s&&!ae(c,n.chartArea,0)||c.inRange(i.x,i.y,o)&&r.push({element:c,datasetIndex:l,index:d})},!0),r}function ko(n,i,e,o,s,r){return r||n.isPointInArea(i)?"r"!==e||o?function og(n,i,e,o,s,r){let a=[];const c=function ig(n){const i=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(o,s){const r=i?Math.abs(o.x-s.x):0,a=e?Math.abs(o.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(e);let l=Number.POSITIVE_INFINITY;return Si(n,e,i,function d(h,u,p){const g=h.inRange(i.x,i.y,s);if(o&&!g)return;const _=h.getCenterPoint(s);if(!r&&!n.isPointInArea(_)&&!g)return;const v=c(i,_);v<l?(a=[{element:h,datasetIndex:u,index:p}],l=v):v===l&&a.push({element:h,datasetIndex:u,index:p})}),a}(n,i,e,o,s,r):function ng(n,i,e,o){let s=[];return Si(n,e,i,function r(a,c,l){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],o),{angle:u}=Fs(a,{x:i.x,y:i.y});Ti(u,d,h)&&s.push({element:a,datasetIndex:c,index:l})}),s}(n,i,e,s):[]}function Or(n,i,e,o,s){const r=[],a="x"===e?"inXRange":"inYRange";let c=!1;return Si(n,e,i,(l,d,h)=>{l[a](i[e],s)&&(r.push({element:l,datasetIndex:d,index:h}),c=c||l.inRange(i.x,i.y,s))}),o&&!c?[]:r}var sg={evaluateInteractionItems:Si,modes:{index(n,i,e,o){const s=Se(i,n),r=e.axis||"x",a=e.includeInvisible||!1,c=e.intersect?Ao(n,s,r,o,a):ko(n,s,r,!1,o,a),l=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const h=c[0].index,u=d.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:d.index,index:h})}),l):[]},dataset(n,i,e,o){const s=Se(i,n),r=e.axis||"xy",a=e.includeInvisible||!1;let c=e.intersect?Ao(n,s,r,o,a):ko(n,s,r,!1,o,a);if(c.length>0){const l=c[0].datasetIndex,d=n.getDatasetMeta(l).data;c=[];for(let h=0;h<d.length;++h)c.push({element:d[h],datasetIndex:l,index:h})}return c},point:(n,i,e,o)=>Ao(n,Se(i,n),e.axis||"xy",o,e.includeInvisible||!1),nearest:(n,i,e,o)=>ko(n,Se(i,n),e.axis||"xy",e.intersect,o,e.includeInvisible||!1),x:(n,i,e,o)=>Or(n,Se(i,n),"x",e.intersect,o),y:(n,i,e,o)=>Or(n,Se(i,n),"y",e.intersect,o)}};const Dr=["left","top","right","bottom"];function Ii(n,i){return n.filter(e=>e.pos===i)}function Lr(n,i){return n.filter(e=>-1===Dr.indexOf(e.pos)&&e.box.axis===i)}function Oi(n,i){return n.sort((e,o)=>{const s=i?o:e,r=i?e:o;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function qr(n,i,e,o){return Math.max(n[e],i[e])+Math.max(n[o],i[o])}function Nr(n,i){n.top=Math.max(n.top,i.top),n.left=Math.max(n.left,i.left),n.bottom=Math.max(n.bottom,i.bottom),n.right=Math.max(n.right,i.right)}function dg(n,i,e,o){const{pos:s,box:r}=e,a=n.maxPadding;if(!at(s)){e.size&&(n[s]-=e.size);const u=o[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,n[s]+=e.size}r.getPadding&&Nr(a,r.getPadding());const c=Math.max(0,i.outerWidth-qr(a,n,"left","right")),l=Math.max(0,i.outerHeight-qr(a,n,"top","bottom")),d=c!==n.w,h=l!==n.h;return n.w=c,n.h=l,e.horizontal?{same:d,other:h}:{same:h,other:d}}function ug(n,i){const e=i.maxPadding;return function o(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(i[a],e[a])}),r}(n?["left","right"]:["top","bottom"])}function Di(n,i,e,o){const s=[];let r,a,c,l,d,h;for(r=0,a=n.length,d=0;r<a;++r){c=n[r],l=c.box,l.update(c.width||i.w,c.height||i.h,ug(c.horizontal,i));const{same:u,other:p}=dg(i,e,c,o);d|=u&&s.length,h=h||p,l.fullSize||s.push(c)}return d&&Di(s,i,e,o)||h}function yn(n,i,e,o,s){n.top=e,n.left=i,n.right=i+o,n.bottom=e+s,n.width=o,n.height=s}function Er(n,i,e,o){const s=e.padding;let{x:r,y:a}=i;for(const c of n){const l=c.box,d=o[c.stack]||{count:1,placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){const u=i.w*h,p=d.size||l.height;Ci(d.start)&&(a=d.start),l.fullSize?yn(l,s.left,a,e.outerWidth-s.right-s.left,p):yn(l,i.left+d.placed,a,u,p),d.start=a,d.placed+=u,a=l.bottom}else{const u=i.h*h,p=d.size||l.width;Ci(d.start)&&(r=d.start),l.fullSize?yn(l,r,s.top,p,e.outerHeight-s.bottom-s.top):yn(l,r,i.top+d.placed,p,u),d.start=r,d.placed+=u,r=l.right}}i.x=r,i.y=a}var Ot={addBox(n,i){n.boxes||(n.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},n.boxes.push(i)},removeBox(n,i){const e=n.boxes?n.boxes.indexOf(i):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(n,i,e,o){if(!n)return;const s=It(n.options.layout.padding),r=Math.max(i-s.width,0),a=Math.max(e-s.height,0),c=function lg(n){const i=function rg(n){const i=[];let e,o,s,r,a,c;for(e=0,o=(n||[]).length;e<o;++e)s=n[e],({position:r,options:{stack:a,stackWeight:c=1}}=s),i.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:c});return i}(n),e=Oi(i.filter(d=>d.box.fullSize),!0),o=Oi(Ii(i,"left"),!0),s=Oi(Ii(i,"right")),r=Oi(Ii(i,"top"),!0),a=Oi(Ii(i,"bottom")),c=Lr(i,"x"),l=Lr(i,"y");return{fullSize:e,leftAndTop:o.concat(r),rightAndBottom:s.concat(l).concat(a).concat(c),chartArea:Ii(i,"chartArea"),vertical:o.concat(s).concat(l),horizontal:r.concat(a).concat(c)}}(n.boxes),l=c.vertical,d=c.horizontal;gt(n.boxes,b=>{"function"==typeof b.beforeLayout&&b.beforeLayout()});const h=l.reduce((b,v)=>v.box.options&&!1===v.box.options.display?b:b+1,0)||1,u=Object.freeze({outerWidth:i,outerHeight:e,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),p=Object.assign({},s);Nr(p,It(o));const g=Object.assign({maxPadding:p,w:r,h:a,x:s.left,y:s.top},s),_=function cg(n,i){const e=function ag(n){const i={};for(const e of n){const{stack:o,pos:s,stackWeight:r}=e;if(!o||!Dr.includes(s))continue;const a=i[o]||(i[o]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return i}(n),{vBoxMaxWidth:o,hBoxMaxHeight:s}=i;let r,a,c;for(r=0,a=n.length;r<a;++r){c=n[r];const{fullSize:l}=c.box,d=e[c.stack],h=d&&c.stackWeight/d.weight;c.horizontal?(c.width=h?h*o:l&&i.availableWidth,c.height=s):(c.width=o,c.height=h?h*s:l&&i.availableHeight)}return e}(l.concat(d),u);Di(c.fullSize,g,u,_),Di(l,g,u,_),Di(d,g,u,_)&&Di(l,g,u,_),function hg(n){const i=n.maxPadding;function e(o){const s=Math.max(i[o]-n[o],0);return n[o]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(g),Er(c.leftAndTop,g,u,_),g.x+=g.w,g.y+=g.h,Er(c.rightAndBottom,g,u,_),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},gt(c.chartArea,b=>{const v=b.box;Object.assign(v,n.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Fr{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,o){}removeEventListener(i,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,o,s){return e=Math.max(0,e||i.width),o=o||i.height,{width:e,height:Math.max(0,s?Math.floor(e/s):o)}}isAttached(i){return!0}updateConfig(i){}}class pg extends Fr{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Zn="$chartjs",gg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ur=n=>null===n||""===n,Rr=!!mp&&{passive:!0};function mg(n,i,e){n.canvas.removeEventListener(i,e,Rr)}function Pn(n,i){for(const e of n)if(e===i||e.contains(i))return!0}function xg(n,i,e){const o=n.canvas,s=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||Pn(c.addedNodes,o),a=a&&!Pn(c.removedNodes,o);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Cg(n,i,e){const o=n.canvas,s=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||Pn(c.removedNodes,o),a=a&&!Pn(c.addedNodes,o);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Li=new Map;let Br=0;function Hr(){const n=window.devicePixelRatio;n!==Br&&(Br=n,Li.forEach((i,e)=>{e.currentDevicePixelRatio!==n&&i()}))}function yg(n,i,e){const o=n.canvas,s=o&&vo(o);if(!s)return;const r=Ys((c,l)=>{const d=s.clientWidth;e(c,l),d<s.clientWidth&&e()},window),a=new ResizeObserver(c=>{const l=c[0],d=l.contentRect.width,h=l.contentRect.height;0===d&&0===h||r(d,h)});return a.observe(s),function vg(n,i){Li.size||window.addEventListener("resize",Hr),Li.set(n,i)}(n,r),a}function Mo(n,i,e){e&&e.disconnect(),"resize"===i&&function Tg(n){Li.delete(n),Li.size||window.removeEventListener("resize",Hr)}(n)}function Zg(n,i,e){const o=n.canvas,s=Ys(r=>{null!==n.ctx&&e(function bg(n,i){const e=gg[n.type]||n.type,{x:o,y:s}=Se(n,i);return{type:e,chart:i,native:n,x:void 0!==o?o:null,y:void 0!==s?s:null}}(r,n))},n);return function fg(n,i,e){n.addEventListener(i,e,Rr)}(o,i,s),s}class Pg extends Fr{acquireContext(i,e){const o=i&&i.getContext&&i.getContext("2d");return o&&o.canvas===i?(function _g(n,i){const e=n.style,o=n.getAttribute("height"),s=n.getAttribute("width");if(n[Zn]={initial:{height:o,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ur(s)){const r=dr(n,"width");void 0!==r&&(n.width=r)}if(Ur(o))if(""===n.style.height)n.height=n.width/(i||2);else{const r=dr(n,"height");void 0!==r&&(n.height=r)}}(i,e),o):null}releaseContext(i){const e=i.canvas;if(!e[Zn])return!1;const o=e[Zn].initial;["height","width"].forEach(r=>{const a=o[r];dt(a)?e.removeAttribute(r):e.setAttribute(r,a)});const s=o.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Zn],!0}addEventListener(i,e,o){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:xg,detach:Cg,resize:yg}[e]||Zg)(i,e,o)}removeEventListener(i,e){const o=i.$proxies||(i.$proxies={}),s=o[e];s&&(({attach:Mo,detach:Mo,resize:Mo}[e]||mg)(i,e,s),o[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,o,s){return function fp(n,i,e,o){const s=fn(n),r=Me(s,"margin"),a=_n(s.maxWidth,n,"clientWidth")||cn,c=_n(s.maxHeight,n,"clientHeight")||cn,l=function _p(n,i,e){let o,s;if(void 0===i||void 0===e){const r=vo(n);if(r){const a=r.getBoundingClientRect(),c=fn(r),l=Me(c,"border","width"),d=Me(c,"padding");i=a.width-d.width-l.width,e=a.height-d.height-l.height,o=_n(c.maxWidth,r,"clientWidth"),s=_n(c.maxHeight,r,"clientHeight")}else i=n.clientWidth,e=n.clientHeight}return{width:i,height:e,maxWidth:o||cn,maxHeight:s||cn}}(n,i,e);let{width:d,height:h}=l;if("content-box"===s.boxSizing){const p=Me(s,"border","width"),g=Me(s,"padding");d-=g.width+p.width,h-=g.height+p.height}return d=Math.max(0,d-r.width),h=Math.max(0,o?d/o:h-r.height),d=mn(Math.min(d,a,l.maxWidth)),h=mn(Math.min(h,c,l.maxHeight)),d&&!h&&(h=mn(d/2)),(void 0!==i||void 0!==e)&&o&&l.height&&h>l.height&&(h=l.height,d=mn(Math.floor(h*o))),{width:d,height:h}}(i,e,o,s)}isAttached(i){const e=vo(i);return!(!e||!e.isConnected)}}class Qt{constructor(){E(this,"x"),E(this,"y"),E(this,"active",!1),E(this,"options"),E(this,"$animations")}tooltipPosition(i){const{x:e,y:o}=this.getProps(["x","y"],i);return{x:e,y:o}}hasValue(){return Ve(this.x)&&Ve(this.y)}getProps(i,e){const o=this.$animations;if(!e||!o)return this;const s={};return i.forEach(r=>{s[r]=o[r]&&o[r].active()?o[r]._to:this[r]}),s}}function wn(n,i,e,o,s){const r=nt(o,0),a=Math.min(nt(s,n.length),n.length);let l,d,h,c=0;for(e=Math.ceil(e),s&&(l=s-o,e=l/Math.floor(l/e)),h=r;h<0;)c++,h=Math.round(r+c*e);for(d=Math.max(r,0);d<a;d++)d===h&&(i.push(n[d]),c++,h=Math.round(r+c*e))}E(Qt,"defaults",{}),E(Qt,"defaultRoutes");const Yr=(n,i,e)=>"top"===i||"left"===i?n[i]+e:n[i]-e,Jr=(n,i)=>Math.min(i||n,n);function Qr(n,i){const e=[],o=n.length/i,s=n.length;let r=0;for(;r<s;r+=o)e.push(n[Math.floor(r)]);return e}function Lg(n,i,e){const o=n.ticks.length,s=Math.min(i,o-1),r=n._startPixel,a=n._endPixel,c=1e-6;let d,l=n.getPixelForTick(s);if(!(e&&(d=1===o?Math.max(l-r,a-l):0===i?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(s-1))/2,l+=s<i?d:-d,l<r-c||l>a+c)))return l}function qi(n){return n.drawTicks?n.tickLength:0}function zr(n,i){if(!n.display)return 0;const e=wt(n.font,i),o=It(n.padding);return(bt(n.text)?n.text.length:1)*e.lineHeight+o.height}function Fg(n,i,e){let o=ho(n);return(e&&"right"!==i||!e&&"right"===i)&&(o=(n=>"left"===n?"right":"right"===n?"left":n)(o)),o}class Le extends Qt{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:o,_suggestedMax:s}=this;return i=Et(i,Number.POSITIVE_INFINITY),e=Et(e,Number.NEGATIVE_INFINITY),o=Et(o,Number.POSITIVE_INFINITY),s=Et(s,Number.NEGATIVE_INFINITY),{min:Et(i,o),max:Et(e,s),minDefined:Tt(i),maxDefined:Tt(e)}}getMinMax(i){let a,{min:e,max:o,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:e,max:o};const c=this.getMatchingVisibleMetas();for(let l=0,d=c.length;l<d;++l)a=c[l].controller.getMinMax(this,i),s||(e=Math.min(e,a.min)),r||(o=Math.max(o,a.max));return e=r&&e>o?o:e,o=s&&e>o?e:o,{min:Et(e,Et(o,e)),max:Et(o,Et(e,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(i,e,o){const{beginAtZero:s,grace:r,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Vu(n,i,e){const{min:o,max:s}=n,r=Ss(i,(s-o)/2),a=(c,l)=>e&&0===c?0:c+l;return{min:a(o,-Math.abs(r)),max:a(s,r)}}(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?Qr(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function Ag(n,i){const e=n.options.ticks,o=function kg(n){const i=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(i?0:1),n._maxLength/e))}(n),s=Math.min(e.maxTicksLimit||o,o),r=e.major.enabled?function Sg(n){const i=[];let e,o;for(e=0,o=n.length;e<o;e++)n[e].major&&i.push(e);return i}(i):[],a=r.length,c=r[0],l=r[a-1],d=[];if(a>s)return function Ig(n,i,e,o){let a,s=0,r=e[0];for(o=Math.ceil(o),a=0;a<n.length;a++)a===r&&(i.push(n[a]),s++,r=e[s*o])}(i,d,r,a/s),d;const h=function Mg(n,i,e){const o=function Og(n){const i=n.length;let e,o;if(i<2)return!1;for(o=n[0],e=1;e<i;++e)if(n[e]-n[e-1]!==o)return!1;return o}(n),s=i.length/e;if(!o)return Math.max(s,1);const r=function Cu(n){const i=[],e=Math.sqrt(n);let o;for(o=1;o<e;o++)n%o==0&&(i.push(o),i.push(n/o));return e===(0|e)&&i.push(e),i.sort((s,r)=>s-r).pop(),i}(o);for(let a=0,c=r.length-1;a<c;a++){const l=r[a];if(l>s)return l}return Math.max(s,1)}(r,i,s);if(a>0){let u,p;const g=a>1?Math.round((l-c)/(a-1)):null;for(wn(i,d,h,dt(g)?0:c-g,c),u=0,p=a-1;u<p;u++)wn(i,d,h,r[u],r[u+1]);return wn(i,d,h,l,dt(g)?i.length:l+g),d}return wn(i,d,h),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,o,i=this.options.reverse;this.isHorizontal()?(e=this.left,o=this.right):(e=this.top,o=this.bottom,i=!i),this._startPixel=e,this._endPixel=o,this._reversePixels=i,this._length=o-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),mt(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let o,s,r;for(o=0,s=i.length;o<s;o++)r=i[o],r.label=mt(e.callback,[r.value,o,i],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,o=Jr(this.ticks.length,i.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation;let c,l,d,a=s;if(!this._isVisible()||!e.display||s>=r||o<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),u=h.widest.width,p=h.highest.height,g=At(this.chart.width-u,0,this.maxWidth);c=i.offset?this.maxWidth/o:g/(o-1),u+6>c&&(c=g/(o-(i.offset?.5:1)),l=this.maxHeight-qi(i.grid)-e.padding-zr(i.title,this.chart.options.font),d=Math.sqrt(u*u+p*p),a=ao(Math.min(Math.asin(At((h.highest.height+6)/c,-1,1)),Math.asin(At(l/d,-1,1))-Math.asin(At(p/d,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:o,title:s,grid:r}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const l=zr(s,e.options.font);if(c?(i.width=this.maxWidth,i.height=qi(r)+l):(i.height=this.maxHeight,i.width=qi(r)+l),o.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:p}=this._getLabelSizes(),g=2*o.padding,_=Yt(this.labelRotation),b=Math.cos(_),v=Math.sin(_);c?i.height=Math.min(this.maxHeight,i.height+(o.mirror?0:v*u.width+b*p.height)+g):i.width=Math.min(this.maxWidth,i.width+(o.mirror?0:b*u.width+v*p.height)+g),this._calculatePadding(d,h,v,b)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,o,s){const{ticks:{align:r,padding:a},position:c}=this.options,l=0!==this.labelRotation,d="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;l?d?(p=s*i.width,g=o*e.height):(p=o*i.height,g=s*e.width):"start"===r?g=e.width:"end"===r?p=i.width:"inner"!==r&&(p=i.width/2,g=e.width/2),this.paddingLeft=Math.max((p-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-u+a)*this.width/(this.width-u),0)}else{let h=e.height/2,u=i.height/2;"start"===r?(h=0,u=i.height):"end"===r&&(h=e.height,u=0),this.paddingTop=h+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,o=i.length;e<o;e++)dt(i[e].label)&&(i.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let o=this.ticks;e<o.length&&(o=Qr(o,e)),this._labelSizes=i=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,o){const{ctx:s,_longestTextCache:r}=this,a=[],c=[],l=Math.floor(e/Jr(e,o));let u,p,g,_,b,v,A,M,I,O,S,d=0,h=0;for(u=0;u<e;u+=l){if(_=i[u].label,b=this._resolveTickFontOptions(u),s.font=v=b.string,A=r[v]=r[v]||{data:{},gc:[]},M=b.lineHeight,I=O=0,dt(_)||bt(_)){if(bt(_))for(p=0,g=_.length;p<g;++p)S=_[p],!dt(S)&&!bt(S)&&(I=hn(s,A.data,A.gc,I,S),O+=M)}else I=hn(s,A.data,A.gc,I,_),O=M;a.push(I),c.push(O),d=Math.max(I,d),h=Math.max(O,h)}!function qg(n,i){gt(n,e=>{const o=e.gc,s=o.length/2;let r;if(s>i){for(r=0;r<s;++r)delete e.data[o[r]];o.splice(0,s)}})}(r,e);const R=a.indexOf(d),B=c.indexOf(h),H=K=>({width:a[K]||0,height:c[K]||0});return{first:H(0),last:H(e-1),widest:H(R),highest:H(B),widths:a,heights:c}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function yu(n){return At(n,-32768,32767)}(this._alignToPixels?we(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const o=e[i];return o.$context||(o.$context=function Eg(n,i,e){return fe(n,{tick:e,index:i,type:"tick"})}(this.getContext(),i,o))}return this.$context||(this.$context=function Ng(n,i){return fe(n,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=Yt(this.labelRotation),o=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=i.autoSkipPadding||0,c=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*o>c*s?c/o:l/s:l*s<c*o?l/o:c/s}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,o=this.chart,s=this.options,{grid:r,position:a,border:c}=s,l=r.offset,d=this.isHorizontal(),u=this.ticks.length+(l?1:0),p=qi(r),g=[],_=c.setContext(this.getContext()),b=_.display?_.width:0,v=b/2,A=function(vt){return we(o,vt,b)};let M,I,O,S,R,B,H,K,st,rt,lt,kt;if("top"===a)M=A(this.bottom),B=this.bottom-p,K=M-v,rt=A(i.top)+v,kt=i.bottom;else if("bottom"===a)M=A(this.top),rt=i.top,kt=A(i.bottom)-v,B=M+v,K=this.top+p;else if("left"===a)M=A(this.right),R=this.right-p,H=M-v,st=A(i.left)+v,lt=i.right;else if("right"===a)M=A(this.left),st=i.left,lt=A(i.right)-v,R=M+v,H=this.left+p;else if("x"===e){if("center"===a)M=A((i.top+i.bottom)/2+.5);else if(at(a)){const vt=Object.keys(a)[0];M=A(this.chart.scales[vt].getPixelForValue(a[vt]))}rt=i.top,kt=i.bottom,B=M+v,K=B+p}else if("y"===e){if("center"===a)M=A((i.left+i.right)/2);else if(at(a)){const vt=Object.keys(a)[0];M=A(this.chart.scales[vt].getPixelForValue(a[vt]))}R=M-v,H=R-p,st=i.left,lt=i.right}const Ut=nt(s.ticks.maxTicksLimit,u),_t=Math.max(1,Math.ceil(u/Ut));for(I=0;I<u;I+=_t){const vt=this.getContext(I),Pt=r.setContext(vt),$t=c.setContext(vt),Dt=Pt.lineWidth,ii=Pt.color,Rn=$t.dash||[],ni=$t.dashOffset,Ji=Pt.tickWidth,Qi=Pt.tickColor,zi=Pt.tickBorderDash||[],$i=Pt.tickBorderDashOffset;O=Lg(this,I,l),void 0!==O&&(S=we(o,O,Dt),d?R=H=st=lt=S:B=K=rt=kt=S,g.push({tx1:R,ty1:B,tx2:H,ty2:K,x1:st,y1:rt,x2:lt,y2:kt,width:Dt,color:ii,borderDash:Rn,borderDashOffset:ni,tickWidth:Ji,tickColor:Qi,tickBorderDash:zi,tickBorderDashOffset:$i}))}return this._ticksLength=u,this._borderValue=M,g}_computeLabelItems(i){const e=this.axis,o=this.options,{position:s,ticks:r}=o,a=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:d,padding:h,mirror:u}=r,p=qi(o.grid),g=p+h,_=u?-h:g,b=-Yt(this.labelRotation),v=[];let A,M,I,O,S,R,B,H,K,st,rt,lt,kt="middle";if("top"===s)R=this.bottom-_,B=this._getXAxisLabelAlignment();else if("bottom"===s)R=this.top+_,B=this._getXAxisLabelAlignment();else if("left"===s){const _t=this._getYAxisLabelAlignment(p);B=_t.textAlign,S=_t.x}else if("right"===s){const _t=this._getYAxisLabelAlignment(p);B=_t.textAlign,S=_t.x}else if("x"===e){if("center"===s)R=(i.top+i.bottom)/2+g;else if(at(s)){const _t=Object.keys(s)[0];R=this.chart.scales[_t].getPixelForValue(s[_t])+g}B=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)S=(i.left+i.right)/2-g;else if(at(s)){const _t=Object.keys(s)[0];S=this.chart.scales[_t].getPixelForValue(s[_t])}B=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===l?kt="top":"end"===l&&(kt="bottom"));const Ut=this._getLabelSizes();for(A=0,M=c.length;A<M;++A){I=c[A],O=I.label;const _t=r.setContext(this.getContext(A));H=this.getPixelForTick(A)+r.labelOffset,K=this._resolveTickFontOptions(A),st=K.lineHeight,rt=bt(O)?O.length:1;const vt=rt/2,Pt=_t.color,$t=_t.textStrokeColor,Dt=_t.textStrokeWidth;let Rn,ii=B;if(a?(S=H,"inner"===B&&(ii=A===M-1?this.options.reverse?"left":"right":0===A?this.options.reverse?"right":"left":"center"),lt="top"===s?"near"===d||0!==b?-rt*st+st/2:"center"===d?-Ut.highest.height/2-vt*st+st:st/2-Ut.highest.height:"near"===d||0!==b?st/2:"center"===d?Ut.highest.height/2-vt*st:Ut.highest.height-rt*st,u&&(lt*=-1),0!==b&&!_t.showLabelBackdrop&&(S+=st/2*Math.sin(b))):(R=H,lt=(1-rt)*st/2),_t.showLabelBackdrop){const ni=It(_t.backdropPadding),Ji=Ut.heights[A],Qi=Ut.widths[A];let zi=lt-ni.top,$i=0-ni.left;switch(kt){case"middle":zi-=Ji/2;break;case"bottom":zi-=Ji}switch(B){case"center":$i-=Qi/2;break;case"right":$i-=Qi}Rn={left:$i,top:zi,width:Qi+ni.width,height:Ji+ni.height,color:_t.backdropColor}}v.push({label:O,font:K,textOffset:lt,options:{rotation:b,color:Pt,strokeColor:$t,strokeWidth:Dt,textAlign:ii,textBaseline:kt,translation:[S,R],backdrop:Rn}})}return v}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-Yt(this.labelRotation))return"top"===i?"left":"right";let s="center";return"start"===e.align?s="left":"end"===e.align?s="right":"inner"===e.align&&(s="inner"),s}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:o,mirror:s,padding:r}}=this.options,c=i+r,l=this._getLabelSizes().widest.width;let d,h;return"left"===e?s?(h=this.right+r,"near"===o?d="left":"center"===o?(d="center",h+=l/2):(d="right",h+=l)):(h=this.right-c,"near"===o?d="right":"center"===o?(d="center",h-=l/2):(d="left",h=this.left)):"right"===e?s?(h=this.left+r,"near"===o?d="right":"center"===o?(d="center",h-=l/2):(d="left",h-=l)):(h=this.left+c,"near"===o?d="left":"center"===o?(d="center",h+=l/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:o,top:s,width:r,height:a}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(o,s,r,a),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===i);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(i){const e=this.options.grid,o=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let r,a;const c=(l,d,h)=>{!h.width||!h.color||(o.save(),o.lineWidth=h.width,o.strokeStyle=h.color,o.setLineDash(h.borderDash||[]),o.lineDashOffset=h.borderDashOffset,o.beginPath(),o.moveTo(l.x,l.y),o.lineTo(d.x,d.y),o.stroke(),o.restore())};if(e.display)for(r=0,a=s.length;r<a;++r){const l=s[r];e.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{border:o,grid:s}}=this,r=o.setContext(this.getContext()),a=o.display?r.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,h,u,p;this.isHorizontal()?(d=we(i,this.left,a)-a/2,h=we(i,this.right,c)+c/2,u=p=l):(u=we(i,this.top,a)-a/2,p=we(i,this.bottom,c)+c/2,d=h=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(d,u),e.lineTo(h,p),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const o=this.ctx,s=this._computeLabelArea();s&&un(o,s);const r=this.getLabelItems(i);for(const a of r)Ae(o,a.label,0,a.textOffset,a.font,a.options);s&&pn(o)}drawTitle(){const{ctx:i,options:{position:e,title:o,reverse:s}}=this;if(!o.display)return;const r=wt(o.font),a=It(o.padding),c=o.align;let l=r.lineHeight/2;"bottom"===e||"center"===e||at(e)?(l+=a.bottom,bt(o.text)&&(l+=r.lineHeight*(o.text.length-1))):l+=a.top;const{titleX:d,titleY:h,maxWidth:u,rotation:p}=function Ug(n,i,e,o){const{top:s,left:r,bottom:a,right:c,chart:l}=n,{chartArea:d,scales:h}=l;let p,g,_,u=0;const b=a-s,v=c-r;if(n.isHorizontal()){if(g=St(o,r,c),at(e)){const A=Object.keys(e)[0];_=h[A].getPixelForValue(e[A])+b-i}else _="center"===e?(d.bottom+d.top)/2+b-i:Yr(n,e,i);p=c-r}else{if(at(e)){const A=Object.keys(e)[0];g=h[A].getPixelForValue(e[A])-v+i}else g="center"===e?(d.left+d.right)/2-v+i:Yr(n,e,i);_=St(o,a,s),u="left"===e?-yt:yt}return{titleX:g,titleY:_,maxWidth:p,rotation:u}}(this,l,e,c);Ae(i,o.text,0,0,r,{color:o.color,maxWidth:u,rotation:p,textAlign:Fg(c,e,s),textBaseline:"middle",translation:[d,h]})}draw(i){!this._isVisible()||(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,o=nt(i.grid&&i.grid.z,-1),s=nt(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Le.prototype.draw?[{z:o,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",s=[];let r,a;for(r=0,a=e.length;r<a;++r){const c=e[r];c[o]===this.id&&(!i||c.type===i)&&s.push(c)}return s}_resolveTickFontOptions(i){return wt(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class An{constructor(i,e,o){this.type=i,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let o;(function Hg(n){return"id"in n&&"defaults"in n})(e)&&(o=this.register(e));const s=this.items,r=i.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+i);return r in s||(s[r]=i,function Rg(n,i,e){const o=bi(Object.create(null),[e?Zt.get(e):{},Zt.get(i),n.defaults]);Zt.set(i,o),n.defaultRoutes&&function Bg(n,i){Object.keys(i).forEach(e=>{const o=e.split("."),s=o.pop(),r=[n].concat(o).join("."),a=i[e].split("."),c=a.pop(),l=a.join(".");Zt.route(r,s,l,c)})}(i,n.defaultRoutes),n.descriptors&&Zt.describe(i,n.descriptors)}(i,a,o),this.override&&Zt.override(i.id,i.overrides)),a}get(i){return this.items[i]}unregister(i){const e=this.items,o=i.id,s=this.scope;o in e&&delete e[o],s&&o in Zt[s]&&(delete Zt[s][o],this.override&&delete Pe[o])}}class Yg{constructor(){this.controllers=new An(Jt,"datasets",!0),this.elements=new An(Qt,"elements"),this.plugins=new An(Object,"plugins"),this.scales=new An(Le,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,o){[...e].forEach(s=>{const r=o||this._getRegistryForType(s);o||r.isForType(s)||r===this.plugins&&s.id?this._exec(i,r,s):gt(s,a=>{const c=o||this._getRegistryForType(a);this._exec(i,c,a)})})}_exec(i,e,o){const s=ro(i);mt(o["before"+s],[],o),e[i](o),mt(o["after"+s],[],o)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const o=this._typedRegistries[e];if(o.isForType(i))return o}return this.plugins}_get(i,e,o){const s=e.get(i);if(void 0===s)throw new Error('"'+i+'" is not a registered '+o+".");return s}}var Xt=new Yg;class Jg{constructor(){this._init=[]}notify(i,e,o,s){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const r=s?this._descriptors(i).filter(s):this._descriptors(i),a=this._notify(r,i,e,o);return"afterDestroy"===e&&(this._notify(r,i,"stop"),this._notify(this._init,i,"uninstall")),a}_notify(i,e,o,s){s=s||{};for(const r of i){const a=r.plugin;if(!1===mt(a[o],[e,s,r.options],a)&&s.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const o=i&&i.config,s=nt(o.options&&o.options.plugins,{}),r=function Qg(n){const i={},e=[],o=Object.keys(Xt.plugins.items);for(let r=0;r<o.length;r++)e.push(Xt.getPlugin(o[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];-1===e.indexOf(a)&&(e.push(a),i[a.id]=!0)}return{plugins:e,localIds:i}}(o);return!1!==s||e?function $g(n,{plugins:i,localIds:e},o,s){const r=[],a=n.getContext();for(const c of i){const l=c.id,d=zg(o[l],s);null!==d&&r.push({plugin:c,options:Vg(n.config,{plugin:c,local:e[l]},d,a)})}return r}(i,r,s,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],o=this._cache,s=(r,a)=>r.filter(c=>!a.some(l=>c.plugin.id===l.plugin.id));this._notify(s(e,o),i,"stop"),this._notify(s(o,e),i,"start")}}function zg(n,i){return i||!1!==n?!0===n?{}:n:null}function Vg(n,{plugin:i,local:e},o,s){const r=n.pluginScopeKeys(i),a=n.getOptionScopes(o,r);return e&&i.defaults&&a.push(i.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function So(n,i){return((i.datasets||{})[n]||{}).indexAxis||i.indexAxis||(Zt.datasets[n]||{}).indexAxis||"x"}function $r(n){if("x"===n||"y"===n||"r"===n)return n}function Wg(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function Io(n,...i){if($r(n))return n;for(const e of i){const o=e.axis||Wg(e.position)||n.length>1&&$r(n[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Vr(n,i,e){if(e[i+"AxisID"]===n)return{axis:i}}function jr(n){const i=n.options||(n.options={});i.plugins=nt(i.plugins,{}),i.scales=function Xg(n,i){const e=Pe[n.type]||{scales:{}},o=i.scales||{},s=So(n.type,i),r=Object.create(null);return Object.keys(o).forEach(a=>{const c=o[a];if(!at(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Io(a,c,function Kg(n,i){if(i.data&&i.data.datasets){const e=i.data.datasets.filter(o=>o.xAxisID===n||o.yAxisID===n);if(e.length)return Vr(n,"x",e[0])||Vr(n,"y",e[0])}return{}}(a,n),Zt.scales[c.type]),d=function Gg(n,i){return n===i?"_index_":"_value_"}(l,s),h=e.scales||{};r[a]=xi(Object.create(null),[{axis:l},c,h[l],h[d]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,l=a.indexAxis||So(c,i),h=(Pe[c]||{}).scales||{};Object.keys(h).forEach(u=>{const p=function jg(n,i){let e=n;return"_index_"===n?e=i:"_value_"===n&&(e="x"===i?"y":"x"),e}(u,l),g=a[p+"AxisID"]||p;r[g]=r[g]||Object.create(null),xi(r[g],[{axis:p},o[g],h[u]])})}),Object.keys(r).forEach(a=>{const c=r[a];xi(c,[Zt.scales[c.type],Zt.scale])}),r}(n,i)}function Gr(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Wr=new Map,Kr=new Set;function kn(n,i){let e=Wr.get(n);return e||(e=i(),Wr.set(n,e),Kr.add(e)),e}const Ni=(n,i,e)=>{const o=pe(i,e);void 0!==o&&n.add(o)};class e_{constructor(i){this._config=function t_(n){return(n=n||{}).data=Gr(n.data),jr(n),n}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Gr(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),jr(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return kn(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return kn(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return kn(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return kn(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const o=this._scopeCache;let s=o.get(i);return(!s||e)&&(s=new Map,o.set(i,s)),s}getOptionScopes(i,e,o){const{options:s,type:r}=this,a=this._cachedScopes(i,o),c=a.get(e);if(c)return c;const l=new Set;e.forEach(h=>{i&&(l.add(i),h.forEach(u=>Ni(l,i,u))),h.forEach(u=>Ni(l,s,u)),h.forEach(u=>Ni(l,Pe[r]||{},u)),h.forEach(u=>Ni(l,Zt,u)),h.forEach(u=>Ni(l,go,u))});const d=Array.from(l);return 0===d.length&&d.push(Object.create(null)),Kr.has(e)&&a.set(e,d),d}chartOptionScopes(){const{options:i,type:e}=this;return[i,Pe[e]||{},Zt.datasets[e]||{},{type:e},Zt,go]}resolveNamedOptions(i,e,o,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:c}=Xr(this._resolverCache,i,s);let l=a;(function n_(n,i){const{isScriptable:e,isIndexable:o}=tr(n);for(const s of i){const r=e(s),a=o(s),c=(a||r)&&n[s];if(r&&(ge(c)||i_(c))||a&&bt(c))return!0}return!1})(a,e)&&(r.$shared=!1,l=je(a,o=ge(o)?o():o,this.createResolver(i,o,c)));for(const d of e)r[d]=l[d];return r}createResolver(i,e,o=[""],s){const{resolver:r}=Xr(this._resolverCache,i,o);return at(e)?je(r,e,void 0,s):r}}function Xr(n,i,e){let o=n.get(i);o||(o=new Map,n.set(i,o));const s=e.join();let r=o.get(s);return r||(r={resolver:bo(i,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},o.set(s,r)),r}const i_=n=>at(n)&&Object.getOwnPropertyNames(n).reduce((i,e)=>i||ge(n[e]),!1),s_=["top","bottom","left","right","chartArea"];function ta(n,i){return"top"===n||"bottom"===n||-1===s_.indexOf(n)&&"x"===i}function ea(n,i){return function(e,o){return e[n]===o[n]?e[i]-o[i]:e[n]-o[n]}}function ia(n){const i=n.chart,e=i.options.animation;i.notifyPlugins("afterRender"),mt(e&&e.onComplete,[n],i)}function r_(n){const i=n.chart,e=i.options.animation;mt(e&&e.onProgress,[n],i)}function na(n){return cr()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Mn={},oa=n=>{const i=na(n);return Object.values(Mn).filter(e=>e.canvas===i).pop()};function a_(n,i,e){const o=Object.keys(n);for(const s of o){const r=+s;if(r>=i){const a=n[s];delete n[s],(e>0||r>i)&&(n[r+e]=a)}}}class te{static register(...i){Xt.add(...i),sa()}static unregister(...i){Xt.remove(...i),sa()}constructor(i,e){const o=this.config=new e_(e),s=na(i),r=oa(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function wg(n){return!cr()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?pg:Pg}(s)),this.platform.updateConfig(o);const c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;this.id=hu(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Au(n,i){let e;return function(...o){return i?(clearTimeout(e),e=setTimeout(n,i,o)):n.apply(this,o),i}}(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],Mn[this.id]=this,c&&l?(ce.listen(this,"complete",ia),ce.listen(this,"progress",r_),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:e},width:o,height:s,_aspectRatio:r}=this;return dt(i)?e&&r?r:s?o/s:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return Xt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ws(this.canvas,this.ctx),this}stop(){return ce.stop(this),this}resize(i,e){ce.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){const o=this.options,a=this.platform.getMaximumSize(this.canvas,i,e,o.maintainAspectRatio&&this.aspectRatio),c=o.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,lr(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),mt(o.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){gt(this.options.scales||{},(o,s)=>{o.id=s})}buildOrUpdateScales(){const i=this.options,e=i.scales,o=this.scales,s=Object.keys(o).reduce((a,c)=>(a[c]=!1,a),{});let r=[];e&&(r=r.concat(Object.keys(e).map(a=>{const c=e[a],l=Io(a,c),d="r"===l,h="x"===l;return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),gt(r,a=>{const c=a.options,l=c.id,d=Io(l,c),h=nt(c.type,a.dtype);(void 0===c.position||ta(c.position,d)!==ta(a.dposition))&&(c.position=a.dposition),s[l]=!0;let u=null;l in o&&o[l].type===h?u=o[l]:(u=new(Xt.getScale(h))({id:l,type:h,ctx:this.ctx,chart:this}),o[u.id]=u),u.init(c,i)}),gt(s,(a,c)=>{a||delete o[c]}),gt(o,a=>{Ot.configure(this,a,a.options),Ot.addBox(this,a)})}_updateMetasets(){const i=this._metasets,e=this.data.datasets.length,o=i.length;if(i.sort((s,r)=>s.index-r.index),o>e){for(let s=e;s<o;++s)this._destroyDatasetMeta(s);i.splice(e,o-e)}this._sortedMetasets=i.slice(0).sort(ea("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((o,s)=>{0===e.filter(r=>r===o._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const i=[],e=this.data.datasets;let o,s;for(this._removeUnreferencedMetasets(),o=0,s=e.length;o<s;o++){const r=e[o];let a=this.getDatasetMeta(o);const c=r.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=c,a.indexAxis=r.indexAxis||So(c,this.options),a.order=r.order||0,a.index=o,a.label=""+r.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{const l=Xt.getController(c),{datasetElementType:d,dataElementType:h}=Zt.datasets[c];Object.assign(l,{dataElementType:Xt.getElement(h),datasetElementType:d&&Xt.getElement(d)}),a.controller=new l(this,o),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){gt(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const e=this.config;e.update();const o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:u}=this.getDatasetMeta(d),p=!s&&-1===r.indexOf(u);u.buildOrUpdateElements(p),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),s||gt(r,d=>{d.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(ea("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){gt(this.scales,i=>{Ot.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(i.events);(!Ds(e,o)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,e=this._getUniformDataChanges()||[];for(const{method:o,start:s,count:r}of e)a_(i,s,"_removeElements"===o?-r:r)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const e=this.data.datasets.length,o=r=>new Set(i.filter(a=>a[0]===r).map((a,c)=>c+","+a.splice(1).join(","))),s=o(0);for(let r=1;r<e;r++)if(!Ds(s,o(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ot.update(this,this.width,this.height,i);const e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],gt(this.boxes,s=>{o&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,ge(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){const o=this.getDatasetMeta(i),s={meta:o,index:i,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(o.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ce.has(this)?this.attached&&!ce.running(this)&&ce.start(this):(this.draw(),ia({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:o,height:s}=this._resizeBeforeDraw;this._resize(o,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const e=this._sortedMetasets,o=[];let s,r;for(s=0,r=e.length;s<r;++s){const a=e[s];(!i||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const e=this.ctx,o=i._clip,s=!o.disabled,r=function l_(n){const{xScale:i,yScale:e}=n;if(i&&e)return{left:i.left,right:i.right,top:e.top,bottom:e.bottom}}(i)||this.chartArea,a={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(s&&un(e,{left:!1===o.left?0:r.left-o.left,right:!1===o.right?this.width:r.right+o.right,top:!1===o.top?0:r.top-o.top,bottom:!1===o.bottom?this.height:r.bottom+o.bottom}),i.controller.draw(),s&&pn(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(i){return ae(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,e,o,s){const r=sg.modes[e];return"function"==typeof r?r(this,i,o,s):[]}getDatasetMeta(i){const e=this.data.datasets[i],o=this._metasets;let s=o.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},o.push(s)),s}getContext(){return this.$context||(this.$context=fe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const e=this.data.datasets[i];if(!e)return!1;const o=this.getDatasetMeta(i);return"boolean"==typeof o.hidden?!o.hidden:!e.hidden}setDatasetVisibility(i,e){this.getDatasetMeta(i).hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,o){const s=o?"show":"hide",r=this.getDatasetMeta(i),a=r.controller._resolveAnimations(void 0,s);Ci(e)?(r.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(i,o),a.update(r,{visible:o}),this.update(c=>c.datasetIndex===i?s:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){const e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),ce.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Ws(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Mn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,e=this.platform,o=(r,a)=>{e.addEventListener(this,r,a),i[r]=a},s=(r,a,c)=>{r.offsetX=a,r.offsetY=c,this._eventHandler(r)};gt(this.options.events,r=>o(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,e=this.platform,o=(l,d)=>{e.addEventListener(this,l,d),i[l]=d},s=(l,d)=>{i[l]&&(e.removeEventListener(this,l,d),delete i[l])},r=(l,d)=>{this.canvas&&this.resize(l,d)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),o("resize",r),o("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),o("attach",c)},e.isAttached(this.canvas)?c():a()}unbindEvents(){gt(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},gt(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,o){const s=o?"set":"remove";let r,a,c,l;for("dataset"===e&&(r=this.getDatasetMeta(i[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=i.length;c<l;++c){a=i[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const e=this._active||[],o=i.map(({datasetIndex:r,index:a})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[a],index:a}});!rn(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(i,e,o){return this._plugins.notify(this,i,e,o)}isPluginEnabled(i){return 1===this._plugins._cache.filter(e=>e.plugin.id===i).length}_updateHoverStyles(i,e,o){const s=this.options.hover,r=(l,d)=>l.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),a=r(e,i),c=o?i:r(i,e);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(i,e){const o={event:i,replay:e,cancelable:!0,inChartArea:this.isPointInArea(i)},s=a=>(a.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",o,s))return;const r=this._handleEvent(i,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,s),(r||o.changed)&&this.render(),this}_handleEvent(i,e,o){const{_active:s=[],options:r}=this,c=this._getActiveElements(i,s,o,e),l=function mu(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(i),d=function c_(n,i,e,o){return e&&"mouseout"!==n.type?o?i:n:null}(i,this._lastEvent,o,l);o&&(this._lastEvent=null,mt(r.onHover,[i,c,this],this),l&&mt(r.onClick,[i,c,this],this));const h=!rn(c,s);return(h||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=d,h}_getActiveElements(i,e,o,s){if("mouseout"===i.type)return[];if(!o)return e;const r=this.options.hover;return this.getElementsAtEventForMode(i,r.mode,r,s)}}function sa(){return gt(te.instances,n=>n._plugins.invalidate())}function Ke(n,i,e,o){return{x:e+n*Math.cos(i),y:o+n*Math.sin(i)}}function Sn(n,i,e,o,s,r){const{x:a,y:c,startAngle:l,pixelMargin:d,innerRadius:h}=i,u=Math.max(i.outerRadius+o+e-d,0),p=h>0?h+o+e+d:0;let g=0;const _=s-l;if(o){const Pt=((h>0?h-o:0)+(u>0?u-o:0))/2;g=(_-(0!==Pt?_*Pt/(Pt+o):_))/2}const v=(_-Math.max(.001,_*u-e/Ct)/u)/2,A=l+v+g,M=s-v-g,{outerStart:I,outerEnd:O,innerStart:S,innerEnd:R}=function u_(n,i,e,o){const s=function h_(n){return mo(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),r=(e-i)/2,a=Math.min(r,o*i/2),c=l=>{const d=(e-Math.min(r,l))*o/2;return At(l,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:At(s.innerStart,0,a),innerEnd:At(s.innerEnd,0,a)}}(i,p,u,M-A),B=u-I,H=u-O,K=A+I/B,st=M-O/H,rt=p+S,lt=p+R,kt=A+S/rt,Ut=M-R/lt;if(n.beginPath(),r){const _t=(K+st)/2;if(n.arc(a,c,u,K,_t),n.arc(a,c,u,_t,st),O>0){const Dt=Ke(H,st,a,c);n.arc(Dt.x,Dt.y,O,st,M+yt)}const vt=Ke(lt,M,a,c);if(n.lineTo(vt.x,vt.y),R>0){const Dt=Ke(lt,Ut,a,c);n.arc(Dt.x,Dt.y,R,M+yt,Ut+Math.PI)}const Pt=(M-R/p+(A+S/p))/2;if(n.arc(a,c,p,M-R/p,Pt,!0),n.arc(a,c,p,Pt,A+S/p,!0),S>0){const Dt=Ke(rt,kt,a,c);n.arc(Dt.x,Dt.y,S,kt+Math.PI,A-yt)}const $t=Ke(B,A,a,c);if(n.lineTo($t.x,$t.y),I>0){const Dt=Ke(B,K,a,c);n.arc(Dt.x,Dt.y,I,A-yt,K)}}else{n.moveTo(a,c);const _t=Math.cos(K)*u+a,vt=Math.sin(K)*u+c;n.lineTo(_t,vt);const Pt=Math.cos(st)*u+a,$t=Math.sin(st)*u+c;n.lineTo(Pt,$t)}n.closePath()}E(te,"defaults",Zt),E(te,"instances",Mn),E(te,"overrides",Pe),E(te,"registry",Xt),E(te,"version","4.3.0"),E(te,"getChart",oa);class Ei extends Qt{constructor(i){super(),E(this,"circumference"),E(this,"endAngle"),E(this,"fullCircles"),E(this,"innerRadius"),E(this,"outerRadius"),E(this,"pixelMargin"),E(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,o){const s=this.getProps(["x","y"],o),{angle:r,distance:a}=Fs(s,{x:i,y:e}),{startAngle:c,endAngle:l,innerRadius:d,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),p=(this.options.spacing+this.options.borderWidth)/2,_=nt(u,l-c)>=xt||Ti(r,c,l),b=se(a,d+p,h+p);return _&&b}getCenterPoint(i){const{x:e,y:o,startAngle:s,endAngle:r,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:l,spacing:d}=this.options,h=(s+r)/2,u=(a+c+d+l)/2;return{x:e+Math.cos(h)*u,y:o+Math.sin(h)*u}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:o}=this,s=(e.offset||0)/4,r=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=o>xt?Math.floor(o/xt):0,0===o||this.innerRadius<0||this.outerRadius<0)return;i.save();const c=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(c)*s,Math.sin(c)*s);const d=s*(1-Math.sin(Math.min(Ct,o||0)));i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,function p_(n,i,e,o,s){const{fullCircles:r,startAngle:a,circumference:c}=i;let l=i.endAngle;if(r){Sn(n,i,e,o,l,s);for(let d=0;d<r;++d)n.fill();isNaN(c)||(l=a+(c%xt||xt))}Sn(n,i,e,o,l,s),n.fill()}(i,this,d,r,a),function g_(n,i,e,o,s){const{fullCircles:r,startAngle:a,circumference:c,options:l}=i,{borderWidth:d,borderJoinStyle:h,borderDash:u,borderDashOffset:p}=l,g="inner"===l.borderAlign;if(!d)return;n.setLineDash(u||[]),n.lineDashOffset=p,g?(n.lineWidth=2*d,n.lineJoin=h||"round"):(n.lineWidth=d,n.lineJoin=h||"bevel");let _=i.endAngle;if(r){Sn(n,i,e,o,_,s);for(let b=0;b<r;++b)n.stroke();isNaN(c)||(_=a+(c%xt||xt))}g&&function d_(n,i,e){const{startAngle:o,pixelMargin:s,x:r,y:a,outerRadius:c,innerRadius:l}=i;let d=s/c;n.beginPath(),n.arc(r,a,c,o-d,e+d),l>s?(d=s/l,n.arc(r,a,l,e+d,o-d,!0)):n.arc(r,a,s,e+yt,o-yt),n.closePath(),n.clip()}(n,i,_),r||(Sn(n,i,e,o,_,s),n.stroke())}(i,this,d,r,a),i.restore()}}function ra(n,i,e=i){n.lineCap=nt(e.borderCapStyle,i.borderCapStyle),n.setLineDash(nt(e.borderDash,i.borderDash)),n.lineDashOffset=nt(e.borderDashOffset,i.borderDashOffset),n.lineJoin=nt(e.borderJoinStyle,i.borderJoinStyle),n.lineWidth=nt(e.borderWidth,i.borderWidth),n.strokeStyle=nt(e.borderColor,i.borderColor)}function __(n,i,e){n.lineTo(e.x,e.y)}function aa(n,i,e={}){const o=n.length,{start:s=0,end:r=o-1}=e,{start:a,end:c}=i,l=Math.max(s,a),d=Math.min(r,c);return{count:o,start:l,loop:i.loop,ilen:d<l&&!(s<a&&r<a||s>c&&r>c)?o+d-l:d-l}}function m_(n,i,e,o){const{points:s,options:r}=i,{count:a,start:c,loop:l,ilen:d}=aa(s,e,o),h=function f_(n){return n.stepped?Uu:n.tension||"monotone"===n.cubicInterpolationMode?Ru:__}(r);let g,_,b,{move:u=!0,reverse:p}=o||{};for(g=0;g<=d;++g)_=s[(c+(p?d-g:g))%a],!_.skip&&(u?(n.moveTo(_.x,_.y),u=!1):h(n,b,_,p,r.stepped),b=_);return l&&(_=s[(c+(p?d:0))%a],h(n,b,_,p,r.stepped)),!!l}function b_(n,i,e,o){const s=i.points,{count:r,start:a,ilen:c}=aa(s,e,o),{move:l=!0,reverse:d}=o||{};let p,g,_,b,v,A,h=0,u=0;const M=O=>(a+(d?c-O:O))%r,I=()=>{b!==v&&(n.lineTo(h,v),n.lineTo(h,b),n.lineTo(h,A))};for(l&&(g=s[M(0)],n.moveTo(g.x,g.y)),p=0;p<=c;++p){if(g=s[M(p)],g.skip)continue;const O=g.x,S=g.y,R=0|O;R===_?(S<b?b=S:S>v&&(v=S),h=(u*h+O)/++u):(I(),n.lineTo(O,S),_=R,u=0,b=v=S),A=S}I()}function Oo(n){const i=n.options;return n._decimated||n._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?m_:b_}E(Ei,"id","arc"),E(Ei,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),E(Ei,"defaultRoutes",{backgroundColor:"backgroundColor"}),E(Ei,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i});const T_="function"==typeof Path2D;class me extends Qt{constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,e){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(dp(this._points,o,i,o.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Pp(n,i){const e=n.points,o=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:a,end:c}=function yp(n,i,e,o){let s=0,r=i-1;if(e&&!o)for(;s<i&&!n[s].skip;)s++;for(;s<i&&n[s].skip;)s++;for(s%=i,e&&(r+=s);r>s&&n[r%i].skip;)r--;return r%=i,{start:s,end:r}}(e,s,r,o);return function mr(n,i,e,o){return o&&o.setContext&&e?function wp(n,i,e,o){const s=n._chart.getContext(),r=br(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,l=e.length,d=[];let h=r,u=i[0].start,p=u;function g(_,b,v,A){const M=c?-1:1;if(_!==b){for(_+=l;e[_%l].skip;)_-=M;for(;e[b%l].skip;)b+=M;_%l!=b%l&&(d.push({start:_%l,end:b%l,loop:v,style:A}),h=A,u=b%l)}}for(const _ of i){u=c?u:_.start;let v,b=e[u%l];for(p=u+1;p<=_.end;p++){const A=e[p%l];v=br(o.setContext(fe(s,{type:"segment",p0:b,p1:A,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),Ap(v,h)&&g(u,p-1,_.loop,h),b=A,h=v}u<p-1&&g(u,p-1,_.loop,h)}return d}(n,i,e,o):i}(n,!0===o?[{start:a,end:c,loop:r}]:function Zp(n,i,e,o){const s=n.length,r=[];let l,a=i,c=n[i];for(l=i+1;l<=e;++l){const d=n[l%s];d.skip||d.stop?c.skip||(r.push({start:i%s,end:(l-1)%s,loop:o=!1}),i=a=d.stop?l:null):(a=l,c.skip&&(i=l)),c=d}return null!==a&&r.push({start:i%s,end:a%s,loop:o}),r}(e,a,c<a?c+s:c,!!n._fullLoop&&0===a&&c===s-1),e,i)}(this,this.options.segment))}first(){const i=this.segments;return i.length&&this.points[i[0].start]}last(){const i=this.segments,o=i.length;return o&&this.points[i[o-1].end]}interpolate(i,e){const o=this.options,s=i[e],r=this.points,a=fr(this,{property:e,start:s,end:s});if(!a.length)return;const c=[],l=function x_(n){return n.stepped?bp:n.tension||"monotone"===n.cubicInterpolationMode?xp:Ie}(o);let d,h;for(d=0,h=a.length;d<h;++d){const{start:u,end:p}=a[d],g=r[u],_=r[p];if(g===_){c.push(g);continue}const v=l(g,_,Math.abs((s-g[e])/(_[e]-g[e])),o.stepped);v[e]=i[e],c.push(v)}return 1===c.length?c[0]:c}pathSegment(i,e,o){return Oo(this)(i,this,e,o)}path(i,e,o){const s=this.segments,r=Oo(this);let a=this._loop;e=e||0,o=o||this.points.length-e;for(const c of s)a&=r(i,this,c,{start:e,end:e+o-1});return!!a}draw(i,e,o,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(i.save(),function y_(n,i,e,o){T_&&!i.options.segment?function C_(n,i,e,o){let s=i._path;s||(s=i._path=new Path2D,i.path(s,e,o)&&s.closePath()),ra(n,i.options),n.stroke(s)}(n,i,e,o):function v_(n,i,e,o){const{segments:s,options:r}=i,a=Oo(i);for(const c of s)ra(n,r,c.style),n.beginPath(),a(n,i,c,{start:e,end:e+o-1})&&n.closePath(),n.stroke()}(n,i,e,o)}(i,this,o,s),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ca(n,i,e,o){const s=n.options,{[e]:r}=n.getProps([e],o);return Math.abs(i-r)<s.radius+s.hitRadius}E(me,"id","line"),E(me,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),E(me,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),E(me,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i});class In extends Qt{constructor(i){super(),E(this,"parsed"),E(this,"skip"),E(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,e,o){const s=this.options,{x:r,y:a}=this.getProps(["x","y"],o);return Math.pow(i-r,2)+Math.pow(e-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(i,e){return ca(this,i,"x",e)}inYRange(i,e){return ca(this,i,"y",e)}getCenterPoint(i){const{x:e,y:o}=this.getProps(["x","y"],i);return{x:e,y:o}}size(i){let e=(i=i||this.options||{}).radius||0;return e=Math.max(e,e&&i.hoverRadius||0),2*(e+(e&&i.borderWidth||0))}draw(i,e){const o=this.options;this.skip||o.radius<.1||!ae(this,e,this.size(o)/2)||(i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.fillStyle=o.backgroundColor,fo(i,o,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}function la(n,i){const{x:e,y:o,base:s,width:r,height:a}=n.getProps(["x","y","base","width","height"],i);let c,l,d,h,u;return n.horizontal?(u=a/2,c=Math.min(e,s),l=Math.max(e,s),d=o-u,h=o+u):(u=r/2,c=e-u,l=e+u,d=Math.min(o,s),h=Math.max(o,s)),{left:c,top:d,right:l,bottom:h}}function be(n,i,e,o){return n?0:At(i,e,o)}function Do(n,i,e,o){const s=null===i,r=null===e,c=n&&!(s&&r)&&la(n,o);return c&&(s||se(i,c.left,c.right))&&(r||se(e,c.top,c.bottom))}function k_(n,i){n.rect(i.x,i.y,i.w,i.h)}function Lo(n,i,e={}){const o=n.x!==e.x?-i:0,s=n.y!==e.y?-i:0;return{x:n.x+o,y:n.y+s,w:n.w+((n.x+n.w!==e.x+e.w?i:0)-o),h:n.h+((n.y+n.h!==e.y+e.h?i:0)-s),radius:n.radius}}E(In,"id","point"),E(In,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),E(In,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class On extends Qt{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:o,backgroundColor:s}}=this,{inner:r,outer:a}=function w_(n){const i=la(n),e=i.right-i.left,o=i.bottom-i.top,s=function Z_(n,i,e){const s=n.borderSkipped,r=Xs(n.options.borderWidth);return{t:be(s.top,r.top,0,e),r:be(s.right,r.right,0,i),b:be(s.bottom,r.bottom,0,e),l:be(s.left,r.left,0,i)}}(n,e/2,o/2),r=function P_(n,i,e){const{enableBorderRadius:o}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=ke(s),a=Math.min(i,e),c=n.borderSkipped,l=o||at(s);return{topLeft:be(!l||c.top||c.left,r.topLeft,0,a),topRight:be(!l||c.top||c.right,r.topRight,0,a),bottomLeft:be(!l||c.bottom||c.left,r.bottomLeft,0,a),bottomRight:be(!l||c.bottom||c.right,r.bottomRight,0,a)}}(n,e/2,o/2);return{outer:{x:i.left,y:i.top,w:e,h:o,radius:r},inner:{x:i.left+s.l,y:i.top+s.t,w:e-s.l-s.r,h:o-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}(this),c=function A_(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?wi:k_;i.save(),(a.w!==r.w||a.h!==r.h)&&(i.beginPath(),c(i,Lo(a,e,r)),i.clip(),c(i,Lo(r,-e,a)),i.fillStyle=o,i.fill("evenodd")),i.beginPath(),c(i,Lo(r,e)),i.fillStyle=s,i.fill(),i.restore()}inRange(i,e,o){return Do(this,i,e,o)}inXRange(i,e){return Do(this,i,null,e)}inYRange(i,e){return Do(this,null,i,e)}getCenterPoint(i){const{x:e,y:o,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],i);return{x:r?(e+s)/2:e,y:r?o:(o+s)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}E(On,"id","bar"),E(On,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),E(On,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var M_=Object.freeze({__proto__:null,ArcElement:Ei,BarElement:On,LineElement:me,PointElement:In});const qo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],da=qo.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function ha(n){return qo[n%qo.length]}function ua(n){return da[n%da.length]}function pa(n){let i;for(i in n)if(n[i].borderColor||n[i].backgroundColor)return!0;return!1}var q_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,i,e){if(!e.enabled)return;const{data:{datasets:o},options:s}=n.config,{elements:r}=s;if(!e.forceOverride&&(pa(o)||function L_(n){return n&&(n.borderColor||n.backgroundColor)}(s)||r&&pa(r)))return;const a=function D_(n){let i=0;return(e,o)=>{const s=n.getDatasetMeta(o).controller;s instanceof Oe?i=function I_(n,i){return n.backgroundColor=n.data.map(()=>ha(i++)),i}(e,i):s instanceof Mi?i=function O_(n,i){return n.backgroundColor=n.data.map(()=>ua(i++)),i}(e,i):s&&(i=function S_(n,i){return n.borderColor=ha(i),n.backgroundColor=ua(i),++i}(e,i))}}(n);o.forEach(a)}};function ga(n){if(n._decimated){const i=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function _a(n){n.data.datasets.forEach(i=>{ga(i)})}var U_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,i,e)=>{if(!e.enabled)return void _a(n);const o=n.width;n.data.datasets.forEach((s,r)=>{const{_data:a,indexAxis:c}=s,l=n.getDatasetMeta(r),d=a||s.data;if("y"===Ai([c,n.options.indexAxis])||!l.controller.supportsDecimation)return;const h=n.scales[l.xAxisID];if("linear"!==h.type&&"time"!==h.type||n.options.parsing)return;let _,{start:u,count:p}=function F_(n,i){const e=i.length;let s,o=0;const{iScale:r}=n,{min:a,max:c,minDefined:l,maxDefined:d}=r.getUserBounds();return l&&(o=At(re(i,r.axis,a).lo,0,e-1)),s=d?At(re(i,r.axis,c).hi+1,o,e)-o:e-o,{start:o,count:s}}(l,d);if(p<=(e.threshold||4*o))ga(s);else{switch(dt(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}})),e.algorithm){case"lttb":_=function N_(n,i,e,o,s){const r=s.samples||o;if(r>=e)return n.slice(i,i+e);const a=[],c=(e-2)/(r-2);let l=0;const d=i+e-1;let u,p,g,_,b,h=i;for(a[l++]=n[h],u=0;u<r-2;u++){let M,v=0,A=0;const I=Math.floor((u+1)*c)+1+i,O=Math.min(Math.floor((u+2)*c)+1,e)+i,S=O-I;for(M=I;M<O;M++)v+=n[M].x,A+=n[M].y;v/=S,A/=S;const R=Math.floor(u*c)+1+i,B=Math.min(Math.floor((u+1)*c)+1,e)+i,{x:H,y:K}=n[h];for(g=_=-1,M=R;M<B;M++)_=.5*Math.abs((H-v)*(n[M].y-K)-(H-n[M].x)*(A-K)),_>g&&(g=_,p=n[M],b=M);a[l++]=p,h=b}return a[l++]=n[d],a}(d,u,p,o,e);break;case"min-max":_=function E_(n,i,e,o){let a,c,l,d,h,u,p,g,_,b,s=0,r=0;const v=[],M=n[i].x,O=n[i+e-1].x-M;for(a=i;a<i+e;++a){c=n[a],l=(c.x-M)/O*o,d=c.y;const S=0|l;if(S===h)d<_?(_=d,u=a):d>b&&(b=d,p=a),s=(r*s+c.x)/++r;else{const R=a-1;if(!dt(u)&&!dt(p)){const B=Math.min(u,p),H=Math.max(u,p);B!==g&&B!==R&&v.push(Hn(Bn({},n[B]),{x:s})),H!==g&&H!==R&&v.push(Hn(Bn({},n[H]),{x:s}))}a>0&&R!==g&&v.push(n[R]),v.push(c),h=S,r=0,_=b=d,u=p=g=a}}return v}(d,u,p,o);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=_}})},destroy(n){_a(n)}};function No(n,i,e,o){if(o)return;let s=i[n],r=e[n];return"angle"===n&&(s=Ft(s),r=Ft(r)),{property:n,start:s,end:r}}function Eo(n,i,e){for(;i>n;i--){const o=e[i];if(!isNaN(o.x)&&!isNaN(o.y))break}return i}function fa(n,i,e,o){return n&&i?o(n[e],i[e]):n?n[e]:i?i[e]:0}function ma(n,i){let e=[],o=!1;return bt(n)?(o=!0,e=n):e=function B_(n,i){const{x:e=null,y:o=null}=n||{},s=i.points,r=[];return i.segments.forEach(({start:a,end:c})=>{c=Eo(a,c,s);const l=s[a],d=s[c];null!==o?(r.push({x:l.x,y:o}),r.push({x:d.x,y:o})):null!==e&&(r.push({x:e,y:l.y}),r.push({x:e,y:d.y}))}),r}(n,i),e.length?new me({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function ba(n){return n&&!1!==n.fill}function H_(n,i,e){let s=n[i].fill;const r=[i];let a;if(!e)return s;for(;!1!==s&&-1===r.indexOf(s);){if(!Tt(s))return s;if(a=n[s],!a)return!1;if(a.visible)return s;r.push(s),s=a.fill}return!1}function Y_(n,i,e){const o=function $_(n){const i=n.options,e=i.fill;let o=nt(e&&e.target,e);return void 0===o&&(o=!!i.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(n);if(at(o))return!isNaN(o.value)&&o;let s=parseFloat(o);return Tt(s)&&Math.floor(s)===s?function J_(n,i,e,o){return("-"===n||"+"===n)&&(e=i+e),!(e===i||e<0||e>=o)&&e}(o[0],i,s,e):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function G_(n,i,e){const o=[];for(let s=0;s<e.length;s++){const r=e[s],{first:a,last:c,point:l}=W_(r,i,"x");if(!(!l||a&&c))if(a)o.unshift(l);else if(n.push(l),!c)break}n.push(...o)}function W_(n,i,e){const o=n.interpolate(i,e);if(!o)return{};const s=o[e],r=n.segments,a=n.points;let c=!1,l=!1;for(let d=0;d<r.length;d++){const h=r[d],u=a[h.start][e],p=a[h.end][e];if(se(s,u,p)){c=s===u,l=s===p;break}}return{first:c,last:l,point:o}}class xa{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,o){const{x:s,y:r,radius:a}=this;return i.arc(s,r,a,(e=e||{start:0,end:xt}).end,e.start,!0),!o.bounds}interpolate(i){const{x:e,y:o,radius:s}=this,r=i.angle;return{x:e+Math.cos(r)*s,y:o+Math.sin(r)*s,angle:r}}}function Fo(n,i,e){const o=function K_(n){const{chart:i,fill:e,line:o}=n;if(Tt(e))return function X_(n,i){const e=n.getDatasetMeta(i);return e&&n.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function V_(n){const{scale:i,index:e,line:o}=n,s=[],r=o.segments,a=o.points,c=function j_(n,i){const e=[],o=n.getMatchingVisibleMetas("line");for(let s=0;s<o.length;s++){const r=o[s];if(r.index===i)break;r.hidden||e.unshift(r.dataset)}return e}(i,e);c.push(ma({x:null,y:i.bottom},o));for(let l=0;l<r.length;l++){const d=r[l];for(let h=d.start;h<=d.end;h++)G_(s,a[h],c)}return new me({points:s,options:{}})}(n);if("shape"===e)return!0;const s=function tf(n){return(n.scale||{}).getPointPositionForValue?function nf(n){const{scale:i,fill:e}=n,o=i.options,s=i.getLabels().length,r=o.reverse?i.max:i.min,a=function z_(n,i,e){let o;return o="start"===n?e:"end"===n?i.options.reverse?i.min:i.max:at(n)?n.value:i.getBaseValue(),o}(e,i,r),c=[];if(o.grid.circular){const l=i.getPointPositionForValue(0,r);return new xa({x:l.x,y:l.y,radius:i.getDistanceFromCenterForValue(a)})}for(let l=0;l<s;++l)c.push(i.getPointPositionForValue(l,a));return c}(n):function ef(n){const{scale:i={},fill:e}=n,o=function Q_(n,i){let e=null;return"start"===n?e=i.bottom:"end"===n?e=i.top:at(n)?e=i.getPixelForValue(n.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(Tt(o)){const s=i.isHorizontal();return{x:s?o:null,y:s?null:o}}return null}(n)}(n);return s instanceof xa?s:ma(s,o)}(i),{line:s,scale:r,axis:a}=i,c=s.options,l=c.fill,d=c.backgroundColor,{above:h=d,below:u=d}=l||{};o&&s.points.length&&(un(n,e),function of(n,i){const{line:e,target:o,above:s,below:r,area:a,scale:c}=i,l=e._loop?"angle":i.axis;n.save(),"x"===l&&r!==s&&(Ca(n,o,a.top),va(n,{line:e,target:o,color:s,scale:c,property:l}),n.restore(),n.save(),Ca(n,o,a.bottom)),va(n,{line:e,target:o,color:r,scale:c,property:l}),n.restore()}(n,{line:s,target:o,above:h,below:u,area:e,scale:r,axis:a}),pn(n))}function Ca(n,i,e){const{segments:o,points:s}=i;let r=!0,a=!1;n.beginPath();for(const c of o){const{start:l,end:d}=c,h=s[l],u=s[Eo(l,d,s)];r?(n.moveTo(h.x,h.y),r=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),a=!!i.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(u.x,e)}n.lineTo(i.first().x,e),n.closePath(),n.clip()}function va(n,i){const{line:e,target:o,property:s,color:r,scale:a}=i,c=function R_(n,i,e){const o=n.segments,s=n.points,r=i.points,a=[];for(const c of o){let{start:l,end:d}=c;d=Eo(l,d,s);const h=No(e,s[l],s[d],c.loop);if(!i.segments){a.push({source:c,target:h,start:s[l],end:s[d]});continue}const u=fr(i,h);for(const p of u){const g=No(e,r[p.start],r[p.end],p.loop),_=_r(c,s,g);for(const b of _)a.push({source:b,target:p,start:{[e]:fa(h,g,"start",Math.max)},end:{[e]:fa(h,g,"end",Math.min)}})}}return a}(e,o,s);for(const{source:l,target:d,start:h,end:u}of c){const{style:{backgroundColor:p=r}={}}=l,g=!0!==o;n.save(),n.fillStyle=p,sf(n,a,g&&No(s,h,u)),n.beginPath();const _=!!e.pathSegment(n,l);let b;if(g){_?n.closePath():Ta(n,o,u,s);const v=!!o.pathSegment(n,d,{move:_,reverse:!0});b=_&&v,b||Ta(n,o,h,s)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function sf(n,i,e){const{top:o,bottom:s}=i.chart.chartArea,{property:r,start:a,end:c}=e||{};"x"===r&&(n.beginPath(),n.rect(a,o,c-a,s-o),n.clip())}function Ta(n,i,e,o){const s=i.interpolate(e,o);s&&n.lineTo(s.x,s.y)}var rf={id:"filler",afterDatasetsUpdate(n,i,e){const o=(n.data.datasets||[]).length,s=[];let r,a,c,l;for(a=0;a<o;++a)r=n.getDatasetMeta(a),c=r.dataset,l=null,c&&c.options&&c instanceof me&&(l={visible:n.isDatasetVisible(a),index:a,fill:Y_(c,a,o),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=l,s.push(l);for(a=0;a<o;++a)l=s[a],l&&!1!==l.fill&&(l.fill=H_(s,a,e.propagate))},beforeDraw(n,i,e){const o="beforeDraw"===e.drawTime,s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let a=s.length-1;a>=0;--a){const c=s[a].$filler;!c||(c.line.updateControlPoints(r,c.axis),o&&c.fill&&Fo(n.ctx,c,r))}},beforeDatasetsDraw(n,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const o=n.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s){const r=o[s].$filler;ba(r)&&Fo(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,i,e){const o=i.meta.$filler;!ba(o)||"beforeDatasetDraw"!==e.drawTime||Fo(n.ctx,o,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ya=(n,i)=>{let{boxHeight:e=i,boxWidth:o=i}=n;return n.usePointStyle&&(e=Math.min(e,i),o=n.pointStyleWidth||Math.min(o,i)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(i,e)}};class Za extends Qt{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,o){this.maxWidth=i,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=mt(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(o=>i.filter(o,this.chart.data))),i.sort&&(e=e.sort((o,s)=>i.sort(o,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const o=i.labels,s=wt(o.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=ya(o,r);let d,h;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,r,c,l)+10):(h=this.maxHeight,d=this._fitCols(a,s,c,l)+10),this.width=Math.min(d,i.maxWidth||this.maxWidth),this.height=Math.min(h,i.maxHeight||this.maxHeight)}_fitRows(i,e,o,s){const{ctx:r,maxWidth:a,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],h=s+c;let u=i;r.textAlign="left",r.textBaseline="middle";let p=-1,g=-h;return this.legendItems.forEach((_,b)=>{const v=o+e/2+r.measureText(_.text).width;(0===b||d[d.length-1]+v+2*c>a)&&(u+=h,d[d.length-(b>0?0:1)]=0,g+=h,p++),l[b]={left:0,top:g,row:p,width:v,height:s},d[d.length-1]+=v+c}),u}_fitCols(i,e,o,s){const{ctx:r,maxHeight:a,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-i;let u=c,p=0,g=0,_=0,b=0;return this.legendItems.forEach((v,A)=>{const{itemWidth:M,itemHeight:I}=function cf(n,i,e,o,s){const r=function lf(n,i,e,o){let s=n.text;return s&&"string"!=typeof s&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),i+e.size/2+o.measureText(s).width}(o,n,i,e),a=function df(n,i,e){let o=n;return"string"!=typeof i.text&&(o=Pa(i,e)),o}(s,o,i.lineHeight);return{itemWidth:r,itemHeight:a}}(o,e,r,v,s);A>0&&g+I+2*c>h&&(u+=p+c,d.push({width:p,height:g}),_+=p+c,b++,p=g=0),l[A]={left:_,top:g,col:b,width:M,height:I},p=Math.max(p,M),g+=I+c}),u+=p,d.push({width:p,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:s},rtl:r}}=this,a=We(r,this.left,this.width);if(this.isHorizontal()){let c=0,l=St(o,this.left+s,this.right-this.lineWidths[c]);for(const d of e)c!==d.row&&(c=d.row,l=St(o,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+i+s,d.left=a.leftForLtr(a.x(l),d.width),l+=d.width+s}else{let c=0,l=St(o,this.top+i+s,this.bottom-this.columnSizes[c].height);for(const d of e)d.col!==c&&(c=d.col,l=St(o,this.top+i+s,this.bottom-this.columnSizes[c].height)),d.top=l,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),l+=d.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;un(i,this),this._draw(),pn(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:o,ctx:s}=this,{align:r,labels:a}=i,c=Zt.color,l=We(i.rtl,this.left,this.width),d=wt(a.font),{padding:h}=a,u=d.size,p=u/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:_,boxHeight:b,itemHeight:v}=ya(a,u),I=this.isHorizontal(),O=this._computeTitleHeight();g=I?{x:St(r,this.left+h,this.right-o[0]),y:this.top+h+O,line:0}:{x:this.left+h,y:St(r,this.top+O+h,this.bottom-e[0].height),line:0},hr(this.ctx,i.textDirection);const S=v+h;this.legendItems.forEach((R,B)=>{s.strokeStyle=R.fontColor,s.fillStyle=R.fontColor;const H=s.measureText(R.text).width,K=l.textAlign(R.textAlign||(R.textAlign=a.textAlign)),st=_+p+H;let rt=g.x,lt=g.y;l.setWidth(this.width),I?B>0&&rt+st+h>this.right&&(lt=g.y+=S,g.line++,rt=g.x=St(r,this.left+h,this.right-o[g.line])):B>0&&lt+S>this.bottom&&(rt=g.x=rt+e[g.line].width+h,g.line++,lt=g.y=St(r,this.top+O+h,this.bottom-e[g.line].height)),function(R,B,H){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;s.save();const K=nt(H.lineWidth,1);if(s.fillStyle=nt(H.fillStyle,c),s.lineCap=nt(H.lineCap,"butt"),s.lineDashOffset=nt(H.lineDashOffset,0),s.lineJoin=nt(H.lineJoin,"miter"),s.lineWidth=K,s.strokeStyle=nt(H.strokeStyle,c),s.setLineDash(nt(H.lineDash,[])),a.usePointStyle){const st={radius:b*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:K},rt=l.xPlus(R,_/2);Ks(s,st,rt,B+p,a.pointStyleWidth&&_)}else{const st=B+Math.max((u-b)/2,0),rt=l.leftForLtr(R,_),lt=ke(H.borderRadius);s.beginPath(),Object.values(lt).some(kt=>0!==kt)?wi(s,{x:rt,y:st,w:_,h:b,radius:lt}):s.rect(rt,st,_,b),s.fill(),0!==K&&s.stroke()}s.restore()}(l.x(rt),lt,R),rt=((n,i,e,o)=>n===(o?"left":"right")?e:"center"===n?(i+e)/2:i)(K,rt+_+p,I?rt+st:this.right,i.rtl),function(R,B,H){Ae(s,H.text,R,B+v/2,d,{strikethrough:H.hidden,textAlign:l.textAlign(H.textAlign)})}(l.x(rt),lt,R),I?g.x+=st+h:g.y+="string"!=typeof R.text?Pa(R,d.lineHeight):S}),ur(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,o=wt(e.font),s=It(e.padding);if(!e.display)return;const r=We(i.rtl,this.left,this.width),a=this.ctx,c=e.position,d=s.top+o.size/2;let h,u=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,u=St(i.align,u,this.right-p);else{const _=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);h=d+St(i.align,this.top,this.bottom-_-i.labels.padding-this._computeTitleHeight())}const g=St(c,u,u+p);a.textAlign=r.textAlign(ho(c)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=o.string,Ae(a,e.text,g,h,o)}_computeTitleHeight(){const i=this.options.title,e=wt(i.font),o=It(i.padding);return i.display?e.lineHeight+o.height:0}_getLegendItemAt(i,e){let o,s,r;if(se(i,this.left,this.right)&&se(e,this.top,this.bottom))for(r=this.legendHitBoxes,o=0;o<r.length;++o)if(s=r[o],se(i,s.left,s.left+s.width)&&se(e,s.top,s.top+s.height))return this.legendItems[o];return null}handleEvent(i){const e=this.options;if(!function hf(n,i){return!(("mousemove"!==n&&"mouseout"!==n||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==n&&"mouseup"!==n))}(i.type,e))return;const o=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const s=this._hoveredItem,r=((n,i)=>null!==n&&null!==i&&n.datasetIndex===i.datasetIndex&&n.index===i.index)(s,o);s&&!r&&mt(e.onLeave,[i,s,this],this),this._hoveredItem=o,o&&!r&&mt(e.onHover,[i,o,this],this)}else o&&mt(e.onClick,[i,o,this],this)}}function Pa(n,i){return i*(n.text?n.text.length+.5:0)}var uf={id:"legend",_element:Za,start(n,i,e){const o=n.legend=new Za({ctx:n.ctx,options:e,chart:n});Ot.configure(n,o,e),Ot.addBox(n,o)},stop(n){Ot.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,i,e){const o=n.legend;Ot.configure(n,o,e),o.options=e},afterUpdate(n){const i=n.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(n,i){i.replay||n.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,i,e){const o=i.datasetIndex,s=e.chart;s.isDatasetVisible(o)?(s.hide(o),i.hidden=!0):(s.show(o),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const i=n.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:s,color:r,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(e?0:void 0),h=It(d.borderWidth);return{text:i[l.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:o||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Uo extends Qt{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const s=bt(o.text)?o.text.length:1;this._padding=It(o.padding);const r=s*wt(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:o,bottom:s,right:r,options:a}=this,c=a.align;let d,h,u,l=0;return this.isHorizontal()?(h=St(c,o,r),u=e+i,d=r-o):("left"===a.position?(h=o+i,u=St(c,s,e),l=-.5*Ct):(h=r-i,u=St(c,e,s),l=.5*Ct),d=s-e),{titleX:h,titleY:u,maxWidth:d,rotation:l}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const o=wt(e.font),r=o.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:l,rotation:d}=this._drawArgs(r);Ae(i,e.text,0,0,o,{color:e.color,maxWidth:l,rotation:d,textAlign:ho(e.align),textBaseline:"middle",translation:[a,c]})}}var gf={id:"title",_element:Uo,start(n,i,e){!function pf(n,i){const e=new Uo({ctx:n.ctx,options:i,chart:n});Ot.configure(n,e,i),Ot.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Ot.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,i,e){const o=n.titleBlock;Ot.configure(n,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dn=new WeakMap;var _f={id:"subtitle",start(n,i,e){const o=new Uo({ctx:n.ctx,options:e,chart:n});Ot.configure(n,o,e),Ot.addBox(n,o),Dn.set(n,o)},stop(n){Ot.removeBox(n,Dn.get(n)),Dn.delete(n)},beforeUpdate(n,i,e){const o=Dn.get(n);Ot.configure(n,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fi={average(n){if(!n.length)return!1;let i,e,o=0,s=0,r=0;for(i=0,e=n.length;i<e;++i){const a=n[i].element;if(a&&a.hasValue()){const c=a.tooltipPosition();o+=c.x,s+=c.y,++r}}return{x:o/r,y:s/r}},nearest(n,i){if(!n.length)return!1;let r,a,c,e=i.x,o=i.y,s=Number.POSITIVE_INFINITY;for(r=0,a=n.length;r<a;++r){const l=n[r].element;if(l&&l.hasValue()){const h=co(i,l.getCenterPoint());h<s&&(s=h,c=l)}}if(c){const l=c.tooltipPosition();e=l.x,o=l.y}return{x:e,y:o}}};function ee(n,i){return i&&(bt(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function le(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function ff(n,i){const{element:e,datasetIndex:o,index:s}=i,r=n.getDatasetMeta(o).controller,{label:a,value:c}=r.getLabelAndValue(s);return{chart:n,label:a,parsed:r.getParsed(s),raw:n.data.datasets[o].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:o,element:e}}function wa(n,i){const e=n.chart.ctx,{body:o,footer:s,title:r}=n,{boxWidth:a,boxHeight:c}=i,l=wt(i.bodyFont),d=wt(i.titleFont),h=wt(i.footerFont),u=r.length,p=s.length,g=o.length,_=It(i.padding);let b=_.height,v=0,A=o.reduce((O,S)=>O+S.before.length+S.lines.length+S.after.length,0);A+=n.beforeBody.length+n.afterBody.length,u&&(b+=u*d.lineHeight+(u-1)*i.titleSpacing+i.titleMarginBottom),A&&(b+=g*(i.displayColors?Math.max(c,l.lineHeight):l.lineHeight)+(A-g)*l.lineHeight+(A-1)*i.bodySpacing),p&&(b+=i.footerMarginTop+p*h.lineHeight+(p-1)*i.footerSpacing);let M=0;const I=function(O){v=Math.max(v,e.measureText(O).width+M)};return e.save(),e.font=d.string,gt(n.title,I),e.font=l.string,gt(n.beforeBody.concat(n.afterBody),I),M=i.displayColors?a+2+i.boxPadding:0,gt(o,O=>{gt(O.before,I),gt(O.lines,I),gt(O.after,I)}),M=0,e.font=h.string,gt(n.footer,I),e.restore(),v+=_.width,{width:v,height:b}}function xf(n,i,e,o){const{x:s,width:r}=e,{width:a,chartArea:{left:c,right:l}}=n;let d="center";return"center"===o?d=s<=(c+l)/2?"left":"right":s<=r/2?d="left":s>=a-r/2&&(d="right"),function bf(n,i,e,o){const{x:s,width:r}=o,a=e.caretSize+e.caretPadding;if("left"===n&&s+r+a>i.width||"right"===n&&s-r-a<0)return!0}(d,n,i,e)&&(d="center"),d}function Aa(n,i,e){const o=e.yAlign||i.yAlign||function mf(n,i){const{y:e,height:o}=i;return e<o/2?"top":e>n.height-o/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||i.xAlign||xf(n,i,e,o),yAlign:o}}function ka(n,i,e,o){const{caretSize:s,caretPadding:r,cornerRadius:a}=n,{xAlign:c,yAlign:l}=e,d=s+r,{topLeft:h,topRight:u,bottomLeft:p,bottomRight:g}=ke(a);let _=function Cf(n,i){let{x:e,width:o}=n;return"right"===i?e-=o:"center"===i&&(e-=o/2),e}(i,c);const b=function vf(n,i,e){let{y:o,height:s}=n;return"top"===i?o+=e:o-="bottom"===i?s+e:s/2,o}(i,l,d);return"center"===l?"left"===c?_+=d:"right"===c&&(_-=d):"left"===c?_-=Math.max(h,p)+s:"right"===c&&(_+=Math.max(u,g)+s),{x:At(_,0,o.width-i.width),y:At(b,0,o.height-i.height)}}function Ln(n,i,e){const o=It(e.padding);return"center"===i?n.x+n.width/2:"right"===i?n.x+n.width-o.right:n.x+o.left}function Ma(n){return ee([],le(n))}function Sa(n,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?n.override(e):n}const Ia={beforeTitle:oe,title(n){if(n.length>0){const i=n[0],e=i.chart.data.labels,o=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(o>0&&i.dataIndex<o)return e[i.dataIndex]}return""},afterTitle:oe,beforeBody:oe,beforeLabel:oe,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let i=n.dataset.label||"";i&&(i+=": ");const e=n.formattedValue;return dt(e)||(i+=e),i},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:oe,afterBody:oe,beforeFooter:oe,footer:oe,afterFooter:oe};function Lt(n,i,e,o){const s=n[i].call(e,o);return void 0===s?Ia[i].call(e,o):s}class Ro extends Qt{constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const i=this._cachedAnimations;if(i)return i;const e=this.chart,o=this.options.setContext(this.getContext()),s=o.enabled&&e.options.animation&&o.animations,r=new Cr(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=function Tf(n,i,e){return fe(n,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,e){const{callbacks:o}=e,s=Lt(o,"beforeTitle",this,i),r=Lt(o,"title",this,i),a=Lt(o,"afterTitle",this,i);let c=[];return c=ee(c,le(s)),c=ee(c,le(r)),c=ee(c,le(a)),c}getBeforeBody(i,e){return Ma(Lt(e.callbacks,"beforeBody",this,i))}getBody(i,e){const{callbacks:o}=e,s=[];return gt(i,r=>{const a={before:[],lines:[],after:[]},c=Sa(o,r);ee(a.before,le(Lt(c,"beforeLabel",this,r))),ee(a.lines,Lt(c,"label",this,r)),ee(a.after,le(Lt(c,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(i,e){return Ma(Lt(e.callbacks,"afterBody",this,i))}getFooter(i,e){const{callbacks:o}=e,s=Lt(o,"beforeFooter",this,i),r=Lt(o,"footer",this,i),a=Lt(o,"afterFooter",this,i);let c=[];return c=ee(c,le(s)),c=ee(c,le(r)),c=ee(c,le(a)),c}_createItems(i){const e=this._active,o=this.chart.data,s=[],r=[],a=[];let l,d,c=[];for(l=0,d=e.length;l<d;++l)c.push(ff(this.chart,e[l]));return i.filter&&(c=c.filter((h,u,p)=>i.filter(h,u,p,o))),i.itemSort&&(c=c.sort((h,u)=>i.itemSort(h,u,o))),gt(c,h=>{const u=Sa(i.callbacks,h);s.push(Lt(u,"labelColor",this,h)),r.push(Lt(u,"labelPointStyle",this,h)),a.push(Lt(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=c,c}update(i,e){const o=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(s.length){const c=Fi[o.position].call(this,s,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);const l=this._size=wa(this,o),d=Object.assign({},c,l),h=Aa(this.chart,o,d),u=ka(o,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),i&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(i,e,o,s){const r=this.getCaretPosition(i,o,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(i,e,o){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:c}=o,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:u}=ke(c),{x:p,y:g}=i,{width:_,height:b}=e;let v,A,M,I,O,S;return"center"===r?(O=g+b/2,"left"===s?(v=p,A=v-a,I=O+a,S=O-a):(v=p+_,A=v+a,I=O-a,S=O+a),M=v):(A="left"===s?p+Math.max(l,h)+a:"right"===s?p+_-Math.max(d,u)-a:this.caretX,"top"===r?(I=g,O=I-a,v=A-a,M=A+a):(I=g+b,O=I+a,v=A+a,M=A-a),S=I),{x1:v,x2:A,x3:M,y1:I,y2:O,y3:S}}drawTitle(i,e,o){const s=this.title,r=s.length;let a,c,l;if(r){const d=We(o.rtl,this.x,this.width);for(i.x=Ln(this,o.titleAlign,o),e.textAlign=d.textAlign(o.titleAlign),e.textBaseline="middle",a=wt(o.titleFont),c=o.titleSpacing,e.fillStyle=o.titleColor,e.font=a.string,l=0;l<r;++l)e.fillText(s[l],d.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+c,l+1===r&&(i.y+=o.titleMarginBottom-c)}}_drawColorBox(i,e,o,s,r){const a=this.labelColors[o],c=this.labelPointStyles[o],{boxHeight:l,boxWidth:d}=r,h=wt(r.bodyFont),u=Ln(this,"left",r),p=s.x(u),_=e.y+(l<h.lineHeight?(h.lineHeight-l)/2:0);if(r.usePointStyle){const b={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=s.leftForLtr(p,d)+d/2,A=_+l/2;i.strokeStyle=r.multiKeyBackground,i.fillStyle=r.multiKeyBackground,fo(i,b,v,A),i.strokeStyle=a.borderColor,i.fillStyle=a.backgroundColor,fo(i,b,v,A)}else{i.lineWidth=at(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,i.strokeStyle=a.borderColor,i.setLineDash(a.borderDash||[]),i.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(p,d),v=s.leftForLtr(s.xPlus(p,1),d-2),A=ke(a.borderRadius);Object.values(A).some(M=>0!==M)?(i.beginPath(),i.fillStyle=r.multiKeyBackground,wi(i,{x:b,y:_,w:d,h:l,radius:A}),i.fill(),i.stroke(),i.fillStyle=a.backgroundColor,i.beginPath(),wi(i,{x:v,y:_+1,w:d-2,h:l-2,radius:A}),i.fill()):(i.fillStyle=r.multiKeyBackground,i.fillRect(b,_,d,l),i.strokeRect(b,_,d,l),i.fillStyle=a.backgroundColor,i.fillRect(v,_+1,d-2,l-2))}i.fillStyle=this.labelTextColors[o]}drawBody(i,e,o){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=o,u=wt(o.bodyFont);let p=u.lineHeight,g=0;const _=We(o.rtl,this.x,this.width),b=function(H){e.fillText(H,_.x(i.x+g),i.y+p/2),i.y+=p+r},v=_.textAlign(a);let A,M,I,O,S,R,B;for(e.textAlign=a,e.textBaseline="middle",e.font=u.string,i.x=Ln(this,v,o),e.fillStyle=o.bodyColor,gt(this.beforeBody,b),g=c&&"right"!==v?"center"===a?d/2+h:d+2+h:0,O=0,R=s.length;O<R;++O){for(A=s[O],M=this.labelTextColors[O],e.fillStyle=M,gt(A.before,b),I=A.lines,c&&I.length&&(this._drawColorBox(e,i,O,_,o),p=Math.max(u.lineHeight,l)),S=0,B=I.length;S<B;++S)b(I[S]),p=u.lineHeight;gt(A.after,b)}g=0,p=u.lineHeight,gt(this.afterBody,b),i.y-=r}drawFooter(i,e,o){const s=this.footer,r=s.length;let a,c;if(r){const l=We(o.rtl,this.x,this.width);for(i.x=Ln(this,o.footerAlign,o),i.y+=o.footerMarginTop,e.textAlign=l.textAlign(o.footerAlign),e.textBaseline="middle",a=wt(o.footerFont),e.fillStyle=o.footerColor,e.font=a.string,c=0;c<r;++c)e.fillText(s[c],l.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+o.footerSpacing}}drawBackground(i,e,o,s){const{xAlign:r,yAlign:a}=this,{x:c,y:l}=i,{width:d,height:h}=o,{topLeft:u,topRight:p,bottomLeft:g,bottomRight:_}=ke(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+u,l),"top"===a&&this.drawCaret(i,e,o,s),e.lineTo(c+d-p,l),e.quadraticCurveTo(c+d,l,c+d,l+p),"center"===a&&"right"===r&&this.drawCaret(i,e,o,s),e.lineTo(c+d,l+h-_),e.quadraticCurveTo(c+d,l+h,c+d-_,l+h),"bottom"===a&&this.drawCaret(i,e,o,s),e.lineTo(c+g,l+h),e.quadraticCurveTo(c,l+h,c,l+h-g),"center"===a&&"left"===r&&this.drawCaret(i,e,o,s),e.lineTo(c,l+u),e.quadraticCurveTo(c,l,c+u,l),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(i){const e=this.chart,o=this.$animations,s=o&&o.x,r=o&&o.y;if(s||r){const a=Fi[i.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=wa(this,i),l=Object.assign({},a,this._size),d=Aa(e,i,l),h=ka(i,l,d,e);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(i){const e=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const a=It(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(i.save(),i.globalAlpha=o,this.drawBackground(r,i,s,e),hr(i,e.textDirection),r.y+=a.top,this.drawTitle(r,i,e),this.drawBody(r,i,e),this.drawFooter(r,i,e),ur(i,e.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,e){const o=this._active,s=i.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),r=!rn(o,s),a=this._positionChanged(s,e);(r||a)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,e,o=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(i,r,e,o),c=this._positionChanged(a,i),l=e||!rn(a,r)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,e))),l}_getActiveElements(i,e,o,s){const r=this.options;if("mouseout"===i.type)return[];if(!s)return e;const a=this.chart.getElementsAtEventForMode(i,r.mode,r,o);return r.reverse&&a.reverse(),a}_positionChanged(i,e){const{caretX:o,caretY:s,options:r}=this,a=Fi[r.position].call(this,i,e);return!1!==a&&(o!==a.x||s!==a.y)}}E(Ro,"positioners",Fi);var Zf=Object.freeze({__proto__:null,Colors:q_,Decimation:U_,Filler:rf,Legend:uf,SubTitle:_f,Title:gf,Tooltip:{id:"tooltip",_element:Ro,positioners:Fi,afterInit(n,i,e){e&&(n.tooltip=new Ro({chart:n,options:e}))},beforeUpdate(n,i,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,i,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const i=n.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===n.notifyPlugins("beforeTooltipDraw",Hn(Bn({},e),{cancelable:!0})))return;i.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,i){n.tooltip&&n.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,i)=>i.bodyFont.size,boxWidth:(n,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ia},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Oa(n){const i=this.getLabels();return n>=0&&n<i.length?i[n]:n}class Bo extends Le{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const e=this._addedLabels;if(e.length){const o=this.getLabels();for(const{index:s,label:r}of e)o[s]===r&&o.splice(s,1);this._addedLabels=[]}super.init(i)}parse(i,e){if(dt(i))return null;const o=this.getLabels();return((n,i)=>null===n?null:At(Math.round(n),0,i))(e=isFinite(e)&&o[e]===i?e:function wf(n,i,e,o){const s=n.indexOf(i);return-1===s?((n,i,e,o)=>("string"==typeof i?(e=n.push(i)-1,o.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(n,i,e,o):s!==n.lastIndexOf(i)?e:s}(o,i,nt(e,i),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let{min:o,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(o=0),e||(s=this.getLabels().length-1)),this.min=o,this.max=s}buildTicks(){const i=this.min,e=this.max,o=this.options.offset,s=[];let r=this.getLabels();r=0===i&&e===r.length-1?r:r.slice(i,e+1),this._valueRange=Math.max(r.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=i;a<=e;a++)s.push({value:a});return s}getLabelForValue(i){return Oa.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function Da(n,i,{horizontal:e,minRotation:o}){const s=Yt(o),r=(e?Math.sin(s):Math.cos(s))||.001;return Math.min(i/r,.75*i*(""+n).length)}E(Bo,"id","category"),E(Bo,"defaults",{ticks:{callback:Oa}});class qn extends Le{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return dt(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds();let{min:s,max:r}=this;const a=l=>s=e?s:l,c=l=>r=o?r:l;if(i){const l=Kt(s),d=Kt(r);l<0&&d<0?c(0):l>0&&d>0&&a(0)}if(s===r){let l=0===r?1:Math.abs(.05*r);c(r+l),i||a(s-l)}this.min=s,this.max=r}getTickLimit(){const i=this.options.ticks;let s,{maxTicksLimit:e,stepSize:o}=i;return o?(s=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let o=this.getTickLimit();o=Math.max(2,o);const a=function kf(n,i){const e=[],{bounds:s,step:r,min:a,max:c,precision:l,count:d,maxTicks:h,maxDigits:u,includeBounds:p}=n,g=r||1,_=h-1,{min:b,max:v}=i,A=!dt(a),M=!dt(c),I=!dt(d),O=(v-b)/(u+1);let R,B,H,K,S=qs((v-b)/_/g)*g;if(S<1e-14&&!A&&!M)return[{value:b},{value:v}];K=Math.ceil(v/S)-Math.floor(b/S),K>_&&(S=qs(K*S/_/g)*g),dt(l)||(R=Math.pow(10,l),S=Math.ceil(S*R)/R),"ticks"===s?(B=Math.floor(b/S)*S,H=Math.ceil(v/S)*S):(B=b,H=v),A&&M&&r&&function vu(n,i){const e=Math.round(n);return e-i<=n&&e+i>=n}((c-a)/r,S/1e3)?(K=Math.round(Math.min((c-a)/S,h)),S=(c-a)/K,B=a,H=c):I?(B=A?a:B,H=M?c:H,K=d-1,S=(H-B)/K):(K=(H-B)/S,K=vi(K,Math.round(K),S/1e3)?Math.round(K):Math.ceil(K));const st=Math.max(Es(S),Es(B));R=Math.pow(10,dt(l)?st:l),B=Math.round(B*R)/R,H=Math.round(H*R)/R;let rt=0;for(A&&(p&&B!==a?(e.push({value:a}),B<a&&rt++,vi(Math.round((B+rt*S)*R)/R,a,Da(a,O,n))&&rt++):B<a&&rt++);rt<K;++rt){const lt=Math.round((B+rt*S)*R)/R;if(M&&lt>c)break;e.push({value:lt})}return M&&p&&H!==c?e.length&&vi(e[e.length-1].value,c,Da(c,O,n))?e[e.length-1].value=c:e.push({value:c}):(!M||H===c)&&e.push({value:H}),e}({maxTicks:o,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&Ns(a,this,"value"),i.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const i=this.ticks;let e=this.min,o=this.max;if(super.configure(),this.options.offset&&i.length){const s=(o-e)/Math.max(i.length-1,1)/2;e-=s,o+=s}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(i){return Zi(i,this.chart.options.locale,this.options.ticks.format)}}class Ho extends qn{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Tt(i)?i:0,this.max=Tt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,o=Yt(this.options.ticks.minRotation),s=(i?Math.sin(o):Math.cos(o))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}E(Ho,"id","linear"),E(Ho,"defaults",{ticks:{callback:dn.formatters.numeric}});const Ui=n=>Math.floor(_e(n)),qe=(n,i)=>Math.pow(10,Ui(n)+i);function La(n){return n/Math.pow(10,Ui(n))==1}function qa(n,i,e){const o=Math.pow(10,e),s=Math.floor(n/o);return Math.ceil(i/o)-s}class Yo extends Le{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const o=qn.prototype.parse.apply(this,[i,e]);if(0!==o)return Tt(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Tt(i)?Math.max(0,i):null,this.max=Tt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Tt(this._userMin)&&(this.min=i===qe(this.min,0)?qe(this.min,-1):qe(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let o=this.min,s=this.max;const r=c=>o=i?o:c,a=c=>s=e?s:c;o===s&&(o<=0?(r(1),a(10)):(r(qe(o,-1)),a(qe(s,1)))),o<=0&&r(qe(s,-1)),s<=0&&a(qe(o,1)),this.min=o,this.max=s}buildTicks(){const i=this.options,o=function Sf(n,{min:i,max:e}){i=Et(n.min,i);const o=[],s=Ui(i);let r=function Mf(n,i){let o=Ui(i-n);for(;qa(n,i,o)>10;)o++;for(;qa(n,i,o)<10;)o--;return Math.min(o,Ui(n))}(i,e),a=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),l=s>r?Math.pow(10,s):0,d=Math.round((i-l)*a)/a,h=Math.floor((i-l)/c/10)*c*10;let u=Math.floor((d-h)/Math.pow(10,r)),p=Et(n.min,Math.round((l+h+u*Math.pow(10,r))*a)/a);for(;p<e;)o.push({value:p,major:La(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,a=r>=0?1:a),p=Math.round((l+h+u*Math.pow(10,r))*a)/a;const g=Et(n.max,p);return o.push({value:g,major:La(g),significand:u}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&Ns(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(i){return void 0===i?"0":Zi(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=_e(i),this._valueRange=_e(this.max)-_e(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(_e(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function Jo(n){const i=n.ticks;if(i.display&&n.display){const e=It(i.backdropPadding);return nt(i.font&&i.font.size,Zt.font.size)+e.height}return 0}function If(n,i,e){return e=bt(e)?e:[e],{w:Fu(n,i.string,e),h:e.length*i.lineHeight}}function Na(n,i,e,o,s){return n===o||n===s?{start:i-e/2,end:i+e/2}:n<o||n>s?{start:i-e,end:i}:{start:i,end:i+e}}function Df(n,i,e,o,s){const r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let c=0,l=0;o.start<i.l?(c=(i.l-o.start)/r,n.l=Math.min(n.l,i.l-c)):o.end>i.r&&(c=(o.end-i.r)/r,n.r=Math.max(n.r,i.r+c)),s.start<i.t?(l=(i.t-s.start)/a,n.t=Math.min(n.t,i.t-l)):s.end>i.b&&(l=(s.end-i.b)/a,n.b=Math.max(n.b,i.b+l))}function Lf(n,i,e){const o=n.drawingArea,{extra:s,additionalAngle:r,padding:a,size:c}=e,l=n.getPointPosition(i,o+s+a,r),d=Math.round(ao(Ft(l.angle+yt))),h=function Uf(n,i,e){return 90===e||270===e?n-=i/2:(e>270||e<90)&&(n-=i),n}(l.y,c.h,d),u=function Ef(n){return 0===n||180===n?"center":n<180?"left":"right"}(d),p=function Ff(n,i,e){return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(l.x,c.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:p,top:h,right:p+c.w,bottom:h+c.h}}function qf(n,i){if(!i)return!0;const{left:e,top:o,right:s,bottom:r}=n;return!(ae({x:e,y:o},i)||ae({x:e,y:r},i)||ae({x:s,y:o},i)||ae({x:s,y:r},i))}function Rf(n,i,e){const{left:o,top:s,right:r,bottom:a}=e,{backdropColor:c}=i;if(!dt(c)){const l=ke(i.borderRadius),d=It(i.backdropPadding);n.fillStyle=c;const h=o-d.left,u=s-d.top,p=r-o+d.width,g=a-s+d.height;Object.values(l).some(_=>0!==_)?(n.beginPath(),wi(n,{x:h,y:u,w:p,h:g,radius:l}),n.fill()):n.fillRect(h,u,p,g)}}function Ea(n,i,e,o){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,i,0,xt);else{let r=n.getPointPosition(0,i);s.moveTo(r.x,r.y);for(let a=1;a<o;a++)r=n.getPointPosition(a,i),s.lineTo(r.x,r.y)}}E(Yo,"id","logarithmic"),E(Yo,"defaults",{ticks:{callback:dn.formatters.logarithmic,major:{enabled:!0}}});class Ri extends qn{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=It(Jo(this.options)/2),e=this.width=this.maxWidth-i.width,o=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+o/2+i.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=Tt(i)&&!isNaN(i)?i:0,this.max=Tt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jo(this.options))}generateTickLabels(i){qn.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,o)=>{const s=mt(this.options.pointLabels.callback,[e,o],this);return s||0===s?s:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){const i=this.options;i.display&&i.pointLabels.display?function Of(n){const i={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},i),o=[],s=[],r=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?Ct/r:0;for(let l=0;l<r;l++){const d=a.setContext(n.getPointLabelContext(l));s[l]=d.padding;const h=n.getPointPosition(l,n.drawingArea+s[l],c),u=wt(d.font),p=If(n.ctx,u,n._pointLabels[l]);o[l]=p;const g=Ft(n.getIndexAngle(l)+c),_=Math.round(ao(g));Df(e,i,g,Na(_,h.x,p.w,0,180),Na(_,h.y,p.h,90,270))}n.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),n._pointLabelItems=function Nf(n,i,e){const o=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:a,display:c}=r.pointLabels,l={extra:Jo(r)/2,additionalAngle:a?Ct/s:0};let d;for(let h=0;h<s;h++){l.padding=e[h],l.size=i[h];const u=Lf(n,h,l);o.push(u),"auto"===c&&(u.visible=qf(u,d),u.visible&&(d=u))}return o}(n,o,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,o,s){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((o-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,o,s))}getIndexAngle(i){return Ft(i*(xt/(this._pointLabels.length||1))+Yt(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(dt(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(dt(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const o=e[i];return function Yf(n,i,e){return fe(n,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,o)}}getPointPosition(i,e,o=0){const s=this.getIndexAngle(i)-yt+o;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:o,right:s,bottom:r}=this._pointLabelItems[i];return{left:e,top:o,right:s,bottom:r}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const o=this.ctx;o.save(),o.beginPath(),Ea(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=i,o.fill(),o.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:o,grid:s,border:r}=e,a=this._pointLabels.length;let c,l,d;if(e.pointLabels.display&&function Bf(n,i){const{ctx:e,options:{pointLabels:o}}=n;for(let s=i-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const a=o.setContext(n.getPointLabelContext(s));Rf(e,a,r);const c=wt(a.font),{x:l,y:d,textAlign:h}=r;Ae(e,n._pointLabels[s],l,d+c.lineHeight/2,c,{color:a.color,textAlign:h,textBaseline:"middle"})}}(this,a),s.display&&this.ticks.forEach((h,u)=>{if(0!==u){l=this.getDistanceFromCenterForValue(h.value);const p=this.getContext(u),g=s.setContext(p),_=r.setContext(p);!function Hf(n,i,e,o,s){const r=n.ctx,a=i.circular,{color:c,lineWidth:l}=i;!a&&!o||!c||!l||e<0||(r.save(),r.strokeStyle=c,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),Ea(n,e,a,o),r.closePath(),r.stroke(),r.restore())}(this,g,l,a,_)}}),o.display){for(i.save(),c=a-1;c>=0;c--){const h=o.setContext(this.getPointLabelContext(c)),{color:u,lineWidth:p}=h;!p||!u||(i.lineWidth=p,i.strokeStyle=u,i.setLineDash(h.borderDash),i.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,l),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(d.x,d.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;const s=this.getIndexAngle(0);let r,a;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((c,l)=>{if(0===l&&!e.reverse)return;const d=o.setContext(this.getContext(l)),h=wt(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){i.font=h.string,a=i.measureText(c.label).width,i.fillStyle=d.backdropColor;const u=It(d.backdropPadding);i.fillRect(-a/2-u.left,-r-h.size/2-u.top,a+u.width,h.size+u.height)}Ae(i,c.label,0,-r,h,{color:d.color})}),i.restore()}drawTitle(){}}E(Ri,"id","radialLinear"),E(Ri,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:i=>i,padding:5,centerPointLabels:!1}}),E(Ri,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),E(Ri,"descriptors",{angleLines:{_fallback:"grid"}});const Nn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qt=Object.keys(Nn);function Jf(n,i){return n-i}function Fa(n,i){if(dt(i))return null;const e=n._adapter,{parser:o,round:s,isoWeekday:r}=n._parseOpts;let a=i;return"function"==typeof o&&(a=o(a)),Tt(a)||(a="string"==typeof o?e.parse(a,o):e.parse(a)),null===a?null:(s&&(a="week"!==s||!Ve(r)&&!0!==r?e.startOf(a,s):e.startOf(a,"isoWeek",r)),+a)}function Ua(n,i,e,o){const s=qt.length;for(let r=qt.indexOf(n);r<s-1;++r){const a=Nn[qt[r]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-i)/(c*a.size))<=o)return qt[r]}return qt[s-1]}function Ra(n,i,e){if(e){if(e.length){const{lo:o,hi:s}=lo(e,i);n[e[o]>=i?e[o]:e[s]]=!0}}else n[i]=!0}function Ba(n,i,e){const o=[],s={},r=i.length;let a,c;for(a=0;a<r;++a)c=i[a],s[c]=a,o.push({value:c,major:!1});return 0!==r&&e?function $f(n,i,e,o){const s=n._adapter,r=+s.startOf(i[0].value,o),a=i[i.length-1].value;let c,l;for(c=r;c<=a;c=+s.add(c,1,o))l=e[c],l>=0&&(i[l].major=!0);return i}(n,o,s,e):o}class Bi extends Le{constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,e={}){const o=i.time||(i.time={}),s=this._adapter=new tg__date(i.adapters.date);s.init(e),xi(o.displayFormats,s.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(i),this._normalized=e.normalized}parse(i,e){return void 0===i?null:Fa(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const i=this.options,e=this._adapter,o=i.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==i.bounds||"labels"!==i.ticks.source)&&l(this.getMinMax(!1))),s=Tt(s)&&!isNaN(s)?s:+e.startOf(Date.now(),o),r=Tt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),o)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const i=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return i.length&&(e=i[0],o=i[i.length-1]),{min:e,max:o}}buildTicks(){const i=this.options,e=i.time,o=i.ticks,s="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===i.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,c=function Pu(n,i,e){let o=0,s=n.length;for(;o<s&&n[o]<i;)o++;for(;s>o&&n[s-1]>e;)s--;return o>0||s<n.length?n.slice(o,s):n}(s,r,this.max);return this._unit=e.unit||(o.autoSkip?Ua(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function Qf(n,i,e,o,s){for(let r=qt.length-1;r>=qt.indexOf(e);r--){const a=qt[r];if(Nn[a].common&&n._adapter.diff(s,o,a)>=i-1)return a}return qt[e?qt.indexOf(e):0]}(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function zf(n){for(let i=qt.indexOf(n)+1,e=qt.length;i<e;++i)if(Nn[qt[i]].common)return qt[i]}(this._unit):void 0,this.initOffsets(s),i.reverse&&c.reverse(),Ba(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let s,r,e=0,o=0;this.options.offset&&i.length&&(s=this.getDecimalForValue(i[0]),e=1===i.length?1-s:(this.getDecimalForValue(i[1])-s)/2,r=this.getDecimalForValue(i[i.length-1]),o=1===i.length?r:(r-this.getDecimalForValue(i[i.length-2]))/2);const a=i.length<3?.5:.25;e=At(e,0,a),o=At(o,0,a),this._offsets={start:e,end:o,factor:1/(e+1+o)}}_generate(){const i=this._adapter,e=this.min,o=this.max,s=this.options,r=s.time,a=r.unit||Ua(r.minUnit,e,o,this._getLabelCapacity(e)),c=nt(s.ticks.stepSize,1),l="week"===a&&r.isoWeekday,d=Ve(l)||!0===l,h={};let p,g,u=e;if(d&&(u=+i.startOf(u,"isoWeek",l)),u=+i.startOf(u,d?"day":a),i.diff(o,e,a)>1e5*c)throw new Error(e+" and "+o+" are too far apart with stepSize of "+c+" "+a);const _="data"===s.ticks.source&&this.getDataTimestamps();for(p=u,g=0;p<o;p=+i.add(p,c,a),g++)Ra(h,p,_);return(p===o||"ticks"===s.bounds||1===g)&&Ra(h,p,_),Object.keys(h).sort((b,v)=>b-v).map(b=>+b)}getLabelForValue(i){const o=this.options.time;return this._adapter.format(i,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(i,e){return this._adapter.format(i,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(i,e,o,s){const r=this.options,a=r.ticks.callback;if(a)return mt(a,[i,e,o],this);const c=r.time.displayFormats,l=this._unit,d=this._majorUnit,u=d&&c[d],p=o[e];return this._adapter.format(i,s||(d&&u&&p&&p.major?u:l&&c[l]))}generateTickLabels(i){let e,o,s;for(e=0,o=i.length;e<o;++e)s=i[e],s.label=this._tickFormatFunction(s.value,e,i)}getDecimalForValue(i){return null===i?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){const e=this._offsets,o=this.getDecimalForValue(i);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(i){const e=this._offsets,o=this.getDecimalForPixel(i)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(i){const e=this.options.ticks,o=this.ctx.measureText(i).width,s=Yt(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:o*r+c*a,h:o*a+c*r}}_getLabelCapacity(i){const e=this.options.time,o=e.displayFormats,s=o[e.unit]||o.millisecond,r=this._tickFormatFunction(i,0,Ba(this,[i],this._majorUnit),s),a=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e,o,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,o=s.length;e<o;++e)i=i.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const i=this._cache.labels||[];let e,o;if(i.length)return i;const s=this.getLabels();for(e=0,o=s.length;e<o;++e)i.push(Fa(this,s[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Bs(i.sort(Jf))}}function En(n,i,e){let r,a,c,l,o=0,s=n.length-1;e?(i>=n[o].pos&&i<=n[s].pos&&({lo:o,hi:s}=re(n,"pos",i)),({pos:r,time:c}=n[o]),({pos:a,time:l}=n[s])):(i>=n[o].time&&i<=n[s].time&&({lo:o,hi:s}=re(n,"time",i)),({time:r,pos:c}=n[o]),({time:a,pos:l}=n[s]));const d=a-r;return d?c+(l-c)*(i-r)/d:c}E(Bi,"id","time"),E(Bi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Qo extends Bi{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=En(e,this.min),this._tableRange=En(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:o}=this,s=[],r=[];let a,c,l,d,h;for(a=0,c=i.length;a<c;++a)d=i[a],d>=e&&d<=o&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:o,pos:1}];for(a=0,c=s.length;a<c;++a)h=s[a+1],l=s[a-1],d=s[a],Math.round((h+l)/2)!==d&&r.push({time:d,pos:a/(c-1)});return r}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),o=this.getLabelTimestamps();return i=e.length&&o.length?this.normalize(e.concat(o)):e.length?e:o,i=this._cache.all=i,i}getDecimalForValue(i){return(En(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,o=this.getDecimalForPixel(i)/e.factor-e.end;return En(this._table,o*this._tableRange+this._minPos,!0)}}E(Qo,"id","timeseries"),E(Qo,"defaults",Bi.defaults);const jf=[Xp,M_,Zf,Object.freeze({__proto__:null,CategoryScale:Bo,LinearScale:Ho,LogarithmicScale:Yo,RadialLinearScale:Ri,TimeScale:Bi,TimeSeriesScale:Qo})];var zt=m(1159),Ha=m(6360),Gf=m(449);const Wf=["*"],Ya=new t.OlP("MatChipRemove"),Ja=new t.OlP("MatChipAvatar"),Qa=new t.OlP("MatChipTrailingIcon");class Kf{constructor(i){this._elementRef=i}}const Xf=(0,V.sb)((0,V.pj)((0,V.Kr)(Kf),"primary"),-1);let Xe=(()=>{class n extends Xf{constructor(e,o,s,r,a,c,l,d){super(e),this._ngZone=o,this._changeDetectorRef=a,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new ft.x,this._onBlur=new ft.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=c.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new V.IR(this,o,this._chipRippleTarget,s),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=r||{},this._animationsDisabled="NoopAnimations"===l,this.tabIndex=null!=d&&parseInt(d)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const o=(0,ht.Ig)(e);o!==this._selected&&(this._selected=o,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,ht.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,ht.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,ht.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",o=this._elementRef.nativeElement;o.hasAttribute(e)||o.tagName.toLowerCase()===e?o.classList.add(e):o.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case zt.yY:case zt.ZH:this.remove(),e.preventDefault();break;case zt.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(Nt.t4),t.Y36(V.Y2,8),t.Y36(t.sBO),t.Y36(T.K0),t.Y36(Ha.Qb,8),t.$8M("tabindex"))},n.\u0275dir=t.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,o,s){if(1&e&&(t.Suo(s,Ja,5),t.Suo(s,Qa,5),t.Suo(s,Ya,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.avatar=r.first),t.iGM(r=t.CRH())&&(o.trailingIcon=r.first),t.iGM(r=t.CRH())&&(o.removeIcon=r.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,o){1&e&&t.NdJ("click",function(r){return o._handleClick(r)})("keydown",function(r){return o._handleKeydown(r)})("focus",function(){return o.focus()})("blur",function(){return o._blur()}),2&e&&(t.uIk("tabindex",o.disabled?null:o.tabIndex)("disabled",o.disabled||null)("aria-disabled",o.disabled.toString())("aria-selected",o.ariaSelected),t.ekj("mat-chip-selected",o.selected)("mat-chip-with-avatar",o.avatar)("mat-chip-with-trailing-icon",o.trailingIcon||o.removeIcon)("mat-chip-disabled",o.disabled)("_mat-animation-noopable",o._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),n})();const za=new t.OlP("mat-chips-default-options"),sm=(0,V.FD)(class{constructor(n,i,e,o){this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=e,this.ngControl=o}});let rm=0;class am{constructor(i,e){this.source=i,this.value=e}}let zo=(()=>{class n extends sm{constructor(e,o,s,r,a,c,l){super(c,r,a,l),this._elementRef=e,this._changeDetectorRef=o,this._dir=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new ft.x,this._uid="mat-chip-list-"+rm++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(d,h)=>d===h,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,o;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(o=this._selectionModel)||void 0===o?void 0:o.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,ht.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,o,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(o=this.ngControl)||void 0===o?void 0:o.control)||void 0===s?void 0:s.hasValidator(P.kI.required))&&void 0!==r&&r}set required(e){this._required=(0,ht.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,ht.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,ht.Ig)(e),this.chips&&this.chips.forEach(o=>o.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,Be.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,Be.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,Be.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,Be.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new D.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,ye.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,ye.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,Wt.O)(null),(0,ye.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Gf.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const o=e.target;o&&o.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,o=!0){if(this._clearSelection(),this.chips.forEach(s=>s.deselect()),Array.isArray(e))e.forEach(s=>this._selectValue(s,o)),this._sortValues();else{const s=this._selectValue(e,o);s&&o&&this._keyManager.setActiveItem(s)}}_selectValue(e,o=!0){const s=this.chips.find(r=>null!=r.value&&this._compareWith(r.value,e));return s&&(o?s.selectViaInteraction():s.select(),this._selectionModel.select(s)),s}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(o=>{o!==e&&o.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let o=null;o=Array.isArray(this.selected)?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=o,this.change.emit(new am(this,o)),this.valueChange.emit(o),this._onChange(o),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(o=>{!this._selectionModel.isSelected(o)&&o.selected&&o.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let o=this.chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&this._keyManager.updateActiveItem(o),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const o=e.chip,s=this.chips.toArray().indexOf(e.chip);this._isValidIndex(s)&&o._hasFocus&&(this._lastDestroyedChipIndex=s)})}_originatesFromChip(e){let o=e.target;for(;o&&o!==this._elementRef.nativeElement;){if(o.classList.contains("mat-chip"))return!0;o=o.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(hi.Is,8),t.Y36(P.F,8),t.Y36(P.sg,8),t.Y36(V.rD),t.Y36(P.a5,10))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,o,s){if(1&e&&t.Suo(s,Xe,5),2&e){let r;t.iGM(r=t.CRH())&&(o.chips=r)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,o){1&e&&t.NdJ("focus",function(){return o.focus()})("blur",function(){return o._blur()})("keydown",function(r){return o._keydown(r)}),2&e&&(t.Ikx("id",o._uid),t.uIk("tabindex",o.disabled?null:o._tabIndex)("aria-describedby",o._ariaDescribedby||null)("aria-required",o.role?o.required:null)("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-multiselectable",o.multiple)("role",o.role)("aria-orientation",o.ariaOrientation),t.ekj("mat-chip-list-disabled",o.disabled)("mat-chip-list-invalid",o.errorState)("mat-chip-list-required",o.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:U.Eo,useExisting:n}]),t.qOj],ngContentSelectors:Wf,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),n})(),cm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[V.rD,{provide:za,useValue:{separatorKeyCodes:[zt.K5]}}],imports:[[V.BQ]]}),n})();const lm=["myChart1"],dm=["myChart2"];function hm(n,i){1&n&&(t.TgZ(0,"div",3),t.TgZ(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",4),t.qZA())}function um(n,i){1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"button",55),t._UZ(2,"img",56),t._uU(3," My Products "),t.qZA(),t.qZA())}const pm=function(){return["add/new","product"]};function gm(n,i){1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"button",8),t._UZ(2,"img",57),t._uU(3," New Product "),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,pm)))}const _m=function(){return["add/new","linked-product"]};function fm(n,i){1&n&&(t.TgZ(0,"div",7),t.TgZ(1,"button",8),t._UZ(2,"img",58),t._uU(3," Create Bundle "),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,_m)))}function mm(n,i){if(1&n&&(t.TgZ(0,"mat-option",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function bm(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function xm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",54),t.TgZ(2,"form",59),t.TgZ(3,"div",60),t.TgZ(4,"div",61),t.TgZ(5,"div",13),t.TgZ(6,"h3"),t._uU(7,"Pamphlet Details:"),t.qZA(),t.TgZ(8,"mat-form-field",62),t.TgZ(9,"mat-label"),t._uU(10,"Pamphlet Name"),t.qZA(),t._UZ(11,"input",63,64),t.TgZ(13,"mat-icon",23),t._uU(14,"create"),t.qZA(),t.qZA(),t.TgZ(15,"mat-form-field",62),t.TgZ(16,"mat-label"),t._uU(17,"Brand"),t.qZA(),t.TgZ(18,"mat-select",65,66),t.YNc(20,mm,2,2,"mat-option",26),t.ALo(21,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(22,"mat-form-field",62),t.TgZ(23,"mat-label"),t._uU(24,"Description"),t.qZA(),t._UZ(25,"textarea",67,68),t.qZA(),t.qZA(),t.TgZ(27,"div",69),t.TgZ(28,"h3"),t._uU(29,"Selected Products:"),t.qZA(),t.TgZ(30,"mat-card"),t.TgZ(31,"ul"),t.YNc(32,bm,2,1,"li",70),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",71),t.TgZ(34,"h3",72),t._uU(35,"..."),t.qZA(),t.TgZ(36,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveProduct()}),t._uU(37,"Create Pamphlet"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("formGroup",e.newProductForm),t.xp6(18),t.Q6J("ngForOf",t.xi3(21,3,e.typesList,"Brand")),t.xp6(12),t.Q6J("ngForOf",e.newPamphletSKUs)}}function Cm(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Please wait..."),t.qZA())}function vm(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Search"),t.qZA())}function Tm(n,i){if(1&n&&(t.TgZ(0,"mat-option",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function ym(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function Zm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Create Pamphlet"),t.qZA())}function Pm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",76),t.TgZ(1,"span",77),t.TgZ(2,"mat-checkbox",78),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(2).addToPamphlet(a.product_id,a.sku,s)}),t._uU(3,"Add to list"),t.qZA(),t.qZA(),t.qZA()}}function wm(n,i){1&n&&t._UZ(0,"th",75)}function Am(n,i){if(1&n&&(t.TgZ(0,"td",76),t.TgZ(1,"a",79),t._UZ(2,"img",80),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/web/",e.clean_sku,"",t.LSH)}}function km(n,i){1&n&&(t.TgZ(0,"th",75),t.TgZ(1,"span",81),t._uU(2,"SKU"),t.qZA(),t.qZA())}function Mm(n,i){if(1&n&&(t.TgZ(0,"td",76),t._UZ(1,"a",79),t._uU(2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij("",e.sku," ")}}function Sm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Name "),t.qZA())}function Im(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Om(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Brand "),t.qZA())}function Dm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",82),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return a.selectBrand(a.getBrandName(r.brand_type_id))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function Lm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Description "),t.qZA())}function qm(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Nm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Active "),t.qZA())}function Em(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",84),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is active")}),t.TgZ(1,"mat-icon",85),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Fm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",86),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Um(n,i){if(1&n&&(t.TgZ(0,"td",76),t.YNc(1,Em,3,0,"span",83),t.YNc(2,Fm,3,0,"span",83),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Rm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," In Development "),t.qZA())}function Bm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",84),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is in development")}),t.TgZ(1,"mat-icon",87),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Hm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",86),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Ym(n,i){if(1&n&&(t.TgZ(0,"td",76),t.YNc(1,Bm,3,0,"span",83),t.YNc(2,Hm,3,0,"span",83),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Jm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," EOL "),t.qZA())}function Qm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",84),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is in end of life")}),t.TgZ(1,"mat-icon",88),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function zm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",86),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function $m(n,i){if(1&n&&(t.TgZ(0,"td",76),t.YNc(1,Qm,3,0,"span",83),t.YNc(2,zm,3,0,"span",83),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function Vm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Updated "),t.qZA())}function jm(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Gm(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Created "),t.qZA())}function Wm(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Km(n,i){1&n&&t._UZ(0,"th",75)}function Xm(n,i){if(1&n&&(t.TgZ(0,"td",76),t.TgZ(1,"a",89),t._uU(2," View Details "),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function t1(n,i){1&n&&t._UZ(0,"th",75)}function e1(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"..."),t.qZA())}function n1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",92),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(2).addToMyProducts(s.id)}),t._uU(1,"add_circle_outline"),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.MGl("matTooltip","Add ",e.sku," to 'My Products'")}}function o1(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,n1,2,1,"mat-icon",91),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.productManagerRole)}}function s1(n,i){1&n&&(t.TgZ(0,"span",93),t.TgZ(1,"mat-chip",94),t._uU(2,"My Product"),t.qZA(),t.qZA())}function r1(n,i){if(1&n&&(t.TgZ(0,"td",76),t.YNc(1,e1,2,0,"span",2),t.YNc(2,o1,2,1,"span",2),t.YNc(3,s1,3,0,"span",90),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.productsLoader),t.xp6(1),t.Q6J("ngIf",!e.product_manager),t.xp6(1),t.Q6J("ngIf",e.product_manager==o.loggedInUser)}}function a1(n,i){1&n&&t._UZ(0,"tr",95)}function c1(n,i){1&n&&t._UZ(0,"tr",96)}function l1(n,i){if(1&n&&(t.TgZ(0,"tr",97),t.TgZ(1,"td",98),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(29);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const d1=function(){return["add/new","presentation"]},h1=function(){return[10,25,50,100]};function u1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",5),t.YNc(4,um,4,0,"div",6),t.YNc(5,gm,4,2,"div",6),t.YNc(6,fm,4,2,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"button",8),t._UZ(9,"img",9),t._uU(10," Create Presentation "),t.qZA(),t.qZA(),t.TgZ(11,"div",7),t.TgZ(12,"button",10),t.NdJ("click",function(){return t.CHM(e),t.MAs(55).exportTable("csv",{fileName:"products_system"})}),t._UZ(13,"img",11),t._uU(14," Quick Export "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",12),t.TgZ(16,"div",13),t._UZ(17,"canvas",14,15),t.qZA(),t.TgZ(19,"div",16),t._UZ(20,"canvas",14,17),t.qZA(),t.qZA(),t.YNc(22,xm,38,6,"div",18),t.TgZ(23,"div",5),t.TgZ(24,"div",19),t.TgZ(25,"mat-form-field",20),t.YNc(26,Cm,2,0,"mat-label",2),t.YNc(27,vm,2,0,"mat-label",2),t.TgZ(28,"input",21,22),t.NdJ("keyup",function(s){return t.CHM(e),t.oxw().applyFilter(s)}),t.qZA(),t.TgZ(30,"mat-icon",23),t._uU(31,"search"),t.qZA(),t.qZA(),t.TgZ(32,"mat-form-field",24),t.TgZ(33,"mat-label"),t._uU(34,"Categories"),t.qZA(),t.TgZ(35,"mat-select",25),t.NdJ("selectionChange",function(s){return t.CHM(e),t.oxw().filterByCategory(s)}),t.YNc(36,Tm,2,2,"mat-option",26),t.qZA(),t.qZA(),t.TgZ(37,"div",27),t.TgZ(38,"span",28),t.TgZ(39,"mat-checkbox",29),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().displayDates=s})("change",function(s){return t.CHM(e),t.oxw().showDates(s)}),t._uU(40,"More info"),t.qZA(),t.qZA(),t.TgZ(41,"span",28),t.TgZ(42,"mat-checkbox",30),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().eolProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(43,"EOL"),t.qZA(),t.qZA(),t.TgZ(44,"span",28),t.TgZ(45,"mat-checkbox",30),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().developmentProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(46,"In Development"),t.qZA(),t.qZA(),t.TgZ(47,"span",28),t.TgZ(48,"mat-checkbox",30),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().activeProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(49,"Active"),t.qZA(),t.qZA(),t.TgZ(50,"span",28),t.TgZ(51,"mat-checkbox",30),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().allProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(52,"All"),t.qZA(),t.qZA(),t.YNc(53,ym,1,0,"mat-progress-bar",31),t.TgZ(54,"table",32,33),t.NdJ("matSortChange",function(s){return t.CHM(e),t.oxw().announceSortChange(s)}),t.ynx(56,34),t.YNc(57,Zm,2,0,"th",35),t.YNc(58,Pm,4,0,"td",36),t.BQk(),t.ynx(59,37),t.YNc(60,wm,1,0,"th",35),t.YNc(61,Am,3,2,"td",36),t.BQk(),t.ynx(62,38),t.YNc(63,km,3,0,"th",35),t.YNc(64,Mm,3,2,"td",36),t.BQk(),t.ynx(65,39),t.YNc(66,Sm,2,0,"th",35),t.YNc(67,Im,2,1,"td",36),t.BQk(),t.ynx(68,40),t.YNc(69,Om,2,0,"th",35),t.YNc(70,Dm,2,1,"td",41),t.BQk(),t.ynx(71,42),t.YNc(72,Lm,2,0,"th",35),t.YNc(73,qm,2,1,"td",36),t.BQk(),t.ynx(74,43),t.YNc(75,Nm,2,0,"th",35),t.YNc(76,Um,3,2,"td",36),t.BQk(),t.ynx(77,44),t.YNc(78,Rm,2,0,"th",35),t.YNc(79,Ym,3,2,"td",36),t.BQk(),t.ynx(80,45),t.YNc(81,Jm,2,0,"th",35),t.YNc(82,$m,3,2,"td",36),t.BQk(),t.ynx(83,46),t.YNc(84,Vm,2,0,"th",35),t.YNc(85,jm,3,3,"td",36),t.BQk(),t.ynx(86,47),t.YNc(87,Gm,2,0,"th",35),t.YNc(88,Wm,3,3,"td",36),t.BQk(),t.ynx(89,48),t.YNc(90,Km,1,0,"th",35),t.YNc(91,Xm,3,1,"td",36),t.BQk(),t.ynx(92,49),t.YNc(93,t1,1,0,"th",35),t.YNc(94,r1,4,3,"td",36),t.BQk(),t.YNc(95,a1,1,0,"tr",50),t.YNc(96,c1,1,0,"tr",51),t.YNc(97,l1,3,1,"tr",52),t.qZA(),t._UZ(98,"mat-paginator",53),t.qZA(),t.qZA(),t._UZ(99,"div",54),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.productManagerRole),t.xp6(1),t.Q6J("ngIf",e.addProductRole),t.xp6(1),t.Q6J("ngIf",e.addProductRole),t.xp6(2),t.Q6J("routerLink",t.DdM(20,d1)),t.xp6(14),t.Q6J("ngIf",e.showNewPamphletPanel),t.xp6(4),t.Q6J("ngIf",e.entireProductsLoader),t.xp6(1),t.Q6J("ngIf",!e.entireProductsLoader),t.xp6(1),t.Q6J("disabled",e.entireProductsLoader),t.xp6(7),t.Q6J("disabled",e.entireProductsLoader),t.xp6(1),t.Q6J("ngForOf",e.primaryCategoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(41),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(21,h1))}}class ti extends Wi._k{constructor(i,e,o,s,r,a,c,l,d,h,u,p){super(),this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=r,this._snackBar=a,this._liveAnnouncer=c,this.info=l,this.router=d,this.formBuilder=h,this.lookup=u,this.products=p,this.productsList=[],this.categoriesList=[],this.primaryCategoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","view","add"],this.productsLoader=!1,this.entireProductsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.newPamphlet=[],this.newPamphletSKUs=[],this.showNewPamphletPanel=!1,this.productManagerProducts=[],this.productManagerRole=!1,this.addingToMyProducts=!1,this.info.isUserLoggedIn.subscribe(g=>{this.loggedIn=g})}ngAfterViewInit(){this.info.setLoadingInfo("Loading stats...","info"),this.api.GET("home").subscribe({next:i=>{te.register(...jf);const e=this.myChart1.nativeElement.getContext("2d"),o=this.myChart2.nativeElement.getContext("2d");e&&o?(new te(e,{type:"bar",data:{labels:["Verified","Active","Eol","Development","All"],datasets:[{label:"# of Products",data:[i.verified,i.active,i.eol,i.dev,i.all],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}),new te(o,{type:"pie",data:{labels:["Audio","Bags","Food","Electrical","Furniture","Gaming","Computing"],datasets:[{label:"# of Products",data:[i.audio,i.bags,i.food,i.electrical,i.furniture,i.gaming,i.computing],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}),this.info.setLoadingInfo("","success")):console.error("Could not retrieve 2D context for canvas")},error:i=>{this.info.setLoadingInfo(i,"info")}})}ngOnInit(){this.loggedInUser=this.info.getUserId(),window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.productManagerRole=this.info.role(86),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.productManagerRole=this.info.role(86)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.newProductForm=this.formBuilder.group({name:["",P.kI.required],brand_type_id:["",P.kI.required],description:["",P.kI.required]}),this.info.auth()}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.info.setLoadingInfo("Preparing...","info"),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.productManagerRole=this.info.role(86)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){let i="products-verified";this.info.setLoadingInfo("Loading products...","info"),this.viewAllProductsRole&&(i="products"),this.productsLoader=!0,this.api.GET(i).subscribe({next:e=>{this.productsList=e,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Products loaded","success"),this.entireProducts()},error:e=>{this.info.setLoadingInfo("Failed to connect to the server: "+e.message,"success"),this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}entireProducts(){this.info.setLoadingInfo("Loading more products...","info"),this.entireProductsLoader=!0,this.api.GET("products-verified").subscribe({next:e=>{this.productsList=e,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.products.setProducts(e),this.entireProductsLoader=!1,this.info.setLoadingInfo("Products loaded","success")},error:e=>{this.info.setLoadingInfo(e,"danger"),this.entireProductsLoader=!1}})}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getAllTypes(){this.typesList=this.lookup.getTypes(),this.info.setLoadingInfo("Loading types...","info"),this.api.GET("types").subscribe({next:i=>{this.lookup.setTypes(i),this.typesList=this.lookup.getTypes(),this.info.setLoadingInfo("Types loaded","success")},error:i=>{this.openSnackBar("Failed to communicate with the server","Okay"),this.info.setLoadingInfo("Failed to communicate with the server: "+i.message,"info")}})}getBrandName(i){try{let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}catch(e){return this.info.errorHandler(e),""}}permission(i){return console.log("Role check"),!!this.info.role(i)}iconClick(i){this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view","add"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view","add"]}selectBrand(i){this.router.navigate(["/brand",i.toLowerCase()])}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?o=>1==o.is_in_development&&1==o.is_active:this.activeProducts&&this.eolProducts?o=>1==o.is_active&&1==o.is_eol:this.developmentProducts&&this.eolProducts?o=>1==o.is_in_development&&1==o.is_eol:this.activeProducts?o=>1==o.is_active:this.developmentProducts?o=>1==o.is_in_development:o=>1==o.is_eol),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.info.setLoadingInfo("Loading categories...","info"),this.api.GET("categories").subscribe({next:i=>{this.products.setCategories(i),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=i.filter(e=>"0"==e.parent),this.info.setLoadingInfo("Categories loaded","success")},error:i=>{this.info.setLoadingInfo(i,"info")}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}showPamphletCheckboxes(){this.showNewPamphletPanel=!this.showNewPamphletPanel,this.displayedColumns=this.showNewPamphletPanel?["pamphlet","thumbnail","sku","name","brand","description","view","add"]:["thumbnail","sku","name","brand","description","view","add"]}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}addToMyProducts(i){this.addingToMyProducts=!0,this.api.POST(`products/update/${i}`,{product_manager:this.info.getUserId()}).subscribe({next:e=>{this.entireProducts(),this.openSnackBar("Added to 'My Products'","Okay"),this.addingToMyProducts=!1},error:e=>{this.addingToMyProducts=!1,this.info.errorHandler(e),this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}addToPamphlet(i,e,o){}saveProduct(){}}function p1(n,i){1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA())}function g1(n,i){1&n&&t._UZ(0,"mat-progress-bar",3)}function _1(n,i){1&n&&t._UZ(0,"th",40)}function f1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._UZ(1,"img",42),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function m1(n,i){1&n&&(t.TgZ(0,"th",40),t.TgZ(1,"span",43),t._uU(2,"SKU"),t.qZA(),t.qZA())}function b1(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function x1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Name "),t.qZA())}function C1(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function v1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Brand "),t.qZA())}function T1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",45),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return a.selectBrand(a.getBrandName(r.brand_type_id))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function y1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Description "),t.qZA())}function Z1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function P1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Active "),t.qZA())}function w1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is active")}),t.TgZ(1,"mat-icon",48),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function A1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",49),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function k1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,w1,3,0,"span",46),t.YNc(2,A1,3,0,"span",46),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function M1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," In Development "),t.qZA())}function S1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is in development")}),t.TgZ(1,"mat-icon",50),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function I1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",49),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function O1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,S1,3,0,"span",46),t.YNc(2,I1,3,0,"span",46),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function D1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," EOL "),t.qZA())}function L1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).iconClick(s.sku+" is in end of life")}),t.TgZ(1,"mat-icon",51),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function q1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",49),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function N1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,L1,3,0,"span",46),t.YNc(2,q1,3,0,"span",46),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function E1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Updated "),t.qZA())}function F1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function U1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Created "),t.qZA())}function R1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function B1(n,i){1&n&&t._UZ(0,"th",40)}function H1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.TgZ(1,"button",52),t._uU(2," View Details "),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function Y1(n,i){1&n&&t._UZ(0,"tr",53)}function J1(n,i){1&n&&t._UZ(0,"tr",54)}function Q1(n,i){if(1&n&&(t.TgZ(0,"tr",55),t.TgZ(1,"td",56),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(20);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}ti.\u0275fac=function(i){return new(i||ti)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(D.Kd),t.Y36(F.C),t.Y36(y.F0),t.Y36(P.qu),t.Y36(jt.W),t.Y36(X))},ti.\u0275cmp=t.Xpm({type:ti,selectors:[["app-products-home"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(Z.YE,5),t.Gf(lm,5),t.Gf(dm,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first),t.iGM(o=t.CRH())&&(e.myChart1=o.first),t.iGM(o=t.CRH())&&(e.myChart2=o.first)}},features:[t.qOj],decls:3,vars:2,consts:[[1,"loadingInfo"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],["class","col-12 col-ms-12 col-md-5 col-lg-2",4,"ngIf"],[1,"col-12","col-ms-12","col-md-5","col-lg-2"],["mat-raised-button","",1,"p-2",2,"width","100%",3,"routerLink"],["src","../../../assets/icons/presentation.png","height","35"],["mat-raised-button","",1,"p-2",2,"width","100%",3,"click"],["src","../../../assets/icons/csv.png","height","35"],[1,"row","mt-5"],[1,"col-md-6"],[1,"myCharts"],["myChart1",""],[1,"col-md-6",2,"padding-left","6rem"],["myChart2",""],["class","row",4,"ngIf"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"disabled","keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","pamphlet"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["matColumnDef","add"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","products/product-manager",1,"p-2",2,"width","100%"],["src","../../../assets/icons/products.png","height","35"],["src","../../../assets/icons/new-product.png","height","35"],["src","../../../assets/icons/linked-products.png","height","35"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"row",2,"background-color","#f7f7f7","padding","1rem","border","1px solid rgb(231, 231, 231)"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],["rows","3","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[1,"col-md-4"],[4,"ngFor","ngForOf"],[1,"col-md-2"],[2,"color","#ffff"],["type","submit","mat-raised-button","","type","submit","color","primary",2,"float","right",3,"click"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"padding","9px","background-color","#f0f0f0","color","green"],["color","primary",1,"table-setting",3,"change"],["target","_blank",3,"routerLink"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details","target","_blank",3,"routerLink"],["style","font-size: 10px;",4,"ngIf"],["style","cursor: pointer; color: rgb(8, 145, 88);",3,"matTooltip","click",4,"ngIf"],[2,"cursor","pointer","color","rgb(8, 145, 88)",3,"matTooltip","click"],[2,"font-size","10px"],["disabled",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t._UZ(0,"span",0),t.YNc(1,hm,4,0,"div",1),t.YNc(2,u1,100,22,"div",2)),2&i&&(t.xp6(1),t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},directives:[T.O5,Gt.pW,ct.lW,y.rH,P._Y,P.JL,P.sg,U.KE,U.hX,$.Nt,P.Fj,P.JJ,P.u,Q.Hw,U.R9,J.gD,T.sg,V.ey,z.a8,he.oG,P.On,f.BZ,Te.jt,Z.YE,f.w1,f.fO,f.ge,Z.nU,f.Dz,f.ev,y.yS,ct.zs,fi.gM,Xe,f.as,f.XQ,f.nj,f.Gk,f.Ee,C.NW],pipes:[Fe,T.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.mat-column-add[_ngcontent-%COMP%]{width:12rem;padding-left:2rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}.loadingInfo[_ngcontent-%COMP%]{float:right}.myCharts[_ngcontent-%COMP%]{height:315px!important}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%]{width:100%}.table-category[_ngcontent-%COMP%]{width:100%;float:none}.mat-column-id[_ngcontent-%COMP%], .sku-title[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,ve.gn)([(0,ci.bH)()],ti.prototype,"blockUI",void 0);const z1=function(){return[10,25,50,100]};function $1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.TgZ(5,"button",6),t.NdJ("click",function(){return t.CHM(e),t.MAs(41).exportTable("csv",{fileName:"products_system"})}),t.TgZ(6,"mat-icon"),t._uU(7,"download_file"),t.qZA(),t._uU(8," Export CSV "),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.TgZ(10,"button",7),t.TgZ(11,"mat-icon"),t._uU(12,"wordpress"),t.qZA(),t._uU(13," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",4),t.TgZ(15,"div",8),t.TgZ(16,"mat-form-field",9),t.TgZ(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10,11),t.NdJ("keyup",function(s){return t.CHM(e),t.oxw().applyFilter(s)}),t.qZA(),t.TgZ(21,"mat-icon",12),t._uU(22,"search"),t.qZA(),t.qZA(),t.TgZ(23,"div",13),t.TgZ(24,"span",14),t.TgZ(25,"mat-checkbox",15),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().displayDates=s})("change",function(s){return t.CHM(e),t.oxw().showDates(s)}),t._uU(26,"More info"),t.qZA(),t.qZA(),t.TgZ(27,"span",14),t.TgZ(28,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().eolProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(29,"EOL"),t.qZA(),t.qZA(),t.TgZ(30,"span",14),t.TgZ(31,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().developmentProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(32,"In Development"),t.qZA(),t.qZA(),t.TgZ(33,"span",14),t.TgZ(34,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().activeProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(35,"Active"),t.qZA(),t.qZA(),t.TgZ(36,"span",14),t.TgZ(37,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().allProducts=s})("change",function(s){return t.CHM(e),t.oxw().filterStatuses(s)}),t._uU(38,"All"),t.qZA(),t.qZA(),t.YNc(39,g1,1,0,"mat-progress-bar",17),t.TgZ(40,"table",18,19),t.NdJ("matSortChange",function(s){return t.CHM(e),t.oxw().announceSortChange(s)}),t.ynx(42,20),t.YNc(43,_1,1,0,"th",21),t.YNc(44,f1,2,1,"td",22),t.BQk(),t.ynx(45,23),t.YNc(46,m1,3,0,"th",21),t.YNc(47,b1,2,2,"td",24),t.BQk(),t.ynx(48,25),t.YNc(49,x1,2,0,"th",21),t.YNc(50,C1,2,2,"td",24),t.BQk(),t.ynx(51,26),t.YNc(52,v1,2,0,"th",21),t.YNc(53,T1,2,1,"td",27),t.BQk(),t.ynx(54,28),t.YNc(55,y1,2,0,"th",21),t.YNc(56,Z1,2,1,"td",22),t.BQk(),t.ynx(57,29),t.YNc(58,P1,2,0,"th",21),t.YNc(59,k1,3,2,"td",22),t.BQk(),t.ynx(60,30),t.YNc(61,M1,2,0,"th",21),t.YNc(62,O1,3,2,"td",22),t.BQk(),t.ynx(63,31),t.YNc(64,D1,2,0,"th",21),t.YNc(65,N1,3,2,"td",22),t.BQk(),t.ynx(66,32),t.YNc(67,E1,2,0,"th",21),t.YNc(68,F1,3,3,"td",22),t.BQk(),t.ynx(69,33),t.YNc(70,U1,2,0,"th",21),t.YNc(71,R1,3,3,"td",22),t.BQk(),t.ynx(72,34),t.YNc(73,B1,1,0,"th",21),t.YNc(74,H1,3,1,"td",22),t.BQk(),t.YNc(75,Y1,1,0,"tr",35),t.YNc(76,J1,1,0,"tr",36),t.YNc(77,Q1,3,1,"tr",37),t.qZA(),t._UZ(78,"mat-paginator",38),t.qZA(),t.qZA(),t._UZ(79,"div",39),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(25),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(35),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(10,z1))}}class ei{constructor(i,e,o,s,r,a,c,l,d,h,u,p,g){this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=r,this._snackBar=a,this._liveAnnouncer=c,this.info=l,this.route=d,this.router=h,this.formBuilder=u,this.lookup=p,this.products=g,this.displayedColumns=["thumbnail","sku","name","brand","description","view"],this.typesList=[],this.loggedIn=!1,this.productsList=[],this.categoriesList=[],this.packagingList=[],this.productsLoader=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.showNewPamphletPanel=!1,this.info.isUserLoggedIn.subscribe(_=>{this.loggedIn=_})}ngOnInit(){this.route.params.subscribe(i=>{this.series=i.series,this.typesList=this.lookup.getTypes();const e=this.typesList.find(o=>o.name.toUpperCase()==this.series.toUpperCase());console.log("Lookup type: ",e),this.loadProducts(e.id)})}loadProducts(i){this.api.GET(`products-by-series/${i}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getBrandName(i){let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}permission(i){return console.log("Role check"),!!this.info.role(i)}iconClick(i){this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view"]}selectBrand(i){this.router.navigate(["/brand",i.toLowerCase()])}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?o=>1==o.is_in_development&&1==o.is_active:this.activeProducts&&this.eolProducts?o=>1==o.is_active&&1==o.is_eol:this.developmentProducts&&this.eolProducts?o=>1==o.is_in_development&&1==o.is_eol:this.activeProducts?o=>1==o.is_active:this.developmentProducts?o=>1==o.is_in_development:o=>1==o.is_eol),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:i=>{this.products.setCategories(i),this.categoriesList=this.products.getCategories()},error:i=>{console.log(i)}})}showPamphletCheckboxes(){this.showNewPamphletPanel=!this.showNewPamphletPanel,this.displayedColumns=this.showNewPamphletPanel?["pamphlet","thumbnail","sku","name","brand","description","view"]:["thumbnail","sku","name","brand","description","view"]}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}}ei.\u0275fac=function(i){return new(i||ei)(t.Y36(k.I),t.Y36(q.Z),t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(D.Kd),t.Y36(F.C),t.Y36(y.gz),t.Y36(y.F0),t.Y36(P.qu),t.Y36(jt.W),t.Y36(X))},ei.\u0275cmp=t.Xpm({type:ei,selectors:[["app-series"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(Z.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},decls:2,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","",1,"m-1",2,"width","100%",3,"click"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-cell","",3,"routerLink"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t.YNc(0,p1,4,0,"div",0),t.YNc(1,$1,80,11,"div",1)),2&i&&(t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},directives:[T.O5,Gt.pW,ct.lW,Q.Hw,y.rH,U.KE,U.hX,$.Nt,U.R9,he.oG,P.JJ,P.On,f.BZ,Te.jt,Z.YE,f.w1,f.fO,f.ge,Z.nU,f.Dz,f.ev,f.as,f.XQ,f.nj,f.Gk,f.Ee,C.NW],pipes:[T.uU],styles:[""]}),(0,ve.gn)([(0,ci.bH)()],ei.prototype,"blockUI",void 0);var Hi=m(9776),xe=m(7429),V1=m(9770),j1=m(9646),Fn=m(9300),ut=m(1777);function G1(n,i){}class $o{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const W1={dialogContainer:(0,ut.X$)("dialogContainer",[(0,ut.SB)("void, exit",(0,ut.oB)({opacity:0,transform:"scale(0.7)"})),(0,ut.SB)("enter",(0,ut.oB)({transform:"none"})),(0,ut.eR)("* => enter",(0,ut.ru)([(0,ut.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ut.oB)({transform:"none",opacity:1})),(0,ut.IO)("@*",(0,ut.pV)(),{optional:!0})])),(0,ut.eR)("* => void, * => exit",(0,ut.ru)([(0,ut.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ut.oB)({opacity:0})),(0,ut.IO)("@*",(0,ut.pV)(),{optional:!0})]))])};let K1=(()=>{class n extends xe.en{constructor(e,o,s,r,a,c,l,d){super(),this._elementRef=e,this._focusTrapFactory=o,this._changeDetectorRef=s,this._config=a,this._interactivityChecker=c,this._ngZone=l,this._focusMonitor=d,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=h=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(h)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Nt.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,o){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(o)}_focusByCssSelector(e,o){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,o)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const o=(0,Nt.ht)(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=(0,Nt.ht)();return e===o||e.contains(o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(D.qV),t.Y36(t.sBO),t.Y36(T.K0,8),t.Y36($o),t.Y36(D.ic),t.Y36(t.R0b),t.Y36(D.tE))},n.\u0275dir=t.lG2({type:n,viewQuery:function(e,o){if(1&e&&t.Gf(xe.Pl,7),2&e){let s;t.iGM(s=t.CRH())&&(o._portalOutlet=s.first)}},features:[t.qOj]}),n})(),X1=(()=>{class n extends K1{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,o){1&e&&t.WFA("@dialogContainer.start",function(r){return o._onAnimationStart(r)})("@dialogContainer.done",function(r){return o._onAnimationDone(r)}),2&e&&(t.Ikx("id",o._id),t.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),t.d8E("@dialogContainer",o._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&t.YNc(0,G1,0,0,"ng-template",0)},directives:[xe.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[W1.dialogContainer]}}),n})(),tb=0;class eb{constructor(i,e,o="mat-dialog-"+tb++){this._overlayRef=i,this._containerInstance=e,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ft.x,this._afterClosed=new ft.x,this._beforeClosed=new ft.x,this._state=0,e._id=o,e._animationStateChanged.pipe((0,Fn.h)(s=>"opened"===s.state),(0,He.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,Fn.h)(s=>"closed"===s.state),(0,He.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe((0,Fn.h)(s=>s.keyCode===zt.hY&&!this.disableClose&&!(0,zt.Vb)(s))).subscribe(s=>{s.preventDefault(),$a(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():$a(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,Fn.h)(e=>"closing"===e.state),(0,He.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let e=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",e=""){return this._overlayRef.updateSize({width:i,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function $a(n,i,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=i),n.close(e)}const ib=new t.OlP("MatDialogData"),nb=new t.OlP("mat-dialog-default-options"),Va=new t.OlP("mat-dialog-scroll-strategy"),sb={provide:Va,deps:[Hi.aV],useFactory:function ob(n){return()=>n.scrollStrategies.block()}};let rb=(()=>{class n{constructor(e,o,s,r,a,c,l,d,h,u){this._overlay=e,this._injector=o,this._defaultOptions=s,this._parentDialog=r,this._overlayContainer=a,this._dialogRefConstructor=l,this._dialogContainerType=d,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.x,this._afterOpenedAtThisLevel=new ft.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,V1.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Wt.O)(void 0))),this._scrollStrategy=c}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){o=function ab(n,i){return Object.assign(Object.assign({},i),n)}(o,this._defaultOptions||new $o),o.id&&this.getDialogById(o.id);const s=this._createOverlay(o),r=this._attachDialogContainer(s,o),a=this._attachDialogContent(e,r,s,o);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),r._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const o=this._getOverlayConfig(e);return this._overlay.create(o)}_getOverlayConfig(e){const o=new Hi.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachDialogContainer(e,o){const r=t.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:$o,useValue:o}]}),a=new xe.C5(this._dialogContainerType,o.viewContainerRef,r,o.componentFactoryResolver);return e.attach(a).instance}_attachDialogContent(e,o,s,r){const a=new this._dialogRefConstructor(s,o,r.id);if(e instanceof t.Rgc)o.attachTemplatePortal(new xe.UE(e,null,{$implicit:r.data,dialogRef:a}));else{const c=this._createInjector(r,a,o),l=o.attachComponentPortal(new xe.C5(e,r.viewContainerRef,c,r.componentFactoryResolver));a.componentInstance=l.instance}return a.updateSize(r.width,r.height).updatePosition(r.position),a}_createInjector(e,o,s){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:o}];return e.direction&&(!r||!r.get(hi.Is,null,t.XFs.Optional))&&a.push({provide:hi.Is,useValue:{value:e.direction,change:(0,j1.of)()}}),t.zs3.create({parent:r||this._injector,providers:a})}_removeOpenDialog(e){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,r)=>{s?r.setAttribute("aria-hidden",s):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let s=o.length-1;s>-1;s--){let r=o[s];r!==e&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275dir=t.lG2({type:n}),n})(),Vo=(()=>{class n extends rb{constructor(e,o,s,r,a,c,l,d){super(e,o,r,c,l,a,eb,X1,ib,d)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Hi.aV),t.LFG(t.zs3),t.LFG(T.Ye,8),t.LFG(nb,8),t.LFG(Va),t.LFG(n,12),t.LFG(Hi.Xj),t.LFG(Ha.Qb,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Vo,sb],imports:[[Hi.U8,xe.eL,V.BQ],V.BQ]}),n})();var jo=m(2313),Un=m(2181),Yi=m(4623),ja=m(773),Go=m(5876);const lb=["qrcElement"];let Wo=(()=>{class n{constructor(e,o){this.renderer=e,this.sanitizer=o,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.vpe,this.context=null}ngOnChanges(){return(0,ve.mG)(this,void 0,void 0,function*(){yield this.createQRCode()})}isValidQrCodeText(e){return!1===this.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):void 0!==e}toDataURL(e){return new Promise((o,s)=>{Go.hz(this.qrdata,e,(r,a)=>{r?s(r):o(a)})})}toCanvas(e,o){return new Promise((s,r)=>{Go.rT(e,this.qrdata,o,a=>{a?r(a):s("success")})})}toSVG(e){return new Promise((o,s)=>{Go.toString(this.qrdata,e,(r,a)=>{r?s(r):o(a)})})}renderElement(e){for(const o of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,o);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){return(0,ve.mG)(this,void 0,void 0,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&""===this.qrdata&&(this.qrdata=" ");const e={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:this.elementType,version:this.version,width:this.width},o=this.imageSrc,s=this.imageHeight||40,r=this.imageWidth||40;switch(this.elementType){case"canvas":const a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,e).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),o&&this.context){this.centerImage=new Image(r,s),o!==this.centerImage.src&&(this.centerImage.src=o),s!==this.centerImage.height&&(this.centerImage.height=s),r!==this.centerImage.width&&(this.centerImage.width=r);const d=this.centerImage;d&&(d.onload=()=>{var h;null===(h=this.context)||void 0===h||h.drawImage(d,a.width/2-r/2,a.height/2-s/2,r,s)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(d=>{console.error("[angularx-qrcode] canvas error:",d)});break;case"svg":const c=this.renderer.createElement("div");this.toSVG(e).then(d=>{this.renderer.setProperty(c,"innerHTML",d);const h=c.firstChild;this.renderer.setAttribute(h,"height",`${this.width}`),this.renderer.setAttribute(h,"width",`${this.width}`),this.renderElement(h),this.emitQRCodeURL(h)}).catch(d=>{console.error("[angularx-qrcode] svg error:",d)});break;default:const l=this.renderer.createElement("img");this.toDataURL(e).then(d=>{this.alt&&l.setAttribute("alt",this.alt),this.ariaLabel&&l.setAttribute("aria-label",this.ariaLabel),l.setAttribute("src",d),this.title&&l.setAttribute("title",this.title),this.renderElement(l),this.emitQRCodeURL(l)}).catch(d=>{console.error("[angularx-qrcode] img/url error:",d)})}}catch(e){console.error("[angularx-qrcode] Error generating QR Code:",e.message)}})}emitQRCodeURL(e){const o=e.constructor.name;if(o===SVGSVGElement.name){const a=new Blob([e.outerHTML],{type:"image/svg+xml"}),c=URL.createObjectURL(a),l=this.sanitizer.bypassSecurityTrustUrl(c);return void this.qrCodeURL.emit(l)}let s="";o===HTMLCanvasElement.name&&(s=e.toDataURL("image/png")),o===HTMLImageElement.name&&(s=e.src),fetch(s).then(r=>r.blob()).then(r=>URL.createObjectURL(r)).then(r=>this.sanitizer.bypassSecurityTrustUrl(r)).then(r=>{this.qrCodeURL.emit(r)}).catch(r=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+r)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(jo.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(e,o){if(1&e&&t.Gf(lb,7),2&e){let s;t.iGM(s=t.CRH())&&(o.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,o){1&e&&t._UZ(0,"div",null,0),2&e&&t.Tol(o.cssClass)},encapsulation:2,changeDetection:0}),n})(),db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[]}),n})();const hb=["pdfContent"];function ub(n,i){1&n&&(t.TgZ(0,"a",3),t._uU(1," < Back to My products "),t.qZA())}function pb(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",4),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function gb(n,i){1&n&&(t.TgZ(0,"i",37),t._uU(1,"arrow_right"),t.qZA())}function _b(n,i){1&n&&(t.TgZ(0,"i",37),t._uU(1,"arrow_left"),t.qZA())}function fb(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function mb(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,fb,2,0,"span",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function bb(n,i){1&n&&(t.TgZ(0,"mat-form-field",45),t.TgZ(1,"mat-label"),t._uU(2,"ID"),t.qZA(),t._UZ(3,"input",89,90),t.qZA())}function xb(n,i){if(1&n&&(t.TgZ(0,"mat-option",91),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.s9C("value",e.id),t.Q6J("disabled",!o.editRole),t.xp6(1),t.Oqu(e.name)}}function Cb(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function vb(n,i){1&n&&(t.TgZ(0,"div",93),t._uU(1,' \u26a0 Before verifying, make sure your images are arranged correctly on the "Media" tab. '),t.qZA())}function Tb(n,i){1&n&&(t.TgZ(0,"div",93),t._uU(1," \u26a0 Please set categories for this product "),t.qZA())}function yb(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"i",94),t._uU(2,"Product Manager is needed to verify this product"),t.qZA(),t.qZA())}function Zb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",95),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).updateProduct()}),t._uU(1,"Save Changes"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.productForm.dirty)}}function Pb(n,i){if(1&n&&(t.TgZ(0,"mat-option",91),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.s9C("value",e.id),t.Q6J("disabled",!o.editRole),t.xp6(1),t.Oqu(e.name)}}function wb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",96),t.TgZ(2,"mat-form-field",45),t.TgZ(3,"mat-label"),t._uU(4,"Product Region"),t.qZA(),t.TgZ(5,"mat-select",97,98),t.YNc(7,Pb,2,3,"mat-option",52),t.ALo(8,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.index,o=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(6),t.Q6J("ngForOf",t.xi3(8,2,o.typesList,"Region"))}}function Ab(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).addRegion()}),t._uU(1," Add Region "),t.qZA()}}function kb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",100),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).updateRegion()}),t._uU(1,"Save Region"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.regionsForm.dirty)}}function Mb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",109),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,r=t.oxw(2).$implicit;return t.oxw(3).removeDesign(s,r.id)}),t._uU(1,"delete"),t.qZA()}}function Sb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",96),t.TgZ(2,"mat-form-field",45),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"textarea",106,107),t.YNc(7,Mb,2,0,"mat-icon",108),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(2),t.Q6J("ngIf",s.editRole)}}function Ib(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).addDesign(s.id)}),t._uU(1," Add New "),t.qZA()}}function Ob(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",110),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).design(s.id)}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function Db(n,i){if(1&n&&(t.TgZ(0,"form",42),t.ynx(1,104),t.YNc(2,Sb,8,4,"ng-container",28),t.BQk(),t.YNc(3,Ib,2,0,"button",78),t.YNc(4,Ob,2,1,"button",105),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.shoutoutsForm),t.xp6(2),t.Q6J("ngForOf",e.shoutouts.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function Lb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",109),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,r=t.oxw(2).$implicit;return t.oxw(3).removeDesign(s,r.id)}),t._uU(1,"delete"),t.qZA()}}function qb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",96),t.TgZ(2,"mat-form-field",45),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"textarea",106),t.YNc(6,Lb,2,0,"mat-icon",108),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(1),t.Q6J("ngIf",s.editRole)}}function Nb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).addDesign(s.id)}),t._uU(1," Add New "),t.qZA()}}function Eb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",110),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).design(s.id)}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function Fb(n,i){if(1&n&&(t.TgZ(0,"form",42),t.ynx(1,111),t.YNc(2,qb,7,4,"ng-container",28),t.BQk(),t.YNc(3,Nb,2,0,"button",78),t.YNc(4,Eb,2,1,"button",105),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.featuresAndBenefitsForm),t.xp6(2),t.Q6J("ngForOf",e.features.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function Ub(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",109),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,r=t.oxw(2).$implicit;return t.oxw(3).removeDesign(s,r.id)}),t._uU(1,"delete"),t.qZA()}}function Rb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",96),t.TgZ(2,"mat-form-field",45),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"textarea",106),t.YNc(6,Ub,2,0,"mat-icon",108),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(1),t.Q6J("ngIf",s.editRole)}}function Bb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).addDesign(s.id)}),t._uU(1," Add New "),t.qZA()}}function Hb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",110),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).design(s.id)}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function Yb(n,i){if(1&n&&(t.TgZ(0,"form",42),t.ynx(1,112),t.YNc(2,Rb,7,4,"ng-container",28),t.BQk(),t.YNc(3,Bb,2,0,"button",78),t.YNc(4,Hb,2,1,"button",105),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.extendedFabsForm),t.xp6(2),t.Q6J("ngForOf",e.fabs.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function Jb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",109),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,r=t.oxw(2).$implicit;return t.oxw(3).removeDesign(s,r.id)}),t._uU(1,"delete"),t.qZA()}}function Qb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",96),t.TgZ(2,"mat-form-field",45),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"input",114),t.YNc(6,Jb,2,0,"mat-icon",108),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(1),t.Q6J("ngIf",s.editRole)}}function zb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).addDesign(s.id)}),t._uU(1," Add New "),t.qZA()}}function $b(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",110),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).design(s.id)}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function Vb(n,i){if(1&n&&(t.TgZ(0,"form",42),t.ynx(1,113),t.YNc(2,Qb,7,4,"ng-container",28),t.BQk(),t.YNc(3,zb,2,0,"button",78),t.YNc(4,$b,2,1,"button",105),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.packageContentsForm),t.xp6(2),t.Q6J("ngForOf",e.contents.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function jb(n,i){if(1&n&&(t.TgZ(0,"mat-card",101),t._UZ(1,"img",102),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._UZ(4,"hr"),t.YNc(5,Db,5,4,"form",103),t.YNc(6,Fb,5,4,"form",103),t.YNc(7,Yb,5,4,"form",103),t.YNc(8,Vb,5,4,"form",103),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("src","../../../assets/icons/",e.name,".png",t.LSH),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf",80==e.id),t.xp6(1),t.Q6J("ngIf",81==e.id),t.xp6(1),t.Q6J("ngIf",82==e.id),t.xp6(1),t.Q6J("ngIf",83==e.id)}}function Gb(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function Wb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",123),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(4).removeFromBundle(s)}),t._uU(1,"delete"),t.qZA()}}function Kb(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",118),t._UZ(1,"input",120),t.YNc(2,Wb,2,0,"mat-icon",121),t.TgZ(3,"mat-hint"),t.TgZ(4,"a",122),t._uU(5,"View this product"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.s9C("value",e),t.xp6(1),t.Q6J("ngIf",o.editRole),t.xp6(2),t.MGl("href","https://products.smdtechnologies.com/",e,"",t.LSH)}}function Xb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",118),t.TgZ(1,"mat-label"),t._uU(2,"Selected Product"),t.qZA(),t._UZ(3,"input",120),t.TgZ(4,"mat-icon",109),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).removeFromBundle(r)}),t._uU(5,"delete"),t.qZA(),t.TgZ(6,"mat-hint"),t.TgZ(7,"a",122),t._uU(8,"View this product"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(3),t.s9C("value",e),t.xp6(4),t.MGl("href","https://products.smdtechnologies.com/",e,"",t.LSH)}}function tx(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ex(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",115),t._UZ(1,"img",116),t.TgZ(2,"strong"),t._uU(3," Linked Products"),t.qZA(),t._UZ(4,"hr"),t.YNc(5,Gb,1,0,"mat-progress-bar",32),t._UZ(6,"br"),t._UZ(7,"br"),t.YNc(8,Kb,6,3,"mat-form-field",117),t.TgZ(9,"form",42),t.YNc(10,Xb,9,2,"mat-form-field",117),t.TgZ(11,"mat-form-field",118),t.TgZ(12,"mat-label"),t._uU(13,"Add Product"),t.qZA(),t._UZ(14,"input",119),t.TgZ(15,"mat-autocomplete",55,56),t.NdJ("optionSelected",function(s){return t.CHM(e),t.oxw(3).addToBundle(s)}),t.YNc(17,tx,2,2,"mat-option",57),t.ALo(18,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(16),o=t.oxw(3);t.xp6(5),t.Q6J("ngIf",o.bundleLoader),t.xp6(3),t.Q6J("ngForOf",o.linkedProductSKUs),t.xp6(1),t.Q6J("formGroup",o.newProductForm),t.xp6(1),t.Q6J("ngForOf",o.newPamphletSKUs),t.xp6(4),t.Q6J("formControl",o.autocompleteControl)("matAutocomplete",e),t.xp6(3),t.Q6J("ngForOf",t.lcZ(18,7,o.filteredOptions))}}function ix(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function nx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",133),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw().$implicit,c=t.oxw(3);return c.downloadURI("storage/"+c.filePath(a.path),r.id,a.name,a)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function ox(n,i){if(1&n&&(t.TgZ(0,"div",124),t.TgZ(1,"div",125),t.TgZ(2,"div",126),t.TgZ(3,"div",127),t.TgZ(4,"p",128),t._uU(5,"..."),t.qZA(),t._UZ(6,"img",129),t.qZA(),t.TgZ(7,"div",130),t.TgZ(8,"mat-chip-list",131),t.YNc(9,nx,2,1,"mat-chip",132),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(6),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function sx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",133),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw().$implicit,c=t.oxw(4);return c.downloadURI("storage/"+c.filePath(a.path),r.id,a.name,a)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function rx(n,i){if(1&n&&(t.TgZ(0,"div",124),t.TgZ(1,"div",125),t.TgZ(2,"div",126),t.TgZ(3,"div",127),t.TgZ(4,"p",128),t._uU(5,"..."),t.qZA(),t._UZ(6,"img",129),t.qZA(),t.TgZ(7,"div",130),t.TgZ(8,"mat-chip-list",131),t.YNc(9,sx,2,1,"mat-chip",132),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(6),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function ax(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,rx,11,5,"div",85),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function cx(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function lx(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function dx(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,lx,2,1,"span",2),t._UZ(2,"span",135),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD)}}function hx(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"ul",134),t.YNc(2,dx,3,2,"li",28),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.productAttributes)}}function ux(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function px(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.attribute_key),t.xp6(2),t.Oqu(e.attribute_value)}}function gx(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"table",136),t.YNc(2,px,5,2,"tr",28),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.pdsAttributes)}}function _x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",38),t.TgZ(1,"div",39),t.TgZ(2,"div",40),t.YNc(3,mb,3,2,"span",28),t.qZA(),t.TgZ(4,"div",19),t.TgZ(5,"div",41),t.TgZ(6,"mat-card"),t.TgZ(7,"form",42),t._UZ(8,"img",43),t.TgZ(9,"strong"),t._uU(10," General Details"),t.qZA(),t._UZ(11,"hr"),t.YNc(12,bb,5,0,"mat-form-field",44),t.TgZ(13,"mat-form-field",45),t.TgZ(14,"mat-label"),t._uU(15,"SKU"),t.qZA(),t._UZ(16,"input",46,47),t.qZA(),t.TgZ(18,"mat-form-field",45),t.TgZ(19,"mat-label"),t._uU(20,"Product Name"),t.qZA(),t._UZ(21,"input",48,49),t.qZA(),t.TgZ(23,"mat-form-field",45),t.TgZ(24,"mat-label"),t._uU(25,"Product Brand"),t.qZA(),t.TgZ(26,"mat-select",50,51),t.YNc(28,xb,2,3,"mat-option",52),t.ALo(29,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(30,"mat-form-field",45),t.TgZ(31,"mat-label"),t._uU(32,"Series"),t.qZA(),t.TgZ(33,"input",53,54),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).newSeriesType=s}),t.qZA(),t.TgZ(35,"mat-autocomplete",55,56),t.NdJ("optionSelected",function(s){return t.CHM(e),t.oxw(2).addSeries(s)}),t.YNc(37,Cb,2,2,"mat-option",57),t.ALo(38,"async"),t.qZA(),t.TgZ(39,"mat-icon",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addNonExistingType()}),t._uU(40,"check_circle_outline"),t.qZA(),t.qZA(),t.TgZ(41,"strong"),t._uU(42,"Description"),t.qZA(),t._UZ(43,"br"),t._UZ(44,"br"),t.TgZ(45,"mat-form-field",45),t.TgZ(46,"mat-label"),t._uU(47,"Short Description"),t.qZA(),t._UZ(48,"textarea",59,60),t.qZA(),t.TgZ(50,"mat-form-field",45),t.TgZ(51,"mat-label"),t._uU(52,"Description"),t.qZA(),t._UZ(53,"textarea",61,62),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"div",63),t.TgZ(57,"mat-checkbox",64,65),t._uU(59,"Is In Development"),t.qZA(),t._UZ(60,"br"),t.TgZ(61,"mat-checkbox",66,67),t._uU(63,"Is EOL"),t.qZA(),t._UZ(64,"br"),t.TgZ(65,"mat-checkbox",68,69),t._uU(67,"Is Active"),t.qZA(),t._UZ(68,"hr"),t.TgZ(69,"mat-checkbox",70,71),t._uU(71,"Requires Icasa"),t.qZA(),t._UZ(72,"hr"),t.YNc(73,vb,2,0,"div",72),t.YNc(74,Tb,2,0,"div",72),t.TgZ(75,"mat-checkbox",73,74),t._uU(77,"Verified"),t.qZA(),t._UZ(78,"br"),t.YNc(79,yb,3,0,"span",2),t._UZ(80,"hr"),t.YNc(81,Zb,2,1,"button",75),t.qZA(),t.qZA(),t.qZA(),t._UZ(82,"br"),t.TgZ(83,"mat-card"),t._UZ(84,"img",76),t.TgZ(85,"strong"),t._uU(86,"Regions "),t.qZA(),t._UZ(87,"span",0),t._UZ(88,"hr"),t.TgZ(89,"form",42),t.ynx(90,77),t.YNc(91,wb,9,5,"ng-container",28),t.BQk(),t.YNc(92,Ab,2,0,"button",78),t.YNc(93,kb,2,1,"button",79),t.qZA(),t.qZA(),t.YNc(94,jb,9,6,"mat-card",80),t.ALo(95,"typeGroup"),t.qZA(),t.TgZ(96,"div",81),t.YNc(97,ex,19,9,"mat-card",82),t.TgZ(98,"mat-card",83),t._UZ(99,"img",84),t.TgZ(100,"strong"),t._uU(101," Images"),t.qZA(),t._UZ(102,"hr"),t.YNc(103,ix,1,0,"mat-progress-bar",32),t._UZ(104,"br"),t._UZ(105,"br"),t.TgZ(106,"div",19),t.YNc(107,ox,11,5,"div",85),t.qZA(),t.YNc(108,ax,2,1,"div",86),t.qZA(),t.TgZ(109,"mat-card",87),t._UZ(110,"img",88),t.TgZ(111,"strong"),t._uU(112,"Attributes"),t.qZA(),t._UZ(113,"hr"),t.YNc(114,cx,1,0,"mat-progress-bar",32),t._UZ(115,"br"),t.YNc(116,hx,3,1,"div",2),t.qZA(),t.TgZ(117,"mat-card",87),t._UZ(118,"img",88),t.TgZ(119,"strong"),t._uU(120," PDS Attributes"),t.qZA(),t._UZ(121,"hr"),t.YNc(122,ux,1,0,"mat-progress-bar",32),t._UZ(123,"br"),t.YNc(124,gx,3,1,"div",2),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(36),o=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",o.productCategories),t.xp6(4),t.Q6J("formGroup",o.productForm),t.xp6(5),t.Q6J("ngIf",o.adminRole),t.xp6(9),t.Q6J("readonly",!o.editRole),t.xp6(7),t.Q6J("ngForOf",t.xi3(29,35,o.typesList,"Brand")),t.xp6(5),t.s9C("value",o.productSeries),t.Q6J("formControl",o.autocompleteControl1)("matAutocomplete",e)("ngModel",o.newSeriesType)("readonly",!o.editRole),t.xp6(4),t.Q6J("ngForOf",t.lcZ(38,38,o.filteredSeries)),t.xp6(11),t.Q6J("readonly",!o.editRole),t.xp6(5),t.Q6J("readonly",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("ngIf",!o.imagesAreSorted),t.xp6(1),t.Q6J("ngIf",o.productCategories.length<1),t.xp6(1),t.Q6J("disabled",o.productCategories.length<1),t.xp6(4),t.Q6J("ngIf",0==o.productManagerId),t.xp6(2),t.Q6J("ngIf",o.editRole),t.xp6(8),t.Q6J("formGroup",o.regionsForm),t.xp6(2),t.Q6J("ngForOf",o.regions.controls),t.xp6(1),t.Q6J("ngIf",o.editRole),t.xp6(1),t.Q6J("ngIf",o.editRole),t.xp6(1),t.Q6J("ngForOf",t.xi3(95,40,o.typesList,"Design")),t.xp6(3),t.Q6J("ngIf",o.isBundle),t.xp6(6),t.Q6J("ngIf",o.loadingPdsAttributes),t.xp6(4),t.Q6J("ngForOf",o.mediaFiles),t.xp6(1),t.Q6J("ngForOf",o.mediaFilesForLinkedProducts),t.xp6(6),t.Q6J("ngIf",o.loadingPdsAttributes),t.xp6(2),t.Q6J("ngIf",!o.loadingPdsAttributes),t.xp6(6),t.Q6J("ngIf",o.loadingPdsAttributes),t.xp6(2),t.Q6J("ngIf",!o.loadingPdsAttributes)}}function fx(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function mx(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,fx,2,0,"span",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function bx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",149),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clearCats()}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t._uU(3," Clear Categories"),t.qZA()}}function xx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",150),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).modifyCats()}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit Categories"),t.qZA()}}function Cx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",150),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).modifyCats()}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3,"Cancel"),t.qZA()}}function vx(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Tx(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function yx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",45),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",151),t.NdJ("valueChange",function(s){return t.CHM(e),t.oxw(4).tier2=s})("selectionChange",function(s){return t.CHM(e),t.oxw(4).chosenItem(s,2)}),t.YNc(4,Tx,2,2,"mat-option",57),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.tierLabels[1]),t.xp6(1),t.Q6J("value",e.tier2),t.xp6(1),t.Q6J("ngForOf",e.descedantsCategories)}}function Zx(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Px(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",45),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",151),t.NdJ("valueChange",function(s){return t.CHM(e),t.oxw(4).tier3=s})("selectionChange",function(s){return t.CHM(e),t.oxw(4).chosenItem(s,3)}),t.YNc(4,Zx,2,2,"mat-option",57),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.tierLabels[2]),t.xp6(1),t.Q6J("value",e.tier3),t.xp6(1),t.Q6J("ngForOf",e.descedantsCategories)}}function wx(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ax(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",45),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",151),t.NdJ("valueChange",function(s){return t.CHM(e),t.oxw(4).tier4=s})("selectionChange",function(s){return t.CHM(e),t.oxw(4).chosenItem(s,4)}),t.YNc(4,wx,2,2,"mat-option",57),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.tierLabels[3]),t.xp6(1),t.Q6J("value",e.tier4),t.xp6(1),t.Q6J("ngForOf",e.descedantsCategories)}}function kx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"mat-form-field",45),t.TgZ(2,"mat-label"),t._uU(3,"Primary Category"),t.qZA(),t.TgZ(4,"mat-select",151),t.NdJ("valueChange",function(s){return t.CHM(e),t.oxw(3).tier1=s})("selectionChange",function(s){return t.CHM(e),t.oxw(3).chosenItem(s,1)}),t.YNc(5,vx,2,2,"mat-option",57),t.qZA(),t.qZA(),t.YNc(6,yx,5,3,"mat-form-field",44),t.YNc(7,Px,5,3,"mat-form-field",44),t.YNc(8,Ax,5,3,"mat-form-field",44),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("value",e.tier1),t.xp6(1),t.Q6J("ngForOf",e.primaryCategoriesList),t.xp6(1),t.Q6J("ngIf",e.tier1>0),t.xp6(1),t.Q6J("ngIf",e.tier2>0),t.xp6(1),t.Q6J("ngIf",e.tier3>0)}}function Mx(n,i){1&n&&(t.TgZ(0,"small"),t.TgZ(1,"i"),t._uU(2,"Ctrl + F"),t.qZA(),t._uU(3," to find category"),t.qZA())}function Sx(n,i){1&n&&(t.TgZ(0,"small"),t.TgZ(1,"i"),t._uU(2,"Please wait..."),t.qZA(),t.qZA())}function Ix(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(9).checkedItem(a.id,a.parent,s)}),t.qZA(),t._uU(2),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(9);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name,"")}}function Ox(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(8).checkedItem(a.id,a.parent,s)}),t.qZA(),t._uU(2),t.TgZ(3,"ul",153),t.YNc(4,Ix,3,3,"li",28),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(8);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Dx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(7).checkedItem(a.id,a.parent,s)}),t.qZA(),t._uU(2),t.TgZ(3,"ul",153),t.YNc(4,Ox,6,7,"li",28),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(7);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Lx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(6).checkedItem(a.id,a.parent,s)}),t.qZA(),t._uU(2),t.TgZ(3,"ul",153),t.YNc(4,Dx,6,7,"li",28),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(6);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function qx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(5).checkedItem(a.id,a.parent,s)}),t.qZA(),t._uU(2),t.TgZ(3,"ul",153),t.YNc(4,Lx,6,7,"li",28),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(5);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Nx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(4).checkedItem(a.id,a.parent,s)}),t.qZA(),t._uU(2),t.TgZ(3,"ul",153),t.YNc(4,qx,6,7,"li",28),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Ex(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"mat-checkbox",152),t.NdJ("change",function(s){const a=t.CHM(e).$implicit;return t.oxw(3).checkedItem(a.id,a.parent,s)}),t.qZA(),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.TgZ(4,"ul",153),t.YNc(5,Nx,6,7,"li",28),t.ALo(6,"parent"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(2),t.hij(" ",e.name,""),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,4,o.categoriesList,e.id))}}function Fx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",137),t.TgZ(1,"div",138),t.TgZ(2,"mat-card",139),t.TgZ(3,"form"),t.TgZ(4,"div",140),t.TgZ(5,"div",141),t.YNc(6,mx,3,2,"span",28),t._UZ(7,"hr"),t.YNc(8,bx,4,0,"button",142),t._uU(9,"\xa0 "),t.YNc(10,xx,4,0,"button",143),t.YNc(11,Cx,4,0,"button",143),t._UZ(12,"br"),t._UZ(13,"br"),t.YNc(14,kx,9,5,"div",2),t.TgZ(15,"div",144),t.TgZ(16,"div",145),t.TgZ(17,"button",146),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveCategories()}),t._uU(18,"Save Changes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",147),t.YNc(20,Mx,4,0,"small",2),t.YNc(21,Sx,3,0,"small",2),t._UZ(22,"hr"),t.TgZ(23,"div",148),t.TgZ(24,"ul"),t.YNc(25,Ex,7,7,"li",28),t.ALo(26,"parent"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",e.productCategories),t.xp6(2),t.Q6J("ngIf",e.productCategories.length>0),t.xp6(2),t.Q6J("ngIf",!e.modifyingCategories),t.xp6(1),t.Q6J("ngIf",e.modifyingCategories),t.xp6(3),t.Q6J("ngIf",e.modifyingCategories),t.xp6(6),t.Q6J("ngIf",!e.checkboxLoader),t.xp6(1),t.Q6J("ngIf",e.checkboxLoader),t.xp6(4),t.Q6J("ngForOf",t.xi3(26,8,e.categoriesList,"0"))}}function Ux(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",96),t.TgZ(2,"mat-grid-list",163),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",164),t._UZ(5,"input",165),t.qZA(),t.qZA(),t.TgZ(6,"mat-grid-tile"),t.TgZ(7,"mat-form-field",164),t._UZ(8,"input",166),t.qZA(),t.qZA(),t.TgZ(9,"mat-grid-tile"),t.TgZ(10,"button",167),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw(3).removeNewAttribute(r)}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA(),t._uU(13," Remove This Field"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.index,o=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(4),t.Q6J("readonly",!o.editRole),t.xp6(3),t.Q6J("readonly",!o.editRole)}}function Rx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",168),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).addNewAttribute()}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3," Add Attribute "),t.qZA()}}function Bx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",169),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).updateAttributes()}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.productFormAttributes.dirty),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function Hx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",170),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).updateAttributesBulk()}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function Yx(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function Jx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",176),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit;return t.oxw(3).deleteProductAttribute(s.id,s.key,s.product_id)}),t.TgZ(1,"mat-icon",177),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Delete"),t.qZA(),t.qZA()}}function Qx(n,i){if(1&n&&(t.TgZ(0,"span",172),t.TgZ(1,"button",173),t.TgZ(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",null,174),t.YNc(6,Jx,5,0,"button",175),t.qZA(),t.qZA()),2&n){const e=t.MAs(5),o=t.oxw(4);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Q6J("ngIf",o.editRole)}}function zx(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,Yx,2,1,"span",2),t._UZ(2,"span",135),t.YNc(3,Qx,7,2,"span",171),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD),t.xp6(1),t.Q6J("ngIf",o.editRole)}}function $x(n,i){if(1&n&&(t.TgZ(0,"mat-tab",154),t.TgZ(1,"div",155),t.TgZ(2,"mat-card",139),t.TgZ(3,"h2"),t._uU(4,"Manually add Attributes"),t.qZA(),t.TgZ(5,"form",42),t.ynx(6,156),t.YNc(7,Ux,14,3,"ng-container",28),t.BQk(),t.YNc(8,Rx,4,0,"button",157),t.YNc(9,Bx,2,2,"button",158),t.qZA(),t.qZA(),t.TgZ(10,"mat-card",159),t.TgZ(11,"h2"),t._uU(12,"Paste Attributes"),t.qZA(),t.TgZ(13,"form",42),t._UZ(14,"input",160),t._UZ(15,"textarea",161),t.YNc(16,Hx,2,1,"button",162),t.qZA(),t.qZA(),t.TgZ(17,"mat-card",159),t.TgZ(18,"ul",134),t.YNc(19,zx,4,3,"li",28),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("formGroup",e.productFormAttributes),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(4),t.Q6J("formGroup",e.productFormAttributesBulk),t.xp6(2),t.Q6J("readonly",!e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(3),t.Q6J("ngForOf",e.productAttributes)}}function Vx(n,i){1&n&&(t.TgZ(0,"span",191),t._uU(1,"No information to show"),t.qZA())}function jx(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function Gx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",176),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3).$implicit;return t.oxw(3).savePackagingChanges(s.id)}),t.TgZ(1,"mat-icon",198),t._uU(2,"save"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Save"),t.qZA(),t.qZA()}}function Wx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",176),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3).$implicit;return t.oxw(3).deletePackaging(s.id)}),t.TgZ(1,"mat-icon",177),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Delete"),t.qZA(),t.qZA()}}function Kx(n,i){if(1&n&&(t.TgZ(0,"span",172),t.TgZ(1,"button",197),t.TgZ(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",null,174),t.YNc(6,Gx,5,0,"button",175),t.YNc(7,Wx,5,0,"button",175),t.qZA(),t.qZA()),2&n){const e=t.MAs(5),o=t.oxw(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Q6J("ngIf",o.editRole),t.xp6(1),t.Q6J("ngIf",o.editRole)}}function Xx(n,i){if(1&n&&(t.TgZ(0,"td",172),t.YNc(1,Kx,8,3,"span",171),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.editRole)}}function t0(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",192),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",193),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",194),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"input",195),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",196),t.qZA(),t.YNc(13,Xx,2,1,"td",171),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(o.returnTypeName(e.packaging_type_id)),t.xp6(2),t.MGl("id","length",e.id,""),t.Q6J("value",e.length)("readonly",!o.editRole),t.xp6(2),t.MGl("id","height",e.id,""),t.Q6J("value",e.height)("readonly",!o.editRole),t.xp6(2),t.MGl("id","width",e.id,""),t.Q6J("value",e.width)("readonly",!o.editRole),t.xp6(2),t.MGl("id","weight",e.id,""),t.Q6J("value",e.weight)("readonly",!o.editRole),t.xp6(2),t.MGl("id","barcode",e.id,""),t.Q6J("value",e.barcode)("readonly",!o.editRole),t.xp6(1),t.Q6J("ngIf",o.editRole)}}function e0(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function n0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",95),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).updatePackaging()}),t._uU(1,"Save Packaging"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.productFormPackaging.dirty)}}function o0(n,i){if(1&n&&(t.TgZ(0,"mat-tab",178),t.TgZ(1,"mat-card",139),t.TgZ(2,"h2"),t._uU(3,"Packaging Information"),t.qZA(),t.YNc(4,Vx,2,0,"span",179),t.YNc(5,jx,1,0,"mat-progress-bar",32),t.TgZ(6,"table",33),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9,"Type"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Length"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Height"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Width"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Weight"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Barcode"),t.qZA(),t.qZA(),t.YNc(20,t0,14,17,"tr",28),t.qZA(),t.qZA(),t.TgZ(21,"mat-card",159),t.TgZ(22,"h2"),t._uU(23,"Add New Packaging Information"),t.qZA(),t.TgZ(24,"form",42),t.TgZ(25,"div",180),t.TgZ(26,"div",140),t.TgZ(27,"div",141),t.TgZ(28,"mat-form-field",181),t.TgZ(29,"mat-label"),t._uU(30,"Choose Packaging Type:"),t.qZA(),t.TgZ(31,"mat-select",182),t.YNc(32,e0,2,2,"mat-option",57),t.ALo(33,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(34,"mat-form-field",181),t.TgZ(35,"mat-label"),t._uU(36,"Weight (KG)"),t.qZA(),t._UZ(37,"input",183),t.TgZ(38,"mat-icon",184),t._uU(39,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(40,"mat-form-field",181),t.TgZ(41,"mat-label"),t._uU(42,"Dimensions(cm): Length"),t.qZA(),t._UZ(43,"input",185),t.TgZ(44,"mat-icon",184),t._uU(45,"design_services"),t.qZA(),t.qZA(),t.TgZ(46,"mat-form-field",181),t.TgZ(47,"mat-label"),t._uU(48,"Dimensions(cm): Width"),t.qZA(),t._UZ(49,"input",186),t.TgZ(50,"mat-icon",184),t._uU(51,"design_services"),t.qZA(),t.qZA(),t.TgZ(52,"mat-form-field",181),t.TgZ(53,"mat-label"),t._uU(54,"Dimensions(cm): Height"),t.qZA(),t._UZ(55,"input",187),t.TgZ(56,"mat-icon",184),t._uU(57,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"div",141),t.TgZ(59,"mat-form-field",181),t.TgZ(60,"mat-label"),t._uU(61,"Barcode"),t.qZA(),t._UZ(62,"input",188),t.qZA(),t.TgZ(63,"mat-form-field",181),t.TgZ(64,"mat-label"),t._uU(65,"Product Id"),t.qZA(),t._UZ(66,"input",189),t.qZA(),t.TgZ(67,"div",190),t.YNc(68,n0,2,1,"button",75),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.packagingCount<0),t.xp6(1),t.Q6J("ngIf",e.packagingLoader),t.xp6(15),t.Q6J("ngForOf",e.packaging),t.xp6(4),t.Q6J("formGroup",e.productFormPackaging),t.xp6(7),t.Q6J("disabled",!e.editRole),t.xp6(1),t.Q6J("ngForOf",t.xi3(33,12,e.typesList,"Packaging")),t.xp6(5),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("readonly",!e.editRole),t.xp6(7),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("ngIf",e.editRole)}}function s0(n,i){if(1&n&&(t.TgZ(0,"option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function r0(n,i){if(1&n&&(t.TgZ(0,"mat-list-option",216),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function a0(n,i){1&n&&(t.TgZ(0,"div",217),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function c0(n,i){if(1&n&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function l0(n,i){if(1&n&&(t.TgZ(0,"div",218),t.YNc(1,c0,3,1,"ul",28),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function d0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",205),t.NdJ("change",function(s){return t.CHM(e),t.oxw(3).setFocusType(s)}),t.YNc(4,s0,2,2,"option",57),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"label"),t._uU(8,"Document Expiry Date:"),t.qZA(),t.TgZ(9,"input",206),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(3).expiry_date=s}),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"input",207),t.NdJ("change",function(s){return t.CHM(e),t.oxw(3).onChange(s)}),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-selection-list",208,209),t.YNc(15,r0,2,1,"mat-list-option",210),t.ALo(16,"typeGroup"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"button",211),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).uploadDocument("55","document")}),t._uU(19,"Upload File"),t.qZA(),t._UZ(20,"hr"),t.YNc(21,a0,3,0,"div",212),t.TgZ(22,"div",213),t._UZ(23,"div",214),t.qZA(),t.YNc(24,l0,2,1,"div",215),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,7,e.typesList,"File")),t.xp6(5),t.Q6J("ngModel",e.expiry_date),t.xp6(6),t.Q6J("ngForOf",t.xi3(16,10,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function h0(n,i){1&n&&(t.TgZ(0,"div",219),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function u0(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u26a0"),t.qZA())}function p0(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,u0,2,0,"span",2),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,4,e.created_at)),t.xp6(3),t.Q6J("ngIf",o.today>e.expiry_date),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.expiry_date)," ")}}function g0(n,i){if(1&n&&(t.TgZ(0,"mat-tab",199),t.TgZ(1,"div",138),t.TgZ(2,"div",19),t.TgZ(3,"div",200),t.TgZ(4,"mat-card",139),t.YNc(5,d0,25,13,"div",2),t.YNc(6,h0,5,0,"div",201),t.qZA(),t.qZA(),t.TgZ(7,"div",202),t.TgZ(8,"mat-card",139),t.TgZ(9,"table",203),t.TgZ(10,"thead"),t.TgZ(11,"tr",204),t.TgZ(12,"th"),t._uU(13,"Document"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Uploaded"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Expiry Date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,p0,10,8,"tr",28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(13),t.Q6J("ngForOf",e.documentFiles)}}function _0(n,i){1&n&&(t.TgZ(0,"mat-chip",241),t._uU(1,"Primary"),t.qZA())}function f0(n,i){if(1&n&&t._UZ(0,"span",242),2&n){const e=t.oxw().index;t.s9C("matBadge",e+1)}}function m0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-option",243),t.NdJ("onSelectionChange",function(){const r=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw(4).updateFileType(a.id,r.id)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function b0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",234),t.TgZ(1,"div",235),t.TgZ(2,"div",200),t.TgZ(3,"mat-chip-list"),t.YNc(4,_0,2,0,"mat-chip",236),t.qZA(),t.YNc(5,f0,1,1,"span",237),t._UZ(6,"img",238),t.qZA(),t.TgZ(7,"div",202),t.TgZ(8,"mat-form-field",45),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select"),t.YNc(12,m0,2,2,"mat-option",239),t.ALo(13,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(14,"mat-checkbox",240),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(4).ecommerceImage(r.ecommerce,r.id)}),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=i.index,s=t.oxw(4);t.xp6(4),t.Q6J("ngIf",0==o),t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.s9C("alt",e.path),t.s9C("src",s.storageUrl+s.filePath(e.path),t.LSH),t.xp6(4),t.Oqu(s.returnTypeName(e.type_id)),t.xp6(2),t.Q6J("ngForOf",t.xi3(13,8,s.typesList,"Image")),t.xp6(2),t.Q6J("checked",1==e.ecommerce),t.xp6(1),t.hij("E-commerce ",e.ecommerce,"")}}function x0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",232),t.NdJ("cdkDropListDropped",function(s){return t.CHM(e),t.oxw(3).drop(s)}),t.YNc(1,b0,16,11,"div",233),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.mediaFiles)}}function C0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",248),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(3).deleteFile(s.id)}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function v0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",244),t.YNc(1,C0,3,0,"a",245),t._UZ(2,"img",246),t.TgZ(3,"mat-checkbox",247),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).addToSelectedFiles(r.id)}),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.uploadRole),t.xp6(1),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH)}}function T0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",249),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).bulkDeleteFiles()}),t._uU(1,"Delete Selected Items"),t.qZA()}}function y0(n,i){1&n&&(t.TgZ(0,"div",217),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Z0(n,i){if(1&n&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function P0(n,i){if(1&n&&(t.TgZ(0,"div",218),t.YNc(1,Z0,3,1,"ul",28),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function w0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"div",250),t.TgZ(2,"input",207),t.NdJ("change",function(s){return t.CHM(e),t.oxw(3).onChange(s)}),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"button",211),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).onUpload("47","image")}),t._uU(5,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(6,"div",202),t.YNc(7,y0,3,0,"div",212),t.TgZ(8,"div",213),t._UZ(9,"div",214),t.qZA(),t.YNc(10,P0,2,1,"div",215),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(7),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function A0(n,i){1&n&&(t.TgZ(0,"div",19),t.TgZ(1,"div",31),t.TgZ(2,"div",219),t.TgZ(3,"p"),t._uU(4,"You do not have permissions to upload media"),t.qZA(),t.TgZ(5,"mat-icon"),t._uU(6,"hide_image"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function k0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",251),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t._UZ(3,"input",252),t.TgZ(4,"mat-icon",109),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).deleteSocial(r.id,r.link)}),t._uU(5,"delete"),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.link),t.xp6(1),t.s9C("placeholder",e.link),t.Q6J("readonly",!0)}}function M0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",220),t.TgZ(1,"div",138),t.TgZ(2,"mat-tab-group"),t.TgZ(3,"mat-tab",221),t.TgZ(4,"div",222),t.TgZ(5,"div",200),t.YNc(6,x0,2,1,"div",223),t.qZA(),t.TgZ(7,"div",202),t._UZ(8,"span",0),t.TgZ(9,"div",19),t.YNc(10,v0,4,2,"div",224),t._UZ(11,"hr"),t.YNc(12,T0,2,0,"button",225),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"mat-card"),t.YNc(14,w0,11,4,"div",226),t.YNc(15,A0,7,0,"div",226),t.qZA(),t.qZA(),t.TgZ(16,"mat-tab",227),t.TgZ(17,"div",138),t.TgZ(18,"mat-card"),t.TgZ(19,"mat-form-field",181),t.TgZ(20,"mat-label"),t._uU(21,"New Video Link"),t.qZA(),t.TgZ(22,"input",228),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).socialLink=s}),t.qZA(),t.TgZ(23,"button",229),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateSocials("youtu.be")}),t._uU(24,"Save"),t.qZA(),t.qZA(),t.TgZ(25,"div",230),t.YNc(26,k0,6,3,"mat-form-field",231),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(4),t.Q6J("ngForOf",e.mediaFiles),t.xp6(2),t.Q6J("ngIf",e.selectedFiles.length>1),t.xp6(2),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(7),t.Q6J("ngModel",e.socialLink)("readonly",!e.editRole),t.xp6(4),t.Q6J("ngForOf",e.socialLinks)}}function S0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",253),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).switchImage(0)}),t.qZA()}if(2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[0].path),t.LSH)}}function I0(n,i){if(1&n&&t._UZ(0,"img",254),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[e.switchImageMain].path),t.LSH)}}function O0(n,i){if(1&n&&t._UZ(0,"img",255),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[1].path),t.LSH)}}function D0(n,i){if(1&n&&t._UZ(0,"img",255),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[2].path),t.LSH)}}function L0(n,i){if(1&n&&t._UZ(0,"img",255),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[3].path),t.LSH)}}function q0(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function N0(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function E0(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,N0,2,0,"span",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function F0(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function U0(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,F0,2,1,"span",2),t._UZ(2,"span",135),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function R0(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.key,": ")}}function B0(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,R0,2,1,"span",2),t._UZ(2,"span",135),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function H0(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function Y0(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,H0,2,1,"span",2),t._UZ(2,"span",135),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function J0(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function Q0(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,J0,2,1,"span",2),t._UZ(2,"span",135),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD)}}function z0(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function $0(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",256),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",257),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",258),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"input",259),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",260),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(o.returnTypeName(e.packaging_type_id)),t.xp6(2),t.MGl("id","length",e.id,""),t.Q6J("value",e.length),t.xp6(2),t.MGl("id","height",e.id,""),t.Q6J("value",e.height),t.xp6(2),t.MGl("id","width",e.id,""),t.Q6J("value",e.width),t.xp6(2),t.MGl("id","weight",e.id,""),t.Q6J("value",e.weight),t.xp6(2),t.MGl("id","barcode",e.id,""),t.Q6J("value",e.barcode)}}function V0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",133),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw(2).downloadImageServer("https://images.smdtechnologies.co.za/uploads/"+a,r.id,a.filename,a)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function j0(n,i){if(1&n&&(t.TgZ(0,"div",124),t.TgZ(1,"div",125),t.TgZ(2,"div",126),t.TgZ(3,"div",127),t.TgZ(4,"p",261),t._uU(5,"Image Server"),t.qZA(),t._UZ(6,"img",262),t.qZA(),t.TgZ(7,"div",130),t.TgZ(8,"mat-chip-list",131),t.YNc(9,V0,2,1,"mat-chip",132),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(6),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e,"",t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function G0(n,i){if(1&n&&(t.TgZ(0,"div",141),t._UZ(1,"iframe",263),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e,t.uOi)}}function W0(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Loading "),t.qZA())}function K0(n,i){if(1&n&&(t.TgZ(0,"mat-option",92),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name+" "+e.surname)}}function X0(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Managed by you"),t.qZA())}function t2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function e2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function n2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function o2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function s2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function r2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function a2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\xa0loading..."),t.qZA())}function c2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function l2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function d2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function h2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function u2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"History"),t.qZA())}function p2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Hide history"),t.qZA())}function g2(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.activity),t.xp6(2),t.Oqu(t.xi3(5,2,e.created_at,"dd/MM/yyyy"))}}function _2(n,i){if(1&n&&(t.TgZ(0,"table"),t.TgZ(1,"tr"),t.TgZ(2,"th"),t._uU(3,"Action"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Date"),t.qZA(),t.qZA(),t.YNc(6,g2,6,5,"tr",28),t.qZA()),2&n){const e=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",e.audits)}}function f2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",264),t.TgZ(1,"div",94),t.TgZ(2,"mat-card"),t.TgZ(3,"mat-card-content"),t.TgZ(4,"div",265),t.TgZ(5,"mat-form-field",45),t.TgZ(6,"mat-label"),t.YNc(7,W0,2,0,"span",2),t._uU(8,"Product Manager"),t.qZA(),t.TgZ(9,"mat-select",266),t.NdJ("valueChange",function(s){return t.CHM(e),t.oxw(2).productManagerId=s})("selectionChange",function(s){return t.CHM(e),t.oxw(2).selectManager(s)}),t.YNc(10,K0,2,2,"mat-option",57),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"mat-grid-list",267),t.TgZ(12,"mat-grid-tile",268),t._UZ(13,"mat-progress-spinner",269),t.qZA(),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",265),t.TgZ(16,"h3"),t._uU(17),t.qZA(),t.YNc(18,X0,2,0,"small",2),t.qZA(),t._UZ(19,"hr"),t.TgZ(20,"mat-list",270),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).autoInfo()}),t.TgZ(21,"mat-list-item",271),t.TgZ(22,"mat-icon"),t._uU(23,"check_circle"),t.qZA(),t._uU(24," General Details "),t.qZA(),t.TgZ(25,"mat-list-item",271),t.YNc(26,t2,2,0,"mat-icon",2),t.YNc(27,e2,2,0,"mat-icon",2),t._uU(28," Categories "),t.qZA(),t.TgZ(29,"mat-list-item",271),t.YNc(30,n2,2,0,"mat-icon",2),t.YNc(31,o2,2,0,"mat-icon",2),t._uU(32," Attributes "),t.qZA(),t.TgZ(33,"mat-list-item",271),t.YNc(34,s2,2,0,"mat-icon",2),t.YNc(35,r2,2,0,"mat-icon",2),t._uU(36," Packaging "),t.YNc(37,a2,2,0,"span",2),t.qZA(),t.TgZ(38,"mat-list-item",271),t.YNc(39,c2,2,0,"mat-icon",2),t.YNc(40,l2,2,0,"mat-icon",2),t._uU(41),t.qZA(),t.TgZ(42,"mat-list-item",271),t.YNc(43,d2,2,0,"mat-icon",2),t.YNc(44,h2,2,0,"mat-icon",2),t._uU(45),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",265),t._UZ(47,"qrcode",272),t.qZA(),t.TgZ(48,"mat-card-content",115),t._UZ(49,"hr"),t.TgZ(50,"div",273),t.TgZ(51,"button",274),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleHistory()}),t.YNc(52,u2,2,0,"span",2),t.YNc(53,p2,2,0,"span",2),t.qZA(),t.qZA(),t.YNc(54,_2,7,1,"table",2),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.Tol(e.infoBarCls),t.xp6(7),t.Q6J("ngIf",e.loadpProductManager),t.xp6(2),t.Q6J("value",e.productManagerId)("disabled",!e.adminRole),t.xp6(1),t.Q6J("ngForOf",e.users),t.xp6(3),t.Q6J("color",e.progressPercentage()>50?"primary":"warn")("mode",e.progressMode)("value",e.progressPercentage()),t.xp6(4),t.hij("",e.progressPercentage(),"% Complete"),t.xp6(1),t.Q6J("ngIf",e.productManagerRole),t.xp6(8),t.Q6J("ngIf",e.categoriesList.length<1),t.xp6(1),t.Q6J("ngIf",e.categoriesList.length>0),t.xp6(3),t.Q6J("ngIf",e.productAttributes.length<1&&e.attributes.length<1),t.xp6(1),t.Q6J("ngIf",e.productAttributes.length>0||e.attributes.length>0),t.xp6(3),t.Q6J("ngIf",e.packagingCount<1),t.xp6(1),t.Q6J("ngIf",e.packagingCount>0),t.xp6(2),t.Q6J("ngIf",e.packagingLoading),t.xp6(2),t.Q6J("ngIf",e.documentFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.documentFiles.length>0),t.xp6(1),t.hij(" Documents (",e.documentFiles.length,") "),t.xp6(2),t.Q6J("ngIf",e.mediaFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(1),t.hij(" Images (",e.mediaFiles.length,") "),t.xp6(2),t.MGl("qrdata","https://products.smdtechnologies.com/",e.sku,""),t.Q6J("width",200)("errorCorrectionLevel","M"),t.xp6(5),t.Q6J("ngIf",!e.historyTable),t.xp6(1),t.Q6J("ngIf",e.historyTable),t.xp6(1),t.Q6J("ngIf",e.historyTable)}}function m2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",5),t._uU(3,"Products "),t.qZA(),t._uU(4),t.TgZ(5,"span",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleInfoBar()}),t.YNc(6,gb,2,0,"i",7),t.YNc(7,_b,2,0,"i",7),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"mat-card",10),t.TgZ(11,"mat-tab-group"),t.YNc(12,_x,125,43,"mat-tab",11),t.YNc(13,Fx,27,11,"mat-tab",12),t.YNc(14,$x,20,8,"mat-tab",13),t.YNc(15,o0,69,15,"mat-tab",14),t.YNc(16,g0,20,3,"mat-tab",15),t.YNc(17,M0,27,8,"mat-tab",16),t.TgZ(18,"mat-tab",17),t.TgZ(19,"div",18),t.TgZ(20,"div",19),t.TgZ(21,"div",20),t.TgZ(22,"table"),t.TgZ(23,"tr"),t.TgZ(24,"td",21),t.YNc(25,S0,1,1,"img",22),t.qZA(),t.TgZ(26,"td",23),t.YNc(27,I0,1,1,"img",24),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.TgZ(29,"td",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().switchImage(1)}),t.YNc(30,O0,1,1,"img",26),t.qZA(),t.qZA(),t.TgZ(31,"tr"),t.TgZ(32,"td",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().switchImage(2)}),t.YNc(33,D0,1,1,"img",26),t.qZA(),t.qZA(),t.TgZ(34,"tr"),t.TgZ(35,"td",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().switchImage(3)}),t.YNc(36,L0,1,1,"img",26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",27),t.TgZ(38,"h2"),t._uU(39),t.qZA(),t.TgZ(40,"p"),t._uU(41),t.qZA(),t.TgZ(42,"p"),t._uU(43),t.qZA(),t.TgZ(44,"ul"),t.YNc(45,q0,2,1,"li",28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",29),t.TgZ(47,"h2"),t._uU(48,"Description"),t.qZA(),t.TgZ(49,"p"),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"div",29),t.TgZ(52,"h2"),t._uU(53,"Product Information"),t.qZA(),t.TgZ(54,"table"),t.TgZ(55,"tr"),t.TgZ(56,"td",30),t._uU(57,"Categories"),t.qZA(),t.TgZ(58,"td"),t.YNc(59,E0,3,2,"span",28),t.qZA(),t.qZA(),t.TgZ(60,"tr"),t.TgZ(61,"td",30),t._uU(62,"Brand"),t.qZA(),t.TgZ(63,"td"),t._uU(64),t.qZA(),t.qZA(),t.TgZ(65,"tr"),t.TgZ(66,"td",30),t._uU(67,"SKU"),t.qZA(),t.TgZ(68,"td"),t._uU(69),t.qZA(),t.qZA(),t.TgZ(70,"tr"),t.TgZ(71,"td",30),t._uU(72,"Barcode"),t.qZA(),t.TgZ(73,"td"),t._uU(74),t.qZA(),t.qZA(),t.TgZ(75,"tr"),t.TgZ(76,"td",30),t._uU(77,"What's in the box"),t.qZA(),t.TgZ(78,"td"),t.YNc(79,U0,3,2,"div",28),t.qZA(),t.qZA(),t.TgZ(80,"tr"),t.TgZ(81,"td",30),t._uU(82,"Features and Benefits"),t.qZA(),t.TgZ(83,"td"),t.YNc(84,B0,3,2,"div",28),t.qZA(),t.qZA(),t.TgZ(85,"tr"),t.TgZ(86,"td",30),t._uU(87,"Extended FABs"),t.qZA(),t.TgZ(88,"td"),t.YNc(89,Y0,3,2,"div",28),t.qZA(),t.qZA(),t.TgZ(90,"tr"),t.TgZ(91,"td",30),t._uU(92,"Attributes"),t.qZA(),t.TgZ(93,"td"),t.YNc(94,Q0,3,2,"div",28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",29),t.TgZ(96,"h2"),t._uU(97,"Packaging"),t.qZA(),t.TgZ(98,"div",19),t.TgZ(99,"div",31),t.YNc(100,z0,1,0,"mat-progress-bar",32),t.TgZ(101,"table",33),t.TgZ(102,"tr"),t.TgZ(103,"th"),t._uU(104,"Type"),t.qZA(),t.TgZ(105,"th"),t._uU(106,"Length"),t.qZA(),t.TgZ(107,"th"),t._uU(108,"Height"),t.qZA(),t.TgZ(109,"th"),t._uU(110,"Width"),t.qZA(),t.TgZ(111,"th"),t._uU(112,"Weight"),t.qZA(),t.TgZ(113,"th"),t._uU(114,"Barcode"),t.qZA(),t.qZA(),t.YNc(115,$0,13,11,"tr",28),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"div",29),t.TgZ(117,"h2"),t._uU(118,"Gallery"),t.qZA(),t.TgZ(119,"div",19),t.YNc(120,j0,11,5,"div",34),t.qZA(),t.qZA(),t.TgZ(121,"div",29),t.TgZ(122,"h2"),t._uU(123,"Videos"),t.qZA(),t.TgZ(124,"div",19),t.YNc(125,G0,2,1,"div",35),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(126,f2,55,30,"div",36),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" / Product Details / ",e.productName," "),t.xp6(2),t.Q6J("ngIf",e.showInfoBar),t.xp6(1),t.Q6J("ngIf",!e.showInfoBar),t.xp6(2),t.Tol(e.mainTabsCls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.uploadRole),t.xp6(8),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(2),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[1]&&1==e.mediaFiles[1].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[2]&&1==e.mediaFiles[2].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[3]&&1==e.mediaFiles[3].ecommerce),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.hij("Brand: ",e.productBrand,""),t.xp6(2),t.Oqu(e.product.description),t.xp6(2),t.Q6J("ngForOf",e.shoutOuts),t.xp6(5),t.Oqu(e.product.description),t.xp6(9),t.Q6J("ngForOf",e.productCategories),t.xp6(5),t.Oqu(e.productBrand),t.xp6(5),t.Oqu(e.product.sku),t.xp6(5),t.Oqu(e.productBarcode),t.xp6(5),t.Q6J("ngForOf",e.inTheBox),t.xp6(5),t.Q6J("ngForOf",e.featuresAndBenefits),t.xp6(5),t.Q6J("ngForOf",e.extendedFabs),t.xp6(5),t.Q6J("ngForOf",e.productAttributes),t.xp6(6),t.Q6J("ngIf",e.packagingLoader),t.xp6(15),t.Q6J("ngForOf",e.packaging),t.xp6(5),t.Q6J("ngForOf",e.imageServerFiles),t.xp6(5),t.Q6J("ngForOf",e.videos),t.xp6(1),t.Q6J("ngIf",e.showInfoBar)}}function b2(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you believe this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",275),t._uU(9,"Report Issue"),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function x2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,b2,10,1,"div",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}function v2(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"strong"),t._uU(2,"Name:"),t.qZA(),t._uU(3),t._UZ(4,"br"),t._uU(5),t._UZ(6,"br"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.product.name," "),t.xp6(2),t.hij(" ",e.product.description," ")}}function T2(n,i){1&n&&(t.TgZ(0,"div"),t.TgZ(1,"small"),t.TgZ(2,"i"),t._uU(3,"Loading information..."),t.qZA(),t.qZA(),t._UZ(4,"mat-progress-bar",3),t.qZA())}const Z2=["pdfContent"];function P2(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function w2(n,i){1&n&&(t.TgZ(0,"i",4),t._uU(1,"arrow_right"),t.qZA())}function A2(n,i){1&n&&(t.TgZ(0,"i",4),t._uU(1,"arrow_left"),t.qZA())}function k2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",32),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).switchImage(0)}),t.qZA()}if(2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[0].path),t.LSH)}}function M2(n,i){if(1&n&&t._UZ(0,"img",33),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[e.switchImageMain].path),t.LSH)}}function S2(n,i){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[1].path),t.LSH)}}function I2(n,i){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[2].path),t.LSH)}}function O2(n,i){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[3].path),t.LSH)}}function D2(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function L2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function q2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,L2,2,0,"span",0),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function N2(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function E2(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function F2(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function U2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function R2(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,U2,2,1,"span",0),t._UZ(2,"span",35),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD)}}function B2(n,i){1&n&&t._UZ(0,"mat-progress-bar",3)}function H2(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(o.returnTypeName(e.packaging_type_id)),t.xp6(2),t.Oqu(e.length),t.xp6(2),t.Oqu(e.height),t.xp6(2),t.Oqu(e.width),t.xp6(2),t.Oqu(e.weight),t.xp6(2),t.Oqu(e.barcode)}}function Y2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",45),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw().$implicit;return t.oxw(2).downloadImageServer("https://images.smdtechnologies.co.za/uploads/"+a,r.id,a.filename,a)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function J2(n,i){if(1&n&&(t.TgZ(0,"div",36),t.TgZ(1,"div",37),t.TgZ(2,"div",38),t.TgZ(3,"div",39),t.TgZ(4,"p",40),t._uU(5,"Image Server"),t.qZA(),t._UZ(6,"img",41),t.qZA(),t.TgZ(7,"div",42),t.TgZ(8,"mat-chip-list",43),t.YNc(9,Y2,2,1,"mat-chip",44),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(6),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e,"",t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function Q2(n,i){if(1&n&&(t.TgZ(0,"div",46),t._UZ(1,"iframe",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e,t.uOi)}}function z2(n,i){if(1&n&&(t.TgZ(0,"div",48),t.TgZ(1,"div",49),t.TgZ(2,"div",50),t._UZ(3,"qrcode",51),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.Tol(e.infoBarCls),t.xp6(3),t.MGl("qrdata","https://products.smdtechnologies.com/",e.sku,""),t.Q6J("width",100)("errorCorrectionLevel","M")}}function $2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t.TgZ(3,"mat-card",7),t.TgZ(4,"mat-tab-group"),t.TgZ(5,"mat-tab",8),t._UZ(6,"span",9),t.TgZ(7,"i",10),t._uU(8,"signal_wifi_statusbar_connected_no_internet_4"),t.qZA(),t.TgZ(9,"i",11),t._uU(10,"signal_wifi_connected_no_internet_4"),t.qZA(),t.TgZ(11,"div",12),t.TgZ(12,"div",13),t.TgZ(13,"div",14),t.TgZ(14,"table"),t.TgZ(15,"tr"),t.TgZ(16,"td",15),t.YNc(17,k2,1,1,"img",16),t.qZA(),t.TgZ(18,"td",17),t.YNc(19,M2,1,1,"img",18),t.qZA(),t.qZA(),t.TgZ(20,"tr"),t.TgZ(21,"td",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().switchImage(1)}),t.YNc(22,S2,1,1,"img",20),t.qZA(),t.qZA(),t.TgZ(23,"tr"),t.TgZ(24,"td",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().switchImage(2)}),t.YNc(25,I2,1,1,"img",20),t.qZA(),t.qZA(),t.TgZ(26,"tr"),t.TgZ(27,"td",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().switchImage(3)}),t.YNc(28,O2,1,1,"img",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",21),t.TgZ(30,"h2"),t._uU(31),t.qZA(),t.TgZ(32,"p"),t._uU(33),t.qZA(),t.TgZ(34,"ul"),t.YNc(35,D2,2,1,"li",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",23),t.TgZ(37,"h2"),t._uU(38,"Description"),t.qZA(),t.TgZ(39,"p"),t._uU(40),t.qZA(),t.qZA(),t.TgZ(41,"div",23),t.TgZ(42,"h2"),t._uU(43,"Product Information"),t.qZA(),t.TgZ(44,"table"),t.TgZ(45,"tr"),t.TgZ(46,"td",24),t._uU(47,"Categories"),t.qZA(),t.TgZ(48,"td"),t.YNc(49,q2,3,2,"span",22),t.qZA(),t.qZA(),t.TgZ(50,"tr"),t.TgZ(51,"td",24),t._uU(52,"Brand"),t.qZA(),t.TgZ(53,"td"),t._uU(54),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td",24),t._uU(57,"SKU"),t.qZA(),t.TgZ(58,"td"),t._uU(59),t.qZA(),t.qZA(),t.TgZ(60,"tr"),t.TgZ(61,"td",24),t._uU(62,"Barcode"),t.qZA(),t.TgZ(63,"td"),t._uU(64),t.qZA(),t.qZA(),t.TgZ(65,"tr"),t.TgZ(66,"td",24),t._uU(67,"What's in the box"),t.qZA(),t.TgZ(68,"td"),t.TgZ(69,"ul"),t.YNc(70,N2,2,1,"li",22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"tr"),t.TgZ(72,"td",24),t._uU(73,"Features and Benefits"),t.qZA(),t.TgZ(74,"td"),t.TgZ(75,"ul"),t.YNc(76,E2,2,1,"li",22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"tr"),t.TgZ(78,"td",24),t._uU(79,"Extended FABs"),t.qZA(),t.TgZ(80,"td"),t.TgZ(81,"ul"),t.YNc(82,F2,2,1,"li",22),t.qZA(),t.qZA(),t.qZA(),t.TgZ(83,"tr"),t.TgZ(84,"td",24),t._uU(85,"Attributes"),t.qZA(),t.TgZ(86,"td"),t.TgZ(87,"ul",25),t.YNc(88,R2,3,2,"li",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(89,"div",23),t.TgZ(90,"h2"),t._uU(91,"Packaging"),t.qZA(),t.TgZ(92,"div",13),t.TgZ(93,"div",26),t.YNc(94,B2,1,0,"mat-progress-bar",27),t.TgZ(95,"table",28),t.TgZ(96,"tr",24),t.TgZ(97,"th"),t._uU(98,"Type"),t.qZA(),t.TgZ(99,"th"),t._uU(100,"Length"),t.qZA(),t.TgZ(101,"th"),t._uU(102,"Height"),t.qZA(),t.TgZ(103,"th"),t._uU(104,"Width"),t.qZA(),t.TgZ(105,"th"),t._uU(106,"Weight"),t.qZA(),t.TgZ(107,"th"),t._uU(108,"Barcode"),t.qZA(),t.qZA(),t.YNc(109,H2,13,6,"tr",22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"div",23),t.TgZ(111,"h2"),t._uU(112,"Images"),t.qZA(),t.TgZ(113,"div",13),t.YNc(114,J2,11,5,"div",29),t.qZA(),t.qZA(),t.TgZ(115,"div",23),t.TgZ(116,"h2"),t._uU(117,"Videos"),t.qZA(),t.TgZ(118,"div",13),t.YNc(119,Q2,2,1,"div",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(120,z2,4,5,"div",31),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Tol(e.mainTabsCls),t.xp6(15),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(2),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[1]&&1==e.mediaFiles[1].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[2]&&1==e.mediaFiles[2].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[3]&&1==e.mediaFiles[3].ecommerce),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(e.productBrand),t.xp6(2),t.Q6J("ngForOf",e.shoutOuts),t.xp6(5),t.Oqu(e.product.description),t.xp6(9),t.Q6J("ngForOf",e.productCategories),t.xp6(5),t.Oqu(e.productBrand),t.xp6(5),t.Oqu(e.product.sku),t.xp6(5),t.Oqu(e.productBarcode),t.xp6(6),t.Q6J("ngForOf",e.inTheBox),t.xp6(6),t.Q6J("ngForOf",e.featuresAndBenefits),t.xp6(6),t.Q6J("ngForOf",e.extendedFabs),t.xp6(6),t.Q6J("ngForOf",e.productAttributes),t.xp6(6),t.Q6J("ngIf",e.packagingLoader),t.xp6(15),t.Q6J("ngForOf",e.packaging),t.xp6(5),t.Q6J("ngForOf",e.imageServerFiles),t.xp6(5),t.Q6J("ngForOf",e.videos),t.xp6(1),t.Q6J("ngIf",e.showInfoBar)}}function V2(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you believe this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",52),t._uU(9,"Report Issue"),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function j2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,V2,10,1,"div",0),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}const G2=[{path:"",component:ti},{path:":sku",component:(()=>{class n{constructor(e,o,s,r,a,c,l,d,h,u,p,g,_){this.navbar=e,this.treeNav=o,this.api=s,this._snackBar=r,this.route=a,this.router=c,this.formBuilder=l,this.info=d,this.dialog=h,this.lookup=u,this.http=p,this.products=g,this._sanitizer=_,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.imageServerDocumentFiles=[],this.mediaFilesForLinkedProducts=[],this.linkedImagesLoader=!1,this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save Changes",this.disableSaveAttrBtn=!1,this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.isVerified=!1,this.categoriesList=[],this.primaryCategoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.requiredField=!1,this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0,this.isBundle=!1,this.linkedProducts=[],this.linkedProductsIDs=[],this.linkedProductSKUs=[],this.bundleLoader=!0,this.autocompleteControl=new P.NI(""),this.autocompleteControl1=new P.NI(""),this.productsList=[],this.newPamphlet=[],this.newPamphletSKUs=[],this.SKUsLoader=!0,this.options=[],this.designLoader=!1,this.parentChildCategories=[],this.audits=[],this.series=[],this.productManager="",this.productManagerId=0,this.brandManager="",this.users=[],this.loadpProductManager=!0,this.adminRole=!1,this.productManagerRole=!1,this.newSeriesType="",this.descedantsCategories=[],this.tierLabels=[],this.canVerify=!1,this.isEcommerceFile=!1,this.modifyingCategories=!1,this.switchImageMain=0,this.inTheBox=[],this.featuresAndBenefits=[],this.shoutOuts=[],this.extendedFabs=[],this.imagesAreSorted=!1,this.packagingLoader=!1,this.showInfoBar=!0,this.mainTabsCls="col-md-11 col-lg-9",this.infoBarCls="col-md-1 col-lg-3",this.loadingInfo="Preparing...",this.selectedFiles=[],this.historyTable=!1,this.socialLinks=[],this.videos=[]}ngOnInit(){this.info.auth(),this.info.setLoadingInfo("Preparing...","info"),window.scroll({top:0,left:0,behavior:"smooth"}),this.getAllTypes(),localStorage.setItem("route",this.router.url),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.productManagerRole=this.info.role(88),this.adminRole=this.info.role(90),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllCategories(),this.entireProducts(),this.productQr="https://products.smdtechnologies.com/"+this.sku,this.productForm=this.formBuilder.group({id:[""],sku:["0",P.kI.required],name:["0",P.kI.required],brand_type_id:["0",P.kI.required],description:["0",P.kI.required],short_description:["0",P.kI.required],parent_id:["0"],is_eol:[0,P.kI.required],is_in_development:[0,P.kI.required],is_active:[0,P.kI.required],verified:[0,P.kI.required],requires_icasa:[0,P.kI.required],family_grouping:[""]}),this.productFormPackaging=this.formBuilder.group({weight:[""],length:[""],width:[""],height:[""],packaging_type_id:["",P.kI.required],product_id:[this.id],barcode:[""]}),this.productFormAttributesBulk=this.formBuilder.group({attrKey:[""],attrValue:[""]}),this.productFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])}),this.regionsForm=this.formBuilder.group({regions:this.formBuilder.array([])}),this.shoutoutsForm=this.formBuilder.group({shoutouts:this.formBuilder.array([])}),this.featuresAndBenefitsForm=this.formBuilder.group({features:this.formBuilder.array([])}),this.extendedFabsForm=this.formBuilder.group({fabs:this.formBuilder.array([])}),this.packageContentsForm=this.formBuilder.group({contents:this.formBuilder.array([])}),("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"]),this.filteredOptions=this.autocompleteControl.valueChanges.pipe((0,Wt.O)(""),(0,Re.U)(e=>this._filter(e||""))),this.filteredSeries=this.autocompleteControl1.valueChanges.pipe((0,Wt.O)(""),(0,Re.U)(e=>this._filterSeries(e||""))),this.productManagerRole&&(this.editRole=!0)}get attributes(){return this.productFormAttributes.get("attributes")}get regions(){return this.regionsForm.get("regions")}get shoutouts(){return this.shoutoutsForm.get("shoutouts")}get features(){return this.featuresAndBenefitsForm.get("features")}get fabs(){return this.extendedFabsForm.get("fabs")}get contents(){return this.packageContentsForm.get("contents")}getAllTypes(){this.typesList=this.lookup.getTypes()}getDetails(e){this.productsLoader=!0,this.info.setLoadingInfo("Loading product details...","info"),this.api.GET(`products/${e}`).subscribe({next:o=>{if(this.productsLoader=!1,o.length>0){this.detailProgress++,this.product=o[0],this.productName=this.product.name,this.id=this.product.id;const s=this.typesList.find(c=>c.id==this.product.family_grouping);this.productSeries=null==s?void 0:s.name;const r=this.typesList.find(c=>c.id==this.product.brand_type_id);this.productBrand=null==r?void 0:r.name,this.productManagerId=this.product.product_manager,1==o[0].verified&&(this.info.setLoadingInfo("Product verified","info"),this.isVerified=!0),"Simple"!=o[0].type&&(this.isBundle=!0,this.getLinkedProducts()),this.getUsers(),this.audit(this.id),this.getProductAttributes(this.id),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.getDesigns(this.id),this.media(),this.documents(),this.getSocialLinks(this.id),this.getProductCategories(this.id),this.imageserver(e),this.productForm=this.formBuilder.group({id:[{value:this.product.id,disabled:!0}],sku:[{value:this.product.sku,disabled:!0},P.kI.required],name:[this.product.name,P.kI.required],brand_type_id:[this.product.brand_type_id,P.kI.required],description:[this.product.description,P.kI.required],short_description:[this.product.short_description,P.kI.required],is_in_development:[this.product.is_in_development],is_active:[this.product.is_active],is_eol:[this.product.is_eol],verified:[this.product.verified],requires_icasa:[this.product.requires_icasa],family_grouping:[this.product.family_grouping]}),this.newProductForm=this.formBuilder.group({sku:["",[P.kI.required]]});let a=[];if(a=JSON.parse(this.product.attributes),null!==a)for(let c=0;c<a.length;c++){const d=Object.keys(a[c])[0],h=a[c][d];this.info.setLoadingInfo("Loading attributes: "+a[c][d]+"...","success");const u=this.formBuilder.group({attrName:[d,P.kI.required],attrValue:[h,P.kI.required]});this.attributes.push(u)}this.info.setLoadingInfo("Product loaded","success")}},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+o.message,"success"),this.productsLoader=!1}})}getAllCategories(){this.info.setLoadingInfo("Loading categories...","info"),this.api.GET("categories").subscribe({next:e=>{this.products.setCategories(e),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=e.filter(o=>"0"==o.parent),this.info.setLoadingInfo("Categories loaded","success")},error:e=>{console.log(e)}})}getProductCategories(e){this.info.setLoadingInfo("Loading product categories...","info"),this.api.GET(`product-categories/search/${e}`).subscribe({next:o=>{this.productCategories=o,this.info.setLoadingInfo("","success")},error:o=>{console.log(o)}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.info.setLoadingInfo("Loading packaging details...","info"),this.api.GET(`packaging/search/${e}`).subscribe({next:o=>{o.length>0&&(this.detailProgress++,this.packaging=o,this.packagingCount=this.packaging.length,this.productBarcode=o[0].barcode,this.info.setLoadingInfo(`Loading packaging: ${o[0].barcode}`,"info"),this.productFormPackaging=this.formBuilder.group({weight:[o[0].weight],length:[o[0].length],width:[o[0].width],height:[o[0].height],packaging_type_id:[o[0].packaging_type_id],product_id:[this.id],barcode:[o[0].barcode]})),this.packagingLoading=!1,this.info.setLoadingInfo("","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Could not load packaging...","warn"),this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+o.message,"Okay")}})}getProductAttributes(e){this.info.setLoadingInfo("Fetching attributes...","info"),this.api.GET(`attributes/search-by-id/${e}`).subscribe({next:o=>{this.productAttributes=o,this.info.setLoadingInfo("Attributes loaded","success"),console.log(o)},error:o=>{console.log(o),this.info.setLoadingInfo("Could not load attributes","warn")}})}onChange(e){this.files=e.target.files;for(let o=0;o<this.files.length;o++)this.files[o].size>2e7&&this.messages.push("\u{1f6ab} "+this.files[o].name+" is too large!")}onUpload(e,o){if(this.loading=!this.loading,this.info.setLoadingInfo("Uploading media files...","info"),this.files.length>0)for(let s=0;s<this.files.length;s++)this.api.upload("upload-media",{file:this.files[s],name:this.files[s].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:o,permissions:this.filePermissions}).subscribe(r=>{if("object"==typeof r&&(this.loading=!1),r.type===x.dt.UploadProgress)this.uploadProgress=Math.round(100*r.loaded/r.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`,this.info.setLoadingInfo(`${this.uploadProgress}% complete...`,"info");else if(r instanceof x.Zn){const a=this.files[s].name+" ploaded the file successfully.";this.info.activity("Media file uploaded",this.product.id),this.messages.push(a),this.info.setLoadingInfo(a,"info")}this.media()},r=>{this.info.errorHandler(r),this.uploadProgress=0;const a=this.files[s].name+" could not upload the file: ";this.messages.push(a),this.info.setLoadingInfo(a,"warning")});else this.openSnackBar("Please select files","Okay"),this.info.setLoadingInfo("Uploadig complete.","info"),this.loading=!1}uploadDocument(e,o){if(this.loading=!this.loading,this.files.length>0)for(let s=0;s<this.files.length;s++)this.api.upload("upload-document",{file:this.files[s],name:this.files[s].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:o,permissions:this.filePermissions,expiry_date:this.expiry_date}).subscribe(r=>{if("object"==typeof r&&(this.loading=!1),r.type===x.dt.UploadProgress)this.uploadProgress=Math.round(100*r.loaded/r.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`,this.info.setLoadingInfo(`${this.uploadProgress}% complete...`,"info");else if(r instanceof x.Zn){const a=this.files[s].name+" ploaded the file successfully.";this.info.activity(`${this.files[s].name} uploaded`,this.product.id),this.messages.push(a),this.info.setLoadingInfo(a,"info")}this.documents()},r=>{this.info.errorHandler(r),this.uploadProgress=0;const a=this.files[s].name+" could not upload the file: ";this.messages.push(a),this.info.setLoadingInfo(a,"warning")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}openSnackBar(e,o){this._snackBar.open(e,o,{duration:4e3})}media(){this.info.setLoadingInfo("Loading media...","info"),this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e),this.info.setLoadingInfo("Media refreshed","success")},error:e=>{this.info.errorHandler(e)}})}imageserver(e){this.api.IMAGESERVERHIRES(e).subscribe({next:o=>{if(o.length>0)for(let s=0;s<o.length;s++){const r=o[s].filename;r.endsWith(".png")||r.endsWith(".jpg")?this.imageServerFiles.push(r):this.imageServerDocumentFiles.push(r)}},error:o=>{console.log(o)}})}documents(){this.info.setLoadingInfo("Loading documents...","info"),this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductRegions(e){this.info.setLoadingInfo("Loading regions...","info"),this.api.GET(`product-regions/${e}`).subscribe({next:o=>{if(this.productRegionList=o,null!==o){for(let s=0;s<o.length;s++){const r=this.formBuilder.group({regionField:[o[s].region_id,P.kI.required]});this.regions.push(r)}this.info.setLoadingInfo("Regions loaded","success")}},error:o=>{this.info.errorHandler(o)}})}updateFileType(e,o){this.api.POST(`product-files/update-fileType/${e}`,{type_id:o}).subscribe({next:s=>{console.log(s),this.info.activity("Updated file type",this.product.id),this.media(),this.documents()},error:s=>{console.log(s)}})}setFocusType(e){this.focusType=e.target.value}updateProduct(){this.api.POST(`products/update/${this.id}`,this.productForm.value).subscribe({next:e=>{this.progressPercentage(),this.getDetails(this.sku),this.info.activity(`${this.info.getUserName()} Updated product general details`,this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:e=>{this.info.errorHandler(e),this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updatePackaging(){this.info.setLoadingInfo("Updating packaging...","info"),this.packagingLoader=!0,this.productFormPackaging.patchValue({product_id:this.id}),this.api.POST("packaging",this.productFormPackaging.value).subscribe({next:e=>{this.packagingLoader=!1,this.info.activity(`${this.info.getUserName()} Updated product packaging details`,this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.info.setLoadingInfo("Packaging updated...","success"),this.getPackaging(this.id)},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}deletePackaging(e){confirm("This packaging information will be removed")&&(this.packagingLoader=!0,this.info.setLoadingInfo("Deleting packaging info","info"),this.api.GET(`packaging/delete/${e}`).subscribe({next:o=>{this.packagingLoader=!1,this.info.activity(`${this.info.getUserName()} removed some packaing information`,this.product.id),this.openSnackBar("Packaging information deleted","Okay"),this.getPackaging(this.id),this.info.setLoadingInfo("Packaging item removed","success")},error:o=>{this.info.errorHandler(o)}}))}savePackagingChanges(e){this.packagingLoader=!0;const o=document.getElementById("length"+e),s=document.getElementById("height"+e),r=document.getElementById("width"+e),a=document.getElementById("weight"+e),c=document.getElementById("barcode"+e);this.info.setLoadingInfo("Updating packaging changes...","info"),this.api.POST(`packaging/update-by-id/${e}`,{length:null==o?void 0:o.value,height:null==s?void 0:s.value,width:null==r?void 0:r.value,weight:null==a?void 0:a.value,barcode:null==c?void 0:c.value}).subscribe({next:l=>{this.packagingLoader=!1,this.info.activity(`${this.info.getUserName()} Updated product packaging details`,this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.info.setLoadingInfo("Packaging info saved...","success"),this.getPackaging(this.id)},error:l=>{this.openSnackBar("\u{1f622} "+l.message,"Okay"),this.info.setLoadingInfo("Failed to save packaging changes...","danger")}})}updateRegion(){this.info.setLoadingInfo("Updating regions...","info");for(let e=0;e<this.regionsForm.value.regions.length;e++)this.api.POST("products-regions",{product_id:this.id,region_id:this.regionsForm.value.regions[e].designField}).subscribe({next:o=>{this.getProductRegions(this.id),this.openSnackBar("Region Updated \u{1f603}","Okay"),this.info.setLoadingInfo("Regions updated...","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Failed to update regions...","danger")}})}updateSocials(e){this.openSnackBar(`Adding ${e} link...`,""),this.socialLink.includes(e)?this.api.POST("social",{product_id:this.id,link:this.socialLink}).subscribe({next:o=>{this.getSocialLinks(this.id),this.openSnackBar(`${e} link added \u{1f603}`,"Okay"),this.info.setLoadingInfo(`${e} link added \u{1f603}`,"success"),this.info.activity(`${this.info.getUserName()} added ${e} link`,this.product.id),this.socialLink=""},error:o=>{this.info.errorHandler(o),this.openSnackBar(`Adding ${e} failed!`,"Okay"),this.info.setLoadingInfo(`Adding ${e} failed!`,"danger")}}):this.openSnackBar(`Please make sure this is a valid ${e} link`,"Okay")}getSocialLinks(e){this.info.setLoadingInfo("Loading external links...","info"),this.api.GET(`social/${e}`).subscribe({next:o=>{this.socialLinks=o;for(let s=0;s<this.socialLinks.length;s++)this.videos.push(this._sanitizer.bypassSecurityTrustResourceUrl(o[s].link))},error:o=>{this.info.errorHandler(o)}})}deleteSocial(e,o){confirm("This link will be deleted")&&(this.openSnackBar("Deleting link... ",""),this.api.GET(`delete-social/${e}`).subscribe({next:s=>{this.getSocialLinks(this.id),this.openSnackBar("Link deleted","Okay"),this.info.setLoadingInfo(`${o} DELETED \u{1f603}`,"info"),this.info.activity(`${this.info.getUserName()} deleted a link`,this.product.id)},error:s=>{this.info.errorHandler(s),this.openSnackBar(`Failed to delete link: ${o}`,"Okay"),this.info.setLoadingInfo("Failed to delete","warning")}}))}filePath(e){return e.substring(7)}returnTypeName(e){return this.typesList[e-=1].name}returnTypeGroup(e){return this.typesList[e-=1].grouping}drop(e){Kn(this.mediaFiles,e.previousIndex,e.currentIndex);let o=[];for(let r=0;r<this.mediaFiles.length;r++)o.push(this.mediaFiles[r].id);const s=JSON.stringify(o);this.api.POST("image-order",{product_id:this.id,order_list:s}).subscribe({next:r=>{},error:r=>{this.info.errorHandler(r)}})}updateAttributesBulk(){this.info.setLoadingInfo("Updating attributes...","info"),this.info.setLoadingInfo("Fetching attributes...","info"),this.api.POST("attributes",[{product_id:this.id,key:"",value:this.productFormAttributesBulk.value.attrValue}]).subscribe({next:e=>{this.saveAttrBtnText="Save Changes",this.getProductAttributes(this.product.id),this.openSnackBar("Attributes Saved","Okay"),this.info.activity(`${this.info.getUserName()} Updated product attributes`,this.product.id),this.info.setLoadingInfo("Attributes saved...","success")},error:e=>{this.info.errorHandler(e),this.saveAttrBtnText="Failed, try again.",this.openSnackBar(e.message,"Okay"),this.info.setLoadingInfo("Failed to update attributes...","danger")}})}updateAttributes(){this.info.setLoadingInfo("Updating attributes...","info"),this.info.setLoadingInfo("Fetching attributes...","info");let e=this.productFormAttributes.value.attributes;for(let o=0;o<e.length;o++)0!==e[o].attrValue&&this.api.POST("attributes",[{product_id:this.id,key:e[o].attrName,value:e[o].attrValue}]).subscribe({next:s=>{this.saveAttrBtnText="Save Changes",this.getProductAttributes(this.product.id),this.openSnackBar("Attributes Saved","Okay"),this.info.activity(`${this.info.getUserName()} Updated product attributes`,this.product.id)},error:s=>{this.info.errorHandler(s),this.saveAttrBtnText="Failed, try again.",this.openSnackBar(s.message,"Okay"),this.info.setLoadingInfo("Failed to update attributes...","danger")}})}deleteFile(e){this.info.setLoadingInfo("About to delete file...","warn"),confirm("This image / file will be deleted")?(this.openSnackBar("Deleting file...",""),this.info.setLoadingInfo("Deleting file...","warn"),this.api.GET(`delete-file/${e}`).subscribe({next:o=>{this.media(),this.openSnackBar("File deleted...","Okay"),this.info.setLoadingInfo("File deleted","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Failed to delete file!","danger")}})):this.info.setLoadingInfo("","info")}hideFile(e){this.api.GET(`hide-file/${e}`).subscribe({next:o=>{},error:o=>{this.info.errorHandler(o)}})}progressPercentage(){const u=((this.productCategories.length>0?1:0)+(this.attributes.length>0||this.productAttributes.length>0?1:0)+(this.packagingCount>0?1:0)+(this.documentFiles.length>0?1:0)+(this.mediaFiles.length>0?1:0)+(this.productForm.value.brand_type_id?1:0)+(this.product.is_in_development>0||this.product.is_eol>0||this.product.is_active>0?1:0)+(this.product.verified?1:0))/8*100;return this.mediaFiles.length>0&&this.productCategories.length>0&&(this.canVerify=!0),Math.round(u)}addNewAttribute(){const e=this.formBuilder.group({attrName:[],attrValue:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}addRegion(){const e=this.formBuilder.group({regionField:[]});this.regions.push(e)}removeRegion(e){this.regions.removeAt(e),this.regionsForm.markAsDirty()}checkCategories(e){this.catFromProductTbl.find(s=>s.name==e);for(let s=0;s<this.productCategories.length;s++)if(e==this.productCategories[s].name)return!0;return!1}checkedItem(e,o,s){this.openSnackBar("Updating categories, please wait...",""),this.checkboxLoader=!0;const r=this.selectedCategories;this.selectedCategories=[];for(let c=1;c<r.length;c++)this.isChecked(r[c]);const a=this.selectedCategories.indexOf(e);if(a<0){this.selectedCategories.push(e);const c=this.categoriesList.find(g=>g.id==o);c&&this.selectedCategories.push(null==c?void 0:c.id);const l=this.categoriesList.find(g=>g.id==(null==c?void 0:c.parent));l&&this.selectedCategories.push(null==l?void 0:l.id);const d=this.categoriesList.find(g=>g.id==(null==l?void 0:l.parent));d&&this.selectedCategories.push(null==d?void 0:d.id);const h=this.categoriesList.find(g=>g.id==(null==d?void 0:d.parent));h&&this.selectedCategories.push(null==h?void 0:h.id);const u=this.categoriesList.find(g=>g.id==(null==h?void 0:h.parent));u&&this.selectedCategories.push(null==u?void 0:u.id);const p=this.categoriesList.find(g=>g.id==(null==u?void 0:u.parent));p&&this.selectedCategories.push(null==p?void 0:p.id),this.saveCategories(),this.selectedCategories=[]}else this.selectedCategories.splice(a,1),this.selectedCategories=[];console.log(this.selectedCategories)}chosenItem(e,o){const s=e.value;switch(console.log(s),o){case 1:this.tier1=s;break;case 2:this.tier2=s;break;case 3:this.tier3=s;break;case 4:this.tier4=s}const r=this.categoriesList.find(a=>a.id==s);this.tierLabels.push(null==r?void 0:r.name),this.descedantsCategories=this.categoriesList.filter(a=>a.parent==s),this.tierLength=this.descedantsCategories.length,this.selectedCategories.push(s),console.log(this.descedantsCategories)}saveCategories(){this.removePrevCatsFromDb(),this.checkboxLoader=!0,this.info.setLoadingInfo("Saving categories...","info"),this.openSnackBar("Updating categories, almost done...","");const e=this.selectedCategories.filter(o=>null!=o);if(console.log("Categories to save: ",e),e.length>0)for(let o=0;o<1;o++)this.api.POST("product-categories-bulk",{product_id:this.id,categories:e}).subscribe({next:s=>{this.getProductCategories(this.id),this.openSnackBar("Categories updated.",""),this.clearTempTiers(),this.info.setLoadingInfo("Categories updated...","success"),this.checkboxLoader=!1},error:s=>{this.getProductCategories(this.id),this.info.errorHandler(s),this.openSnackBar("\u{1f622} "+s.message,"Okay"),this.checkboxLoader=!1,this.info.setLoadingInfo("Failed to update categories...","danger")}})}removePrevCatsFromDb(){this.checkboxLoader=!0,this.info.setLoadingInfo("Removing categories...","info"),this.openSnackBar("Removing old categories, please wait...",""),this.api.POST("product-categories/clean",{product_id:this.id}).subscribe({next:e=>{console.log(e),this.getProductCategories(this.id),this.info.setLoadingInfo("Categories removed...","warn"),this.openSnackBar("Old categories removed...",""),this.checkboxLoader=!1},error:e=>{this.info.errorHandler(e),this.info.setLoadingInfo("Could not remove categories...","danger"),this.checkboxLoader=!1}})}setPermission(e){return!0}getPdsAttributes(e){this.info.setLoadingInfo("Fetching attributes from PDS...","info"),this.api.GET(`pds-attributes/${e}`).subscribe({next:o=>{this.pdsAttributes=o,this.loadingPdsAttributes=!1,this.info.setLoadingInfo("PDS attributes loaded","success")},error:o=>{this.info.errorHandler(o),this.loadingPdsAttributes=!1,this.info.setLoadingInfo("","danger")}})}deleteProductAttribute(e,o,s){1==confirm(`Delete ${o}?`)&&(this.info.setLoadingInfo("Deleting attributes","info"),this.api.GET(`attributes/delete/${e}`).subscribe({next:a=>{this.getProductAttributes(s),this.info.activity(`${this.info.getUserName()} deleted attribute: ${o}.`,parseInt(s)),this.info.setLoadingInfo("Attribute(s) removed","success")},error:a=>{this.info.errorHandler(a),this.info.setLoadingInfo("Failed to delete ttribute(s)","danger")}}))}downloadURI(e,o,s,r){this.api.download("download-file-api",e,this.product.id,this.product.sku,r.type_id,r.path.replace("public/","storage/"),o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});li.saveAs(l,`${this.product.sku}${r.type_id}.jpg`)},c=>{console.log(c)})}downloadImageServer(e,o,s,r){this.api.download("download-file-api",e,this.product.id,this.product.sku,r.type_id,e,o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});li.saveAs(l,`imageserver${this.product.sku}.jpg`)},c=>{this.info.errorHandler(c)})}getLinkedProducts(){this.bundleLoader=!0,this.linkedImagesLoader=!0,this.info.setLoadingInfo("Getting linked products","info"),this.api.GET(`linked-products/${this.id}`).subscribe({next:e=>{this.linkedProducts=e,this.linkedProductSKUs=[],this.linkedProductsIDs=[],this.mediaFilesForLinkedProducts=[];for(let o=0;o<e.length;o++){let s=this.productsList.find(r=>r.id==e[o].child_id);this.linkedProductSKUs.push(null==s?void 0:s.sku),this.linkedProductsIDs.push(null==s?void 0:s.id),this.info.setLoadingInfo("Getting linked products media","info"),this.api.GET(`product-media-files/${null==s?void 0:s.id}`).subscribe({next:r=>{r.length>0&&this.mediaFilesForLinkedProducts.push(r)},error:r=>{this.info.errorHandler(r)}})}this.bundleLoader=!1,this.info.setLoadingInfo("","success")},error:e=>{this.info.errorHandler(e),this.bundleLoader=!1}})}addDesign(e){const o=this.formBuilder.group({designField:[]});switch(e){case 80:this.shoutouts.push(o);break;case 81:this.features.push(o);break;case 82:this.fabs.push(o);break;case 83:this.contents.push(o)}}removeDesign(e,o){this.designLoader=!0;let s=0;switch(o){case 80:s=this.shoutoutsForm.value.shoutouts[e].designId,this.shoutouts.removeAt(e),this.shoutoutsForm.markAsDirty();break;case 81:s=this.featuresAndBenefitsForm.value.features[e].designId,this.features.removeAt(e),this.featuresAndBenefitsForm.markAsDirty();break;case 82:s=this.extendedFabsForm.value.fabs[e].designId,this.fabs.removeAt(e),this.extendedFabsForm.markAsDirty();break;case 83:s=this.packageContentsForm.value.contents[e].designId,this.contents.removeAt(e),this.packageContentsForm.markAsDirty()}this.api.GET(`delete-design/${s}`).subscribe({next:r=>{this.openSnackBar("Item removed","Okay"),this.designLoader=!1},error:r=>{this.info.errorHandler(r),this.openSnackBar("\u{1f534} Item could not be removed","Okay")}})}design(e){switch(e){case 80:this.saveDesign(this.shoutoutsForm.value.shoutouts,e);break;case 81:this.saveDesign(this.featuresAndBenefitsForm.value.features,e);break;case 82:this.saveDesign(this.extendedFabsForm.value.fabs,e);break;case 83:this.saveDesign(this.packageContentsForm.value.contents,e)}}saveDesign(e,o){this.designLoader=!0,this.info.setLoadingInfo("Saving changes","info"),this.openSnackBar("Saving changes...","");for(let s=0;s<e.length;s++){const r=e[s].designField;null==e.find(l=>l.designField==r).designId&&this.api.POST("design",{product_id:this.id,design_type_id:o,value:r}).subscribe({next:l=>{this.designLoader=!1,this.info.setLoadingInfo("Changes saved","success"),this.openSnackBar("Changes saved","Okay"),this.info.errorHandler(l)},error:l=>{this.designLoader=!1,this.info.setLoadingInfo("FABs, Extended FABs or Shoutouts changes failed to update.","danger"),this.openSnackBar("Changes were not saved, something wrong with input data.","Okay")}})}}getDesigns(e){this.info.setLoadingInfo("Fetching design data","info"),this.designLoader=!0,this.api.GET(`design/${e}`).subscribe({next:o=>{if(this.designLoader=!1,this.info.setLoadingInfo("","success"),null!==o)for(let s=0;s<o.length;s++){const r=this.formBuilder.group({designField:[o[s].value,P.kI.required],designId:[o[s].id]});switch(o[s].design_type_id){case 80:this.shoutouts.push(r),this.shoutOuts.push(o[s]);break;case 81:this.features.push(r),this.featuresAndBenefits.push(o[s]);break;case 82:this.fabs.push(r),this.extendedFabs.push(o[s]);break;case 83:this.contents.push(r),this.inTheBox.push(o[s])}this.info.setLoadingInfo(`Fetching design data: ${o[s].value}`,"info")}},error:o=>{this.info.errorHandler(o)}})}addToBundle(e){const o=this.productsList.find(r=>r.sku==e.option.value),s=null==o?void 0:o.id;this.autocompleteControl.reset(),this.api.POST("link-products",{parent_id:this.id,child_id:s,relationship:"Pamphlet"}).subscribe({next:r=>{this.getLinkedProducts();const a=parseInt(this.id);this.info.activity("Added new SKU to linked products",a),this.openSnackBar("Product added ","Okay")},error:r=>{this.info.errorHandler(r),this.openSnackBar("\u{1f622} "+r.message,"Okay")}})}entireProducts(){this.productsList=this.products.getProducts(),this.productsList.length<1&&this.api.GET("products").subscribe({next:o=>{this.productsList=o,this.products.setProducts(o),this.options=this.productsList.map(s=>s.sku)},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay")}}),this.options=this.productsList.map(o=>o.sku);const e=this.typesList.filter(o=>"Series"==o.grouping);this.series=e.map(o=>o.name)}_filter(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.options.filter(r=>r.toLowerCase().includes(s))}return o}_filterSeries(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.series.filter(r=>r.toLowerCase().includes(s))}return o}removeFromBundle(e){let o=this.productsList.find(r=>r.sku==e);const s=this.linkedProducts.find(r=>r.child_id==(null==o?void 0:o.id)&&r.parent_id==this.id);this.api.GET(`linked-products/delete/${s.id}`).subscribe({next:r=>{this.linkedProductSKUs=[],this.getLinkedProducts(),this.info.activity("Removed product from linked products",0),this.openSnackBar("Product removed ","Okay")},error:r=>{this.info.errorHandler(r)}})}addSeries(e){this.newSeries=e.option.value;const o=this.typesList.find(s=>s.name==this.newSeries);this.productForm.patchValue({family_grouping:null==o?void 0:o.id}),this.updateProduct()}addNonExistingType(){console.log(this.newSeriesType),this.typesList.find(o=>o.name.toLowerCase()==this.newSeriesType.toLowerCase())?this.openSnackBar(`${this.newSeriesType} already added.`,"OKay"):this.api.POST("types",{name:this.newSeriesType,grouping:"Series"}).subscribe({next:o=>{this.productForm.patchValue({family_grouping:o.id}),this.updateProduct()},error:o=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+o.message,"Okay")}})}ngOnChanges(){}audit(e){this.info.setLoadingInfo("Getting audits","info"),this.api.GET(`activity/${this.id}`).subscribe({next:o=>{this.audits=o,this.info.setLoadingInfo("","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Audits did not load properrly","warn")}})}presentation(){this.api.presentation(this.product.id,this.linkedProductsIDs,this.productSeries,this.productBrand,this.productsList),this.openSnackBar("Generating Presentation...","")}getUsers(){try{this.api.GET("users").subscribe({next:e=>{this.users=e,this.api.GET("roles").subscribe({next:o=>{const r=o.find(a=>86==a.type_id&&a.product_id==this.id);if(r){const a=this.users.find(c=>c.id==r.user_id);this.productManager=(null==a?void 0:a.name)+" "+(null==a?void 0:a.surname),this.loadpProductManager=!1,this.editRole=!0}},error:o=>{console.log(o)}}),this.loadpProductManager=!1},error:e=>{this.loadpProductManager=!1,this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}catch(e){this.loadpProductManager=!1}}selectManager(e){console.log(e),this.api.POST(`products/update/${this.id}`,{product_manager:e.value}).subscribe({next:s=>{this.progressPercentage(),this.getDetails(this.sku),this.openSnackBar("Product Manager updated","Okay"),this.info.activity("Updated Product Manager",0)},error:s=>{this.info.errorHandler(s),this.openSnackBar("\u{1f622} "+s.message,"Okay")}})}changeFocus(e){this.focusImg=e}autoInfo(){this.openSnackBar("This will update automatically","Okay")}ecommerceImage(e,o){this.isEcommerceFile=1!=e,this.api.POST(`images/ecommerce/${o}`,{ecommerce:this.isEcommerceFile}).subscribe({next:s=>{console.log(s),this.openSnackBar("Changes saved","Okay"),this.info.activity("E-commerce image",0)},error:s=>{this.openSnackBar(s.message,"Okay")}})}modifyCats(){this.clearTempTiers(),this.descedantsCategories=[],this.modifyingCategories=!this.modifyingCategories}clearCats(){this.clearTempTiers(),this.descedantsCategories=[],this.removePrevCatsFromDb()}clearTempTiers(){this.tier1=0,this.tier2=0,this.tier3=0,this.tier4=0,this.tierLabels=[],this.selectedCategories=[]}test(){this.api.test("test-private").subscribe({next:e=>{console.log(e)},error:e=>{this.info.errorHandler(e)}})}switchImage(e){this.switchImageMain=e}beautifyAttr(e){const o=e[0];let s;return s=o.match(/^[A-Za-z0-9]*$/)?e:e.replaceAll(o,"<br>\u2022"),s}toggleInfoBar(){this.showInfoBar=!this.showInfoBar,this.mainTabsCls=this.showInfoBar?"col-md-1 col-lg-9":"col-md-12 col-lg-12"}addToSelectedFiles(e){const o=this.selectedFiles.indexOf(e);o>-1?this.selectedFiles.splice(o,1):this.selectedFiles.push(e),console.log(this.selectedFiles)}bulkDeleteFiles(){if(confirm(`${this.selectedFiles.length} items will be deleted!`)){this.openSnackBar("Deleting multiple files",""),this.info.setLoadingInfo("Deleting multiple files...","warn");for(let e=0;e<this.selectedFiles.length;e++)this.openSnackBar("Please wait...",""),this.info.setLoadingInfo(`Deleting file ${e+1}`,"warn"),this.api.GET(`delete-file/${this.selectedFiles[e]}`).subscribe({next:s=>{this.media(),this.openSnackBar(`${e+1} files deleted...`,"Okay"),this.openSnackBar(`${e+1} files deleted...`,""),this.info.setLoadingInfo(`${e+1} files deleted...`,"success")},error:s=>{this.info.errorHandler(s),this.info.setLoadingInfo("Failed to delete file!","danger")}});this.info.setLoadingInfo("Items deleted successfully","success"),this.selectedFiles=[]}else this.info.setLoadingInfo("","info")}toggleHistory(){this.historyTable=!this.historyTable}isChecked(e){return!!this.productCategories.find(s=>s.id==e)}ctrlF(){console.log(this.findCategory),window.find(this.findCategory)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(y.gz),t.Y36(y.F0),t.Y36(P.qu),t.Y36(F.C),t.Y36(Vo),t.Y36(jt.W),t.Y36(x.eN),t.Y36(X),t.Y36(jo.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-product"]],viewQuery:function(e,o){if(1&e&&t.Gf(hb,5),2&e){let s;t.iGM(s=t.CRH())&&(o.content=s.first)}},features:[t.TTD],decls:6,vars:4,consts:[[1,"loadingInfo"],["routerLink","../products/product-manager",4,"ngIf"],[4,"ngIf"],["routerLink","../products/product-manager"],["color","accent","mode","indeterminate"],["routerLink","/"],[2,"float","right","cursor","pointer",3,"click"],["class","material-icons",4,"ngIf"],["id","pdfContent",1,"row"],[2,"transition","width 1s"],[2,"background","#EFEFEF"],["label","Product Details",4,"ngIf"],["label","Manage Categories",4,"ngIf"],["label","Manage Attributes",4,"ngIf"],["label","Packaging",4,"ngIf"],["label","Files",4,"ngIf"],["label","Media",4,"ngIf"],["label","E-commerce View"],[1,"mt-5","py-3","custom-tab","card",2,"overflow","hidden !important"],[1,"row"],[1,"col-sm-12","col-md-9","col-lg-7"],[1,"img-cell"],["height","66","width","66",3,"src","click",4,"ngIf"],["rowspan","4"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src",4,"ngIf"],[1,"img-cell",3,"click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src",4,"ngIf"],[1,"col-sm-12","col-md-3","col-lg-5"],[4,"ngFor","ngForOf"],[1,"mt-2","py-3","custom-tab","card"],[1,"table-label-cell"],[1,"col-md-12"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table","table-bordered","mt-2"],["class","col-md-3  p-3",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngFor","ngForOf"],["style","transition: display 1s;",3,"class",4,"ngIf"],[1,"material-icons"],["label","Product Details"],[1,"mt-3",2,"overflow","hidden !important"],[2,"margin-bottom","1rem","padding-left","10px","color","#545454"],[1,"col-md-5"],[3,"formGroup"],["src","../../../assets/icons/details.png","height","30",1,"mx-2"],["appearance","outline","style","width: 90%;",4,"ngIf"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Enter Product SKU"],["sku",""],["matInput","","formControlName","name","placeholder","Enter Product Name",3,"readonly"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value","disabled",4,"ngFor","ngForOf"],["matInput","","placeholder","Enter Series",3,"formControl","matAutocomplete","value","ngModel","readonly","ngModelChange"],["family_grouping",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","matTooltip","Save series",1,"save-icon",3,"click"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description",3,"readonly"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description...",3,"readonly"],["description",""],[2,"padding-left","1rem"],["formControlName","is_in_development",3,"disabled"],["is_in_development",""],["formControlName","is_eol",3,"disabled"],["is_eol",""],["formControlName","is_active",3,"disabled"],["is_active",""],["formControlName","requires_icasa",3,"disabled"],["requires_icasa",""],["class","card warning",4,"ngIf"],["formControlName","verified",3,"disabled"],["verified",""],["mat-raised-button","","type","submit","color","primary",3,"disabled","click",4,"ngIf"],["src","../../../assets/icons/regions.png","height","25",1,"mx-2"],["formArrayName","regions"],["mat-raised-button","","type","button","style","margin-left: 1rem;",3,"click",4,"ngIf"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem;",3,"disabled","click",4,"ngIf"],["style","margin-top: 1rem;",4,"ngFor","ngForOf"],[1,"col-md-7"],["style","margin-top: 2rem;",4,"ngIf"],[2,"height","auto"],["src","../../../assets/icons/gallery.png","height","30",1,"mx-2"],["class","col-md-3 p-3",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[2,"margin-top","30px !important","height","auto"],["src","../../../assets/icons/attributes.png","height","30",1,"mx-2"],["matInput","","formControlName","id"],["id",""],[3,"value","disabled"],[3,"value"],[1,"card","warning"],[1,"text-muted"],["mat-raised-button","","type","submit","color","primary",3,"disabled","click"],[3,"formGroupName"],["matInput","","formControlName","regionField"],["regionField",""],["mat-raised-button","","type","button",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"],[2,"margin-top","1rem"],["height","30",1,"mx-2",3,"src"],[3,"formGroup",4,"ngIf"],["formArrayName","shoutouts"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem; float: right;",3,"disabled","click",4,"ngIf"],["rows","6","matInput","","formControlName","designField","placeholder","","required","",3,"readonly"],["designField",""],["matSuffix","",3,"click",4,"ngIf"],["matSuffix","",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem","float","right",3,"disabled","click"],["formArrayName","features"],["formArrayName","fabs"],["formArrayName","contents"],["matInput","","type","text","formControlName","designField","placeholder","","required","",3,"readonly"],[2,"margin-top","2rem"],["src","../../../assets/icons/linked.png","height","30",1,"mx-2"],["appearance","outline","style","margin-bottom: 1rem; width: 50%;",4,"ngFor","ngForOf"],["appearance","outline",2,"margin-bottom","1rem","width","50%"],["type","text","placeholder","Enter SKU","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["type","text","placeholder","Search SKU","aria-label","Number","matInput","","readonly","",3,"value"],["matSuffix","","style","color:#545454;",3,"click",4,"ngIf"],["target","_blank",3,"href"],["matSuffix","",2,"color","#545454",3,"click"],[1,"col-md-3","p-3"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[2,"color","white"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'",3,"src"],[1,"flip-card-back"],["aria-label","Fish selection"],["class","mat-chip-list",3,"click",4,"ngFor","ngForOf"],[1,"mat-chip-list",3,"click"],[1,"attributes-bullets"],[3,"innerHTML"],[1,"table","table-bordered"],["label","Manage Categories"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[2,"background-color","rgb(255, 255, 255)"],[1,"row","form-border"],[1,"col-md-6"],["mat-stroked-button","","style","font-size: smaller; color: red;",3,"click",4,"ngIf"],["mat-stroked-button","","style","font-size: smaller;",3,"click",4,"ngIf"],[1,"col-md-row"],[1,"col-md-2"],["mat-raised-button","","type","submit","color","primary",3,"click"],[1,"col-md-6",2,"background-color","aliceblue"],[2,"height","40rem","overflow-y","scroll"],["mat-stroked-button","",2,"font-size","smaller","color","red",3,"click"],["mat-stroked-button","",2,"font-size","smaller",3,"click"],[3,"value","valueChange","selectionChange"],[3,"checked","disabled","change"],[1,"category-chechbox"],["label","Manage Attributes"],[1,"mt-2","custom-tab","form-border",2,"overflow","hidden !important"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","accent","style","margin-left: 1rem;",3,"click",4,"ngIf"],["mat-raised-button","","type","submit","color","primary","style","float: right; ",3,"disabled","click",4,"ngIf"],[2,"background-color","rgb(255, 255, 255)","margin-top","1rem"],["formControlName","attrName","type","hidden","value","6"],["formControlName","attrValue","rows","6","placeholder","Paste attributes here",2,"width","100%",3,"readonly"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem; ",3,"click",4,"ngIf"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value",3,"readonly"],["type","text","matInput","","id","attrValue","formControlName","attrValue","placeholder","Enter Value",3,"readonly"],["mat-raised-button","","type","button","color","warn",1,"mb-3",3,"click"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"float","right",3,"disabled","click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],["style","width: 7px;",4,"ngIf"],[2,"width","7px"],["mat-button","","aria-label","Options",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["color","warn"],["label","Packaging"],["class","warning",4,"ngIf"],[1,"mt-2","custom-tab",2,"overflow","hidden !important"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id",3,"disabled"],["matInput","","formControlName","weight","placeholder","Enter Product Weight",3,"readonly"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length",3,"readonly"],["matInput","","formControlName","width","placeholder","Enter Product Width",3,"readonly"],["matInput","","formControlName","height","placeholder","Enter Product Height",3,"readonly"],["matInput","","formControlName","barcode","placeholder","barcode",3,"readonly"],["matInput","","formControlName","product_id","placeholder","barcode","readonly",""],[1,"m-3"],[1,"warning"],["matInput","","placeholder","Length",3,"id","value","readonly"],["matInput","","placeholder","Height",3,"id","value","readonly"],["matInput","","placeholder","Width",3,"id","value","readonly"],["matInput","","placeholder","Weight",3,"id","value","readonly"],["matInput","","placeholder","Barcode",3,"id","value","readonly"],["mat-icon-button","","aria-label","Options",3,"matMenuTriggerFor"],["color","primary"],["label","Files"],[1,"col-md-4"],["class","upload-role",4,"ngIf"],[1,"col-md-8"],[1,"table"],[2,"list-style","none"],[1,"form-control",3,"change"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","file","multiple","",1,"form-control",3,"change"],[2,"background-color","rgb(247, 247, 247)"],["permissions",""],["style","height: 25px;",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[2,"height","25px"],[1,"container"],[1,"message"],[1,"upload-role"],["label","Media"],["label","Manage Images"],[1,"row","py-3"],["cdkDropList","","class","file-list",3,"cdkDropListDropped",4,"ngIf"],["class","col-md-3","style","padding-bottom: 1rem;",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["label","Videos"],["matInput","","placeholder","Enter link here",3,"ngModel","readonly","ngModelChange"],["mat-flat-button","","color","primary",3,"click"],[2,"padding","1rem"],["appearance","legacy",4,"ngFor","ngForOf"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box",4,"ngFor","ngForOf"],[1,"file-box"],["cdkDrag","",1,"row"],["color","accent","selected","",4,"ngIf"],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge",4,"ngIf"],[1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"checked","click"],["color","accent","selected",""],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],[3,"value","onSelectionChange"],[1,"col-md-3",2,"padding-bottom","1rem"],["style","position: relative; top: 34px;",3,"click",4,"ngIf"],["mat-card-image","","alt","Photo",3,"src"],[3,"click"],[2,"position","relative","top","34px",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"col-md-4","form-border"],["appearance","legacy"],["matInput","",3,"placeholder","readonly"],["height","66","width","66",3,"src","click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src"],["matInput","","placeholder","Length","readonly","",3,"id","value"],["matInput","","placeholder","Height","readonly","",3,"id","value"],["matInput","","placeholder","Width","readonly","",3,"id","value"],["matInput","","placeholder","Weight","readonly","",3,"id","value"],["matInput","","placeholder","Barcode","readonly","",3,"id","value"],[2,"font-size","x-small","background-color","rgb(235, 235, 235)","color","rgb(165, 165, 165)","padding-left","6px"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","100",3,"src"],["width","420","height","315",3,"src"],[2,"transition","display 1s"],[2,"text-align","center"],["matInput","","name","productManager",3,"value","disabled","valueChange","selectionChange"],["cols","3","rowHeight","100px"],["colspan","3"],[3,"color","mode","value"],["role","list",3,"click"],["role","listitem"],[3,"qrdata","width","errorCorrectionLevel"],[2,"text-align","center","margin-bottom","1rem"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,o){1&e&&(t._UZ(0,"span",0),t.TgZ(1,"p"),t.YNc(2,ub,2,0,"a",1),t.qZA(),t.YNc(3,pb,4,1,"div",2),t.YNc(4,m2,127,34,"div",2),t.YNc(5,x2,2,1,"div",2)),2&e&&(t.xp6(2),t.Q6J("ngIf",0!==o.productManagerId),t.xp6(1),t.Q6J("ngIf",1==o.productsLoader),t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",!o.product))},directives:[T.O5,y.yS,Gt.pW,z.a8,pt.SP,pt.uX,T.sg,P._Y,P.JL,P.sg,U.KE,U.hX,$.Nt,P.Fj,P.JJ,P.u,J.gD,V.ey,_i.ZL,P.oH,_i.XC,Q.Hw,U.R9,fi.gM,he.oG,ct.lW,P.CE,P.x0,P.Q7,U.bx,z.G2,zo,Xe,P.F,G.Il,G.DX,Un.p6,Un.VK,Un.OP,P.YN,P.Kr,P.On,Yi.Ub,Yi.vS,Cs,Ts,to.k,z.dn,ja.Ou,Yi.i$,Yi.Tg,Wo],pipes:[Fe,T.Ov,j,T.uU],styles:[".img-cell[_ngcontent-%COMP%]{width:20%;height:69px}.table-label-cell[_ngcontent-%COMP%]{background-color:#f4f4f4}.save-icon[_ngcontent-%COMP%]{cursor:pointer}.image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.flip-card[_ngcontent-%COMP%]{background-color:#fff;width:145px;height:240px;border:1px solid #f1f1f1;perspective:1000px}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .8s;transform-style:preserve-3d}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.flip-card-back[_ngcontent-%COMP%]{background-color:#b9b9b9;color:#000;transform:rotateY(180deg);padding:6px;font-size:smaller}.image-box[_ngcontent-%COMP%]{width:100%;height:100%}.warning[_ngcontent-%COMP%]{background-color:#ffa600d5;color:#000;padding:9px;margin-bottom:1rem}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.attributes-bullets[_ngcontent-%COMP%]{list-style-type:none}.loadingInfo[_ngcontent-%COMP%]{float:right}.category-chechbox[_ngcontent-%COMP%]{list-style:none}@media only screen and (min-width: 768px){.flip-card[_ngcontent-%COMP%]{width:100px;height:240px}}@media only screen and (min-width: 992px){.flip-card[_ngcontent-%COMP%]{width:120px;height:240px}.mat-chip-list[_ngcontent-%COMP%]{font-size:10px!important}}"]}),n})()},{path:"brand/:brand",component:Ue},{path:"add/new/:type",component:Wd},{path:"categories/manage",component:Ka},{path:"products/export",component:ul},{path:"products/export-csv",component:ll},{path:"products/dashboard",component:Ee},{path:"series/:series",component:ei},{path:"brands/manage-brands",component:et},{path:"products/product-manager",component:Je},{path:"qrcode/:sku",component:(()=>{class n{constructor(e,o,s,r,a,c,l,d){this.navbar=e,this.route=o,this.router=s,this.info=r,this.nav=a,this.sideNav=c,this.treeNav=l,this.api=d,this.productsLoader=!0}ngOnInit(){this.nav.hide(),this.sideNav.hide(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku}),this.getDetails(this.sku)}getDetails(e){this.productsLoader=!0,this.info.setLoadingInfo("Loading product details...","info"),this.api.GET(`products/${e}`).subscribe({next:o=>{this.productsLoader=!1,o.length>0&&(this.product=o[0])},error:o=>{this.info.setLoadingInfo("Failed to connect to the server: "+o.message,"success"),this.productsLoader=!1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(y.gz),t.Y36(y.F0),t.Y36(F.C),t.Y36(k.I),t.Y36(q.Z),t.Y36(Y.r),t.Y36(L.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-qr-code"]],decls:7,vars:6,consts:[[2,"text-align","center"],[4,"ngIf"],[3,"qrdata","width","errorCorrectionLevel"],["color","accent","mode","indeterminate"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"strong"),t._uU(2,"SKU:"),t.qZA(),t._uU(3),t.YNc(4,v2,7,2,"div",1),t.YNc(5,T2,5,0,"div",1),t._UZ(6,"qrcode",2),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",o.sku," "),t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",!o.product),t.xp6(1),t.MGl("qrdata","https://products.smdtechnologies.com/",o.sku,""),t.Q6J("width",300)("errorCorrectionLevel","M"))},directives:[T.O5,Gt.pW,Wo],styles:[""]}),n})()},{path:"public/:sku",component:(()=>{class n{constructor(e,o,s,r,a,c,l,d,h,u,p,g,_,b){this.navbar=e,this.treeNav=o,this.api=s,this._snackBar=r,this.route=a,this.router=c,this.formBuilder=l,this.info=d,this.dialog=h,this.lookup=u,this.http=p,this.products=g,this._sanitizer=_,this.sideNav=b,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.imageServerDocumentFiles=[],this.mediaFilesForLinkedProducts=[],this.linkedImagesLoader=!1,this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.isVerified=!1,this.categoriesList=[],this.primaryCategoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0,this.isBundle=!1,this.linkedProducts=[],this.linkedProductsIDs=[],this.linkedProductSKUs=[],this.bundleLoader=!0,this.autocompleteControl=new P.NI(""),this.autocompleteControl1=new P.NI(""),this.productsList=[],this.newPamphlet=[],this.newPamphletSKUs=[],this.SKUsLoader=!0,this.options=[],this.designLoader=!1,this.parentChildCategories=[],this.series=[],this.users=[],this.adminRole=!1,this.productManagerRole=!1,this.newSeriesType="",this.descedantsCategories=[],this.canVerify=!1,this.isEcommerceFile=!1,this.modifyingCategories=!1,this.switchImageMain=0,this.inTheBox=[],this.featuresAndBenefits=[],this.shoutOuts=[],this.extendedFabs=[],this.imagesAreSorted=!1,this.packagingLoader=!1,this.showInfoBar=!0,this.mainTabsCls="col-md-11 col-lg-11",this.infoBarCls="col-md-1 col-lg-1",this.loadingInfo="Preparing...",this.socialLinks=[],this.videos=[]}ngOnInit(){this.info.setLoadingInfo("Preparing...","info"),window.scroll({top:0,left:0,behavior:"smooth"}),this.getAllTypes(),localStorage.setItem("route",this.router.url),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.productManagerRole=this.info.role(88),this.adminRole=this.info.role(90),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.hide(),this.treeNav.hide(),this.sideNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllCategories(),this.entireProducts(),this.productQr="https://products.smdtechnologies.com/"+this.sku,("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"]),this.filteredOptions=this.autocompleteControl.valueChanges.pipe((0,Wt.O)(""),(0,Re.U)(e=>this._filter(e||""))),this.filteredSeries=this.autocompleteControl1.valueChanges.pipe((0,Wt.O)(""),(0,Re.U)(e=>this._filterSeries(e||""))),this.productManagerRole&&(this.editRole=!0)}getAllTypes(){this.typesList=this.lookup.getTypes()}getDetails(e){this.productsLoader=!0,this.info.setLoadingInfo("Loading product details...","info"),this.api.GET(`products/${e}`).subscribe({next:o=>{if(this.productsLoader=!1,o.length>0){this.detailProgress++,this.product=o[0],this.productName=this.product.name,this.id=this.product.id;const s=this.typesList.find(c=>c.id==this.product.family_grouping);this.productSeries=null==s?void 0:s.name;const r=this.typesList.find(c=>c.id==this.product.brand_type_id);this.productBrand=null==r?void 0:r.name,1==o[0].verified&&(this.info.setLoadingInfo("Product verified","info"),this.isVerified=!0),"Simple"!=o[0].type&&(this.isBundle=!0,this.getLinkedProducts()),this.getProductAttributes(this.id),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.getDesigns(this.id),this.media(),this.documents(),this.getSocialLinks(this.id),this.getProductCategories(this.id),this.imageserver(e);let a=[];if(a=JSON.parse(this.product.attributes),null!==a)for(let c=0;c<a.length;c++){const d=Object.keys(a[c])[0],h=a[c][d];this.info.setLoadingInfo("Loading attributes: "+a[c][d]+"...","success"),this.formBuilder.group({attrName:[d,P.kI.required],attrValue:[h,P.kI.required]})}this.info.setLoadingInfo("Product loaded","success")}},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+o.message,"success"),this.productsLoader=!1}})}getAllCategories(){this.info.setLoadingInfo("Loading categories...","info"),this.api.GET("categories").subscribe({next:e=>{this.products.setCategories(e),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=e.filter(o=>"0"==o.parent),this.info.setLoadingInfo("Categories loaded","success")},error:e=>{console.log(e)}})}getProductCategories(e){this.info.setLoadingInfo("Loading product categories...","info"),this.api.GET(`product-categories/search/${e}`).subscribe({next:o=>{this.productCategories=o,this.info.setLoadingInfo("","success")},error:o=>{console.log(o)}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.info.setLoadingInfo("Loading packaging details...","info"),this.api.GET(`packaging/search/${e}`).subscribe({next:o=>{o.length>0&&(this.detailProgress++,this.packaging=o,this.packagingCount=this.packaging.length,this.productBarcode=o[0].barcode,this.info.setLoadingInfo(`Loading packaging: ${o[0].barcode}`,"info")),this.packagingLoading=!1,this.info.setLoadingInfo("","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Could not load packaging...","warn"),this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+o.message,"Okay")}})}getProductAttributes(e){this.info.setLoadingInfo("Fetching attributes...","info"),this.api.GET(`attributes/search-by-id/${e}`).subscribe({next:o=>{this.productAttributes=o,this.info.setLoadingInfo("Attributes loaded","success"),console.log(o)},error:o=>{console.log(o),this.info.setLoadingInfo("Could not load attributes","warn")}})}openSnackBar(e,o){this._snackBar.open(e,o,{duration:4e3})}media(){this.info.setLoadingInfo("Loading media...","info"),this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e),this.info.setLoadingInfo("Media refreshed","success")},error:e=>{this.info.errorHandler(e)}})}imageserver(e){this.api.IMAGESERVERHIRES(e).subscribe({next:o=>{if(o.length>0)for(let s=0;s<o.length;s++){const r=o[s].filename;r.endsWith(".png")||r.endsWith(".jpg")?this.imageServerFiles.push(r):this.imageServerDocumentFiles.push(r)}},error:o=>{console.log(o)}})}documents(){this.info.setLoadingInfo("Loading documents...","info"),this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductRegions(e){this.info.setLoadingInfo("Loading regions...","info"),this.api.GET(`product-regions/${e}`).subscribe({next:o=>{if(this.productRegionList=o,null!==o){for(let s=0;s<o.length;s++)this.formBuilder.group({regionField:[o[s].region_id,P.kI.required]});this.info.setLoadingInfo("Regions loaded","success")}},error:o=>{this.info.errorHandler(o)}})}getSocialLinks(e){this.info.setLoadingInfo("Loading external links...","info"),this.api.GET(`social/${e}`).subscribe({next:o=>{this.socialLinks=o;for(let s=0;s<this.socialLinks.length;s++)this.videos.push(this._sanitizer.bypassSecurityTrustResourceUrl(o[s].link))},error:o=>{this.info.errorHandler(o)}})}filePath(e){return console.log("PATH: ",e),e.substring(7)}returnTypeName(e){return this.typesList[e-=1].name}returnTypeGroup(e){return this.typesList[e-=1].grouping}checkCategories(e){this.catFromProductTbl.find(s=>s.name==e);for(let s=0;s<this.productCategories.length;s++)if(e==this.productCategories[s].name)return!0;return!1}setPermission(e){return!0}getPdsAttributes(e){this.info.setLoadingInfo("Fetching attributes from PDS...","info"),this.api.GET(`pds-attributes/${e}`).subscribe({next:o=>{this.pdsAttributes=o,this.loadingPdsAttributes=!1,this.info.setLoadingInfo("PDS attributes loaded","success")},error:o=>{this.info.errorHandler(o),this.loadingPdsAttributes=!1,this.info.setLoadingInfo("","danger")}})}downloadURI(e,o,s,r){this.api.download("download-file-api",e,this.product.id,this.product.sku,r.type_id,r.path.replace("public/","storage/"),o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});li.saveAs(l,`${this.product.sku}${r.type_id}.jpg`)},c=>{console.log(c)})}downloadImageServer(e,o,s,r){this.api.download("download-file-api",e,this.product.id,this.product.sku,r.type_id,e,o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});li.saveAs(l,`imageserver${this.product.sku}.jpg`)},c=>{this.info.errorHandler(c)})}getLinkedProducts(){this.bundleLoader=!0,this.linkedImagesLoader=!0,this.info.setLoadingInfo("Getting linked products","info"),this.api.GET(`linked-products/${this.id}`).subscribe({next:e=>{this.linkedProducts=e,this.linkedProductSKUs=[],this.linkedProductsIDs=[],this.mediaFilesForLinkedProducts=[];for(let o=0;o<e.length;o++){let s=this.productsList.find(r=>r.id==e[o].child_id);this.linkedProductSKUs.push(null==s?void 0:s.sku),this.linkedProductsIDs.push(null==s?void 0:s.id),this.info.setLoadingInfo("Getting linked products media","info"),this.api.GET(`product-media-files/${null==s?void 0:s.id}`).subscribe({next:r=>{r.length>0&&this.mediaFilesForLinkedProducts.push(r)},error:r=>{this.info.errorHandler(r)}})}this.bundleLoader=!1,this.info.setLoadingInfo("","success")},error:e=>{this.info.errorHandler(e),this.bundleLoader=!1}})}getDesigns(e){this.info.setLoadingInfo("Fetching design data","info"),this.designLoader=!0,this.api.GET(`design/${e}`).subscribe({next:o=>{if(this.designLoader=!1,this.info.setLoadingInfo("","success"),null!==o)for(let s=0;s<o.length;s++){switch(this.formBuilder.group({designField:[o[s].value,P.kI.required],designId:[o[s].id]}),o[s].design_type_id){case 80:this.shoutOuts.push(o[s]);break;case 81:this.featuresAndBenefits.push(o[s]);break;case 82:this.extendedFabs.push(o[s]);break;case 83:this.inTheBox.push(o[s])}this.info.setLoadingInfo(`Fetching design data: ${o[s].value}`,"info")}},error:o=>{this.info.errorHandler(o)}})}entireProducts(){this.productsList=this.products.getProducts(),this.productsList.length<1&&this.api.GET("products").subscribe({next:o=>{this.productsList=o,this.products.setProducts(o),this.options=this.productsList.map(s=>s.sku)},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay")}}),this.options=this.productsList.map(o=>o.sku);const e=this.typesList.filter(o=>"Series"==o.grouping);this.series=e.map(o=>o.name)}_filter(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.options.filter(r=>r.toLowerCase().includes(s))}return o}_filterSeries(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.series.filter(r=>r.toLowerCase().includes(s))}return o}presentation(){this.api.presentation(this.product.id,this.linkedProductsIDs,this.productSeries,this.productBrand,this.productsList),this.openSnackBar("Generating Presentation...","")}changeFocus(e){this.focusImg=e}autoInfo(){this.openSnackBar("This will update automatically","Okay")}ecommerceImage(e,o){this.isEcommerceFile=1!=e,this.api.POST(`images/ecommerce/${o}`,{ecommerce:this.isEcommerceFile}).subscribe({next:s=>{console.log(s),this.openSnackBar("Changes saved","Okay"),this.info.activity("E-commerce image",0)},error:s=>{this.openSnackBar(s.message,"Okay")}})}test(){this.api.test("test-private").subscribe({next:e=>{console.log(e)},error:e=>{this.info.errorHandler(e)}})}switchImage(e){this.switchImageMain=e}beautifyAttr(e){const o=e[0];let s;return s=o.match(/^[A-Za-z0-9]*$/)?e:e.replaceAll(o,"<br>\u2022"),s}toggleInfoBar(){this.showInfoBar=!this.showInfoBar,this.mainTabsCls=this.showInfoBar?"col-md-11 col-lg-11":"col-md-12 col-lg-12"}ctrlF(){console.log(this.findCategory),window.find(this.findCategory)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.I),t.Y36(Y.r),t.Y36(L.s),t.Y36(N.ux),t.Y36(y.gz),t.Y36(y.F0),t.Y36(P.qu),t.Y36(F.C),t.Y36(Vo),t.Y36(jt.W),t.Y36(x.eN),t.Y36(X),t.Y36(jo.H7),t.Y36(q.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-public"]],viewQuery:function(e,o){if(1&e&&t.Gf(Z2,5),2&e){let s;t.iGM(s=t.CRH())&&(o.content=s.first)}},decls:6,vars:5,consts:[[4,"ngIf"],[2,"float","right","cursor","pointer",3,"click"],["class","material-icons",4,"ngIf"],["color","accent","mode","indeterminate"],[1,"material-icons"],["id","pdfContent",1,"row"],[2,"transition","width 1s"],[2,"background","#EFEFEF"],["label","Product Details"],[1,"loadingInfo"],["id","slow-connection","matTooltip","Poor internet connection",1,"material-icons",2,"color","orange","display","none"],["id","no-connection","matTooltip","No signal",1,"material-icons",2,"color","red","display","none"],[1,"mt-5","py-3","custom-tab","card",2,"overflow","hidden !important"],[1,"row"],[1,"col-sm-12","col-md-9","col-lg-7"],[1,"img-cell"],["height","66","width","66",3,"src","click",4,"ngIf"],["rowspan","4"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src",4,"ngIf"],[1,"img-cell",3,"click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src",4,"ngIf"],[1,"col-sm-12","col-md-3","col-lg-5"],[4,"ngFor","ngForOf"],[1,"mt-2","py-3","custom-tab","card"],[1,"table-label-cell"],[1,"attributes-bullets"],[1,"col-md-12"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table","table-bordered"],["class","col-md-3  p-3",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngFor","ngForOf"],["style","transition: display 1s;",3,"class",4,"ngIf"],["height","66","width","66",3,"src","click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src"],[3,"innerHTML"],[1,"col-md-3","p-3"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[2,"font-size","x-small","background-color","rgb(235, 235, 235)","color","rgb(165, 165, 165)","padding-left","6px"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","100",3,"src"],[1,"flip-card-back"],["aria-label","Fish selection"],["class","mat-chip-list",3,"click",4,"ngFor","ngForOf"],[1,"mat-chip-list",3,"click"],[1,"col-md-6"],["width","420","height","315",3,"src"],[2,"transition","display 1s"],[1,"text-muted"],[2,"text-align","center"],[3,"qrdata","width","errorCorrectionLevel"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,o){1&e&&(t.YNc(0,P2,4,1,"div",0),t.TgZ(1,"span",1),t.NdJ("click",function(){return o.toggleInfoBar()}),t.YNc(2,w2,2,0,"i",2),t.YNc(3,A2,2,0,"i",2),t.qZA(),t.YNc(4,$2,121,24,"div",0),t.YNc(5,j2,2,1,"div",0)),2&e&&(t.Q6J("ngIf",1==o.productsLoader),t.xp6(2),t.Q6J("ngIf",o.showInfoBar),t.xp6(1),t.Q6J("ngIf",!o.showInfoBar),t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",!o.product))},directives:[T.O5,Gt.pW,z.a8,pt.SP,pt.uX,fi.gM,T.sg,z.G2,zo,Xe,Wo,ct.lW],pipes:[Fe],styles:[".img-cell[_ngcontent-%COMP%]{width:20%;height:69px}.table-label-cell[_ngcontent-%COMP%]{background-color:#f4f4f4}.save-icon[_ngcontent-%COMP%]{cursor:pointer}.image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.flip-card[_ngcontent-%COMP%]{background-color:#fff;width:145px;height:240px;border:1px solid #f1f1f1;perspective:1000px}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .8s;transform-style:preserve-3d}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.flip-card-back[_ngcontent-%COMP%]{background-color:#b9b9b9;color:#000;transform:rotateY(180deg);padding:6px;font-size:smaller}.image-box[_ngcontent-%COMP%]{width:100%;height:100%}.warning[_ngcontent-%COMP%]{background-color:#ffa600d5;color:#000;padding:9px;margin-bottom:1rem}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.attributes-bullets[_ngcontent-%COMP%]{list-style-type:none}.loadingInfo[_ngcontent-%COMP%]{float:right}.category-chechbox[_ngcontent-%COMP%]{list-style:none}@media only screen and (min-width: 768px){.flip-card[_ngcontent-%COMP%]{width:100px;height:240px}}@media only screen and (min-width: 992px){.flip-card[_ngcontent-%COMP%]{width:120px;height:240px}.mat-chip-list[_ngcontent-%COMP%]{font-size:10px!important}}"]}),n})()}];let W2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[y.Bz.forChild(G2)],y.Bz]}),n})(),K2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[T.ez,V.BQ,K2,xe.eL]]}),n})();var tC=m(4594),eC=m(6469);class iC{constructor(){this.routesToCache=[""],this.storedRouteHandles=new Map}shouldDetach(i){return this.routesToCache.indexOf(i.routeConfig.path)>-1}store(i,e){this.storedRouteHandles.set(i.routeConfig.path,e)}shouldAttach(i){return this.storedRouteHandles.has(i.routeConfig.path)}retrieve(i){return this.storedRouteHandles.get(i.routeConfig.path)}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}let nC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:y.wN,useClass:iC}],imports:[[T.ez,W2,cm,U.lN,f.p0,C.TU,Q.Ps,Yi.ie,$.c,U.lN,P.u5,P.UX,ct.ot,pt.Nh,J.LD,z.QW,cb,N.ZX,X2,ja.Cq,Gt.Cv,Z.JX,Te.JB,Un.Tx,he.p9,_i.Bb,tC.g0,ud,G.N6,to.g,he.p9,fi.AV,eC.i,db]]}),n})()},4901:W=>{"use strict";var w={single_source_shortest_paths:function(m,T,y){var x={},C={};C[T]=0;var f,t,k,q,L,F,Z=w.PriorityQueue.make();for(Z.push(T,0);!Z.empty();)for(k in q=(f=Z.pop()).cost,L=m[t=f.value]||{})L.hasOwnProperty(k)&&(F=q+L[k],(void 0===C[k]||C[k]>F)&&(C[k]=F,Z.push(k,F),x[k]=t));if(void 0!==y&&void 0===C[y]){var X=["Could not find a path from ",T," to ",y,"."].join("");throw new Error(X)}return x},extract_shortest_path_from_predecessor_list:function(m,T){for(var y=[],x=T;x;)y.push(x),x=m[x];return y.reverse(),y},find_path:function(m,T,y){var x=w.single_source_shortest_paths(m,T,y);return w.extract_shortest_path_from_predecessor_list(x,y)},PriorityQueue:{make:function(m){var x,T=w.PriorityQueue,y={};for(x in m=m||{},T)T.hasOwnProperty(x)&&(y[x]=T[x]);return y.queue=[],y.sorter=m.sorter||T.default_sorter,y},default_sorter:function(m,T){return m.cost-T.cost},push:function(m,T){this.queue.push({value:m,cost:T}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};W.exports=w},8419:W=>{"use strict";W.exports=function(m){for(var T=[],y=m.length,x=0;x<y;x++){var C=m.charCodeAt(x);if(C>=55296&&C<=56319&&y>x+1){var Z=m.charCodeAt(x+1);Z>=56320&&Z<=57343&&(C=1024*(C-55296)+Z-56320+65536,x+=1)}C<128?T.push(C):C<2048?(T.push(C>>6|192),T.push(63&C|128)):C<55296||C>=57344&&C<65536?(T.push(C>>12|224),T.push(C>>6&63|128),T.push(63&C|128)):C>=65536&&C<=1114111?(T.push(C>>18|240),T.push(C>>12&63|128),T.push(C>>6&63|128),T.push(63&C|128)):T.push(239,191,189)}return new Uint8Array(T).buffer}},4327:function(W,w){var y;void 0!==(y=function(){"use strict";function C(L,N,F){var D=new XMLHttpRequest;D.open("GET",L),D.responseType="blob",D.onload=function(){q(D.response,N,F)},D.onerror=function(){console.error("could not download file")},D.send()}function Z(L){var N=new XMLHttpRequest;N.open("HEAD",L,!1);try{N.send()}catch(F){}return 200<=N.status&&299>=N.status}function f(L){try{L.dispatchEvent(new MouseEvent("click"))}catch(F){var N=document.createEvent("MouseEvents");N.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(N)}}var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,k=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),q=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!k?function(L,N,F){var D=t.URL||t.webkitURL,Y=document.createElement("a");Y.download=N=N||L.name||"download",Y.rel="noopener","string"==typeof L?(Y.href=L,Y.origin===location.origin?f(Y):Z(Y.href)?C(L,N,F):f(Y,Y.target="_blank")):(Y.href=D.createObjectURL(L),setTimeout(function(){D.revokeObjectURL(Y.href)},4e4),setTimeout(function(){f(Y)},0))}:"msSaveOrOpenBlob"in navigator?function(L,N,F){if(N=N||L.name||"download","string"!=typeof L)navigator.msSaveOrOpenBlob(function x(L,N){return void 0===N?N={autoBom:!1}:"object"!=typeof N&&(console.warn("Deprecated: Expected third argument to be a object"),N={autoBom:!N}),N.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob(["\ufeff",L],{type:L.type}):L}(L,F),N);else if(Z(L))C(L,N,F);else{var D=document.createElement("a");D.href=L,D.target="_blank",setTimeout(function(){f(D)})}}:function(L,N,F,D){if((D=D||open("","_blank"))&&(D.document.title=D.document.body.innerText="downloading..."),"string"==typeof L)return C(L,N,F);var Y="application/octet-stream"===L.type,X=/constructor/i.test(t.HTMLElement)||t.safari,ct=/CriOS\/[\d]+/.test(navigator.userAgent);if((ct||Y&&X||k)&&"undefined"!=typeof FileReader){var tt=new FileReader;tt.onloadend=function(){var z=tt.result;z=ct?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),D?D.location.href=z:location=z,D=null},tt.readAsDataURL(L)}else{var et=t.URL||t.webkitURL,P=et.createObjectURL(L);D?D.location=P:location.href=P,D=null,setTimeout(function(){et.revokeObjectURL(P)},4e4)}});t.saveAs=q.saveAs=q,W.exports=q}.apply(w,[]))&&(W.exports=y)}}]);