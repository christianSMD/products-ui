var wC=Object.defineProperty,TC=(tt,k,b)=>k in tt?wC(tt,k,{enumerable:!0,configurable:!0,writable:!0,value:b}):tt[k]=b,U=(tt,k,b)=>(TC(tt,"symbol"!=typeof k?k+"":k,b),b);(self.webpackChunkproducts_system=self.webpackChunkproducts_system||[]).push([[232],{5876:(tt,k,b)=>{const P=b(532),x=b(7554),C=b(179),w=b(1036);function f(t,M,N,L,F){const R=[].slice.call(arguments,1),I=R.length,J="function"==typeof R[I-1];if(!J&&!P())throw new Error("Callback required as last argument");if(!J){if(I<1)throw new Error("Too few arguments provided");return 1===I?(N=M,M=L=void 0):2===I&&!M.getContext&&(L=N,N=M,M=void 0),new Promise(function(W,ct){try{const X=x.create(N,L);W(t(X,M,L))}catch(X){ct(X)}})}if(I<2)throw new Error("Too few arguments provided");2===I?(F=N,N=M,M=L=void 0):3===I&&(M.getContext&&typeof F>"u"?(F=L,L=void 0):(F=L,L=N,N=M,M=void 0));try{const W=x.create(N,L);F(null,t(W,M,L))}catch(W){F(W)}}k.rT=f.bind(null,C.render),k.hz=f.bind(null,C.renderToDataURL),k.toString=f.bind(null,function(t,M,N){return w.render(t,N)})},532:tt=>{tt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(tt,k,b)=>{const y=b(4860).getSymbolSize;k.getRowColCoords=function(x){if(1===x)return[];const C=Math.floor(x/7)+2,w=y(x),f=145===w?26:2*Math.ceil((w-13)/(2*C-2)),t=[w-7];for(let M=1;M<C-1;M++)t[M]=t[M-1]-f;return t.push(6),t.reverse()},k.getPositions=function(x){const C=[],w=k.getRowColCoords(x),f=w.length;for(let t=0;t<f;t++)for(let M=0;M<f;M++)0===t&&0===M||0===t&&M===f-1||t===f-1&&0===M||C.push([w[t],w[M]]);return C}},812:(tt,k,b)=>{const y=b(6906),P=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function x(C){this.mode=y.ALPHANUMERIC,this.data=C}x.getBitsLength=function(w){return 11*Math.floor(w/2)+w%2*6},x.prototype.getLength=function(){return this.data.length},x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)},x.prototype.write=function(w){let f;for(f=0;f+2<=this.data.length;f+=2){let t=45*P.indexOf(this.data[f]);t+=P.indexOf(this.data[f+1]),w.put(t,11)}this.data.length%2&&w.put(P.indexOf(this.data[f]),6)},tt.exports=x},3044:tt=>{function k(){this.buffer=[],this.length=0}k.prototype={get:function(b){const y=Math.floor(b/8);return 1==(this.buffer[y]>>>7-b%8&1)},put:function(b,y){for(let P=0;P<y;P++)this.putBit(1==(b>>>y-P-1&1))},getLengthInBits:function(){return this.length},putBit:function(b){const y=Math.floor(this.length/8);this.buffer.length<=y&&this.buffer.push(0),b&&(this.buffer[y]|=128>>>this.length%8),this.length++}},tt.exports=k},1973:tt=>{function k(b){if(!b||b<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=b,this.data=new Uint8Array(b*b),this.reservedBit=new Uint8Array(b*b)}k.prototype.set=function(b,y,P,x){const C=b*this.size+y;this.data[C]=P,x&&(this.reservedBit[C]=!0)},k.prototype.get=function(b,y){return this.data[b*this.size+y]},k.prototype.xor=function(b,y,P){this.data[b*this.size+y]^=P},k.prototype.isReserved=function(b,y){return this.reservedBit[b*this.size+y]},tt.exports=k},1824:(tt,k,b)=>{const y=b(8419),P=b(6906);function x(C){this.mode=P.BYTE,this.data=new Uint8Array(y(C))}x.getBitsLength=function(w){return 8*w},x.prototype.getLength=function(){return this.data.length},x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)},x.prototype.write=function(C){for(let w=0,f=this.data.length;w<f;w++)C.put(this.data[w],8)},tt.exports=x},6194:(tt,k,b)=>{const y=b(9020),P=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],x=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];k.getBlocksCount=function(w,f){switch(f){case y.L:return P[4*(w-1)+0];case y.M:return P[4*(w-1)+1];case y.Q:return P[4*(w-1)+2];case y.H:return P[4*(w-1)+3];default:return}},k.getTotalCodewordsCount=function(w,f){switch(f){case y.L:return x[4*(w-1)+0];case y.M:return x[4*(w-1)+1];case y.Q:return x[4*(w-1)+2];case y.H:return x[4*(w-1)+3];default:return}}},9020:(tt,k)=>{k.L={bit:1},k.M={bit:0},k.Q={bit:3},k.H={bit:2},k.isValid=function(P){return P&&typeof P.bit<"u"&&P.bit>=0&&P.bit<4},k.from=function(P,x){if(k.isValid(P))return P;try{return function b(y){if("string"!=typeof y)throw new Error("Param is not a string");switch(y.toLowerCase()){case"l":case"low":return k.L;case"m":case"medium":return k.M;case"q":case"quartile":return k.Q;case"h":case"high":return k.H;default:throw new Error("Unknown EC Level: "+y)}}(P)}catch{return x}}},9172:(tt,k,b)=>{const y=b(4860).getSymbolSize;k.getPositions=function(C){const w=y(C);return[[0,0],[w-7,0],[0,w-7]]}},611:(tt,k,b)=>{const y=b(4860),C=y.getBCHDigit(1335);k.getEncodedBits=function(f,t){const M=f.bit<<3|t;let N=M<<10;for(;y.getBCHDigit(N)-C>=0;)N^=1335<<y.getBCHDigit(N)-C;return 21522^(M<<10|N)}},7794:(tt,k)=>{const b=new Uint8Array(512),y=new Uint8Array(256);(function(){let x=1;for(let C=0;C<255;C++)b[C]=x,y[x]=C,x<<=1,256&x&&(x^=285);for(let C=255;C<512;C++)b[C]=b[C-255]})(),k.log=function(x){if(x<1)throw new Error("log("+x+")");return y[x]},k.exp=function(x){return b[x]},k.mul=function(x,C){return 0===x||0===C?0:b[y[x]+y[C]]}},8043:(tt,k,b)=>{const y=b(6906),P=b(4860);function x(C){this.mode=y.KANJI,this.data=C}x.getBitsLength=function(w){return 13*w},x.prototype.getLength=function(){return this.data.length},x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)},x.prototype.write=function(C){let w;for(w=0;w<this.data.length;w++){let f=P.toSJIS(this.data[w]);if(f>=33088&&f<=40956)f-=33088;else{if(!(f>=57408&&f<=60351))throw new Error("Invalid SJIS character: "+this.data[w]+"\nMake sure your charset is UTF-8");f-=49472}f=192*(f>>>8&255)+(255&f),C.put(f,13)}},tt.exports=x},7135:(tt,k)=>{k.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function y(P,x,C){switch(P){case k.Patterns.PATTERN000:return(x+C)%2==0;case k.Patterns.PATTERN001:return x%2==0;case k.Patterns.PATTERN010:return C%3==0;case k.Patterns.PATTERN011:return(x+C)%3==0;case k.Patterns.PATTERN100:return(Math.floor(x/2)+Math.floor(C/3))%2==0;case k.Patterns.PATTERN101:return x*C%2+x*C%3==0;case k.Patterns.PATTERN110:return(x*C%2+x*C%3)%2==0;case k.Patterns.PATTERN111:return(x*C%3+(x+C)%2)%2==0;default:throw new Error("bad maskPattern:"+P)}}k.isValid=function(x){return null!=x&&""!==x&&!isNaN(x)&&x>=0&&x<=7},k.from=function(x){return k.isValid(x)?parseInt(x,10):void 0},k.getPenaltyN1=function(x){const C=x.size;let w=0,f=0,t=0,M=null,N=null;for(let L=0;L<C;L++){f=t=0,M=N=null;for(let F=0;F<C;F++){let R=x.get(L,F);R===M?f++:(f>=5&&(w+=f-5+3),M=R,f=1),R=x.get(F,L),R===N?t++:(t>=5&&(w+=t-5+3),N=R,t=1)}f>=5&&(w+=f-5+3),t>=5&&(w+=t-5+3)}return w},k.getPenaltyN2=function(x){const C=x.size;let w=0;for(let f=0;f<C-1;f++)for(let t=0;t<C-1;t++){const M=x.get(f,t)+x.get(f,t+1)+x.get(f+1,t)+x.get(f+1,t+1);(4===M||0===M)&&w++}return 3*w},k.getPenaltyN3=function(x){const C=x.size;let w=0,f=0,t=0;for(let M=0;M<C;M++){f=t=0;for(let N=0;N<C;N++)f=f<<1&2047|x.get(M,N),N>=10&&(1488===f||93===f)&&w++,t=t<<1&2047|x.get(N,M),N>=10&&(1488===t||93===t)&&w++}return 40*w},k.getPenaltyN4=function(x){let C=0;const w=x.data.length;for(let t=0;t<w;t++)C+=x.data[t];return 10*Math.abs(Math.ceil(100*C/w/5)-10)},k.applyMask=function(x,C){const w=C.size;for(let f=0;f<w;f++)for(let t=0;t<w;t++)C.isReserved(t,f)||C.xor(t,f,y(x,t,f))},k.getBestMask=function(x,C){const w=Object.keys(k.Patterns).length;let f=0,t=1/0;for(let M=0;M<w;M++){C(M),k.applyMask(M,x);const N=k.getPenaltyN1(x)+k.getPenaltyN2(x)+k.getPenaltyN3(x)+k.getPenaltyN4(x);k.applyMask(M,x),N<t&&(t=N,f=M)}return f}},6906:(tt,k,b)=>{const y=b(2316),P=b(4677);k.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},k.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},k.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},k.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},k.MIXED={bit:-1},k.getCharCountIndicator=function(w,f){if(!w.ccBits)throw new Error("Invalid mode: "+w);if(!y.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?w.ccBits[0]:f<27?w.ccBits[1]:w.ccBits[2]},k.getBestModeForData=function(w){return P.testNumeric(w)?k.NUMERIC:P.testAlphanumeric(w)?k.ALPHANUMERIC:P.testKanji(w)?k.KANJI:k.BYTE},k.toString=function(w){if(w&&w.id)return w.id;throw new Error("Invalid mode")},k.isValid=function(w){return w&&w.bit&&w.ccBits},k.from=function(w,f){if(k.isValid(w))return w;try{return function x(C){if("string"!=typeof C)throw new Error("Param is not a string");switch(C.toLowerCase()){case"numeric":return k.NUMERIC;case"alphanumeric":return k.ALPHANUMERIC;case"kanji":return k.KANJI;case"byte":return k.BYTE;default:throw new Error("Unknown mode: "+C)}}(w)}catch{return f}}},6002:(tt,k,b)=>{const y=b(6906);function P(x){this.mode=y.NUMERIC,this.data=x.toString()}P.getBitsLength=function(C){return 10*Math.floor(C/3)+(C%3?C%3*3+1:0)},P.prototype.getLength=function(){return this.data.length},P.prototype.getBitsLength=function(){return P.getBitsLength(this.data.length)},P.prototype.write=function(C){let w,f,t;for(w=0;w+3<=this.data.length;w+=3)f=this.data.substr(w,3),t=parseInt(f,10),C.put(t,10);const M=this.data.length-w;M>0&&(f=this.data.substr(w),t=parseInt(f,10),C.put(t,3*M+1))},tt.exports=P},7793:(tt,k,b)=>{const y=b(7794);k.mul=function(x,C){const w=new Uint8Array(x.length+C.length-1);for(let f=0;f<x.length;f++)for(let t=0;t<C.length;t++)w[f+t]^=y.mul(x[f],C[t]);return w},k.mod=function(x,C){let w=new Uint8Array(x);for(;w.length-C.length>=0;){const f=w[0];for(let M=0;M<C.length;M++)w[M]^=y.mul(C[M],f);let t=0;for(;t<w.length&&0===w[t];)t++;w=w.slice(t)}return w},k.generateECPolynomial=function(x){let C=new Uint8Array([1]);for(let w=0;w<x;w++)C=k.mul(C,new Uint8Array([1,y.exp(w)]));return C}},7554:(tt,k,b)=>{const y=b(4860),P=b(9020),x=b(3044),C=b(1973),w=b(3012),f=b(9172),t=b(7135),M=b(6194),N=b(8098),L=b(6602),F=b(611),R=b(6906),I=b(9465);function et(Q,V,G){const q=Q.size,K=F.getEncodedBits(V,G);let $,z;for($=0;$<15;$++)z=1==(K>>$&1),Q.set($<6?$:$<8?$+1:q-15+$,8,z,!0),Q.set(8,$<8?q-$-1:$<9?15-$-1+1:15-$-1,z,!0);Q.set(q-8,8,1,!0)}function St(Q,V,G,q){let K;if(Array.isArray(Q))K=I.fromArray(Q);else{if("string"!=typeof Q)throw new Error("Invalid data");{let Wt=V;if(!Wt){const ve=I.rawSplit(Q);Wt=L.getBestVersionForData(ve,G)}K=I.fromString(Q,Wt||40)}}const $=L.getBestVersionForData(K,G);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(V){if(V<$)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+$+".\n")}else V=$;const z=function E(Q,V,G){const q=new x;G.forEach(function(it){q.put(it.mode.bit,4),q.put(it.getLength(),R.getCharCountIndicator(it.mode,Q)),it.write(q)});const z=8*(y.getSymbolTotalCodewords(Q)-M.getTotalCodewordsCount(Q,V));for(q.getLengthInBits()+4<=z&&q.put(0,4);q.getLengthInBits()%8!=0;)q.putBit(0);const ot=(z-q.getLengthInBits())/8;for(let it=0;it<ot;it++)q.put(it%2?17:236,8);return function gt(Q,V,G){const q=y.getSymbolTotalCodewords(V),$=q-M.getTotalCodewordsCount(V,G),z=M.getBlocksCount(V,G),it=z-q%z,Wt=Math.floor(q/z),ve=Math.floor($/z),Jn=ve+1,$i=Wt-ve,Qn=new N($i);let si=0;const Fe=new Array(z),Vi=new Array(z);let ai=0;const Gn=new Uint8Array(Q.buffer);for(let ue=0;ue<z;ue++){const ci=ue<it?ve:Jn;Fe[ue]=Gn.slice(si,si+ci),Vi[ue]=Qn.encode(Fe[ue]),si+=ci,ai=Math.max(ai,ci)}const ri=new Uint8Array(q);let Yt,Jt,ji=0;for(Yt=0;Yt<ai;Yt++)for(Jt=0;Jt<z;Jt++)Yt<Fe[Jt].length&&(ri[ji++]=Fe[Jt][Yt]);for(Yt=0;Yt<$i;Yt++)for(Jt=0;Jt<z;Jt++)ri[ji++]=Vi[Jt][Yt];return ri}(q,Q,V)}(V,G,K),ot=y.getSymbolSize(V),it=new C(ot);return function J(Q,V){const G=Q.size,q=f.getPositions(V);for(let K=0;K<q.length;K++){const $=q[K][0],z=q[K][1];for(let ot=-1;ot<=7;ot++)if(!($+ot<=-1||G<=$+ot))for(let it=-1;it<=7;it++)z+it<=-1||G<=z+it||Q.set($+ot,z+it,ot>=0&&ot<=6&&(0===it||6===it)||it>=0&&it<=6&&(0===ot||6===ot)||ot>=2&&ot<=4&&it>=2&&it<=4,!0)}}(it,V),function W(Q){const V=Q.size;for(let G=8;G<V-8;G++){const q=G%2==0;Q.set(G,6,q,!0),Q.set(6,G,q,!0)}}(it),function ct(Q,V){const G=w.getPositions(V);for(let q=0;q<G.length;q++){const K=G[q][0],$=G[q][1];for(let z=-2;z<=2;z++)for(let ot=-2;ot<=2;ot++)Q.set(K+z,$+ot,-2===z||2===z||-2===ot||2===ot||0===z&&0===ot,!0)}}(it,V),et(it,G,0),V>=7&&function X(Q,V){const G=Q.size,q=L.getEncodedBits(V);let K,$,z;for(let ot=0;ot<18;ot++)K=Math.floor(ot/3),$=ot%3+G-8-3,z=1==(q>>ot&1),Q.set(K,$,z,!0),Q.set($,K,z,!0)}(it,V),function T(Q,V){const G=Q.size;let q=-1,K=G-1,$=7,z=0;for(let ot=G-1;ot>0;ot-=2)for(6===ot&&ot--;;){for(let it=0;it<2;it++)if(!Q.isReserved(K,ot-it)){let Wt=!1;z<V.length&&(Wt=1==(V[z]>>>$&1)),Q.set(K,ot-it,Wt),$--,-1===$&&(z++,$=7)}if(K+=q,K<0||G<=K){K-=q,q=-q;break}}}(it,z),isNaN(q)&&(q=t.getBestMask(it,et.bind(null,it,G))),t.applyMask(q,it),et(it,G,q),{modules:it,version:V,errorCorrectionLevel:G,maskPattern:q,segments:K}}k.create=function(V,G){if(typeof V>"u"||""===V)throw new Error("No input text");let K,$,q=P.M;return typeof G<"u"&&(q=P.from(G.errorCorrectionLevel,P.M),K=L.from(G.version),$=t.from(G.maskPattern),G.toSJISFunc&&y.setToSJISFunction(G.toSJISFunc)),St(V,K,q,$)}},8098:(tt,k,b)=>{const y=b(7793);function P(x){this.genPoly=void 0,this.degree=x,this.degree&&this.initialize(this.degree)}P.prototype.initialize=function(C){this.degree=C,this.genPoly=y.generateECPolynomial(this.degree)},P.prototype.encode=function(C){if(!this.genPoly)throw new Error("Encoder not initialized");const w=new Uint8Array(C.length+this.degree);w.set(C);const f=y.mod(w,this.genPoly),t=this.degree-f.length;if(t>0){const M=new Uint8Array(this.degree);return M.set(f,t),M}return f},tt.exports=P},4677:(tt,k)=>{const b="[0-9]+";let P="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";P=P.replace(/u/g,"\\u");const x="(?:(?![A-Z0-9 $%*+\\-./:]|"+P+")(?:.|[\r\n]))+";k.KANJI=new RegExp(P,"g"),k.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),k.BYTE=new RegExp(x,"g"),k.NUMERIC=new RegExp(b,"g"),k.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const C=new RegExp("^"+P+"$"),w=new RegExp("^"+b+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");k.testKanji=function(M){return C.test(M)},k.testNumeric=function(M){return w.test(M)},k.testAlphanumeric=function(M){return f.test(M)}},9465:(tt,k,b)=>{const y=b(6906),P=b(6002),x=b(812),C=b(1824),w=b(8043),f=b(4677),t=b(4860),M=b(4901);function N(X){return unescape(encodeURIComponent(X)).length}function L(X,et,T){const E=[];let gt;for(;null!==(gt=X.exec(T));)E.push({data:gt[0],index:gt.index,mode:et,length:gt[0].length});return E}function F(X){const et=L(f.NUMERIC,y.NUMERIC,X),T=L(f.ALPHANUMERIC,y.ALPHANUMERIC,X);let E,gt;return t.isKanjiModeEnabled()?(E=L(f.BYTE,y.BYTE,X),gt=L(f.KANJI,y.KANJI,X)):(E=L(f.BYTE_KANJI,y.BYTE,X),gt=[]),et.concat(T,E,gt).sort(function(Q,V){return Q.index-V.index}).map(function(Q){return{data:Q.data,mode:Q.mode,length:Q.length}})}function R(X,et){switch(et){case y.NUMERIC:return P.getBitsLength(X);case y.ALPHANUMERIC:return x.getBitsLength(X);case y.KANJI:return w.getBitsLength(X);case y.BYTE:return C.getBitsLength(X)}}function ct(X,et){let T;const E=y.getBestModeForData(X);if(T=y.from(et,E),T!==y.BYTE&&T.bit<E.bit)throw new Error('"'+X+'" cannot be encoded with mode '+y.toString(T)+".\n Suggested mode is: "+y.toString(E));switch(T===y.KANJI&&!t.isKanjiModeEnabled()&&(T=y.BYTE),T){case y.NUMERIC:return new P(X);case y.ALPHANUMERIC:return new x(X);case y.KANJI:return new w(X);case y.BYTE:return new C(X)}}k.fromArray=function(et){return et.reduce(function(T,E){return"string"==typeof E?T.push(ct(E,null)):E.data&&T.push(ct(E.data,E.mode)),T},[])},k.fromString=function(et,T){const gt=function J(X){const et=[];for(let T=0;T<X.length;T++){const E=X[T];switch(E.mode){case y.NUMERIC:et.push([E,{data:E.data,mode:y.ALPHANUMERIC,length:E.length},{data:E.data,mode:y.BYTE,length:E.length}]);break;case y.ALPHANUMERIC:et.push([E,{data:E.data,mode:y.BYTE,length:E.length}]);break;case y.KANJI:et.push([E,{data:E.data,mode:y.BYTE,length:N(E.data)}]);break;case y.BYTE:et.push([{data:E.data,mode:y.BYTE,length:N(E.data)}])}}return et}(F(et,t.isKanjiModeEnabled())),St=function W(X,et){const T={},E={start:{}};let gt=["start"];for(let St=0;St<X.length;St++){const Q=X[St],V=[];for(let G=0;G<Q.length;G++){const q=Q[G],K=""+St+G;V.push(K),T[K]={node:q,lastCount:0},E[K]={};for(let $=0;$<gt.length;$++){const z=gt[$];T[z]&&T[z].node.mode===q.mode?(E[z][K]=R(T[z].lastCount+q.length,q.mode)-R(T[z].lastCount,q.mode),T[z].lastCount+=q.length):(T[z]&&(T[z].lastCount=q.length),E[z][K]=R(q.length,q.mode)+4+y.getCharCountIndicator(q.mode,et))}}gt=V}for(let St=0;St<gt.length;St++)E[gt[St]].end=0;return{map:E,table:T}}(gt,T),Q=M.find_path(St.map,"start","end"),V=[];for(let G=1;G<Q.length-1;G++)V.push(St.table[Q[G]].node);return k.fromArray(function I(X){return X.reduce(function(et,T){const E=et.length-1>=0?et[et.length-1]:null;return E&&E.mode===T.mode?(et[et.length-1].data+=T.data,et):(et.push(T),et)},[])}(V))},k.rawSplit=function(et){return k.fromArray(F(et,t.isKanjiModeEnabled()))}},4860:(tt,k)=>{let b;const y=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];k.getSymbolSize=function(x){if(!x)throw new Error('"version" cannot be null or undefined');if(x<1||x>40)throw new Error('"version" should be in range from 1 to 40');return 4*x+17},k.getSymbolTotalCodewords=function(x){return y[x]},k.getBCHDigit=function(P){let x=0;for(;0!==P;)x++,P>>>=1;return x},k.setToSJISFunction=function(x){if("function"!=typeof x)throw new Error('"toSJISFunc" is not a valid function.');b=x},k.isKanjiModeEnabled=function(){return typeof b<"u"},k.toSJIS=function(x){return b(x)}},2316:(tt,k)=>{k.isValid=function(y){return!isNaN(y)&&y>=1&&y<=40}},6602:(tt,k,b)=>{const y=b(4860),P=b(6194),x=b(9020),C=b(6906),w=b(2316),t=y.getBCHDigit(7973);function N(R,I){return C.getCharCountIndicator(R,I)+4}function L(R,I){let J=0;return R.forEach(function(W){J+=N(W.mode,I)+W.getBitsLength()}),J}k.from=function(I,J){return w.isValid(I)?parseInt(I,10):J},k.getCapacity=function(I,J,W){if(!w.isValid(I))throw new Error("Invalid QR Code version");typeof W>"u"&&(W=C.BYTE);const et=8*(y.getSymbolTotalCodewords(I)-P.getTotalCodewordsCount(I,J));if(W===C.MIXED)return et;const T=et-N(W,I);switch(W){case C.NUMERIC:return Math.floor(T/10*3);case C.ALPHANUMERIC:return Math.floor(T/11*2);case C.KANJI:return Math.floor(T/13);default:return Math.floor(T/8)}},k.getBestVersionForData=function(I,J){let W;const ct=x.from(J,x.M);if(Array.isArray(I)){if(I.length>1)return function F(R,I){for(let J=1;J<=40;J++)if(L(R,J)<=k.getCapacity(J,I,C.MIXED))return J}(I,ct);if(0===I.length)return 1;W=I[0]}else W=I;return function M(R,I,J){for(let W=1;W<=40;W++)if(I<=k.getCapacity(W,J,R))return W}(W.mode,W.getLength(),ct)},k.getEncodedBits=function(I){if(!w.isValid(I)||I<7)throw new Error("Invalid QR Code version");let J=I<<12;for(;y.getBCHDigit(J)-t>=0;)J^=7973<<y.getBCHDigit(J)-t;return I<<12|J}},179:(tt,k,b)=>{const y=b(714);k.render=function(w,f,t){let M=t,N=f;typeof M>"u"&&(!f||!f.getContext)&&(M=f,f=void 0),f||(N=function x(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),M=y.getOptions(M);const L=y.getImageWidth(w.modules.size,M),F=N.getContext("2d"),R=F.createImageData(L,L);return y.qrToImageData(R.data,w,M),function P(C,w,f){C.clearRect(0,0,w.width,w.height),w.style||(w.style={}),w.height=f,w.width=f,w.style.height=f+"px",w.style.width=f+"px"}(F,N,L),F.putImageData(R,0,0),N},k.renderToDataURL=function(w,f,t){let M=t;return typeof M>"u"&&(!f||!f.getContext)&&(M=f,f=void 0),M||(M={}),k.render(w,f,M).toDataURL(M.type||"image/png",(M.rendererOpts||{}).quality)}},1036:(tt,k,b)=>{const y=b(714);function P(w,f){const t=w.a/255,M=f+'="'+w.hex+'"';return t<1?M+" "+f+'-opacity="'+t.toFixed(2).slice(1)+'"':M}function x(w,f,t){let M=w+f;return typeof t<"u"&&(M+=" "+t),M}k.render=function(f,t,M){const N=y.getOptions(t),L=f.modules.size,F=f.modules.data,R=L+2*N.margin,I=N.color.light.a?"<path "+P(N.color.light,"fill")+' d="M0 0h'+R+"v"+R+'H0z"/>':"",J="<path "+P(N.color.dark,"stroke")+' d="'+function C(w,f,t){let M="",N=0,L=!1,F=0;for(let R=0;R<w.length;R++){const I=Math.floor(R%f),J=Math.floor(R/f);!I&&!L&&(L=!0),w[R]?(F++,R>0&&I>0&&w[R-1]||(M+=L?x("M",I+t,.5+J+t):x("m",N,0),N=0,L=!1),I+1<f&&w[R+1]||(M+=x("h",F),F=0)):N++}return M}(F,L,N.margin)+'"/>',X='<svg xmlns="http://www.w3.org/2000/svg" '+(N.width?'width="'+N.width+'" height="'+N.width+'" ':"")+'viewBox="0 0 '+R+" "+R+'" shape-rendering="crispEdges">'+I+J+"</svg>\n";return"function"==typeof M&&M(null,X),X}},714:(tt,k)=>{function b(y){if("number"==typeof y&&(y=y.toString()),"string"!=typeof y)throw new Error("Color should be defined as hex string");let P=y.slice().replace("#","").split("");if(P.length<3||5===P.length||P.length>8)throw new Error("Invalid hex color: "+y);(3===P.length||4===P.length)&&(P=Array.prototype.concat.apply([],P.map(function(C){return[C,C]}))),6===P.length&&P.push("F","F");const x=parseInt(P.join(""),16);return{r:x>>24&255,g:x>>16&255,b:x>>8&255,a:255&x,hex:"#"+P.slice(0,6).join("")}}k.getOptions=function(P){P||(P={}),P.color||(P.color={});const C=P.width&&P.width>=21?P.width:void 0;return{width:C,scale:C?4:P.scale||4,margin:typeof P.margin>"u"||null===P.margin||P.margin<0?4:P.margin,color:{dark:b(P.color.dark||"#000000ff"),light:b(P.color.light||"#ffffffff")},type:P.type,rendererOpts:P.rendererOpts||{}}},k.getScale=function(P,x){return x.width&&x.width>=P+2*x.margin?x.width/(P+2*x.margin):x.scale},k.getImageWidth=function(P,x){const C=k.getScale(P,x);return Math.floor((P+2*x.margin)*C)},k.qrToImageData=function(P,x,C){const w=x.modules.size,f=x.modules.data,t=k.getScale(w,C),M=Math.floor((w+2*C.margin)*t),N=C.margin*t,L=[C.color.light,C.color.dark];for(let F=0;F<M;F++)for(let R=0;R<M;R++){let I=4*(F*M+R),J=C.color.light;F>=N&&R>=N&&F<M-N&&R<M-N&&(J=L[f[Math.floor((F-N)/t)*w+Math.floor((R-N)/t)]?1:0]),P[I++]=J.r,P[I++]=J.g,P[I++]=J.b,P[I]=J.a}}},9232:(tt,k,b)=>{"use strict";b.r(k),b.d(k,{ProductsModule:()=>PC});var y=b(6895),P=b(9299),x=b(529),C=b(8739),w=b(6308),f=b(3626),t=b(4650),M=b(1038),N=b(6689),L=b(5962),F=b(7009),R=b(1357),I=b(2687),J=b(776);let W=(()=>{class n{constructor(){this.products=[],this.categories=[]}getProducts(){return console.log("Products GETTER"),console.log(this.products),this.products}setProducts(e){this.products=e}getCategories(){return this.categories}setCategories(e){this.categories=e}searchProductByName(e){const o=e.toLowerCase();return this.products.find(a=>a.name.toLowerCase()==o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ct=b(4859);function X(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.selectBrand(a.name))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}let et=(()=>{class n{constructor(e,o,s,a,r,c,l,d,h,u){this.navbar=e,this.sideNav=o,this.topNav=s,this.api=a,this._snackBar=r,this.router=c,this.info=l,this._liveAnnouncer=d,this.treeNav=h,this.productService=u,this.typesLoader=!1,this.types=[],this.displayedColumns=["brand","products","manager"],this.newType="",this.groups=[],this.brandManager="",this.users=[],this.loadBrandManager=!0,this.roles=[],this.productsList=[],this.adminRole=!1,this.brandManagerRole=!1,this.singleBrand=!1,this.currentBrand="",this.focusType="47",this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.uploadRole=!1,this.detailProgress=0,this.today=new Date,this.brandsList=[]}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getUsers(),this.getRoles(),this.brandManagerRole=this.info.role(87),this.adminRole=this.info.role(90),this.uploadRole=this.info.role(57)}getAllTypes(){this.info.setLoadingInfo("Preparing...","info"),this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.types=e,this.brandsList=this.types.filter(a=>"Brand"==a.grouping),this.dataSource=new f.by(this.brandsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;let s=this.types.map(a=>a.grouping);this.groups=Array.from(new Set(s)),s=[],this.info.setLoadingInfo("Preparing Successful","success")},error:e=>{this.typesLoader=!1,this.info.setLoadingInfo("Failed to communicate with the server","danger")}})}table(e){let o=e.tab.textLabel,s=this.types.filter(a=>a.grouping==o);""==o&&(s=this.types),this.dataSource=new f.by(s),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}announceSortChange(e){console.log(e),this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,o){this._snackBar.open(e,o)}addNewType(e){const o=this.newType;this.types.find(a=>a.name.toLowerCase()==o.toLowerCase())?this.openSnackBar(`${this.newType} already added.`,"OKay"):this.api.POST("types",{name:this.newType,grouping:e}).subscribe({next:a=>{console.log(a),this.getAllTypes(),this.table({index:0,tab:{textLabel:this.newType}}),this.openSnackBar(`${this.newType} has been added.`,"OKay")},error:a=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+a.message,"Okay"),this.info.setLoadingInfo("Failed to communicate with the server","danger")}})}getUsers(){this.info.setLoadingInfo("Loading...","info");try{this.api.GET("users").subscribe({next:e=>{this.users=e,this.loadBrandManager=!1,this.info.setLoadingInfo("Done loading users","success")},error:e=>{this.loadBrandManager=!1,this.openSnackBar("Failed to connect to the server: "+e.message,"Okay"),this.info.setLoadingInfo("Fetching users failed, having trouble connecting to the server","warning")}})}catch{this.info.setLoadingInfo("An uknown error happened trying to het users","danger"),this.loadBrandManager=!1}}selectUser(e,o){this.info.setLoadingInfo("Updating brand manager,...","info"),this.api.POST("roles",{user_id:e.value,type_id:86,product_id:0,brand_id:o}).subscribe({next:a=>{this.openSnackBar("Brand Manager updated","Okay"),this.info.setLoadingInfo("Brand manager updated successfully","success"),this.info.activity(`Updated Brand Manager for brand: ${o}`,0)},error:a=>{this.openSnackBar(a.message,"Okay"),this.info.setLoadingInfo(a.message,"warning")}})}changeName(e,o){const s=e.target.value,a=o;this.info.setLoadingInfo("Changing name...","info"),this.api.POST(`types/update/${a}`,{name:s}).subscribe({next:r=>{console.log(r),this.openSnackBar("Brand name changes to "+s,"Okay"),this.info.setLoadingInfo(`Brand name changes to ${s}`,"info")},error:r=>{this.openSnackBar(r.message,"Okay"),this.info.setLoadingInfo("Failed to update brand name","warning")}})}getRoles(){this.info.setLoadingInfo("Please wait...","info"),this.api.GET("roles").subscribe({next:e=>{this.roles=e,this.info.setLoadingInfo("","info")},error:e=>{this.info.setLoadingInfo("Failed to get roles for logged in user","danger")}})}getManager(e){const o=this.roles.find(s=>s.brand_id==e);return o?this.users.find(a=>a.id==o.user_id)?.name:""}countBrandProducts(e){this.info.setLoadingInfo("counting products for each brand","info"),this.productsList=this.productService.getProducts();const o=this.productsList.filter(s=>s.brand_type_id==e);return this.info.setLoadingInfo("Products loaded for all brands","info"),o.length}selectBrand(e){this.router.navigate(["/brand",e.toLowerCase()])}editSingleBrand(e,o){this.currentBrand=o,this.currentId=e,this.singleBrand=!this.singleBrand}setFocusType(e){this.focusType=e.target.value}onChange(e){this.files=e.target.files;for(let o=0;o<this.files.length;o++)this.files[o].size>9e6&&this.messages.push("\u{1f6ab} "+this.files[o].name+" is too large!")}uploadDocument(e,o){if(this.loading=!this.loading,this.files.length>0)for(let s=0;s<this.files.length;s++)this.api.upload("upload-document",{file:this.files[s],name:this.files[s].name,product_id:this.currentId,product_sku:"",type_id:e,type:o,permissions:"",expiry_date:""}).subscribe(a=>{if("object"==typeof a&&(this.loading=!1),a.type===x.dt.UploadProgress)this.uploadProgress=Math.round(100*a.loaded/a.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(a instanceof x.Zn){const r=this.files[s].name+" ploaded the file successfully.";this.info.activity(`${this.files[s].name} uploaded`,this.currentId),this.messages.push(r)}this.documents()},a=>{this.info.errorHandler(a),this.uploadProgress=0,this.messages.push(this.files[s].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}documents(){this.api.GET(`product-document-files/${this.currentId}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(L.s),t.Y36(F.ux),t.Y36(P.F0),t.Y36(R.C),t.Y36(I.Kd),t.Y36(J.r),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands"]],viewQuery:function(e,o){if(1&e&&(t.Gf(C.NW,5),t.Gf(w.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first)}},decls:3,vars:1,consts:[[1,"loadingInfo"],["mat-raised-button","","class","brand-btn",3,"click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"brand-btn",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"span",0)(1,"hr"),t.YNc(2,X,2,1,"button",1)),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.brandsList))},dependencies:[y.sg,ct.lW],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.brand-btn[_ngcontent-%COMP%]{background-color:#f8f8ff;color:#000;margin:9px}"]}),n})();var T=b(4006),E=b(9549),gt=b(7392),St=b(4850),Q=b(4144),V=b(3848),G=b(4385),q=b(3238),K=b(3546),$=b(782);let z=(()=>{class n{transform(e,o){let s=[];for(let a=0;a<e.length;a++)e[a].parent==o&&s.push(e[a]);return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"parent",type:n,pure:!0}),n})();function ot(n,i){1&n&&t._uU(0," Manage Categories ")}function it(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(6);return t.KtG(r.selectCategory(a.id))}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," ")}}function Wt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(5);return t.KtG(r.selectCategory(a.id))}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"ul"),t.YNc(6,it,5,1,"li",8),t.ALo(7,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(5);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function ve(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(4);return t.KtG(r.selectCategory(a.id))}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"ul"),t.YNc(6,Wt,8,5,"li",8),t.ALo(7,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Jn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.selectCategory(a.id))}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"ul"),t.YNc(6,ve,8,5,"li",8),t.ALo(7,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function $i(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectCategory(a.id))}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"ul"),t.YNc(6,Jn,8,5,"li",8),t.ALo(7,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Qn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.selectCategory(a.id))}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"ul"),t.YNc(6,$i,8,5,"li",8),t.ALo(7,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function si(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35)(2,"mat-form-field",36)(3,"mat-label"),t._uU(4,"Attribute Name"),t.qZA(),t._UZ(5,"input",37),t.qZA(),t.TgZ(6,"button",38),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.removeNewAttribute(a))}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA()()(),t.BQk()}if(2&n){const e=i.index;t.xp6(1),t.Q6J("formGroupName",e)}}function Fe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"mat-card",5)(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"div",19)(6,"form",26),t.ynx(7,28),t.YNc(8,si,9,1,"ng-container",8),t.BQk(),t.TgZ(9,"button",33),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.addNewAttribute())}),t.TgZ(10,"mat-icon"),t._uU(11,"add_circle_outline"),t.qZA(),t._uU(12," Add Field "),t.qZA(),t.TgZ(13,"button",34),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.updateAttributes("update"))}),t._uU(14,"Save Attributes"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij("",e.selectedCatName," Attributes"),t.xp6(3),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls)}}function Vi(n,i){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function ai(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"add_circle_outline"),t.qZA(),t._uU(2," New Category "))}function Gn(n,i){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function ri(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.newCategoryName," Attributes")}}function ji(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," attribute")}}function Yt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," Attributes")}}function Jt(n,i){if(1&n&&(t.TgZ(0,"div",35)(1,"mat-grid-list",41)(2,"mat-grid-tile")(3,"mat-form-field",12)(4,"mat-label"),t._uU(5,"Attribute Name"),t.qZA(),t._UZ(6,"input",37),t.qZA()(),t._UZ(7,"mat-grid-tile"),t.qZA()()),2&n){const e=t.oxw().index;t.Q6J("formGroupName",e)}}function ue(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.YNc(2,Jt,8,1,"div",40),t.BQk()),2&n){const e=i.index,o=t.oxw();t.xp6(1),t.hij(" ",o.hasValue()," "),t.xp6(1),t.Q6J("ngIf",e>=o.tempLength)}}function ci(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",42),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.updateAttributes("new"))}),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.disableSaveAttrBtn),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}let nc=(()=>{class n{constructor(e,o,s,a,r,c){this.navbar=e,this.api=o,this.formBuilder=s,this._snackBar=a,this.info=r,this.products=c,this.newCategoryId=0,this.newCategoryName="",this.categoriesList=[],this.attributesFields=[],this.selectedCatName="",this.selectedCatId=0,this.selectedCatParentId="",this.selectedCatParentName="",this.currentStep=1,this.disableSaveCatBtn=!1,this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.saveCatBtnText="Save Category",this.saveAttrBtnText="Save Attributes",this.goToCategoriesBtn=!1,this.hasParent=!1,this.roles=[],this.permission=!1,this.tempLength=0}ngOnInit(){this.info.auth(),this.attrCount=0,this.navbar.show(),this.getAllCategories(),this.selectCategory(205),this.permission=this.info.role(60),this.addCategory=this.formBuilder.group({name:["",T.kI.required],parent:[""]}),this.updateCategory=this.formBuilder.group({name:[""],parent:[""]}),this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}getAllCategories(){this.categoriesList=this.products.getCategories()}addNewCategory(){this.addCategory.valid?(this.disableSaveCatBtn=!0,this.saveCatBtnText="Saving...",this.api.POST("categories",this.addCategory.value).subscribe({next:e=>{console.log(e.id),this.newCategoryId=e.id,this.newCategoryName=e.name,this.disableAddAttrBtn=!1,this.disableSaveAttrBtn=!1,this.info.activity(`Added a new category: ${e.name}`,0),this.saveCatBtnText="Category Saved",this.getAllCategories(),this.openSnackBar(e.name+" Added","Okay")},error:e=>{console.log("AddNewCategory Error: "+e.message),this.openSnackBar("Failed to save category. Please try again or contact Administrator.","Okay"),this.disableSaveCatBtn=!1,this.saveCatBtnText="Failed. Try again"}})):console.log("Form input invalid.")}get attributes(){return this.categoryForm.get("attributes")}addNewAttribute(){const e=this.formBuilder.group({attrName:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}updateAttributes(e){if(this.attributes.valid){this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.goToCategoriesBtn=!0,this.saveAttrBtnText="Saving...";let o=[];for(let a=0;a<this.categoryForm.value.attributes.length;a++)o.push(this.categoryForm.value.attributes[a].attrName);let s="new"==e?this.newCategoryId:this.selectedCatId;this.api.POST(`categories/update/${s}`,o).subscribe({next:a=>{this.saveAttrBtnText="Attributes Saved",this.openSnackBar(this.attrCount+" attribute(s) added","Okay"),this.info.activity(`Updated attributes for category: ${s}`,0),this.getAllCategories()},error:a=>{this.openSnackBar(a.message,"Okay")}})}else this.openSnackBar("Please enter value","Okay")}updateParent(){console.log("updating: "+this.selectedCatId),this.api.POST(`categories/update-parent/${this.selectedCatId}`,this.updateCategory.value).subscribe({next:e=>{console.log(e),this.getAllCategories()},error:e=>{this.openSnackBar(e.message,"Okay")}})}selectCategory(e){this.clearSelectedCat(),console.log(e);try{let o=this.categoriesList.find(a=>a.id===e),s=o?.attributes;s=JSON.parse(s),this.attributesFields=s,console.log("Fields: ",this.attributesFields),this.selectedCatId=o?.id,this.selectedCatName=o?.name,this.selectedCatParentId=o?.parent,this.getParent(parseInt(this.selectedCatParentId));for(let a=0;a<this.attributesFields.length;a++){const r=this.formBuilder.group({attrName:[this.attributesFields[a]]});this.attributes.push(r)}}catch(o){console.log(o)}}getParent(e){if(e>0){let o=this.categoriesList.find(s=>s.id===e);this.selectedCatParentName=o?.name,this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,T.kI.required],parent:[{value:this.selectedCatParentName,disabled:!1}]})}else this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,T.kI.required],parent:[{value:"",disabled:!1}]})}openSnackBar(e,o){this._snackBar.open(e,o)}clearSelectedCat(){this.getAllCategories(),this.selectedCatId=0,this.selectedCatName="",this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}selectParentCategory(e){this.hasParent=!0}refresh(){location.reload()}hasValue(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(L.s),t.Y36(T.QS),t.Y36(F.ux),t.Y36(R.C),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-categories"]],decls:81,vars:22,consts:[["routerLink","../../"],["dynamicHeight","",3,"selectedTabChange"],["mat-tab-label",""],[1,"row"],[1,"col-md-4"],[2,"margin-top","1rem","margin-bottom","9rem"],[2,"margin-top","2rem","font-size","small"],[1,"catList"],[4,"ngFor","ngForOf"],["class","col-md-4 show",4,"ngIf"],[1,"col-md-4","show",3,"hidden"],[2,"margin-top","2rem",3,"formGroup"],["appearance","outline",2,"width","100%"],["name","name","matInput","","formControlName","name","placeholder","Edit Category Name",1,"capitalize"],["name","categories","formControlName","parent",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"click"],[3,"disabled"],[1,"col-md-5"],[2,"margin-top","2rem"],[3,"formGroup","ngSubmit"],["cols","3","rowHeight","80px"],["name","category_name","matInput","","formControlName","name","placeholder","Enter Category Name","required","",1,"capitalize"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"disabled"],[1,"col-md-7"],[4,"ngIf"],[3,"formGroup"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem","margin-bottom","1rem",3,"disabled","click"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","primary",2,"margin-left","1rem",3,"hidden","click"],[3,"click"],[1,"edit"],[1,"col-md-4","show"],["mat-raised-button","","type","button","color","basic",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[3,"formGroupName"],["appearance","outline"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","E.g. colour","required","",1,"capitalize"],["mat-mini-fab","","type","button","color","warn",2,"margin-left","1rem",3,"click"],[3,"value"],[3,"formGroupName",4,"ngIf"],["cols","2","rowHeight","80px"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"p")(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Categories\n"),t.qZA(),t.TgZ(4,"mat-card")(5,"mat-tab-group",1),t.NdJ("selectedTabChange",function(){return o.clearSelectedCat()}),t.TgZ(6,"mat-tab"),t.YNc(7,ot,1,0,"ng-template",2),t.TgZ(8,"div",3)(9,"div",4)(10,"mat-card",5)(11,"h2"),t._uU(12,"Categories"),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"div",6)(15,"ul",7),t.YNc(16,Qn,8,5,"li",8),t.ALo(17,"parent"),t.qZA()()()(),t.YNc(18,Fe,15,3,"div",9),t.TgZ(19,"div",10)(20,"mat-card",5)(21,"h2"),t._uU(22),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"form",11)(25,"mat-form-field",12)(26,"mat-label"),t._uU(27,"Category Name"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field",12)(30,"mat-label"),t._uU(31,"Parent Category"),t.qZA(),t.TgZ(32,"mat-select",14),t.NdJ("selectionChange",function(a){return o.selectParentCategory(a)}),t.YNc(33,Vi,2,2,"mat-option",15),t.qZA()(),t.TgZ(34,"button",16),t.NdJ("click",function(){return o.updateParent()}),t._uU(35,"Save Details"),t.qZA()()()()()(),t.TgZ(36,"mat-tab",17),t.YNc(37,ai,3,0,"ng-template",2),t.TgZ(38,"div",3)(39,"div",18)(40,"mat-card",5)(41,"h2"),t._uU(42,"New Category"),t.qZA(),t._UZ(43,"mat-divider"),t.TgZ(44,"div",19)(45,"form",20),t.NdJ("ngSubmit",function(){return o.addNewCategory()}),t.TgZ(46,"mat-grid-list",21)(47,"mat-grid-tile")(48,"mat-form-field",12)(49,"mat-label"),t._uU(50,"Category Name"),t.qZA(),t._UZ(51,"input",22),t.qZA()(),t.TgZ(52,"mat-grid-tile")(53,"mat-form-field",12)(54,"mat-label"),t._uU(55,"Parent Category"),t.qZA(),t.TgZ(56,"mat-select",14),t.NdJ("selectionChange",function(a){return o.selectParentCategory(a)}),t.YNc(57,Gn,2,2,"mat-option",15),t.qZA()()(),t.TgZ(58,"mat-grid-tile")(59,"button",23),t._uU(60),t.qZA()()()()()()(),t.TgZ(61,"div",24)(62,"mat-card",5)(63,"h2"),t.YNc(64,ri,2,1,"span",25),t.YNc(65,ji,2,1,"span",25),t.YNc(66,Yt,2,1,"span",25),t.qZA(),t._UZ(67,"mat-divider"),t.TgZ(68,"div",19)(69,"form",26)(70,"button",27),t.NdJ("click",function(){return o.addNewAttribute()}),t.TgZ(71,"mat-icon"),t._uU(72,"add_circle_outline"),t.qZA(),t._uU(73," Add Attribute "),t.qZA(),t.ynx(74,28),t.YNc(75,ue,3,2,"ng-container",8),t.BQk(),t.YNc(76,ci,3,2,"div",25),t._UZ(77,"br")(78,"br"),t.TgZ(79,"button",29),t.NdJ("click",function(){return o.refresh()}),t._uU(80,"Go To Categories"),t.qZA()()()()()()()()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",t.xi3(17,19,o.categoriesList,"0")),t.xp6(2),t.Q6J("ngIf",""!==o.selectedCatName),t.xp6(1),t.Q6J("hidden",""==o.selectedCatName),t.xp6(3),t.hij("",o.selectedCatName," Details"),t.xp6(2),t.Q6J("formGroup",o.updateCategory),t.xp6(9),t.Q6J("ngForOf",o.categoriesList),t.xp6(3),t.Q6J("disabled",!o.permission),t.xp6(9),t.Q6J("formGroup",o.addCategory),t.xp6(12),t.Q6J("ngForOf",o.categoriesList),t.xp6(2),t.Q6J("disabled",o.disableSaveCatBtn),t.xp6(1),t.Oqu(o.saveCatBtnText),t.xp6(4),t.Q6J("ngIf",o.attrCount<1),t.xp6(1),t.Q6J("ngIf",1==o.attrCount),t.xp6(1),t.Q6J("ngIf",o.attrCount>1),t.xp6(3),t.Q6J("formGroup",o.categoryForm),t.xp6(1),t.Q6J("disabled",o.disableAddAttrBtn),t.xp6(5),t.Q6J("ngForOf",o.attributes.controls),t.xp6(1),t.Q6J("ngIf",o.attrCount>0),t.xp6(3),t.Q6J("hidden",!o.goToCategoriesBtn))},dependencies:[y.sg,y.O5,P.yS,E.KE,E.hX,gt.Hw,St.d,Q.Nt,T._Y,T.Fj,T.JJ,T.JL,T.Q7,T.sg,T.u,T.x0,T.CE,ct.lW,V.SP,V.uD,V.uX,G.gD,q.ey,K.a8,$.Il,$.DX,z],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.catList[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:larger;text-transform:uppercase}.step-active[_ngcontent-%COMP%]{background-color:#28e3fc;border-radius:50%;padding:4px 10px}.step-inactive[_ngcontent-%COMP%]{background-color:#d4ddd8;color:#8d8d8d;border-radius:50%;padding:4px 10px}.step-done[_ngcontent-%COMP%]{background-color:#2dc954;color:#fff;border-radius:50%;padding:4px 10px}ul[_ngcontent-%COMP%]{line-height:2rem;list-style-type:square}li[_ngcontent-%COMP%]:hover{color:#d3526a}.edit[_ngcontent-%COMP%]{font-size:medium;cursor:pointer}.show[_ngcontent-%COMP%]{transition-timing-function:ease-in}"]}),n})();var li=b(655),di=b(659),Xt=b(9419),te=b(3162),ye=b(7877);function oc(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Please wait..."),t.qZA())}function sc(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Search"),t.qZA())}function ac(n,i){1&n&&t._UZ(0,"mat-progress-bar",43)}function rc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1,"verified"),t.qZA())}function cc(n,i){1&n&&(t.TgZ(0,"span")(1,"mat-icon",46),t._uU(2,"check_circle"),t.qZA()())}function lc(n,i){1&n&&(t.TgZ(0,"span")(1,"mat-icon",47),t._uU(2,"remove_circle_outline"),t.qZA()())}function dc(n,i){if(1&n&&(t.TgZ(0,"td",45),t.YNc(1,cc,3,0,"span",17),t.YNc(2,lc,3,0,"span",17),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.verified),t.xp6(1),t.Q6J("ngIf",1!=e.verified)}}function hc(n,i){1&n&&t._UZ(0,"th",44)}function uc(n,i){if(1&n&&(t.TgZ(0,"td",48),t._UZ(1,"img",49),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function pc(n,i){1&n&&(t.TgZ(0,"th",44)(1,"span",50),t._uU(2,"SKU"),t.qZA()())}function gc(n,i){if(1&n&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function _c(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Name "),t.qZA())}function fc(n,i){if(1&n&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function mc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Brand "),t.qZA())}function bc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function xc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Description "),t.qZA())}function Cc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function vc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Categories "),t.qZA())}function yc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.displayProductCategories(e.id)," ")}}function Pc(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Updated "),t.qZA())}function wc(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Tc(n,i){1&n&&t._UZ(0,"th",44)}function kc(n,i){if(1&n&&(t.TgZ(0,"td",45)(1,"button",51),t._uU(2," View Details "),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function Ac(n,i){1&n&&t._UZ(0,"tr",52)}function Mc(n,i){1&n&&t._UZ(0,"tr",53)}function Sc(n,i){if(1&n&&(t.TgZ(0,"tr",54)(1,"td",55),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(56);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Zc=function(){return[10,25,50,100]};class Ue{constructor(i,e,o,s,a,r,c,l,d,h,u){this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=a,this._snackBar=r,this.info=c,this.router=l,this.lookup=d,this.products=h,this._liveAnnouncer=u,this.productsList=[],this.typesList=[],this.categoriesList=[],this.productsLoader=!1,this.loggedIn=!1,this.activeProducts=0,this.eolProducts=0,this.developmentProducts=0,this.allProducts=0,this.regionsCount=0,this.progressMode="determinate",this.brands=[],this.productsByBrand=[],this.uknownBrandProducts=0,this.displayedColumns=["verified","thumbnail","sku","name","brand","description","categories","updated","view"],this.verifiedProducts=[],this.owners=[],this.productCategories=[],this.productCategoryTree=[]}ngOnInit(){this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllProducts()}getAllProducts(){this.productsLoader=!0,this.loaderInfo="Loading products...",this.api.GET("products").subscribe({next:i=>{this.productsList=i,this.verifiedProducts=this.productsList.filter(e=>1==e.verified),this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.loaderInfo="Loading products complete...",this.blockUI.stop(),this.veriftStats(this.productsList)},error:i=>{this.openSnackBar("Failed to connect to the server: "+i.message,"Okay")}})}getAllCategories(){this.productsLoader=!0,this.loaderInfo="Loading categories",this.api.GET("categories").subscribe({next:i=>{this.categoriesList=i,this.productsLoader=!1,this.loaderInfo="Loading categories complete..."},error:i=>{this.productsLoader=!1,this.loaderInfo="Failed to load categories"}})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getAllTypes(){this.typesList=this.lookup.getTypes()}productsBybrand(){this.api.GET("dashboard").subscribe({next:i=>{console.log("by brands ",i),this.productsByBrand=i},error:i=>{console.log(i)}})}getBrandName(i){try{let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}catch(e){return this.info.errorHandler(e),""}}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}veriftStats(i){}productsToDisplay(i){let e=[];"active"==i&&(e=this.productsList.filter(o=>1==o.is_active),this.productsViewInfo="Showing: Active Products..."),"verified"==i&&(e=this.productsList.filter(o=>1==o.verified),this.productsViewInfo="Showing: Verified Products..."),"unverified"==i&&(e=this.productsList.filter(o=>0==o.verified),this.productsViewInfo="Showing: Unverified Products..."),this.dataSource=new f.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}displayProductCategories(i){this.productsLoader=!0,this.loaderInfo="Loading product categories...",this.api.GET(`product-categories/search/${i}`).subscribe({next:e=>{this.productCategories=e,console.log(e),this.productsLoader=!1,this.loaderInfo="Loading complete"},error:e=>{this.productsLoader=!1,this.loaderInfo="Something went wrong when trying to load some product categories."}})}}Ue.\u0275fac=function(i){return new(i||Ue)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(R.C),t.Y36(P.F0),t.Y36(Xt.W),t.Y36(W),t.Y36(I.Kd))},Ue.\u0275cmp=t.Xpm({type:Ue,selectors:[["app-dashboard"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(w.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},decls:97,vars:17,consts:[["routerLink","/"],[1,"row"],[1,"col-12","col-sm-6","col-md-3"],[2,"background-color","rgb(26, 26, 26)","color","white","margin-bottom","1rem",3,"click"],[1,"col-md-8"],[1,"col-md-4"],[2,"color","cornflowerblue","float","right"],["mode","determinate","value","100"],[2,"color","rgb(100, 237, 157)","float","right"],["color","primary","mode","determinate",3,"value"],[2,"background-color","rgb(26, 26, 26)","color","white","margin-bottom","1rem"],[2,"color","rgb(237, 223, 100)","float","right"],["color","accent","mode","determinate",3,"value"],[2,"color","rgb(237, 100, 100)","float","right"],["color","warn","mode","determinate",3,"value"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],[4,"ngIf"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"disabled","keyup"],["input",""],["matSuffix",""],[2,"float","right","color","grey"],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","verified"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","categories"],["matColumnDef","updated"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary"],[2,"color","lightgray"],["mat-cell","",3,"routerLink"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t.TgZ(0,"p")(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Dashboard\n"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",1)(6,"div",2)(7,"mat-card",3),t.NdJ("click",function(){return e.productsToDisplay("active")}),t.TgZ(8,"div",1)(9,"div",4)(10,"h2"),t._uU(11),t.qZA()(),t.TgZ(12,"div",5)(13,"mat-icon",6),t._uU(14,"check_circle"),t.qZA()()(),t._uU(15," Active Products "),t._UZ(16,"mat-progress-bar",7),t.qZA()(),t.TgZ(17,"div",2)(18,"mat-card",3),t.NdJ("click",function(){return e.productsToDisplay("verified")}),t.TgZ(19,"div",1)(20,"div",4)(21,"h2"),t._uU(22),t.qZA()(),t.TgZ(23,"div",5)(24,"mat-icon",8),t._uU(25,"check_circle_outline"),t.qZA()()(),t._uU(26," Verified "),t._UZ(27,"mat-progress-bar",9),t.qZA()(),t.TgZ(28,"div",2)(29,"mat-card",10)(30,"div",1)(31,"div",4)(32,"h2"),t._uU(33),t.qZA()(),t.TgZ(34,"div",5)(35,"mat-icon",11),t._uU(36,"design_services"),t.qZA()()(),t._uU(37," In Development "),t._UZ(38,"mat-progress-bar",12),t.qZA()(),t.TgZ(39,"div",2)(40,"mat-card",10)(41,"div",1)(42,"div",4)(43,"h2"),t._uU(44),t.qZA()(),t.TgZ(45,"div",5)(46,"mat-icon",13),t._uU(47,"heart_broken"),t.qZA()()(),t._uU(48," EoL "),t._UZ(49,"mat-progress-bar",14),t.qZA()()(),t.TgZ(50,"div",1)(51,"div",15)(52,"mat-form-field",16),t.YNc(53,oc,2,0,"mat-label",17),t.YNc(54,sc,2,0,"mat-label",17),t.TgZ(55,"input",18,19),t.NdJ("keyup",function(s){return e.applyFilter(s)}),t.qZA(),t.TgZ(57,"mat-icon",20),t._uU(58,"search"),t.qZA()(),t.TgZ(59,"span",21),t._uU(60),t.qZA(),t.TgZ(61,"div",22),t.YNc(62,ac,1,0,"mat-progress-bar",23),t.TgZ(63,"table",24,25),t.NdJ("matSortChange",function(s){return e.announceSortChange(s)}),t.ynx(65,26),t.YNc(66,rc,2,0,"th",27),t.YNc(67,dc,3,2,"td",28),t.BQk(),t.ynx(68,29),t.YNc(69,hc,1,0,"th",27),t.YNc(70,uc,2,2,"td",30),t.BQk(),t.ynx(71,31),t.YNc(72,pc,3,0,"th",27),t.YNc(73,gc,2,2,"td",30),t.BQk(),t.ynx(74,32),t.YNc(75,_c,2,0,"th",27),t.YNc(76,fc,2,2,"td",30),t.BQk(),t.ynx(77,33),t.YNc(78,mc,2,0,"th",27),t.YNc(79,bc,2,1,"td",28),t.BQk(),t.ynx(80,34),t.YNc(81,xc,2,0,"th",27),t.YNc(82,Cc,2,1,"td",28),t.BQk(),t.ynx(83,35),t.YNc(84,vc,2,0,"th",27),t.YNc(85,yc,2,1,"td",28),t.BQk(),t.ynx(86,36),t.YNc(87,Pc,2,0,"th",27),t.YNc(88,wc,3,3,"td",28),t.BQk(),t.ynx(89,37),t.YNc(90,Tc,1,0,"th",27),t.YNc(91,kc,3,1,"td",28),t.BQk(),t.YNc(92,Ac,1,0,"tr",38),t.YNc(93,Mc,1,0,"tr",39),t.YNc(94,Sc,3,1,"tr",40),t.qZA(),t._UZ(95,"mat-paginator",41),t.qZA()(),t._UZ(96,"div",42),t.qZA()),2&i&&(t.xp6(11),t.Oqu(e.productsList.length),t.xp6(11),t.Oqu(e.verifiedProducts.length),t.xp6(5),t.s9C("value",e.verifiedProducts.length/e.productsList.length*100),t.xp6(6),t.Oqu(e.developmentProducts),t.xp6(5),t.s9C("value",e.developmentProducts/e.allProducts*100),t.xp6(6),t.Oqu(e.eolProducts),t.xp6(5),t.s9C("value",e.eolProducts/e.allProducts*100),t.xp6(4),t.Q6J("ngIf",e.productsLoader),t.xp6(1),t.Q6J("ngIf",!e.productsLoader),t.xp6(1),t.Q6J("disabled",e.productsLoader),t.xp6(5),t.Oqu(e.loaderInfo),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(29),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(16,Zc)))},dependencies:[y.O5,P.rH,P.yS,E.KE,E.hX,E.R9,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,f.Ee,C.NW,gt.Hw,Q.Nt,ct.lW,K.a8,te.pW,w.YE,w.nU,ye.jt,y.uU],styles:['.mat-progress-bar[_ngcontent-%COMP%]{height:7px;border-radius:3px}.mat-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{height:7px;border-radius:3px}.brands[_ngcontent-%COMP%]{overflow-y:auto;height:30rem;padding:1rem}table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}dl[_ngcontent-%COMP%]{display:flex;background-color:#fff;flex-direction:column;width:100%;max-width:700px;position:relative;padding:20px}dt[_ngcontent-%COMP%]{align-self:flex-start;width:100%;display:block;text-align:center;font-size:1.2em;font-weight:700;margin-bottom:20px;margin-left:130px}.text[_ngcontent-%COMP%]{font-weight:600;display:flex;align-items:center;height:40px;width:130px;background-color:#fff;position:absolute;left:0;justify-content:flex-end}.percentage[_ngcontent-%COMP%]{font-size:.8em;line-height:1;text-transform:uppercase;width:100%;height:40px;margin-left:130px;background:repeating-linear-gradient(to right,#ddd,#ddd 1px,#fff 1px,#fff 5%)}.percentage[_ngcontent-%COMP%]:after{content:"";display:block;background-color:#3d9970;width:50px;margin-bottom:10px;height:90%;position:relative;top:50%;transform:translateY(-50%);transition:background-color .3s ease;cursor:pointer}.percentage[_ngcontent-%COMP%]:hover:after, .percentage[_ngcontent-%COMP%]:focus:after{background-color:#aaa}.percentage-1[_ngcontent-%COMP%]:after{width:1%}.percentage-2[_ngcontent-%COMP%]:after{width:2%}.percentage-3[_ngcontent-%COMP%]:after{width:3%}.percentage-4[_ngcontent-%COMP%]:after{width:4%}.percentage-5[_ngcontent-%COMP%]:after{width:5%}.percentage-6[_ngcontent-%COMP%]:after{width:6%}.percentage-7[_ngcontent-%COMP%]:after{width:7%}.percentage-8[_ngcontent-%COMP%]:after{width:8%}.percentage-9[_ngcontent-%COMP%]:after{width:9%}.percentage-10[_ngcontent-%COMP%]:after{width:10%}.percentage-11[_ngcontent-%COMP%]:after{width:11%}.percentage-12[_ngcontent-%COMP%]:after{width:12%}.percentage-13[_ngcontent-%COMP%]:after{width:13%}.percentage-14[_ngcontent-%COMP%]:after{width:14%}.percentage-15[_ngcontent-%COMP%]:after{width:15%}.percentage-16[_ngcontent-%COMP%]:after{width:16%}.percentage-17[_ngcontent-%COMP%]:after{width:17%}.percentage-18[_ngcontent-%COMP%]:after{width:18%}.percentage-19[_ngcontent-%COMP%]:after{width:19%}.percentage-20[_ngcontent-%COMP%]:after{width:20%}.percentage-21[_ngcontent-%COMP%]:after{width:21%}.percentage-22[_ngcontent-%COMP%]:after{width:22%}.percentage-23[_ngcontent-%COMP%]:after{width:23%}.percentage-24[_ngcontent-%COMP%]:after{width:24%}.percentage-25[_ngcontent-%COMP%]:after{width:25%}.percentage-26[_ngcontent-%COMP%]:after{width:26%}.percentage-27[_ngcontent-%COMP%]:after{width:27%}.percentage-28[_ngcontent-%COMP%]:after{width:28%}.percentage-29[_ngcontent-%COMP%]:after{width:29%}.percentage-30[_ngcontent-%COMP%]:after{width:30%}.percentage-31[_ngcontent-%COMP%]:after{width:31%}.percentage-32[_ngcontent-%COMP%]:after{width:32%}.percentage-33[_ngcontent-%COMP%]:after{width:33%}.percentage-34[_ngcontent-%COMP%]:after{width:34%}.percentage-35[_ngcontent-%COMP%]:after{width:35%}.percentage-36[_ngcontent-%COMP%]:after{width:36%}.percentage-37[_ngcontent-%COMP%]:after{width:37%}.percentage-38[_ngcontent-%COMP%]:after{width:38%}.percentage-39[_ngcontent-%COMP%]:after{width:39%}.percentage-40[_ngcontent-%COMP%]:after{width:40%}.percentage-41[_ngcontent-%COMP%]:after{width:41%}.percentage-42[_ngcontent-%COMP%]:after{width:42%}.percentage-43[_ngcontent-%COMP%]:after{width:43%}.percentage-44[_ngcontent-%COMP%]:after{width:44%}.percentage-45[_ngcontent-%COMP%]:after{width:45%}.percentage-46[_ngcontent-%COMP%]:after{width:46%}.percentage-47[_ngcontent-%COMP%]:after{width:47%}.percentage-48[_ngcontent-%COMP%]:after{width:48%}.percentage-49[_ngcontent-%COMP%]:after{width:49%}.percentage-50[_ngcontent-%COMP%]:after{width:50%}.percentage-51[_ngcontent-%COMP%]:after{width:51%}.percentage-52[_ngcontent-%COMP%]:after{width:52%}.percentage-53[_ngcontent-%COMP%]:after{width:53%}.percentage-54[_ngcontent-%COMP%]:after{width:54%}.percentage-55[_ngcontent-%COMP%]:after{width:55%}.percentage-56[_ngcontent-%COMP%]:after{width:56%}.percentage-57[_ngcontent-%COMP%]:after{width:57%}.percentage-58[_ngcontent-%COMP%]:after{width:58%}.percentage-59[_ngcontent-%COMP%]:after{width:59%}.percentage-60[_ngcontent-%COMP%]:after{width:60%}.percentage-61[_ngcontent-%COMP%]:after{width:61%}.percentage-62[_ngcontent-%COMP%]:after{width:62%}.percentage-63[_ngcontent-%COMP%]:after{width:63%}.percentage-64[_ngcontent-%COMP%]:after{width:64%}.percentage-65[_ngcontent-%COMP%]:after{width:65%}.percentage-66[_ngcontent-%COMP%]:after{width:66%}.percentage-67[_ngcontent-%COMP%]:after{width:67%}.percentage-68[_ngcontent-%COMP%]:after{width:68%}.percentage-69[_ngcontent-%COMP%]:after{width:69%}.percentage-70[_ngcontent-%COMP%]:after{width:70%}.percentage-71[_ngcontent-%COMP%]:after{width:71%}.percentage-72[_ngcontent-%COMP%]:after{width:72%}.percentage-73[_ngcontent-%COMP%]:after{width:73%}.percentage-74[_ngcontent-%COMP%]:after{width:74%}.percentage-75[_ngcontent-%COMP%]:after{width:75%}.percentage-76[_ngcontent-%COMP%]:after{width:76%}.percentage-77[_ngcontent-%COMP%]:after{width:77%}.percentage-78[_ngcontent-%COMP%]:after{width:78%}.percentage-79[_ngcontent-%COMP%]:after{width:79%}.percentage-80[_ngcontent-%COMP%]:after{width:80%}.percentage-81[_ngcontent-%COMP%]:after{width:81%}.percentage-82[_ngcontent-%COMP%]:after{width:82%}.percentage-83[_ngcontent-%COMP%]:after{width:83%}.percentage-84[_ngcontent-%COMP%]:after{width:84%}.percentage-85[_ngcontent-%COMP%]:after{width:85%}.percentage-86[_ngcontent-%COMP%]:after{width:86%}.percentage-87[_ngcontent-%COMP%]:after{width:87%}.percentage-88[_ngcontent-%COMP%]:after{width:88%}.percentage-89[_ngcontent-%COMP%]:after{width:89%}.percentage-90[_ngcontent-%COMP%]:after{width:90%}.percentage-91[_ngcontent-%COMP%]:after{width:91%}.percentage-92[_ngcontent-%COMP%]:after{width:92%}.percentage-93[_ngcontent-%COMP%]:after{width:93%}.percentage-94[_ngcontent-%COMP%]:after{width:94%}.percentage-95[_ngcontent-%COMP%]:after{width:95%}.percentage-96[_ngcontent-%COMP%]:after{width:96%}.percentage-97[_ngcontent-%COMP%]:after{width:97%}.percentage-98[_ngcontent-%COMP%]:after{width:98%}.percentage-99[_ngcontent-%COMP%]:after{width:99%}.percentage-100[_ngcontent-%COMP%]:after{width:100%}#q-graph[_ngcontent-%COMP%]{display:block;position:relative;width:100%;height:300px;margin:1.1em 0 0;padding:0;background:transparent;font-size:11px}#q-graph[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{caption-side:top;width:600px;text-transform:uppercase;letter-spacing:.5px;top:-40px;position:relative;z-index:10;font-weight:700}#q-graph[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #q-graph[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:absolute;bottom:0;width:150px;z-index:2;margin:0;padding:0;text-align:center}#q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{transition:all .3s ease}#q-graph[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:#4d4d4d;opacity:.9;color:#fff}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{left:100%;top:50%;bottom:auto;margin:-2.5em 0 0 5em}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:7.5em;height:auto;padding:.5em 1em}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sent[_ngcontent-%COMP%]{top:0;left:0;line-height:2}#q-graph[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.paid[_ngcontent-%COMP%]{top:2.75em;line-height:2;left:0}#q-graph[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:296px;padding-top:2px;border-right:1px dotted #C4C4C4;color:#aaa}#q-graph[_ngcontent-%COMP%]   #q1[_ngcontent-%COMP%]{left:0}#q-graph[_ngcontent-%COMP%]   #q2[_ngcontent-%COMP%]{left:150px}#q-graph[_ngcontent-%COMP%]   #q3[_ngcontent-%COMP%]{left:300px}#q-graph[_ngcontent-%COMP%]   #q4[_ngcontent-%COMP%]{left:450px;border-right:none}#q-graph[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{bottom:-1.75em;vertical-align:top;font-weight:400;color:#333}#q-graph[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:60px;border:1px solid;border-bottom:none;color:#000}#q-graph[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;padding:0;opacity:.4}#q-graph[_ngcontent-%COMP%]   .sent[_ngcontent-%COMP%]{left:13px;background-color:#39cccc;border-color:transparent}#q-graph[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{left:77px;background-color:#7fdbff;border-color:transparent}#ticks[_ngcontent-%COMP%]{position:relative;top:-300px;left:2px;width:596px;height:300px;z-index:1;margin-bottom:-300px;font-size:10px;font-family:fira-sans-2,Verdana,sans-serif}#ticks[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{position:relative;border-bottom:1px dotted #C4C4C4;width:600px}#ticks[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:-5em;top:-.8em;margin:0 0 0 .5em}']}),(0,li.gn)([(0,di.bH)()],Ue.prototype,"blockUI",void 0);var Ki=b(631);function Ic(n,i){1&n&&t._UZ(0,"mat-progress-bar",37)}function Dc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Type "),t.qZA())}function Oc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.type," ")}}function Lc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," SKU "),t.qZA())}function Nc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function Ec(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Name "),t.qZA())}function Fc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Uc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Published"),t.qZA())}function Rc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 1 "),t.qZA())}function qc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Is featured?"),t.qZA())}function Bc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function Hc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Visibility in catalogue"),t.qZA())}function Yc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," visible "),t.qZA())}function Jc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Short description"),t.qZA())}function Qc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Gc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Description"),t.qZA())}function zc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function $c(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Tax status"),t.qZA())}function Vc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," taxable "),t.qZA())}function jc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"In stock"),t.qZA())}function Kc(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 1 "),t.qZA())}function Wc(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Categories"),t.qZA())}function Xc(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.category," ")}}function tl(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Images"),t.qZA())}function el(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.filePath(e.images)," ")}}function il(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function nl(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function ol(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function sl(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function al(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function rl(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function cl(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1,"Weight (kg)"),t.qZA())}function ll(n,i){1&n&&(t.TgZ(0,"td",39),t._uU(1," 0 "),t.qZA())}function dl(n,i){1&n&&t._UZ(0,"tr",40)}function hl(n,i){1&n&&t._UZ(0,"tr",41)}function ul(n,i){if(1&n&&(t.TgZ(0,"tr",42)(1,"td",43),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(21);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const pl=function(){return[10,25,100]};let gl=(()=>{class n extends Ki._k{constructor(e,o,s,a,r,c,l,d,h,u){super(),this.navbar=e,this.sideNav=o,this.topNav=s,this.treeNav=a,this.api=r,this._snackBar=c,this._liveAnnouncer=l,this.info=d,this.lookup=h,this.products=u,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.query="",this.displayedColumns=["type","sku","name","published","isFeatured","visibility","shortDescription","description","taxStatus","inStock","weight","length","width","height","categories","images"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(p=>{this.loggedIn=p})}ngOnInit(){this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}getProducts(){console.log("getting: "+this.query),this.info.setLoadingInfo("Loading products...","info"),this.productsLoader=!0,this.api.GET(`wordpress-export/${this.query}`).subscribe({next:e=>{this.productsList=e,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.info.setLoadingInfo("Products loaded","success")},error:e=>{this.info.setLoadingInfo("Failed to connect to the server: "+e.message,"success"),this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}filePath(e){return e.split(",").join(",")}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSnackBar(e,o){this._snackBar.open(e,o)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.typesList=this.lookup.getTypes()}getBrandName(e){let o=0;return o=parseInt(e)-1,null==this.typesList[o]?"":this.typesList[o].name}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(I.Kd),t.Y36(R.C),t.Y36(Xt.W),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-export-csv"]],viewQuery:function(e,o){if(1&e&&(t.Gf(C.NW,5),t.Gf(w.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first)}},features:[t.qOj],decls:80,vars:7,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",2,"float","right",3,"click"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","outline","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","published"],["matColumnDef","isFeatured"],["matColumnDef","visibility"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","taxStatus"],["matColumnDef","inStock"],["matColumnDef","categories"],["matColumnDef","images"],["matColumnDef","weight"],["matColumnDef","length"],["matColumnDef","width"],["matColumnDef","height"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"p")(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(27);return t.KtG(r.exportTable("csv",{fileName:"products_system"}))}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"div",2)(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Search Brand"),t.qZA(),t.TgZ(13,"input",5),t.NdJ("ngModelChange",function(r){return o.query=r}),t.qZA(),t.TgZ(14,"mat-icon",6),t.NdJ("click",function(){return o.getProducts()}),t._uU(15,"search"),t.qZA()(),t._uU(16," \xa0 "),t.TgZ(17,"mat-form-field",7)(18,"mat-label"),t._uU(19,"Filter results"),t.qZA(),t.TgZ(20,"input",8,9),t.NdJ("keyup",function(r){return o.applyFilter(r)}),t.qZA(),t.TgZ(22,"mat-icon",10),t._uU(23,"funnel"),t.qZA()(),t.TgZ(24,"div",11),t.YNc(25,Ic,1,0,"mat-progress-bar",12),t.TgZ(26,"table",13,14),t.NdJ("matSortChange",function(r){return o.announceSortChange(r)}),t.ynx(28,15),t.YNc(29,Dc,2,0,"th",16),t.YNc(30,Oc,2,1,"td",17),t.BQk(),t.ynx(31,18),t.YNc(32,Lc,2,0,"th",16),t.YNc(33,Nc,2,1,"td",17),t.BQk(),t.ynx(34,19),t.YNc(35,Ec,2,0,"th",16),t.YNc(36,Fc,2,1,"td",17),t.BQk(),t.ynx(37,20),t.YNc(38,Uc,2,0,"th",16),t.YNc(39,Rc,2,0,"td",17),t.BQk(),t.ynx(40,21),t.YNc(41,qc,2,0,"th",16),t.YNc(42,Bc,2,0,"td",17),t.BQk(),t.ynx(43,22),t.YNc(44,Hc,2,0,"th",16),t.YNc(45,Yc,2,0,"td",17),t.BQk(),t.ynx(46,23),t.YNc(47,Jc,2,0,"th",16),t.YNc(48,Qc,2,1,"td",17),t.BQk(),t.ynx(49,24),t.YNc(50,Gc,2,0,"th",16),t.YNc(51,zc,2,1,"td",17),t.BQk(),t.ynx(52,25),t.YNc(53,$c,2,0,"th",16),t.YNc(54,Vc,2,0,"td",17),t.BQk(),t.ynx(55,26),t.YNc(56,jc,2,0,"th",16),t.YNc(57,Kc,2,0,"td",17),t.BQk(),t.ynx(58,27),t.YNc(59,Wc,2,0,"th",16),t.YNc(60,Xc,2,1,"td",17),t.BQk(),t.ynx(61,28),t.YNc(62,tl,2,0,"th",16),t.YNc(63,el,2,1,"td",17),t.BQk(),t.ynx(64,29),t.YNc(65,il,2,0,"th",16),t.YNc(66,nl,2,0,"td",17),t.BQk(),t.ynx(67,30),t.YNc(68,ol,2,0,"th",16),t.YNc(69,sl,2,0,"td",17),t.BQk(),t.ynx(70,31),t.YNc(71,al,2,0,"th",16),t.YNc(72,rl,2,0,"td",17),t.BQk(),t.ynx(73,32),t.YNc(74,cl,2,0,"th",16),t.YNc(75,ll,2,0,"td",17),t.BQk(),t.YNc(76,dl,1,0,"tr",33),t.YNc(77,hl,1,0,"tr",34),t.YNc(78,ul,3,1,"tr",35),t.qZA(),t._UZ(79,"mat-paginator",36),t.qZA()()()}2&e&&(t.xp6(13),t.Q6J("ngModel",o.query),t.xp6(12),t.Q6J("ngIf",1==o.productsLoader),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(50),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(6,pl)))},dependencies:[y.O5,P.yS,E.KE,E.hX,E.R9,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,f.Ee,C.NW,gt.Hw,Q.Nt,T.Fj,T.JJ,T.On,ct.lW,te.pW,w.YE,w.nU,ye.jt]}),n})();var hi=b(4327),_l=b.n(hi);let Re=(()=>{class n{transform(e,o){let s=[];for(let a=0;a<e.length;a++)e[a].grouping==o&&s.push(e[a]);return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"typeGroup",type:n,pure:!0}),n})();function fl(n,i){if(1&n&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}let ml=(()=>{class n{constructor(e,o,s,a,r,c,l,d,h,u){this.navbar=e,this.sideNav=o,this.topNav=s,this.treeNav=a,this.api=r,this._snackBar=c,this.info=l,this.router=d,this.lookup=h,this.products=u,this.categories=[],this.types=[],this.brands=[],this.eol=!1,this.development=!1,this.active=!1}ngOnInit(){this.getAllTypes(),this.getAllCategories()}openSnackBar(e,o){this._snackBar.open(e,o,{duration:2e3})}getAllTypes(){this.types=this.lookup.getTypes()}selectBrand(e){console.log(e),this.brandName=e.value}getAllCategories(){}export(){this.openSnackBar("Exporting... ","Okay"),this.api.downloadCSV("export",this.brand,this.active,this.development,this.eol).subscribe(e=>{const o=new Blob([e],{type:"application/octet-stream"});_l().saveAs(o,`${this.brand}.csv`),this.openSnackBar("Done! ","Okay")},e=>{console.log(e),this.openSnackBar("\u{1f622} "+e.message,"Okay")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(R.C),t.Y36(P.F0),t.Y36(Xt.W),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-export"]],decls:17,vars:5,consts:[["routerLink","/"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","outline",2,"width","30%"],["matInput","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["mat-raised-button","","type","submit","color","primary",3,"click"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"p")(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products for WordPress\n"),t.qZA(),t.TgZ(4,"div",1)(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),t._uU(8,"Choose Brand to Export:"),t.qZA(),t.TgZ(9,"mat-select",4),t.NdJ("ngModelChange",function(a){return o.brand=a})("selectionChange",function(a){return o.selectBrand(a)}),t.YNc(10,fl,2,2,"mat-option",5),t.ALo(11,"typeGroup"),t.qZA()()(),t.TgZ(12,"div",6)(13,"div",6),t._UZ(14,"br"),t.TgZ(15,"button",7),t.NdJ("click",function(){return o.export()}),t._uU(16,"Export"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",o.brand),t.xp6(1),t.Q6J("ngForOf",t.xi3(11,2,o.types,"Brand")))},dependencies:[y.sg,P.yS,E.KE,E.hX,T.JJ,T.On,ct.lW,G.gD,q.ey,Re],styles:[".checkbox-div[_ngcontent-%COMP%]{padding:1rem;background-color:#fff8dc}.checkbox[_ngcontent-%COMP%]{margin-right:2rem}"]}),n})();var pe=b(6709);function bl(n,i){1&n&&(t.TgZ(0,"button",40)(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function xl(n,i){if(1&n&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Cl(n,i){1&n&&t._UZ(0,"mat-progress-bar",42)}function vl(n,i){1&n&&t._UZ(0,"th",43)}function yl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._UZ(1,"img",45),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function Pl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," SKU "),t.qZA())}function wl(n,i){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function Tl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Name "),t.qZA())}function kl(n,i){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function Al(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Brand "),t.qZA())}function Ml(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.brand," ")}}function Sl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Description "),t.qZA())}function Zl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Il(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Active "),t.qZA())}function Dl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw();return t.KtG(a.iconClick(s.sku+" is active"))}),t.TgZ(1,"mat-icon",49),t._uU(2,"check_circle"),t.qZA()()}}function Ol(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",50),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Ll(n,i){if(1&n&&(t.TgZ(0,"td",44),t.YNc(1,Dl,3,0,"span",47),t.YNc(2,Ol,3,0,"span",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Nl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," In Development "),t.qZA())}function El(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw();return t.KtG(a.iconClick(s.sku+" is in development"))}),t.TgZ(1,"mat-icon",51),t._uU(2,"check_circle"),t.qZA()()}}function Fl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",50),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Ul(n,i){if(1&n&&(t.TgZ(0,"td",44),t.YNc(1,El,3,0,"span",47),t.YNc(2,Fl,3,0,"span",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Rl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," EOL "),t.qZA())}function ql(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw();return t.KtG(a.iconClick(s.sku+" is in end of life"))}),t.TgZ(1,"mat-icon",52),t._uU(2,"check_circle"),t.qZA()()}}function Bl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",50),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Hl(n,i){if(1&n&&(t.TgZ(0,"td",44),t.YNc(1,ql,3,0,"span",47),t.YNc(2,Bl,3,0,"span",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function Yl(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Updated "),t.qZA())}function Jl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Ql(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1," Created "),t.qZA())}function Gl(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function zl(n,i){1&n&&t._UZ(0,"th",43)}function $l(n,i){if(1&n&&(t.TgZ(0,"td",44)(1,"button",53),t._uU(2," View Details "),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.sku,"")}}function Vl(n,i){1&n&&t._UZ(0,"tr",54)}function jl(n,i){1&n&&t._UZ(0,"tr",55)}function Kl(n,i){if(1&n&&(t.TgZ(0,"tr",56)(1,"td",57),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(24);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Wl=function(){return[10,25,50,100]};class qe extends Ki._k{constructor(i,e,o,s,a,r,c,l,d,h,u){super(),this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=a,this.route=r,this._snackBar=c,this._liveAnnouncer=l,this.info=d,this.lookup=h,this.products=u,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllCategories()}ngAfterContentInit(){this.route.params.subscribe(i=>{this.urlParam=i.brand,this.brand=this.urlParam.toUpperCase(),this.getAllTypes()})}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllTypes(){try{let i;this.typesList=this.lookup.getTypes(),i=this.typesList.find(e=>e.name.toLocaleLowerCase()==this.brand.toLocaleLowerCase()),this.getAllProducts(i.id)}catch{console.log("Handled")}}getAllProducts(i){const e=this.products.getProducts();this.productsList=e.filter(o=>o.brand_type_id==i),this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}openSnackBar(i,e){this._snackBar.open(i,e)}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getBrandName(i){let e=0;return e=parseInt(i)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(i){return console.log("Role check"),!!this.info.role(i)}iconClick(i){this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view"]}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?o=>1==o.is_in_development&&1==o.is_active:this.activeProducts&&this.eolProducts?o=>1==o.is_active&&1==o.is_eol:this.developmentProducts&&this.eolProducts?o=>1==o.is_in_development&&1==o.is_eol:this.activeProducts?o=>1==o.is_active:this.developmentProducts?o=>1==o.is_in_development:o=>1==o.is_eol),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:i=>{this.categoriesList=i},error:i=>{alert(i)}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}qe.\u0275fac=function(i){return new(i||qe)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(P.gz),t.Y36(F.ux),t.Y36(I.Kd),t.Y36(R.C),t.Y36(Xt.W),t.Y36(W))},qe.\u0275cmp=t.Xpm({type:qe,selectors:[["app-list-products"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(w.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},features:[t.qOj],decls:89,vars:14,consts:[["routerLink","../../"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","",1,"m-1",2,"width","100%",3,"click"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"p")(2,"a",0),t._uU(3,"Products"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",1)(6,"div",2),t.YNc(7,bl,4,0,"button",3),t.qZA(),t.TgZ(8,"div",2)(9,"button",4),t.NdJ("click",function(){t.CHM(o);const a=t.MAs(50);return t.KtG(a.exportTable("csv",{fileName:"products_system"}))}),t.TgZ(10,"mat-icon"),t._uU(11,"download_file"),t.qZA(),t._uU(12," Export CSV "),t.qZA()(),t.TgZ(13,"div",2)(14,"button",5)(15,"mat-icon"),t._uU(16,"wordpress"),t.qZA(),t._uU(17," Export For WordPress "),t.qZA()()(),t.TgZ(18,"div",1)(19,"div",6)(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Filter"),t.qZA(),t.TgZ(23,"input",8,9),t.NdJ("keyup",function(a){return e.applyFilter(a)}),t.qZA(),t.TgZ(25,"mat-icon",10),t._uU(26,"filter_list"),t.qZA()(),t.TgZ(27,"mat-form-field",11)(28,"mat-label"),t._uU(29,"Categories"),t.qZA(),t.TgZ(30,"mat-select",12),t.NdJ("selectionChange",function(a){return e.filterByCategory(a)}),t.YNc(31,xl,2,2,"mat-option",13),t.qZA()(),t.TgZ(32,"div",14)(33,"span",15)(34,"mat-checkbox",16),t.NdJ("ngModelChange",function(a){return e.displayDates=a})("change",function(a){return e.showDates(a)}),t._uU(35,"More info"),t.qZA()(),t.TgZ(36,"span",15)(37,"mat-checkbox",17),t.NdJ("ngModelChange",function(a){return e.eolProducts=a})("change",function(a){return e.filterStatuses(a)}),t._uU(38,"EOL"),t.qZA()(),t.TgZ(39,"span",15)(40,"mat-checkbox",17),t.NdJ("ngModelChange",function(a){return e.developmentProducts=a})("change",function(a){return e.filterStatuses(a)}),t._uU(41,"In Development"),t.qZA()(),t.TgZ(42,"span",15)(43,"mat-checkbox",17),t.NdJ("ngModelChange",function(a){return e.activeProducts=a})("change",function(a){return e.filterStatuses(a)}),t._uU(44,"Active"),t.qZA()(),t.TgZ(45,"span",15)(46,"mat-checkbox",17),t.NdJ("ngModelChange",function(a){return e.allProducts=a})("change",function(a){return e.filterStatuses(a)}),t._uU(47,"All"),t.qZA()(),t.YNc(48,Cl,1,0,"mat-progress-bar",18),t.TgZ(49,"table",19,20),t.NdJ("matSortChange",function(a){return e.announceSortChange(a)}),t.ynx(51,21),t.YNc(52,vl,1,0,"th",22),t.YNc(53,yl,2,1,"td",23),t.BQk(),t.ynx(54,24),t.YNc(55,Pl,2,0,"th",22),t.YNc(56,wl,2,2,"td",25),t.BQk(),t.ynx(57,26),t.YNc(58,Tl,2,0,"th",22),t.YNc(59,kl,2,2,"td",25),t.BQk(),t.ynx(60,27),t.YNc(61,Al,2,0,"th",22),t.YNc(62,Ml,2,1,"td",23),t.BQk(),t.ynx(63,28),t.YNc(64,Sl,2,0,"th",22),t.YNc(65,Zl,2,1,"td",23),t.BQk(),t.ynx(66,29),t.YNc(67,Il,2,0,"th",22),t.YNc(68,Ll,3,2,"td",23),t.BQk(),t.ynx(69,30),t.YNc(70,Nl,2,0,"th",22),t.YNc(71,Ul,3,2,"td",23),t.BQk(),t.ynx(72,31),t.YNc(73,Rl,2,0,"th",22),t.YNc(74,Hl,3,2,"td",23),t.BQk(),t.ynx(75,32),t.YNc(76,Yl,2,0,"th",22),t.YNc(77,Jl,3,3,"td",23),t.BQk(),t.ynx(78,33),t.YNc(79,Ql,2,0,"th",22),t.YNc(80,Gl,3,3,"td",23),t.BQk(),t.ynx(81,34),t.YNc(82,zl,1,0,"th",22),t.YNc(83,$l,3,1,"td",23),t.BQk(),t.YNc(84,Vl,1,0,"tr",35),t.YNc(85,jl,1,0,"tr",36),t.YNc(86,Kl,3,1,"tr",37),t.qZA(),t._UZ(87,"mat-paginator",38),t.qZA()(),t._UZ(88,"div",39),t.qZA()()}2&i&&(t.xp6(4),t.hij(" / Brand / ",e.brand," "),t.xp6(3),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(35),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(13,Wl)))},dependencies:[y.sg,y.O5,P.rH,P.yS,E.KE,E.hX,E.R9,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,f.Ee,C.NW,gt.Hw,Q.Nt,T.JJ,T.On,ct.lW,G.gD,q.ey,te.pW,w.YE,w.nU,ye.jt,pe.oG,y.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,li.gn)([(0,di.bH)()],qe.prototype,"blockUI",void 0);var Qt=b(8675),Be=b(4004),zn=b(4098),Et=b(3353),ht=b(1281),pt=b(7579),ui=b(727),Xl=b(4986),td=b(2805),id=b(6406),ts=b(9751),Pe=b(6451),we=b(2722),He=b(5698),nd=b(8505),od=b(3900),pi=b(445);function $n(n,i,e){for(let o in i)if(i.hasOwnProperty(o)){const s=i[o];s?n.setProperty(o,s,e?.has(o)?"important":""):n.removeProperty(o)}return n}function Ye(n,i){const e=i?"":"none";$n(n.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function es(n,i,e){$n(n.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function Wi(n,i){return i&&"none"!=i?n+" "+i:n}function is(n){const i=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*i}function Vn(n,i){return n.getPropertyValue(i).split(",").map(o=>o.trim())}function jn(n){const i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function Kn(n,i,e){const{top:o,bottom:s,left:a,right:r}=n;return e>=o&&e<=s&&i>=a&&i<=r}function gi(n,i,e){n.top+=i,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function ns(n,i,e,o){const{top:s,right:a,bottom:r,left:c,width:l,height:d}=n,h=l*i,u=d*i;return o>s-u&&o<r+u&&e>c-h&&e<a+h}class os{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:jn(e)})})}handleScroll(i){const e=(0,Et.sA)(i),o=this.positions.get(e);if(!o)return null;const s=o.scrollPosition;let a,r;if(e===this._document){const d=this.getViewportScrollPosition();a=d.top,r=d.left}else a=e.scrollTop,r=e.scrollLeft;const c=s.top-a,l=s.left-r;return this.positions.forEach((d,h)=>{d.clientRect&&e!==h&&e.contains(h)&&gi(d.clientRect,c,l)}),s.top=a,s.left=r,{top:c,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ss(n){const i=n.cloneNode(!0),e=i.querySelectorAll("[id]"),o=n.nodeName.toLowerCase();i.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===o?cs(n,i):("input"===o||"select"===o||"textarea"===o)&&rs(n,i),as("canvas",n,i,cs),as("input, textarea, select",n,i,rs),i}function as(n,i,e,o){const s=i.querySelectorAll(n);if(s.length){const a=e.querySelectorAll(n);for(let r=0;r<s.length;r++)o(s[r],a[r])}}let ad=0;function rs(n,i){"file"!==i.type&&(i.value=n.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${ad++}`)}function cs(n,i){const e=i.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const ls=(0,Et.i$)({passive:!0}),Xi=(0,Et.i$)({passive:!1}),Wn=new Set(["position"]);class cd{constructor(i,e,o,s,a,r){this._config=e,this._document=o,this._ngZone=s,this._viewportRuler=a,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new pt.x,this._pointerMoveSubscription=ui.w0.EMPTY,this._pointerUpSubscription=ui.w0.EMPTY,this._scrollSubscription=ui.w0.EMPTY,this._resizeSubscription=ui.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new pt.x,this.started=new pt.x,this.released=new pt.x,this.ended=new pt.x,this.entered=new pt.x,this.exited=new pt.x,this.dropped=new pt.x,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(c);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const l=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const g=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),_=this._dropContainer;if(!g)return void this._endDragSequence(c);(!_||!_.isDragging()&&!_.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const d=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,l);else{const h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=d.x-h.x+this._passiveTransform.x,u.y=d.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:c,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const l=this._getTargetHandle(c);l&&!this._disabledHandles.has(l)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new os(o),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const e=(0,ht.Ig)(i);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(o=>Ye(o,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(o=>(0,ht.fI)(o)),this._handles.forEach(o=>Ye(o,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(o=>{this._handles.indexOf(o)>-1&&e.add(o)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=(0,ht.fI)(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Xi),e.addEventListener("touchstart",this._pointerDown,ls),e.addEventListener("dragstart",this._nativeDragStart,Xi)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?(0,ht.fI)(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Ye(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Ye(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){_i(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const o=this._rootElement,s=o.parentNode,a=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();s.insertBefore(r,o),this._initialTransform=o.style.transform||"",this._preview=this._createPreviewElement(),es(o,!1,Wn),this._document.body.appendChild(s.replaceChild(a,o)),this._getPreviewInsertionPoint(s,c).appendChild(this._preview),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const o=this.isDragging(),s=_i(e),a=!s&&0!==e.button,r=this._rootElement,c=(0,Et.sA)(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=s?(0,I.yG)(e):(0,I.X6)(e);if(c&&c.draggable&&"mousedown"===e.type&&e.preventDefault(),o||a||l||d)return;if(this._handles.length){const p=r.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=jn(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,i,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){es(this._rootElement,!0,Wn),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,o=e.getItemIndex(this),s=this._getPointerPositionOnPage(i),a=this._getDragDistance(s),r=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:a,dropPoint:s,event:i}),this.dropped.next({item:this,currentIndex:o,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:a,dropPoint:s,event:i}),e.drop(this,o,this._initialIndex,this._initialContainer,r,a,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:o,y:s}){let a=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,i,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,s),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,o=i?i.template:null;let s;if(o&&i){const a=i.matchSize?this._initialClientRect:null,r=i.viewContainer.createEmbeddedView(o,i.context);r.detectChanges(),s=hs(r,this._document),this._previewRef=r,i.matchSize?us(s,a):s.style.transform=tn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=ss(this._rootElement),us(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return $n(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Wn),Ye(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>s.classList.add(a)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function sd(n){const i=getComputedStyle(n),e=Vn(i,"transition-property"),o=e.find(c=>"transform"===c||"all"===c);if(!o)return 0;const s=e.indexOf(o),a=Vn(i,"transition-duration"),r=Vn(i,"transition-delay");return is(a[s])+is(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(o=>{const s=r=>{(!r||(0,Et.sA)(r)===this._preview&&"transform"===r.propertyName)&&(this._preview?.removeEventListener("transitionend",s),o(),clearTimeout(a))},a=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let o;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),o=hs(this._placeholderRef,this._document)):o=ss(this._rootElement),o.style.pointerEvents="none",o.classList.add("cdk-drag-placeholder"),o}_getPointerPositionInElement(i,e,o){const s=e===this._rootElement?null:e,a=s?s.getBoundingClientRect():i,r=_i(o)?o.targetTouches[0]:o,c=this._getViewportScrollPosition();return{x:a.left-i.left+(r.pageX-a.left-c.left),y:a.top-i.top+(r.pageY-a.top-c.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),o=_i(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,s=o.pageX-e.left,a=o.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const c=this._ownerSVGElement.createSVGPoint();return c.x=s,c.y=a,c.matrixTransform(r.inverse())}}return{x:s,y:a}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:o,y:s}=this.constrainPosition?this.constrainPosition(i,this,this._initialClientRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(o=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:r}=this._pickupPositionInElement,c=this._boundaryRect,{width:l,height:d}=this._getPreviewRect(),h=c.top+r,u=c.bottom-(d-r);o=ds(o,c.left+a,c.right-(l-a)),s=ds(s,h,u)}return{x:o,y:s}}_updatePointerDirectionDelta(i){const{x:e,y:o}=i,s=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-a.x),c=Math.abs(o-a.y);return r>this._config.pointerDirectionChangeThreshold&&(s.x=e>a.x?1:-1,a.x=e),c>this._config.pointerDirectionChangeThreshold&&(s.y=o>a.y?1:-1,a.y=o),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Ye(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Xi),i.removeEventListener("touchstart",this._pointerDown,ls),i.removeEventListener("dragstart",this._nativeDragStart,Xi)}_applyRootElementTransform(i,e){const o=tn(i,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=Wi(o,this._initialTransform)}_applyPreviewTransform(i,e){const o=this._previewTemplate?.template?void 0:this._initialTransform,s=tn(i,e);this._preview.style.transform=Wi(s,o)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const o=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===o.width&&0===o.height)return;const a=s.left-o.left,r=o.right-s.right,c=s.top-o.top,l=o.bottom-s.bottom;s.width>o.width?(a>0&&(i+=a),r>0&&(i-=r)):i=0,s.height>o.height?(c>0&&(e+=c),l>0&&(e-=l)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:_i(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const o=(0,Et.sA)(i);this._boundaryRect&&o!==this._boundaryElement&&o.contains(this._boundaryElement)&&gi(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Et.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const o=this._previewContainer||"global";if("parent"===o)return i;if("global"===o){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,ht.fI)(o)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}}function tn(n,i){return`translate3d(${Math.round(n)}px, ${Math.round(i)}px, 0)`}function ds(n,i,e){return Math.max(i,Math.min(e,n))}function _i(n){return"t"===n.type[0]}function hs(n,i){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const o=i.createElement("div");return e.forEach(s=>o.appendChild(s)),o}function us(n,i){n.style.width=`${i.width}px`,n.style.height=`${i.height}px`,n.style.transform=tn(i.left,i.top)}function Xn(n,i,e){const o=fi(i,n.length-1),s=fi(e,n.length-1);if(o===s)return;const a=n[o],r=s<o?-1:1;for(let c=o;c!==s;c+=r)n[c]=n[c+r];n[s]=a}function fi(n,i){return Math.max(0,Math.min(i,n))}class ld{constructor(i,e){this._element=i,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,e,o,s){const a=this._itemPositions,r=this._getItemIndexFromPointerPosition(i,e,o,s);if(-1===r&&a.length>0)return null;const c="horizontal"===this.orientation,l=a.findIndex(v=>v.drag===i),d=a[r],u=d.clientRect,p=l>r?1:-1,g=this._getItemOffsetPx(a[l].clientRect,u,p),_=this._getSiblingOffsetPx(l,a,p),m=a.slice();return Xn(a,l,r),a.forEach((v,A)=>{if(m[A]===v)return;const S=v.drag===i,D=S?g:_,O=S?i.getPlaceholderElement():v.drag.getRootElement();v.offset+=D,c?(O.style.transform=Wi(`translate3d(${Math.round(v.offset)}px, 0, 0)`,v.initialTransform),gi(v.clientRect,0,D)):(O.style.transform=Wi(`translate3d(0, ${Math.round(v.offset)}px, 0)`,v.initialTransform),gi(v.clientRect,D,0))}),this._previousSwap.overlaps=Kn(u,e,o),this._previousSwap.drag=d.drag,this._previousSwap.delta=c?s.x:s.y,{previousIndex:l,currentIndex:r}}enter(i,e,o,s){const a=null==s||s<0?this._getItemIndexFromPointerPosition(i,e,o):s,r=this._activeDraggables,c=r.indexOf(i),l=i.getPlaceholderElement();let d=r[a];if(d===i&&(d=r[a+1]),!d&&(null==a||-1===a||a<r.length-1)&&this._shouldEnterAsFirstChild(e,o)&&(d=r[0]),c>-1&&r.splice(c,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(l,h),r.splice(a,0,i)}else(0,ht.fI)(this._element).appendChild(l),r.push(i);l.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const e=i.getRootElement();if(e){const o=this._itemPositions.find(s=>s.drag===i)?.initialTransform;e.style.transform=o||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(o=>o.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:o})=>{gi(o,i,e)}),this._itemPositions.forEach(({drag:o})=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const o=e.getVisibleElement();return{drag:e,offset:0,initialTransform:o.style.transform||"",clientRect:jn(o)}}).sort((e,o)=>i?e.clientRect.left-o.clientRect.left:e.clientRect.top-o.clientRect.top)}_getItemOffsetPx(i,e,o){const s="horizontal"===this.orientation;let a=s?e.left-i.left:e.top-i.top;return-1===o&&(a+=s?e.width-i.width:e.height-i.height),a}_getSiblingOffsetPx(i,e,o){const s="horizontal"===this.orientation,a=e[i].clientRect,r=e[i+-1*o];let c=a[s?"width":"height"]*o;if(r){const l=s?"left":"top",d=s?"right":"bottom";-1===o?c-=r.clientRect[l]-a[d]:c+=a[l]-r.clientRect[d]}return c}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const o=this._itemPositions,s="horizontal"===this.orientation;if(o[0].drag!==this._activeDraggables[0]){const r=o[o.length-1].clientRect;return s?i>=r.right:e>=r.bottom}{const r=o[0].clientRect;return s?i<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(i,e,o,s){const a="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:c,clientRect:l})=>{if(c===i)return!1;if(s){const d=a?s.x:s.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return a?e>=Math.floor(l.left)&&e<Math.floor(l.right):o>=Math.floor(l.top)&&o<Math.floor(l.bottom)});return-1!==r&&this._sortPredicate(r,i)?r:-1}}class dd{constructor(i,e,o,s,a){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new pt.x,this.entered=new pt.x,this.exited=new pt.x,this.dropped=new pt.x,this.sorted=new pt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ui.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new pt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ed(n=0,i=Xl.z){return n<0&&(n=0),(0,td.H)(n,n,i)}(0,id.Z).pipe((0,we.R)(this._stopScrollTimers)).subscribe(()=>{const r=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?r.scrollBy(0,-c):2===this._verticalScrollDirection&&r.scrollBy(0,c),1===this._horizontalScrollDirection?r.scrollBy(-c,0):2===this._horizontalScrollDirection&&r.scrollBy(c,0)})},this.element=(0,ht.fI)(i),this._document=o,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new os(o),this._sortStrategy=new ld(this.element,e),this._sortStrategy.withSortPredicate((r,c)=>this.sortPredicate(r,c,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,o,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,o,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,o,s,a,r,c,l={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:o,container:this,previousContainer:s,isPointerOverContainer:a,distance:r,dropPoint:c,event:l})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(o=>o._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===i.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const e=(0,ht.fI)(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,o,s){if(this.sortingDisabled||!this._clientRect||!ns(this._clientRect,.05,e,o))return;const a=this._sortStrategy.sort(i,e,o,s);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let o,s=0,a=0;if(this._parentPositions.positions.forEach((r,c)=>{c===this._document||!r.clientRect||o||ns(r.clientRect,.05,i,e)&&([s,a]=function hd(n,i,e,o){const s=_s(i,o),a=fs(i,e);let r=0,c=0;if(s){const l=n.scrollTop;1===s?l>0&&(r=1):n.scrollHeight-l>n.clientHeight&&(r=2)}if(a){const l=n.scrollLeft;1===a?l>0&&(c=1):n.scrollWidth-l>n.clientWidth&&(c=2)}return[r,c]}(c,r.clientRect,i,e),(s||a)&&(o=c))}),!s&&!a){const{width:r,height:c}=this._viewportRuler.getViewportSize(),l={width:r,height:c,top:0,right:r,bottom:c,left:0};s=_s(l,e),a=fs(l,i),o=window}o&&(s!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=a,this._scrollNode=o,(s||a)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=(0,ht.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=(0,ht.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=(0,ht.fI)(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,e){return null!=this._clientRect&&Kn(this._clientRect,i,e)}_getSiblingContainerFromPosition(i,e,o){return this._siblings.find(s=>s._canReceive(i,e,o))}_canReceive(i,e,o){if(!this._clientRect||!Kn(this._clientRect,e,o)||!this.enterPredicate(i,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,o);if(!s)return!1;const a=(0,ht.fI)(this.element);return s===a||a.contains(s)}_startReceiving(i,e){const o=this._activeSiblings;!o.has(i)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(o.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=(0,Et.kV)((0,ht.fI)(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function _s(n,i){const{top:e,bottom:o,height:s}=n,a=.05*s;return i>=e-a&&i<=e+a?1:i>=o-a&&i<=o+a?2:0}function fs(n,i){const{left:e,right:o,width:s}=n,a=.05*s;return i>=e-a&&i<=e+a?1:i>=o-a&&i<=o+a?2:0}const en=(0,Et.i$)({passive:!1,capture:!0});let ud=(()=>{class n{constructor(e,o){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new pt.x,this.pointerUp=new pt.x,this.scroll=new pt.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=o}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,en)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,en)}startDragging(e,o){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=o.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:en}),s||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:en}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,r)=>{this._document.addEventListener(r,a.handler,a.options)})})}}stopDragging(e){const o=this._activeDragInstances.indexOf(e);o>-1&&(this._activeDragInstances.splice(o,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const o=[this.scroll];return e&&e!==this._document&&o.push(new ts.y(s=>this._ngZone.runOutsideAngular(()=>{const r=c=>{this._activeDragInstances.length&&s.next(c)};return e.addEventListener("scroll",r,!0),()=>{e.removeEventListener("scroll",r,!0)}}))),(0,Pe.T)(...o)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,o)=>{this._document.removeEventListener(o,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.R0b),t.LFG(y.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pd={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let to=(()=>{class n{constructor(e,o,s,a){this._document=e,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=a}createDrag(e,o=pd){return new cd(e,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new dd(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.K0),t.LFG(t.R0b),t.LFG(zn.rL),t.LFG(ud))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ms=new t.OlP("CDK_DRAG_PARENT"),bs=new t.OlP("CdkDropListGroup"),xs=new t.OlP("CDK_DRAG_CONFIG");let gd=0;const Cs=new t.OlP("CdkDropList");let vs=(()=>{class n{constructor(e,o,s,a,r,c,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=a,this._dir=r,this._group=c,this._destroyed=new pt.x,this.connectedTo=[],this.id="cdk-drop-list-"+gd++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=o.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(d,h)=>this.enterPredicate(d.data,h.data),this._dropListRef.sortPredicate=(d,h,u)=>this.sortPredicate(d,h.data,u.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),c&&c._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,ht.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,o)=>e._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,Qt.O)(this._dir.value),(0,we.R)(this._destroyed)).subscribe(o=>e.withDirection(o)),e.beforeStarted.subscribe(()=>{const o=(0,ht.Eq)(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(r=>r.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===o.indexOf(s)&&o.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,ht.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,ht.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,ht.su)(this.autoScrollStep,2),e.connectedTo(o.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:o,draggingDisabled:s,sortingDisabled:a,listAutoScrollDisabled:r,listOrientation:c}=e;this.disabled=s??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=r??!1,this.orientation=c||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(to),t.Y36(t.sBO),t.Y36(zn.mF),t.Y36(pi.Is,8),t.Y36(bs,12),t.Y36(xs,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,o){2&e&&(t.uIk("id",o.id),t.ekj("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:bs,useValue:void 0},{provide:Cs,useExisting:n}])]}),n})();const ys=new t.OlP("CdkDragHandle"),_d=new t.OlP("CdkDragPlaceholder"),fd=new t.OlP("CdkDragPreview");let Ps=(()=>{class n{constructor(e,o,s,a,r,c,l,d,h,u,p){this.element=e,this.dropContainer=o,this._ngZone=a,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=h,this._selfHandle=u,this._parentDrag=p,this._destroyed=new pt.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new ts.y(g=>{const _=this._dragRef.moved.pipe((0,Be.U)(m=>({source:this,pointerPosition:m.pointerPosition,event:m.event,delta:m.delta,distance:m.distance}))).subscribe(g);return()=>{_.unsubscribe()}}),this._dragRef=d.createDrag(e,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),c&&this._assignDefaults(c),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,ht.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,He.q)(1),(0,we.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const o=e.rootElementSelector,s=e.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let o=e;this.rootElementSelector&&(o=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,ht.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const o=this._dir,s=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:(0,ht.su)(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),o&&e.withDirection(o.value)}}),e.beforeStarted.pipe((0,He.q)(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(s=>s.element.nativeElement===o)?._dragRef||null);break}o=o.parentElement}})}_handleEvents(e){e.started.subscribe(o=>{this.started.emit({source:this,event:o.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(o=>{this.released.emit({source:this,event:o.event})}),e.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),e.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),e.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event})})}_assignDefaults(e){const{lockAxis:o,dragStartDelay:s,constrainPosition:a,previewClass:r,boundaryElement:c,draggingDisabled:l,rootElementSelector:d,previewContainer:h}=e;this.disabled=l??!1,this.dragStartDelay=s||0,o&&(this.lockAxis=o),a&&(this.constrainPosition=a),r&&(this.previewClass=r),c&&(this.boundaryElement=c),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,Qt.O)(this._handles),(0,nd.b)(e=>{const o=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),(0,od.w)(e=>(0,Pe.T)(...e.map(o=>o._stateChanges.pipe((0,Qt.O)(o))))),(0,we.R)(this._destroyed)).subscribe(e=>{const o=this._dragRef,s=e.element.nativeElement;e.disabled?o.disableHandle(s):o.enableHandle(s)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(Cs,12),t.Y36(y.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(xs,8),t.Y36(pi.Is,8),t.Y36(to),t.Y36(t.sBO),t.Y36(ys,10),t.Y36(ms,12))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,o,s){if(1&e&&(t.Suo(s,fd,5),t.Suo(s,_d,5),t.Suo(s,ys,5)),2&e){let a;t.iGM(a=t.CRH())&&(o._previewTemplate=a.first),t.iGM(a=t.CRH())&&(o._placeholderTemplate=a.first),t.iGM(a=t.CRH())&&(o._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,o){2&e&&t.ekj("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:ms,useExisting:n}]),t.TTD]}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[to],imports:[zn.ZD]}),n})();var mi=b(7957);function xd(n,i){1&n&&(t.TgZ(0,"div",64),t._uU(1,"Enter a valid SKU"),t.qZA())}function Cd(n,i){1&n&&(t.TgZ(0,"div",65),t._uU(1,"\u2714"),t.qZA())}function vd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",9)(1,"mat-label"),t._uU(2,"SKU"),t.qZA(),t.TgZ(3,"input",60,61),t.NdJ("keyup",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.checkSku(s))}),t.qZA(),t.YNc(5,xd,2,0,"div",62),t.YNc(6,Cd,2,0,"div",63),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.invalidSku),t.xp6(1),t.Q6J("ngIf",!e.invalidSku)}}function yd(n,i){1&n&&(t.TgZ(0,"mat-hint"),t._uU(1,"\u26a0 There is already a product with this name."),t.qZA())}function Pd(n,i){if(1&n&&(t.TgZ(0,"mat-option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function wd(n,i){1&n&&(t.TgZ(0,"mat-form-field",9)(1,"mat-label"),t._uU(2,"Short Description"),t.qZA(),t._UZ(3,"textarea",67,68),t.qZA())}function Td(n,i){if(1&n&&(t.TgZ(0,"mat-option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function kd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",74)(1,"mat-label"),t._uU(2,"Selected Product"),t.qZA(),t._UZ(3,"input",75),t.TgZ(4,"mat-icon",76),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.removeFromBundle(a))}),t._uU(5,"delete"),t.qZA(),t.TgZ(6,"mat-hint")(7,"a",77),t._uU(8,"View this product"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(3),t.s9C("value",e),t.xp6(4),t.MGl("href","https://products.smdtechnologies.com/",e,"",t.LSH)}}function Ad(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.saveBundleProduct("Pamphlet"))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij("Save New ",e.newProductType,"")}}function Md(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.saveBundleProduct("Presentation"))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij("Create ",e.newProductType,"")}}function Sd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",31)(2,"mat-label"),t._uU(3,"Search Product"),t.qZA(),t._UZ(4,"input",69),t.TgZ(5,"mat-autocomplete",70,71),t.NdJ("optionSelected",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.addToBundle(s))}),t.YNc(7,Td,2,2,"mat-option",15),t.ALo(8,"async"),t.qZA()(),t.YNc(9,kd,9,2,"mat-form-field",72),t.YNc(10,Ad,2,1,"button",73),t.YNc(11,Md,2,1,"button",73),t.qZA()}if(2&n){const e=t.MAs(6),o=t.oxw();t.xp6(4),t.Q6J("formControl",o.autocompleteControl)("matAutocomplete",e),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,6,o.filteredOptions)),t.xp6(2),t.Q6J("ngForOf",o.newPamphletSKUs),t.xp6(1),t.Q6J("ngIf","linked-product"==o.newProductType),t.xp6(1),t.Q6J("ngIf","presentation"==o.newProductType)}}function Zd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"mat-checkbox",79,80),t._uU(3,"Is in development"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"mat-checkbox",81,82),t._uU(7,"Is EOL"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-checkbox",83,84),t._uU(11,"Is Active"),t.qZA(),t._UZ(12,"hr"),t.TgZ(13,"button",40),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.saveProduct())}),t._uU(14),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("disabled",!e.newProductForm.dirty||e.invalidSku),t.xp6(1),t.hij("Save New ",e.newProductType,"")}}function Id(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(7);return t.KtG(r.checkedItem(a.id))}),t._uU(2),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.name)}}function Dd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(6);return t.KtG(r.checkedItem(a.id))}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Id,3,1,"li",24),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(6);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Od(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(5);return t.KtG(r.checkedItem(a.id))}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Dd,6,5,"li",24),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(5);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Ld(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(4);return t.KtG(r.checkedItem(a.id))}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Od,6,5,"li",24),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Nd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.checkedItem(a.id))}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Ld,6,5,"li",24),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Ed(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.checkedItem(a.id))}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Nd,6,5,"li",24),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,o.categoriesList,e.id))}}function Fd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"span")(2,"mat-checkbox",86),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.checkedItem(a.id))}),t._uU(3),t.qZA()(),t.TgZ(4,"span")(5,"ul"),t.YNc(6,Ed,6,5,"li",24),t.ALo(7,"parent"),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,o.categoriesList,e.id))}}function Ud(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",87),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.saveCategories())}),t._uU(2,"Save Categories"),t.qZA()()}}function Rd(n,i){1&n&&(t.TgZ(0,"div")(1,"p")(2,"mat-icon"),t._uU(3,"warning"),t.qZA(),t._uU(4," Please save product first."),t.qZA(),t.TgZ(5,"button",88),t._uU(6,"Save Categories"),t.qZA()())}function qd(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.attrName)}}function Bd(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89)(2,"mat-grid-list",90)(3,"mat-grid-tile")(4,"mat-form-field",91)(5,"mat-label"),t._uU(6,"Attribute Name"),t.qZA(),t._UZ(7,"input",92),t.qZA()(),t.TgZ(8,"mat-grid-tile")(9,"mat-form-field",91)(10,"mat-label"),t._uU(11,"Attribute Value"),t.qZA(),t._UZ(12,"input",93),t.qZA()(),t._UZ(13,"mat-grid-tile"),t.qZA()(),t.BQk()),2&n){const e=i.index;t.xp6(1),t.Q6J("formGroupName",e)}}function Hd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"button",94),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.saveAttributes("new"))}),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.saveAttrBtnText)}}function Yd(n,i){if(1&n&&(t.TgZ(0,"mat-option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Jd(n,i){if(1&n&&(t.TgZ(0,"option",66),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Qd(n,i){1&n&&(t.TgZ(0,"div",95)(1,"h3"),t._uU(2,"Loading ..."),t.qZA()())}function Gd(n,i){if(1&n&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function zd(n,i){if(1&n&&(t.TgZ(0,"div",96),t.YNc(1,Gd,3,1,"ul",29),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function $d(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function Vd(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-option",100),t.NdJ("onSelectionChange",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw();return t.KtG(a.updateFileType(s.id,s.type_id))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function jd(n,i){if(1&n&&(t.TgZ(0,"div",97)(1,"div",1)(2,"div",42),t._UZ(3,"img",98),t.qZA(),t.TgZ(4,"div",50)(5,"mat-form-field",9)(6,"mat-label"),t._uU(7,"Image Type"),t.qZA(),t.TgZ(8,"mat-select"),t.YNc(9,Vd,2,2,"mat-option",99),t.ALo(10,"typeGroup"),t.qZA()()()()()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(3),t.s9C("alt",e.path),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,3,o.typesList,"Image"))}}function Kd(n,i){if(1&n&&(t.TgZ(0,"div",101),t._UZ(1,"img",102),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.s9C("alt",e.path),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH)}}function Wd(n,i){1&n&&(t.TgZ(0,"div",95)(1,"h3"),t._uU(2,"Loading ..."),t.qZA()())}function Xd(n,i){if(1&n&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function th(n,i){if(1&n&&(t.TgZ(0,"div",96),t.YNc(1,Xd,3,1,"ul",29),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function eh(n,i){1&n&&(t.TgZ(0,"button",103),t._uU(1," Done "),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA()())}function ih(n,i){if(1&n&&(t.TgZ(0,"mat-card",104)(1,"p"),t._uU(2,"\u26a0 It looks like there is already a brand with the name: "),t.TgZ(3,"i"),t._uU(4),t.qZA()(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t._UZ(7,"img",105),t.TgZ(8,"span"),t._uU(9),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.similarProduct.name),t.xp6(2),t.Oqu(e.similarProduct.short_description),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.similarProduct.clean_sku,"",t.LSH),t.xp6(2),t.hij("\xa0",e.similarProduct.sku,"")}}let nh=(()=>{class n{constructor(e,o,s,a,r,c,l,d,h){this.navbar=e,this.api=o,this.formBuilder=s,this._snackBar=a,this.info=r,this.route=c,this.router=l,this.lookup=d,this.products=h,this.productsList=[],this.categoriesList=[],this.selectedCategories=[],this.typesList=[],this.displayedColumns=["id","sku","name","brand","description"],this.panelOpenState=!1,this.panelOpenStateVariations=!1,this.categoriesLoader=!1,this.typesLoader=!1,this.parent=!1,this.frontImage=!1,this.newProductId=0,this.newProductSKU="",this.newProductName="",this.shortLink="",this.loading=!1,this.files=[],this.images=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.focusType="47",this.newProductCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save and Continue",this.disableSaveAttrBtn=!1,this.activeTabIndex=0,this.nextBtn=!1,this.prevBtn=!1,this.doneBtn=!1,this.savedFiles=[],this.skuPattern="^[a-zA-Z0-9_()-]{4,20}$",this.invalidSku=!0,this.autocompleteControl=new T.p4(""),this.options=[],this.newPamphlet=[],this.newPamphletSKUs=[],this.SKUsLoader=!0}ngOnInit(){this.info.auth(),this.attrCount=0,this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.getAllTypes(),this.getAllCategories(),this.entireProducts(),this.filteredOptions=this.autocompleteControl.valueChanges.pipe((0,Qt.O)(""),(0,Be.U)(e=>this._filter(e||""))),this.route.paramMap.subscribe(e=>{this.newProductType=e.get("type")}),window.addEventListener("beforeunload",function(e){return e.returnValue="","o/"}),this.newProductForm=this.formBuilder.group({sku:["",[T.kI.required,T.kI.pattern(this.skuPattern)]],name:["",T.kI.required],brand_type_id:["",T.kI.required],description:["",T.kI.required],short_description:["",T.kI.required],parent_id:[0,T.kI.required],is_eol:[0,T.kI.required],is_in_development:[0,T.kI.required],is_active:[0,T.kI.required],type:[this.newProductType]}),this.newProductFormPackaging=this.formBuilder.group({weight:["",T.kI.required],length:["",T.kI.required],width:["",T.kI.required],height:["",T.kI.required],packaging_type_id:["",T.kI.required],product_id:[this.newProductId,T.kI.required]}),this.newProductFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])})}entireProducts(){this.productsList=this.products.getProducts(),this.options=this.productsList.map(e=>e.sku)}_filter(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.options.filter(a=>a.toLowerCase().includes(s))}return o}get attributes(){return this.newProductFormAttributes.get("attributes")}get sku(){return this.newProductForm.get("sku")}setParent(){this.parent=!0,console.log(this.parent)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllCategories(){this.categoriesList=this.products.getCategories()}getAllTypes(){this.typesList=this.lookup.getTypes()}saveProduct(){this.api.POST("products",this.newProductForm.value).subscribe({next:e=>{this.newProductId=e.id,this.newProductSKU=e.sku,this.newProductName=e.name,this.newProductFormPackaging.patchValue({product_id:e.id}),this.info.activity(`${this.info.getUserName()} added a new product`,this.newProductId),this.openSnackBar(e.name+" Added \u{1f603}","Okay"),this.router.navigate([e.sku])},error:e=>{this.openSnackBar("\u{1f622} "+e.error.error,"Okay"),console.log(e)}})}saveBundleProduct(e){console.log(this.newProductForm.value),this.api.POST("products-pamphlet",this.newProductForm.value).subscribe({next:o=>{this.info.activity("Created new pamphlet",0),this.openSnackBar(o.name+" Created \u{1f603}","Okay");for(let s=0;s<this.newPamphlet.length;s++)this.api.POST("link-products",{parent_id:o.id,child_id:this.newPamphlet[s],relationship:e}).subscribe({next:a=>{console.log(a)},error:a=>{this.openSnackBar("\u{1f622} "+a.message,"Okay")}});this.router.navigate([o.sku])},error:o=>{this.openSnackBar("\u{1f622} "+o.message,"Okay")}})}addToBundle(e){const o=this.productsList.find(a=>a.sku==e.option.value),s=o?.id;console.log("Product: ",o),this.newPamphlet.push(s),this.newPamphletSKUs.push(e.option.value),this.autocompleteControl.reset()}removeFromBundle(e){const s=this.productsList.find(c=>c.sku==e)?.id,a=this.newPamphlet.indexOf(s),r=this.newPamphletSKUs.indexOf(e);a>-1&&this.newPamphlet.splice(a,1),r>-1&&this.newPamphletSKUs.splice(r,1)}saveCategories(){const e=this.selectedCategories;if(e.length>0){for(let o=0;o<e.length;o++)this.api.POST("product-categories",{product_id:this.newProductId,category_id:e[o]}).subscribe({next:s=>{this.prevBtn=!0,this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:s=>{this.openSnackBar("\u{1f622} "+s.message,"Okay")}});this.nextTab()}this.openSnackBar("Please choose categories","Okay")}saveAttributes(e){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let o=this.newProductFormAttributes.getRawValue();this.api.POST(`products/update-attributes/${this.newProductId}`,o).subscribe({next:s=>{console.log(s),this.saveAttrBtnText="Attributes Saved",this.openSnackBar("Attributes Saved","Okay"),this.nextBtn=!0,this.nextTab()},error:s=>{this.openSnackBar(s.message,"Okay")}})}savePackaging(){this.api.POST("packaging",this.newProductFormPackaging.value).subscribe({next:e=>{this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}returnTypeName(e){return this.typesList[e-=1].name}onChange(e){this.files=e.target.files,console.log(this.files);for(let o=0;o<this.files.length;o++)this.files[o].size>9e6&&this.messages.push("\u{1f6ab} "+this.files[o].name+" is too large!")}onUpload(e){if(this.loading=!this.loading,console.log("Files being uploaded: ",this.files.length),this.files.length>0)for(let o=0;o<this.files.length;o++)console.log("Uploading file "+this.files[o].name),this.api.upload("uploading-file-api",{file:this.files[o],name:this.files[o].name,product_id:this.newProductId,product_sku:this.newProductSKU,type_id:e}).subscribe(s=>{"object"==typeof s&&(this.shortLink=s.link,this.loading=!1),s.type===x.dt.UploadProgress?(this.uploadProgress=Math.round(100*s.loaded/s.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`):s instanceof x.Zn&&(this.messages.push(this.files[o].name+" ploaded the file successfully."),this.info.activity(`Added ${this.files.length} files`,this.newProductId)),this.getFiles()},s=>{this.uploadProgress=0,this.messages.push(this.files[o].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}setFocusType(e){this.focusType=e.target.value}openSnackBar(e,o){this._snackBar.open(e,o)}getProductCategories(){this.api.GET(`product-categories/search/${this.newProductId}`).subscribe({next:e=>{for(let o=0;o<e.length;o++){let s=JSON.parse(e[o].attributes);this.getParents(e[o].parent);for(let a=0;a<s.length;a++)if(-1===this.attributes.value.findIndex(c=>c.attrName===s[a].attrName)){const c=this.formBuilder.group({attrName:[s[a].attrName,T.kI.required],attrValue:["0",T.kI.required]});this.attributes.push(c),this.attrCount=this.attrCount+1}}},error:e=>{console.log(e)}})}getParents(e){this.api.GET(`categories/get-parents/${e}`).subscribe({next:o=>{console.log("From parents",o);for(let s=0;s<o.length;s++){let a=JSON.parse(o[s].attributes);for(let r=0;r<a.length;r++)if(-1===this.attributes.value.findIndex(l=>l.attrName===a[r].attrName)){const l=this.formBuilder.group({attrName:[a[r].attrName,T.kI.required],attrValue:["0",T.kI.required]});this.attributes.push(l),this.attrCount=this.attrCount+1}}},error:o=>{console.log(o)}})}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}nextTab(){this.activeTabIndex=(this.activeTabIndex+1)%6,this.doneBtn=this.activeTabIndex>4,2==this.activeTabIndex&&(this.nextBtn=!1)}previousTab(){this.activeTabIndex=(this.activeTabIndex-1)%6}done(){location.reload()}getFiles(){this.api.GET(`product-files/${this.newProductId}`).subscribe({next:e=>{this.savedFiles=e,this.getProductImageOrder()},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.newProductId}`).subscribe({next:e=>{if(e.length>0){const o=JSON.parse(e[0].order_list);let s=[];for(let a=0;a<o.length;a++){const r=o[a],c=this.savedFiles.find(l=>l.id==r);s.push(c)}this.savedFiles=s}},error:e=>{console.log(e)}})}drop(e){Xn(this.savedFiles,e.previousIndex,e.currentIndex);let o=[];for(let a=0;a<this.savedFiles.length;a++)o.push(this.savedFiles[a].id);const s=JSON.stringify(o);this.api.POST("image-order",{product_id:this.newProductId,order_list:s}).subscribe({next:a=>{console.log(a),this.info.activity("Rearranged images",this.newProductId)},error:a=>{console.log(a)}})}updateFileType(e,o){this.api.POST(`product-files/update-fileType/${e}`,{type_id:o}).subscribe({next:s=>{console.log(s),this.info.activity("Updated file type",this.newProductId)},error:s=>{console.log(s)}})}filePath(e){return e.substring(7)}checkSku(e){let o=this.newProductForm.get("sku")?.status;this.invalidSku="invalid"==o?.toLocaleLowerCase()}checkedItem(e){const o=this.selectedCategories.indexOf(e);o<0?this.selectedCategories.push(e):this.selectedCategories.splice(o,1),console.log(this.selectedCategories)}checkProductName(e){console.log(e.target.value),this.similarProduct=this.products.searchProductByName(e.target.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(L.s),t.Y36(T.QS),t.Y36(F.ux),t.Y36(R.C),t.Y36(P.gz),t.Y36(P.F0),t.Y36(Xt.W),t.Y36(W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-product"]],decls:155,vars:49,consts:[["routerLink","/"],[1,"row"],[1,"col-md-9"],[3,"selectedIndex","selectedIndexChange"],["label","1. General"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"col-md-6"],["appearance","outline","style","width: 90%;",4,"ngIf"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","name","placeholder","Enter Product Name",3,"keyup"],["name",""],[4,"ngIf"],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["style","width: 90%;","appearance","outline",4,"ngIf"],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],["class","m-3",4,"ngIf"],["disabled","","label","2. Select Categories"],[1,"row","form-border"],[1,"col-md-6",2,"background-color","rgb(241, 241, 241)"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],["disabled","","label","3. Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],[4,"ngFor","ngForIn"],["formArrayName","attributes"],[4,"ngFor","ngForOf"],["disabled","","label","4. Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],[1,"m-3"],["type","hidden","formControlName","product_id"],["type","submit","mat-raised-button","","type","submit","color","primary",3,"disabled","click"],["disabled","","label","5. Upload Files"],[1,"col-md-4"],[1,"form-control",3,"change"],["type","file","multiple","",1,"form-control",3,"change"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[1,"col-md-8"],["disabled","","label","6. Upload Media"],[1,"col-md-3"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box","cdkDrag","",4,"ngFor","ngForOf"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-4","form-border"],["mat-raised-button","","type","button","class","switch-tab","color","primary","routerLink","/",4,"ngIf"],["mat-raised-button","","type","button","color","basic",1,"switch-tab",3,"disabled","click"],["style","margin-top: 1rem; background-color: rgb(255, 210, 159);",4,"ngIf"],["matInput","","formControlName","sku","placeholder","Product Code / SKU",3,"keyup"],["sku",""],["class","invalid",4,"ngIf"],["class","valid",4,"ngIf"],[1,"invalid"],[1,"valid"],[3,"value"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["type","text","placeholder","Enter SKU","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],["appearance","outline","style","margin-bottom: 1rem;",4,"ngFor","ngForOf"],["type","submit","style","float: right;","mat-raised-button","","type","submit","color","primary",3,"click",4,"ngIf"],["appearance","outline",2,"margin-bottom","1rem"],["type","text","placeholder","Search SKU","aria-label","Number","matInput","","readonly","",3,"value"],["matSuffix","",3,"click"],["target","_blank",3,"href"],["type","submit","mat-raised-button","","type","submit","color","primary",2,"float","right",3,"click"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],[1,"categories-list"],[3,"click"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","","disabled",""],[3,"formGroupName"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required","","readonly",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[1,"container"],[1,"message"],["cdkDrag","",1,"file-box"],["width","304","height","236",1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],[1,"col-md-2"],["width","140","height","160",1,"tile-img",3,"alt","src"],["mat-raised-button","","type","button","color","primary","routerLink","/",1,"switch-tab"],[2,"margin-top","1rem","background-color","rgb(255, 210, 159)"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"p")(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"div",1)(5,"div",2)(6,"mat-card")(7,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(a){return o.activeTabIndex=a}),t.TgZ(8,"mat-tab",4)(9,"form",5)(10,"div",6)(11,"div",1)(12,"div",7),t.YNc(13,vd,7,2,"mat-form-field",8),t.TgZ(14,"mat-form-field",9)(15,"mat-label"),t._uU(16,"Product Name"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(a){return o.checkProductName(a)}),t.qZA(),t.YNc(19,yd,2,0,"mat-hint",12),t.qZA(),t.TgZ(20,"mat-form-field",9)(21,"mat-label"),t._uU(22,"Product Brand"),t.qZA(),t.TgZ(23,"mat-select",13,14),t.YNc(25,Pd,2,2,"mat-option",15),t.ALo(26,"typeGroup"),t.qZA()(),t.YNc(27,wd,5,0,"mat-form-field",16),t.TgZ(28,"mat-form-field",9)(29,"mat-label"),t._uU(30,"Description"),t.qZA(),t._UZ(31,"textarea",17,18),t.qZA()(),t.TgZ(33,"div",7),t.YNc(34,Sd,12,8,"div",12),t.YNc(35,Zd,15,2,"div",19),t.qZA()()()()(),t.TgZ(36,"mat-tab",20)(37,"div",6)(38,"form")(39,"div",21)(40,"div",22)(41,"section",23)(42,"ul"),t.YNc(43,Fd,8,5,"li",24),t.ALo(44,"parent"),t.qZA()()(),t.TgZ(45,"div",7),t.YNc(46,Ud,3,0,"div",12),t.YNc(47,Rd,7,0,"div",12),t.qZA()()()()(),t.TgZ(48,"mat-tab",25)(49,"div",26)(50,"ul"),t.YNc(51,qd,2,1,"li",27),t.qZA(),t.TgZ(52,"form",5),t.ynx(53,28),t.YNc(54,Bd,14,1,"ng-container",29),t.BQk(),t.YNc(55,Hd,4,1,"div",12),t.qZA()()(),t.TgZ(56,"mat-tab",30)(57,"form",5)(58,"div",6)(59,"div",21)(60,"div",7)(61,"mat-form-field",31)(62,"mat-label"),t._uU(63,"Choose Packaging Type:"),t.qZA(),t.TgZ(64,"mat-select",32),t.YNc(65,Yd,2,2,"mat-option",15),t.ALo(66,"typeGroup"),t.qZA()(),t.TgZ(67,"mat-form-field",31)(68,"mat-label"),t._uU(69,"Weight (KG)"),t.qZA(),t._UZ(70,"input",33),t.TgZ(71,"mat-icon",34),t._uU(72,"fitness_center"),t.qZA()(),t.TgZ(73,"mat-form-field",31)(74,"mat-label"),t._uU(75,"Dimensions(cm): Length"),t.qZA(),t._UZ(76,"input",35),t.TgZ(77,"mat-icon",34),t._uU(78,"design_services"),t.qZA()(),t.TgZ(79,"mat-form-field",31)(80,"mat-label"),t._uU(81,"Dimensions(cm): Width"),t.qZA(),t._UZ(82,"input",36),t.TgZ(83,"mat-icon",34),t._uU(84,"design_services"),t.qZA()(),t.TgZ(85,"mat-form-field",31)(86,"mat-label"),t._uU(87,"Dimensions(cm): Height"),t.qZA(),t._UZ(88,"input",37),t.TgZ(89,"mat-icon",34),t._uU(90,"design_services"),t.qZA()()(),t.TgZ(91,"div",7)(92,"div",38),t._UZ(93,"input",39),t.TgZ(94,"button",40),t.NdJ("click",function(){return o.savePackaging()}),t._uU(95,"Save Packaging"),t.qZA()()()()()()(),t.TgZ(96,"mat-tab",41)(97,"div",6)(98,"div",1)(99,"div",42)(100,"select",43),t.NdJ("change",function(a){return o.setFocusType(a)}),t.YNc(101,Jd,2,2,"option",15),t.ALo(102,"typeGroup"),t.qZA(),t._UZ(103,"br"),t.TgZ(104,"input",44),t.NdJ("change",function(a){return o.onChange(a)}),t.qZA(),t._UZ(105,"br"),t.TgZ(106,"button",45),t.NdJ("click",function(){return o.onUpload("55")}),t._uU(107,"Upload File"),t.qZA(),t._UZ(108,"hr"),t.YNc(109,Qd,3,0,"div",46),t.TgZ(110,"div",47),t._UZ(111,"div",48),t.qZA(),t.YNc(112,zd,2,1,"div",49),t.qZA(),t.TgZ(113,"div",50)(114,"ul"),t.YNc(115,$d,2,1,"li",29),t.qZA()()()()(),t.TgZ(116,"mat-tab",51)(117,"div",6)(118,"div",1)(119,"div",52)(120,"div",53),t.NdJ("cdkDropListDropped",function(a){return o.drop(a)}),t.YNc(121,jd,11,6,"div",54),t.qZA()(),t.TgZ(122,"div",2)(123,"div",1),t.YNc(124,Kd,2,2,"div",55),t.qZA()()()(),t.TgZ(125,"mat-card")(126,"div",1)(127,"div",56)(128,"input",44),t.NdJ("change",function(a){return o.onChange(a)}),t.qZA(),t._UZ(129,"br"),t.TgZ(130,"button",45),t.NdJ("click",function(){return o.onUpload("47")}),t._uU(131,"Upload Media"),t.qZA()(),t.TgZ(132,"div",50),t.YNc(133,Wd,3,0,"div",46),t.TgZ(134,"div",47),t._UZ(135,"div",48),t.qZA(),t.YNc(136,th,2,1,"div",49),t.qZA()()()()(),t.TgZ(137,"div"),t.YNc(138,eh,4,0,"button",57),t.TgZ(139,"button",58),t.NdJ("click",function(){return o.nextTab()}),t._uU(140," Next "),t.TgZ(141,"mat-icon"),t._uU(142,"arrow_circle_right"),t.qZA()(),t.TgZ(143,"button",58),t.NdJ("click",function(){return o.previousTab()}),t.TgZ(144,"mat-icon"),t._uU(145,"arrow_circle_left"),t.qZA(),t._uU(146," Back "),t.qZA()()()(),t.TgZ(147,"div",52)(148,"mat-card")(149,"h2")(150,"strong"),t._uU(151),t.qZA(),t.TgZ(152,"small"),t._uU(153),t.qZA()()(),t.YNc(154,ih,10,4,"mat-card",59),t.qZA()()),2&e&&(t.xp6(3),t.hij(" / Add New ",o.newProductType,""),t.xp6(4),t.Q6J("selectedIndex",o.activeTabIndex),t.xp6(2),t.Q6J("formGroup",o.newProductForm),t.xp6(4),t.Q6J("ngIf","product"==o.newProductType),t.xp6(6),t.Q6J("ngIf",o.similarProduct),t.xp6(6),t.Q6J("ngForOf",t.xi3(26,37,o.typesList,"Brand")),t.xp6(2),t.Q6J("ngIf","product"==o.newProductType),t.xp6(7),t.Q6J("ngIf","linked-product"==o.newProductType||"presentation"==o.newProductType),t.xp6(1),t.Q6J("ngIf","product"==o.newProductType),t.xp6(8),t.Q6J("ngForOf",t.xi3(44,40,o.categoriesList,"0")),t.xp6(3),t.Q6J("ngIf",0!=o.newProductId),t.xp6(1),t.Q6J("ngIf",0==o.newProductId),t.xp6(4),t.Q6J("ngForIn",o.attributesFields),t.xp6(1),t.Q6J("formGroup",o.newProductFormAttributes),t.xp6(2),t.Q6J("ngForOf",o.attributes.controls),t.xp6(1),t.Q6J("ngIf",o.attrCount>0),t.xp6(2),t.Q6J("formGroup",o.newProductFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(66,43,o.typesList,"Packaging")),t.xp6(29),t.Q6J("disabled",!o.newProductFormPackaging.dirty),t.xp6(7),t.Q6J("ngForOf",t.xi3(102,46,o.typesList,"File")),t.xp6(8),t.Q6J("ngIf",o.loading),t.xp6(2),t.Akn(o.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",o.messages.length),t.xp6(3),t.Q6J("ngForOf",o.savedFiles),t.xp6(6),t.Q6J("ngForOf",o.savedFiles),t.xp6(3),t.Q6J("ngForOf",o.savedFiles),t.xp6(9),t.Q6J("ngIf",o.loading),t.xp6(2),t.Akn(o.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",o.messages.length),t.xp6(2),t.Q6J("ngIf",o.doneBtn),t.xp6(1),t.Q6J("disabled",!o.nextBtn),t.xp6(4),t.Q6J("disabled",!o.nextBtn),t.xp6(8),t.hij(" ",o.newProductName,""),t.xp6(2),t.Oqu(o.newProductSKU),t.xp6(1),t.Q6J("ngIf",o.similarProduct))},dependencies:[y.sg,y.O5,P.rH,P.yS,E.KE,E.bx,E.hX,E.R9,gt.Hw,Q.Nt,T._Y,T.YN,T.Kr,T.Fj,T.JJ,T.JL,T.Q7,T.F,T.oH,T.sg,T.u,T.x0,T.CE,ct.lW,V.SP,V.uX,G.gD,q.ey,K.a8,pe.oG,mi.XC,mi.ZL,vs,Ps,$.Il,$.DX,y.Ov,Re,z],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid rgb(241,241,241);padding:2rem}.switch-tab[_ngcontent-%COMP%]{margin-left:2rem;float:right;margin-top:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:green}"]}),n})();var eo=b(2673),nn=b(266);function oh(n,i){1&n&&(t.TgZ(0,"div",4)(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",5),t.qZA())}function sh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"div",7)(2,"div",49),t._uU(3),t.qZA(),t.TgZ(4,"div",50)(5,"button",51),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.productsToDisplay("missingCategories"))}),t._uU(6,"View Products"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.hij(" \u26a0 ",e.productsMissingCategories.length," of your verified products are missing categories. Please add categories to these products. ")}}function ah(n,i){if(1&n&&(t.TgZ(0,"mat-option",68),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function rh(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function ch(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",47)(2,"form",52)(3,"div",53)(4,"div",54)(5,"div",55)(6,"h3"),t._uU(7,"Pamphlet Details:"),t.qZA(),t.TgZ(8,"mat-form-field",56)(9,"mat-label"),t._uU(10,"Pamphlet Name"),t.qZA(),t._UZ(11,"input",57,58),t.TgZ(13,"mat-icon",18),t._uU(14,"create"),t.qZA()(),t.TgZ(15,"mat-form-field",56)(16,"mat-label"),t._uU(17,"Brand"),t.qZA(),t.TgZ(18,"mat-select",59,60),t.YNc(20,ah,2,2,"mat-option",61),t.ALo(21,"typeGroup"),t.qZA()(),t.TgZ(22,"mat-form-field",56)(23,"mat-label"),t._uU(24,"Description"),t.qZA(),t._UZ(25,"textarea",62,63),t.qZA()(),t.TgZ(27,"div",50)(28,"h3"),t._uU(29,"Selected Products:"),t.qZA(),t.TgZ(30,"mat-card")(31,"ul"),t.YNc(32,rh,2,1,"li",64),t.qZA()()(),t.TgZ(33,"div",65)(34,"h3",66),t._uU(35,"..."),t.qZA(),t.TgZ(36,"button",67),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.saveProduct())}),t._uU(37,"Create Pamphlet"),t.qZA()()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("formGroup",e.newProductForm),t.xp6(18),t.Q6J("ngForOf",t.xi3(21,3,e.typesList,"Brand")),t.xp6(12),t.Q6J("ngForOf",e.newPamphletSKUs)}}function lh(n,i){1&n&&t._UZ(0,"mat-progress-bar",5)}function dh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1,"Create Pamphlet"),t.qZA())}function hh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",70)(1,"span",71)(2,"mat-checkbox",72),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.addToPamphlet(r.product_id,r.sku,s))}),t._uU(3,"Add to list"),t.qZA()()()}}function uh(n,i){1&n&&t._UZ(0,"th",69)}function ph(n,i){if(1&n&&(t.TgZ(0,"td",70)(1,"a",73),t._UZ(2,"img",74),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.clean_sku,""),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/web/",e.clean_sku,"",t.LSH)}}function gh(n,i){1&n&&(t.TgZ(0,"th",69)(1,"span",75),t._uU(2,"SKU"),t.qZA()())}function _h(n,i){if(1&n&&(t.TgZ(0,"td",70)(1,"a",73),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.clean_sku,""),t.xp6(1),t.Oqu(e.sku)}}function fh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Name "),t.qZA())}function mh(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function bh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Brand "),t.qZA())}function xh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",76),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectBrand(r.getBrandName(a.brand_type_id)))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function Ch(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Description "),t.qZA())}function vh(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function yh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Active "),t.qZA())}function Ph(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is active"))}),t.TgZ(1,"mat-icon",79),t._uU(2,"check_circle"),t.qZA()()}}function wh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Th(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,Ph,3,0,"span",77),t.YNc(2,wh,3,0,"span",77),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function kh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," In Development "),t.qZA())}function Ah(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is in development"))}),t.TgZ(1,"mat-icon",81),t._uU(2,"check_circle"),t.qZA()()}}function Mh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Sh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,Ah,3,0,"span",77),t.YNc(2,Mh,3,0,"span",77),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Zh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," EOL "),t.qZA())}function Ih(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is in end of life"))}),t.TgZ(1,"mat-icon",82),t._uU(2,"check_circle"),t.qZA()()}}function Dh(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",78),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Oh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,Ih,3,0,"span",77),t.YNc(2,Dh,3,0,"span",77),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function Lh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Updated "),t.qZA())}function Nh(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Eh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Created "),t.qZA())}function Fh(n,i){if(1&n&&(t.TgZ(0,"td",70),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Uh(n,i){1&n&&(t.TgZ(0,"th",69),t._uU(1," Verified "),t.qZA())}function Rh(n,i){1&n&&(t.TgZ(0,"span")(1,"mat-icon",79),t._uU(2,"check_circle"),t.qZA()())}function qh(n,i){1&n&&(t.TgZ(0,"span")(1,"mat-icon",80),t._uU(2,"radio_button_unchecked"),t.qZA()())}function Bh(n,i){if(1&n&&(t.TgZ(0,"td",70),t.YNc(1,Rh,3,0,"span",3),t.YNc(2,qh,3,0,"span",3),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.verified),t.xp6(1),t.Q6J("ngIf",0==e.verified)}}function Hh(n,i){1&n&&t._UZ(0,"th",69)}function Yh(n,i){if(1&n&&(t.TgZ(0,"td",70)(1,"a",83),t._uU(2," View Details "),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.clean_sku,"")}}function Jh(n,i){1&n&&t._UZ(0,"tr",84)}function Qh(n,i){1&n&&t._UZ(0,"tr",85)}function Gh(n,i){if(1&n&&(t.TgZ(0,"tr",86)(1,"td",87),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(27);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const zh=function(){return[10,25,50,100]};function $h(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"p")(2,"a",6),t._uU(3,"All Products"),t.qZA(),t._uU(4," / Product Manager / My Products"),t.qZA(),t.TgZ(5,"div",7)(6,"div",8)(7,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.productsToDisplay("active"))}),t.TgZ(8,"mat-icon"),t._uU(9,"check_circle_outline"),t.qZA(),t._uU(10," Active Products "),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.productsToDisplay("verified"))}),t.TgZ(12,"mat-icon"),t._uU(13,"verified"),t.qZA(),t._uU(14," Verfied Products "),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.productsToDisplay("unverified"))}),t.TgZ(16,"mat-icon"),t._uU(17,"do_not_disturb"),t.qZA(),t._uU(18," Unverfied Products "),t.qZA()()(),t.YNc(19,sh,7,1,"div",12),t.YNc(20,ch,38,6,"div",13),t.TgZ(21,"div",7)(22,"div",14)(23,"mat-form-field",15)(24,"mat-label"),t._uU(25,"Search"),t.qZA(),t.TgZ(26,"input",16,17),t.NdJ("keyup",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.applyFilter(s))}),t.qZA(),t.TgZ(28,"mat-icon",18),t._uU(29,"search"),t.qZA()(),t.TgZ(30,"span",19),t._uU(31),t.qZA(),t.TgZ(32,"div",20)(33,"span",21)(34,"mat-checkbox",22),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.displayDates=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.showDates(s))}),t._uU(35,"More info"),t.qZA()(),t.TgZ(36,"span",21)(37,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.eolProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(38,"EOL"),t.qZA()(),t.TgZ(39,"span",21)(40,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.developmentProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(41,"In Development"),t.qZA()(),t.TgZ(42,"span",21)(43,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.activeProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(44,"Active"),t.qZA()(),t.TgZ(45,"span",21)(46,"mat-checkbox",23),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.allProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(47,"All"),t.qZA()(),t.YNc(48,lh,1,0,"mat-progress-bar",24),t.TgZ(49,"table",25,26),t.NdJ("matSortChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.announceSortChange(s))}),t.ynx(51,27),t.YNc(52,dh,2,0,"th",28),t.YNc(53,hh,4,0,"td",29),t.BQk(),t.ynx(54,30),t.YNc(55,uh,1,0,"th",28),t.YNc(56,ph,3,2,"td",29),t.BQk(),t.ynx(57,31),t.YNc(58,gh,3,0,"th",28),t.YNc(59,_h,3,2,"td",29),t.BQk(),t.ynx(60,32),t.YNc(61,fh,2,0,"th",28),t.YNc(62,mh,2,1,"td",29),t.BQk(),t.ynx(63,33),t.YNc(64,bh,2,0,"th",28),t.YNc(65,xh,2,1,"td",34),t.BQk(),t.ynx(66,35),t.YNc(67,Ch,2,0,"th",28),t.YNc(68,vh,2,1,"td",29),t.BQk(),t.ynx(69,36),t.YNc(70,yh,2,0,"th",28),t.YNc(71,Th,3,2,"td",29),t.BQk(),t.ynx(72,37),t.YNc(73,kh,2,0,"th",28),t.YNc(74,Sh,3,2,"td",29),t.BQk(),t.ynx(75,38),t.YNc(76,Zh,2,0,"th",28),t.YNc(77,Oh,3,2,"td",29),t.BQk(),t.ynx(78,39),t.YNc(79,Lh,2,0,"th",28),t.YNc(80,Nh,3,3,"td",29),t.BQk(),t.ynx(81,40),t.YNc(82,Eh,2,0,"th",28),t.YNc(83,Fh,3,3,"td",29),t.BQk(),t.ynx(84,41),t.YNc(85,Uh,2,0,"th",28),t.YNc(86,Bh,3,2,"td",29),t.BQk(),t.ynx(87,42),t.YNc(88,Hh,1,0,"th",28),t.YNc(89,Yh,3,1,"td",29),t.BQk(),t.YNc(90,Jh,1,0,"tr",43),t.YNc(91,Qh,1,0,"tr",44),t.YNc(92,Gh,3,1,"tr",45),t.qZA(),t._UZ(93,"mat-paginator",46),t.qZA()(),t._UZ(94,"div",47),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(7),t.s9C("matBadge",e.productsList.length),t.MGl("matTooltip","",e.productsList.length," products"),t.xp6(4),t.s9C("matBadge",e.verifiedProducts.length),t.MGl("matTooltip","",e.verifiedProducts.length," products"),t.xp6(4),t.s9C("matBadge",e.productsList.length-e.verifiedProducts.length),t.MGl("matTooltip","",e.productsList.length," products"),t.xp6(4),t.Q6J("ngIf",e.productsMissingCategories.length>0),t.xp6(1),t.Q6J("ngIf",e.showNewPamphletPanel),t.xp6(11),t.Oqu(e.productsViewInfo),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(41),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(19,zh))}}class Je extends Ki._k{constructor(i,e,o,s,a,r,c,l,d,h,u,p){super(),this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=a,this._snackBar=r,this._liveAnnouncer=c,this.info=l,this.router=d,this.formBuilder=h,this.lookup=u,this.products=p,this.productsList=[],this.categoriesList=[],this.primaryCategoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","verified","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.newPamphlet=[],this.newPamphletSKUs=[],this.showNewPamphletPanel=!1,this.productManagerProducts=[],this.productsMissingCategories=[],this.productManagerRole=!1,this.verifiedProducts=[],this.info.isUserLoggedIn.subscribe(g=>{this.loggedIn=g})}ngOnInit(){this.productManagerRole=this.info.role(88),window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.newProductForm=this.formBuilder.group({name:["",T.kI.required],brand_type_id:["",T.kI.required],description:["",T.kI.required]}),this.info.auth()}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.info.setLoadingInfo("Loading your products...","info"),this.productsLoader=!0,this.api.GET(`product-manager/products/${this.info.getUserId()}`).subscribe({next:i=>{this.productsList=i,this.verifiedProducts=this.productsList.filter(e=>1==e.verified),this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Your products loaded successfully","info"),this.checkProductCategories()},error:i=>{this.openSnackBar("Failed to connect to the server: "+i.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+i.message,"danger")}})}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getAllTypes(){this.info.setLoadingInfo("Preparing, please wait...","info"),this.typesList=this.lookup.getTypes(),this.api.GET("types").subscribe({next:i=>{this.lookup.setTypes(i),this.typesList=this.lookup.getTypes(),this.info.setLoadingInfo("","success")},error:i=>{this.openSnackBar("Failed to communicate with the server: "+i.message,"Okay")}})}getBrandName(i){try{let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}catch(e){return this.info.errorHandler(e),""}}permission(i){return this.info.setLoadingInfo("checking permissions...","info"),!!this.info.role(i)}iconClick(i){this.info.setLoadingInfo("","info"),this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","verified","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","verified","view"]}selectBrand(i){this.router.navigate(["/brand",i.toLowerCase()])}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?(e=this.productsList,this.info.setLoadingInfo("Showing all your products.","info")):this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList,this.info.setLoadingInfo("Showing Active, EOL, and In Development products","info")):this.activeProducts&&this.developmentProducts?(e=this.productsList.filter(o=>1==o.is_in_development&&1==o.is_active),this.info.setLoadingInfo("Showing Active and In Development products","info")):this.activeProducts&&this.eolProducts?(e=this.productsList.filter(o=>1==o.is_active&&1==o.is_eol),this.info.setLoadingInfo("Showing Active and EOL products","info")):this.developmentProducts&&this.eolProducts?(e=this.productsList.filter(o=>1==o.is_in_development&&1==o.is_eol),this.info.setLoadingInfo("Showing EOL and In Development products","info")):this.activeProducts?(e=this.productsList.filter(o=>1==o.is_active),this.info.setLoadingInfo("Showing Active products","info")):this.developmentProducts?(e=this.productsList.filter(o=>1==o.is_in_development),this.info.setLoadingInfo("Showing  In Development products","info")):(e=this.productsList.filter(o=>1==o.is_eol),this.info.setLoadingInfo("Showing EOL products","info")),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.info.setLoadingInfo("Loading categories","info"),this.api.GET("categories").subscribe({next:i=>{this.products.setCategories(i),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=i.filter(e=>"0"==e.parent),this.info.setLoadingInfo("Categories loaded","success")},error:i=>{this.info.setLoadingInfo(i,"warn")}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}showPamphletCheckboxes(){this.showNewPamphletPanel=!this.showNewPamphletPanel,this.displayedColumns=this.showNewPamphletPanel?["pamphlet","thumbnail","sku","name","brand","description","verified","view"]:["thumbnail","sku","name","brand","description","verified","view"]}productsToDisplay(i){let e=[];"active"==i&&(e=this.productsList.filter(o=>1==o.is_active),this.productsViewInfo="Showing: Active Products"),"verified"==i&&(e=this.productsList.filter(o=>1==o.verified),this.productsViewInfo="Showing: Verified Products"),"unverified"==i&&(e=this.productsList.filter(o=>0==o.verified),this.productsViewInfo="Showing: Unverified Products"),"missingCategories"==i&&(e=this.productsMissingCategories,this.productsViewInfo="Showing: Verified Products with missing categories"),this.dataSource=new f.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkProductCategories(){this.info.setLoadingInfo("Loading product categories...","success"),this.productsLoader=!0,this.api.GET(`product-manager-catrgories/products/${this.info.getUserId()}`).subscribe({next:i=>{console.log(i),this.productsMissingCategories=i,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Product categories loaded","success")},error:i=>{}})}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}addToPamphlet(i,e,o){}saveProduct(){}}function Qe(n){return n+.5|0}Je.\u0275fac=function(i){return new(i||Je)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(I.Kd),t.Y36(R.C),t.Y36(P.F0),t.Y36(T.QS),t.Y36(Xt.W),t.Y36(W))},Je.\u0275cmp=t.Xpm({type:Je,selectors:[["app-product-manager"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(w.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},features:[t.qOj],decls:4,vars:2,consts:[[2,"width","100%"],[1,"loadingInfo"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],["routerLink","/"],[1,"row"],[1,"col-12","col-md-12"],["mat-raised-button","","color","accent",1,"p-2",3,"matBadge","matTooltip","click"],["mat-raised-button","","color","accent",1,"p-2",2,"margin-left","1rem",3,"matBadge","matTooltip","click"],["mat-raised-button","","color","warn",1,"p-2",2,"margin-left","1rem",3,"matBadge","matTooltip","click"],["class","card warning",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-12","mt-1"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[2,"float","right","margin-left","3rem","color","rgb(145, 194, 211)"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","pamphlet"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","verified"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],[1,"card","warning"],[1,"col-md-8"],[1,"col-md-4"],["mat-stroked-button","",2,"float","right",3,"click"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"row",2,"background-color","#f7f7f7","padding","1rem","border","1px solid rgb(231, 231, 231)"],[1,"col-md-6"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["rows","3","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[4,"ngFor","ngForOf"],[1,"col-md-2"],[2,"color","#ffff"],["type","submit","mat-raised-button","","type","submit","color","primary",2,"float","right",3,"click"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"padding","9px","background-color","#f0f0f0","color","green"],["color","primary",1,"table-setting",3,"change"],["target","_blank",3,"routerLink"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","target","_blank","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.qZA(),t.YNc(2,oh,4,0,"div",2),t.YNc(3,$h,95,20,"div",3)),2&i&&(t.xp6(2),t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},dependencies:[y.sg,y.O5,P.yS,E.KE,E.hX,E.R9,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,f.Ee,C.NW,gt.Hw,Q.Nt,T._Y,T.Fj,T.JJ,T.JL,T.On,T.sg,T.u,ct.lW,ct.zs,G.gD,q.ey,K.a8,te.pW,w.YE,w.nU,ye.jt,pe.oG,eo.k,nn.gM,y.uU,Re],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.loadingInfo[_ngcontent-%COMP%]{float:right}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.warning[_ngcontent-%COMP%]{background-color:#ffa600d5;color:#000;padding:9px;margin-bottom:1rem;margin-top:1rem}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%]{width:100%}.table-category[_ngcontent-%COMP%]{width:100%;float:none}.mat-column-id[_ngcontent-%COMP%], .sku-title[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,li.gn)([(0,di.bH)()],Je.prototype,"blockUI",void 0);const oe=(n,i,e)=>Math.max(Math.min(n,e),i);function bi(n){return oe(Qe(2.55*n),0,255)}function ge(n){return oe(Qe(255*n),0,255)}function se(n){return oe(Qe(n/2.55)/100,0,1)}function ws(n){return oe(Qe(100*n),0,100)}const Ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},io=[..."0123456789ABCDEF"],Vh=n=>io[15&n],jh=n=>io[(240&n)>>4]+io[15&n],on=n=>(240&n)>>4==(15&n);const eu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ts(n,i,e){const o=i*Math.min(e,1-e),s=(a,r=(a+n/30)%12)=>e-o*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function iu(n,i,e){const o=(s,a=(s+n/60)%6)=>e-e*i*Math.max(Math.min(a,4-a,1),0);return[o(5),o(3),o(1)]}function nu(n,i,e){const o=Ts(n,1,.5);let s;for(i+e>1&&(s=1/(i+e),i*=s,e*=s),s=0;s<3;s++)o[s]*=1-i-e,o[s]+=i;return o}function no(n){const e=n.r/255,o=n.g/255,s=n.b/255,a=Math.max(e,o,s),r=Math.min(e,o,s),c=(a+r)/2;let l,d,h;return a!==r&&(h=a-r,d=c>.5?h/(2-a-r):h/(a+r),l=function ou(n,i,e,o,s){return n===s?(i-e)/o+(i<e?6:0):i===s?(e-n)/o+2:(n-i)/o+4}(e,o,s,h,a),l=60*l+.5),[0|l,d||0,c]}function oo(n,i,e,o){return(Array.isArray(i)?n(i[0],i[1],i[2]):n(i,e,o)).map(ge)}function so(n,i,e){return oo(Ts,n,i,e)}function ks(n){return(n%360+360)%360}const As={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ms={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let sn;const uu=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ao=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Ge=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function an(n,i,e){if(n){let o=no(n);o[i]=Math.max(0,Math.min(o[i]+o[i]*e,0===i?360:1)),o=so(o),n.r=o[0],n.g=o[1],n.b=o[2]}}function Ss(n,i){return n&&Object.assign(i||{},n)}function Zs(n){var i={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(i={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(i.a=ge(n[3]))):(i=Ss(n,{r:0,g:0,b:0,a:1})).a=ge(i.a),i}function fu(n){return"r"===n.charAt(0)?function pu(n){const i=uu.exec(n);let o,s,a,e=255;if(i){if(i[7]!==o){const r=+i[7];e=i[8]?bi(r):oe(255*r,0,255)}return o=+i[1],s=+i[3],a=+i[5],o=255&(i[2]?bi(o):oe(o,0,255)),s=255&(i[4]?bi(s):oe(s,0,255)),a=255&(i[6]?bi(a):oe(a,0,255)),{r:o,g:s,b:a,a:e}}}(n):function ru(n){const i=eu.exec(n);let o,e=255;if(!i)return;i[5]!==o&&(e=i[6]?bi(+i[5]):ge(+i[5]));const s=ks(+i[2]),a=+i[3]/100,r=+i[4]/100;return o="hwb"===i[1]?function su(n,i,e){return oo(nu,n,i,e)}(s,a,r):"hsv"===i[1]?function au(n,i,e){return oo(iu,n,i,e)}(s,a,r):so(s,a,r),{r:o[0],g:o[1],b:o[2],a:e}}(n)}class ze{constructor(i){if(i instanceof ze)return i;const e=typeof i;let o;"object"===e?o=Zs(i):"string"===e&&(o=function Wh(n){var e,i=n.length;return"#"===n[0]&&(4===i||5===i?e={r:255&17*Ht[n[1]],g:255&17*Ht[n[2]],b:255&17*Ht[n[3]],a:5===i?17*Ht[n[4]]:255}:(7===i||9===i)&&(e={r:Ht[n[1]]<<4|Ht[n[2]],g:Ht[n[3]]<<4|Ht[n[4]],b:Ht[n[5]]<<4|Ht[n[6]],a:9===i?Ht[n[7]]<<4|Ht[n[8]]:255})),e}(i)||function hu(n){sn||(sn=function du(){const n={},i=Object.keys(Ms),e=Object.keys(As);let o,s,a,r,c;for(o=0;o<i.length;o++){for(r=c=i[o],s=0;s<e.length;s++)a=e[s],c=c.replace(a,As[a]);a=parseInt(Ms[r],16),n[c]=[a>>16&255,a>>8&255,255&a]}return n}(),sn.transparent=[0,0,0,0]);const i=sn[n.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||fu(i)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var i=Ss(this._rgb);return i&&(i.a=se(i.a)),i}set rgb(i){this._rgb=Zs(i)}rgbString(){return this._valid?function gu(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${se(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function tu(n){var i=(n=>on(n.r)&&on(n.g)&&on(n.b)&&on(n.a))(n)?Vh:jh;return n?"#"+i(n.r)+i(n.g)+i(n.b)+((n,i)=>n<255?i(n):"")(n.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function lu(n){if(!n)return;const i=no(n),e=i[0],o=ws(i[1]),s=ws(i[2]);return n.a<255?`hsla(${e}, ${o}%, ${s}%, ${se(n.a)})`:`hsl(${e}, ${o}%, ${s}%)`}(this._rgb):void 0}mix(i,e){if(i){const o=this.rgb,s=i.rgb;let a;const r=e===a?.5:e,c=2*r-1,l=o.a-s.a,d=((c*l==-1?c:(c+l)/(1+c*l))+1)/2;a=1-d,o.r=255&d*o.r+a*s.r+.5,o.g=255&d*o.g+a*s.g+.5,o.b=255&d*o.b+a*s.b+.5,o.a=r*o.a+(1-r)*s.a,this.rgb=o}return this}interpolate(i,e){return i&&(this._rgb=function _u(n,i,e){const o=Ge(se(n.r)),s=Ge(se(n.g)),a=Ge(se(n.b));return{r:ge(ao(o+e*(Ge(se(i.r))-o))),g:ge(ao(s+e*(Ge(se(i.g))-s))),b:ge(ao(a+e*(Ge(se(i.b))-a))),a:n.a+e*(i.a-n.a)}}(this._rgb,i._rgb,e)),this}clone(){return new ze(this.rgb)}alpha(i){return this._rgb.a=ge(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=Qe(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return an(this._rgb,2,i),this}darken(i){return an(this._rgb,2,-i),this}saturate(i){return an(this._rgb,1,i),this}desaturate(i){return an(this._rgb,1,-i),this}rotate(i){return function cu(n,i){var e=no(n);e[0]=ks(e[0]+i),e=so(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,i),this}}function ae(){}const mu=(()=>{let n=0;return()=>n++})();function dt(n){return null===n||typeof n>"u"}function bt(n){if(Array.isArray&&Array.isArray(n))return!0;const i=Object.prototype.toString.call(n);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function rt(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function yt(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Ft(n,i){return yt(n)?n:i}function nt(n,i){return typeof n>"u"?i:n}const Is=(n,i)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*i:+n;function mt(n,i,e){if(n&&"function"==typeof n.call)return n.apply(e,i)}function _t(n,i,e,o){let s,a,r;if(bt(n))if(a=n.length,o)for(s=a-1;s>=0;s--)i.call(e,n[s],s);else for(s=0;s<a;s++)i.call(e,n[s],s);else if(rt(n))for(r=Object.keys(n),a=r.length,s=0;s<a;s++)i.call(e,n[r[s]],r[s])}function rn(n,i){let e,o,s,a;if(!n||!i||n.length!==i.length)return!1;for(e=0,o=n.length;e<o;++e)if(s=n[e],a=i[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function cn(n){if(bt(n))return n.map(cn);if(rt(n)){const i=Object.create(null),e=Object.keys(n),o=e.length;let s=0;for(;s<o;++s)i[e[s]]=cn(n[e[s]]);return i}return n}function Ds(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function xu(n,i,e,o){if(!Ds(n))return;const s=i[n],a=e[n];rt(s)&&rt(a)?xi(s,a,o):i[n]=cn(a)}function xi(n,i,e){const o=bt(i)?i:[i],s=o.length;if(!rt(n))return n;const a=(e=e||{}).merger||xu;let r;for(let c=0;c<s;++c){if(r=o[c],!rt(r))continue;const l=Object.keys(r);for(let d=0,h=l.length;d<h;++d)a(l[d],n,r,e)}return n}function Ci(n,i){return xi(n,i,{merger:Cu})}function Cu(n,i,e){if(!Ds(n))return;const o=i[n],s=e[n];rt(o)&&rt(s)?Ci(o,s):Object.prototype.hasOwnProperty.call(i,n)||(i[n]=cn(s))}const Os={"":n=>n,x:n=>n.x,y:n=>n.y};function _e(n,i){return(Os[i]||(Os[i]=function yu(n){const i=function vu(n){const i=n.split("."),e=[];let o="";for(const s of i)o+=s,o.endsWith("\\")?o=o.slice(0,-1)+".":(e.push(o),o="");return e}(n);return e=>{for(const o of i){if(""===o)break;e=e&&e[o]}return e}}(i)))(n)}function ro(n){return n.charAt(0).toUpperCase()+n.slice(1)}const vi=n=>typeof n<"u",fe=n=>"function"==typeof n,Ls=(n,i)=>{if(n.size!==i.size)return!1;for(const e of n)if(!i.has(e))return!1;return!0},Ct=Math.PI,xt=2*Ct,wu=xt+Ct,ln=Number.POSITIVE_INFINITY,Tu=Ct/180,Pt=Ct/2,Te=Ct/4,Ns=2*Ct/3,me=Math.log10,ee=Math.sign;function yi(n,i,e){return Math.abs(n-i)<e}function Es(n){const i=Math.round(n);n=yi(n,i,n/1e3)?i:n;const e=Math.pow(10,Math.floor(me(n))),o=n/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function $e(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Fs(n,i,e){let o,s,a;for(o=0,s=n.length;o<s;o++)a=n[o][e],isNaN(a)||(i.min=Math.min(i.min,a),i.max=Math.max(i.max,a))}function Gt(n){return n*(Ct/180)}function co(n){return n*(180/Ct)}function Us(n){if(!yt(n))return;let i=1,e=0;for(;Math.round(n*i)/i!==n;)i*=10,e++;return e}function Rs(n,i){const e=i.x-n.x,o=i.y-n.y,s=Math.sqrt(e*e+o*o);let a=Math.atan2(o,e);return a<-.5*Ct&&(a+=xt),{angle:a,distance:s}}function lo(n,i){return Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2))}function Mu(n,i){return(n-i+wu)%xt-Ct}function Ut(n){return(n%xt+xt)%xt}function Pi(n,i,e,o){const s=Ut(n),a=Ut(i),r=Ut(e),c=Ut(a-s),l=Ut(r-s),d=Ut(s-a),h=Ut(s-r);return s===a||s===r||o&&a===r||c>l&&d<h}function At(n,i,e){return Math.max(i,Math.min(e,n))}function re(n,i,e,o=1e-6){return n>=Math.min(i,e)-o&&n<=Math.max(i,e)+o}function ho(n,i,e){e=e||(r=>n[r]<i);let a,o=n.length-1,s=0;for(;o-s>1;)a=s+o>>1,e(a)?s=a:o=a;return{lo:s,hi:o}}const ce=(n,i,e,o)=>ho(n,e,o?s=>{const a=n[s][i];return a<e||a===e&&n[s+1][i]===e}:s=>n[s][i]<e),Zu=(n,i,e)=>ho(n,e,o=>n[o][i]>=e),qs=["push","pop","shift","splice","unshift"];function Bs(n,i){const e=n._chartjs;if(!e)return;const o=e.listeners,s=o.indexOf(i);-1!==s&&o.splice(s,1),!(o.length>0)&&(qs.forEach(a=>{delete n[a]}),delete n._chartjs)}function Hs(n){const i=new Set(n);return i.size===n.length?n:Array.from(i)}const Ys=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Js(n,i){let e=[],o=!1;return function(...s){e=s,o||(o=!0,Ys.call(window,()=>{o=!1,n.apply(i,e)}))}}const uo=n=>"start"===n?"left":"end"===n?"right":"center",Zt=(n,i,e)=>"start"===n?i:"end"===n?e:(i+e)/2;function Qs(n,i,e){const o=i.length;let s=0,a=o;if(n._sorted){const{iScale:r,_parsed:c}=n,l=r.axis,{min:d,max:h,minDefined:u,maxDefined:p}=r.getUserBounds();u&&(s=At(Math.min(ce(c,r.axis,d).lo,e?o:ce(i,l,r.getPixelForValue(d)).lo),0,o-1)),a=p?At(Math.max(ce(c,r.axis,h,!0).hi+1,e?0:ce(i,l,r.getPixelForValue(h),!0).hi+1),s,o)-s:o-s}return{start:s,count:a}}function Gs(n){const{xScale:i,yScale:e,_scaleRanges:o}=n,s={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!o)return n._scaleRanges=s,!0;const a=o.xmin!==i.min||o.xmax!==i.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,s),a}const dn=n=>0===n||1===n,zs=(n,i,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-i)*xt/e),$s=(n,i,e)=>Math.pow(2,-10*n)*Math.sin((n-i)*xt/e)+1,wi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Pt),easeOutSine:n=>Math.sin(n*Pt),easeInOutSine:n=>-.5*(Math.cos(Ct*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>dn(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>dn(n)?n:zs(n,.075,.3),easeOutElastic:n=>dn(n)?n:$s(n,.075,.3),easeInOutElastic:n=>dn(n)?n:n<.5?.5*zs(2*n,.1125,.45):.5+.5*$s(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let i=1.70158;return(n/=.5)<1?n*n*((1+(i*=1.525))*n-i)*.5:.5*((n-=2)*n*((1+(i*=1.525))*n+i)+2)},easeInBounce:n=>1-wi.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*wi.easeInBounce(2*n):.5*wi.easeOutBounce(2*n-1)+.5};function po(n){if(n&&"object"==typeof n){const i=n.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function Vs(n){return po(n)?n:new ze(n)}function go(n){return po(n)?n:new ze(n).saturate(.5).darken(.1).hexString()}const Nu=["x","y","borderWidth","radius","tension"],Eu=["color","borderColor","backgroundColor"],js=new Map;function Ti(n,i,e){return function Ru(n,i){i=i||{};const e=n+JSON.stringify(i);let o=js.get(e);return o||(o=new Intl.NumberFormat(n,i),js.set(e,o)),o}(i,e).format(n)}const Ks={values:n=>bt(n)?n:""+n,numeric(n,i,e){if(0===n)return"0";const o=this.chart.options.locale;let s,a=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),a=function qu(n,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const r=me(Math.abs(a)),c=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(l,this.options.ticks.format),Ti(n,o,l)},logarithmic(n,i,e){if(0===n)return"0";const o=e[i].significand||n/Math.pow(10,Math.floor(me(n)));return[1,2,3,5,10,15].includes(o)||i>.8*e.length?Ks.numeric.call(this,n,i,e):""}};var hn={formatters:Ks};const ke=Object.create(null),_o=Object.create(null);function ki(n,i){if(!i)return n;const e=i.split(".");for(let o=0,s=e.length;o<s;++o){const a=e[o];n=n[a]||(n[a]=Object.create(null))}return n}function fo(n,i,e){return"string"==typeof i?xi(ki(n,i),e):xi(ki(n,""),i)}class Hu{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,s)=>go(s.backgroundColor),this.hoverBorderColor=(o,s)=>go(s.borderColor),this.hoverColor=(o,s)=>go(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return fo(this,i,e)}get(i){return ki(this,i)}describe(i,e){return fo(_o,i,e)}override(i,e){return fo(ke,i,e)}route(i,e,o,s){const a=ki(this,i),r=ki(this,o),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[c],d=r[s];return rt(l)?Object.assign({},d,l):nt(l,d)},set(l){this[c]=l}}})}apply(i){i.forEach(e=>e(this))}}var wt=new Hu({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Fu(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),n.set("animations",{colors:{type:"color",properties:Eu},numbers:{type:"number",properties:Nu}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function Uu(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Bu(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function un(n,i,e,o,s){let a=i[s];return a||(a=i[s]=n.measureText(s).width,e.push(s)),a>o&&(o=a),o}function Ju(n,i,e,o){let s=(o=o||{}).data=o.data||{},a=o.garbageCollect=o.garbageCollect||[];o.font!==i&&(s=o.data={},a=o.garbageCollect=[],o.font=i),n.save(),n.font=i;let r=0;const c=e.length;let l,d,h,u,p;for(l=0;l<c;l++)if(u=e[l],null==u||bt(u)){if(bt(u))for(d=0,h=u.length;d<h;d++)p=u[d],null!=p&&!bt(p)&&(r=un(n,s,a,r,p))}else r=un(n,s,a,r,u);n.restore();const g=a.length/2;if(g>e.length){for(l=0;l<g;l++)delete s[a[l]];a.splice(0,g)}return r}function Ae(n,i,e){const o=n.currentDevicePixelRatio,s=0!==e?Math.max(e/2,.5):0;return Math.round((i-s)*o)/o+s}function Ws(n,i){(i=i||n.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,n.width,n.height),i.restore()}function mo(n,i,e,o){Xs(n,i,e,o,null)}function Xs(n,i,e,o,s){let a,r,c,l,d,h,u,p;const g=i.pointStyle,_=i.rotation,m=i.radius;let v=(_||0)*Tu;if(g&&"object"==typeof g&&(a=g.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(e,o),n.rotate(v),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void n.restore();if(!(isNaN(m)||m<=0)){switch(n.beginPath(),g){default:s?n.ellipse(e,o,s/2,m,0,0,xt):n.arc(e,o,m,0,xt),n.closePath();break;case"triangle":h=s?s/2:m,n.moveTo(e+Math.sin(v)*h,o-Math.cos(v)*m),v+=Ns,n.lineTo(e+Math.sin(v)*h,o-Math.cos(v)*m),v+=Ns,n.lineTo(e+Math.sin(v)*h,o-Math.cos(v)*m),n.closePath();break;case"rectRounded":d=.516*m,l=m-d,r=Math.cos(v+Te)*l,u=Math.cos(v+Te)*(s?s/2-d:l),c=Math.sin(v+Te)*l,p=Math.sin(v+Te)*(s?s/2-d:l),n.arc(e-u,o-c,d,v-Ct,v-Pt),n.arc(e+p,o-r,d,v-Pt,v),n.arc(e+u,o+c,d,v,v+Pt),n.arc(e-p,o+r,d,v+Pt,v+Ct),n.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*m,h=s?s/2:l,n.rect(e-h,o-l,2*h,2*l);break}v+=Te;case"rectRot":u=Math.cos(v)*(s?s/2:m),r=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(s?s/2:m),n.moveTo(e-u,o-c),n.lineTo(e+p,o-r),n.lineTo(e+u,o+c),n.lineTo(e-p,o+r),n.closePath();break;case"crossRot":v+=Te;case"cross":u=Math.cos(v)*(s?s/2:m),r=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(s?s/2:m),n.moveTo(e-u,o-c),n.lineTo(e+u,o+c),n.moveTo(e+p,o-r),n.lineTo(e-p,o+r);break;case"star":u=Math.cos(v)*(s?s/2:m),r=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(s?s/2:m),n.moveTo(e-u,o-c),n.lineTo(e+u,o+c),n.moveTo(e+p,o-r),n.lineTo(e-p,o+r),v+=Te,u=Math.cos(v)*(s?s/2:m),r=Math.cos(v)*m,c=Math.sin(v)*m,p=Math.sin(v)*(s?s/2:m),n.moveTo(e-u,o-c),n.lineTo(e+u,o+c),n.moveTo(e+p,o-r),n.lineTo(e-p,o+r);break;case"line":r=s?s/2:Math.cos(v)*m,c=Math.sin(v)*m,n.moveTo(e-r,o-c),n.lineTo(e+r,o+c);break;case"dash":n.moveTo(e,o),n.lineTo(e+Math.cos(v)*(s?s/2:m),o+Math.sin(v)*m);break;case!1:n.closePath()}n.fill(),i.borderWidth>0&&n.stroke()}}function le(n,i,e){return e=e||.5,!i||n&&n.x>i.left-e&&n.x<i.right+e&&n.y>i.top-e&&n.y<i.bottom+e}function pn(n,i){n.save(),n.beginPath(),n.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),n.clip()}function gn(n){n.restore()}function Qu(n,i,e,o,s){if(!i)return n.lineTo(e.x,e.y);if("middle"===s){const a=(i.x+e.x)/2;n.lineTo(a,i.y),n.lineTo(a,e.y)}else"after"===s!=!!o?n.lineTo(i.x,e.y):n.lineTo(e.x,i.y);n.lineTo(e.x,e.y)}function Gu(n,i,e,o){if(!i)return n.lineTo(e.x,e.y);n.bezierCurveTo(o?i.cp1x:i.cp2x,o?i.cp1y:i.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function $u(n,i,e,o,s){if(s.strikethrough||s.underline){const a=n.measureText(o),r=i-a.actualBoundingBoxLeft,c=i+a.actualBoundingBoxRight,l=e-a.actualBoundingBoxAscent,d=e+a.actualBoundingBoxDescent,h=s.strikethrough?(l+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(r,h),n.lineTo(c,h),n.stroke()}}function Vu(n,i){const e=n.fillStyle;n.fillStyle=i.color,n.fillRect(i.left,i.top,i.width,i.height),n.fillStyle=e}function Me(n,i,e,o,s,a={}){const r=bt(i)?i:[i],c=a.strokeWidth>0&&""!==a.strokeColor;let l,d;for(n.save(),n.font=s.string,function zu(n,i){i.translation&&n.translate(i.translation[0],i.translation[1]),dt(i.rotation)||n.rotate(i.rotation),i.color&&(n.fillStyle=i.color),i.textAlign&&(n.textAlign=i.textAlign),i.textBaseline&&(n.textBaseline=i.textBaseline)}(n,a),l=0;l<r.length;++l)d=r[l],a.backdrop&&Vu(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),dt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,e,o,a.maxWidth)),n.fillText(d,e,o,a.maxWidth),$u(n,e,o,d,a),o+=Number(s.lineHeight);n.restore()}function Ai(n,i){const{x:e,y:o,w:s,h:a,radius:r}=i;n.arc(e+r.topLeft,o+r.topLeft,r.topLeft,-Pt,Ct,!0),n.lineTo(e,o+a-r.bottomLeft),n.arc(e+r.bottomLeft,o+a-r.bottomLeft,r.bottomLeft,Ct,Pt,!0),n.lineTo(e+s-r.bottomRight,o+a),n.arc(e+s-r.bottomRight,o+a-r.bottomRight,r.bottomRight,Pt,0,!0),n.lineTo(e+s,o+r.topRight),n.arc(e+s-r.topRight,o+r.topRight,r.topRight,0,-Pt,!0),n.lineTo(e+r.topLeft,o)}const ju=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ku=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wu(n,i){const e=(""+n).match(ju);if(!e||"normal"===e[1])return 1.2*i;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return i*n}const Xu=n=>+n||0;function bo(n,i){const e={},o=rt(i),s=o?Object.keys(i):i,a=rt(n)?o?r=>nt(n[r],n[i[r]]):r=>n[r]:()=>n;for(const r of s)e[r]=Xu(a(r));return e}function ta(n){return bo(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Se(n){return bo(n,["topLeft","topRight","bottomLeft","bottomRight"])}function It(n){const i=ta(n);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function kt(n,i){let e=nt((n=n||{}).size,(i=i||wt.font).size);"string"==typeof e&&(e=parseInt(e,10));let o=nt(n.style,i.style);o&&!(""+o).match(Ku)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const s={family:nt(n.family,i.family),lineHeight:Wu(nt(n.lineHeight,i.lineHeight),e),size:e,style:o,weight:nt(n.weight,i.weight),string:""};return s.string=function Yu(n){return!n||dt(n.size)||dt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(s),s}function Mi(n,i,e,o){let a,r,c,s=!0;for(a=0,r=n.length;a<r;++a)if(c=n[a],void 0!==c&&(void 0!==i&&"function"==typeof c&&(c=c(i),s=!1),void 0!==e&&bt(c)&&(c=c[e%c.length],s=!1),void 0!==c))return o&&!s&&(o.cacheable=!1),c}function be(n,i){return Object.assign(Object.create(n),i)}function xo(n,i=[""],e,o,s=(()=>n[0])){const a=e||n;typeof o>"u"&&(o=sa("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:o,_getTarget:s,override:c=>xo([c,...n],i,a,o)};return new Proxy(r,{deleteProperty:(c,l)=>(delete c[l],delete c._keys,delete n[0][l],!0),get:(c,l)=>ia(c,l,()=>function cp(n,i,e,o){let s;for(const a of i)if(s=sa(ep(a,n),e),typeof s<"u")return Co(n,s)?vo(e,o,n,s):s}(l,i,n,c)),getOwnPropertyDescriptor:(c,l)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,l)=>aa(c).includes(l),ownKeys:c=>aa(c),set(c,l,d){const h=c._storage||(c._storage=s());return c[l]=h[l]=d,delete c._keys,!0}})}function Ve(n,i,e,o){const s={_cacheable:!1,_proxy:n,_context:i,_subProxy:e,_stack:new Set,_descriptors:ea(n,o),setContext:a=>Ve(n,a,e,o),override:a=>Ve(n.override(a),i,e,o)};return new Proxy(s,{deleteProperty:(a,r)=>(delete a[r],delete n[r],!0),get:(a,r,c)=>ia(a,r,()=>function ip(n,i,e){const{_proxy:o,_context:s,_subProxy:a,_descriptors:r}=n;let c=o[i];return fe(c)&&r.isScriptable(i)&&(c=function np(n,i,e,o){const{_proxy:s,_context:a,_subProxy:r,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let l=i(a,r||o);return c.delete(n),Co(n,l)&&(l=vo(s._scopes,s,n,l)),l}(i,c,n,e)),bt(c)&&c.length&&(c=function op(n,i,e,o){const{_proxy:s,_context:a,_subProxy:r,_descriptors:c}=e;if(typeof a.index<"u"&&o(n))return i[a.index%i.length];if(rt(i[0])){const l=i,d=s._scopes.filter(h=>h!==l);i=[];for(const h of l){const u=vo(d,s,n,h);i.push(Ve(u,a,r&&r[n],c))}}return i}(i,c,n,r.isIndexable)),Co(i,c)&&(c=Ve(c,s,a&&a[i],r)),c}(a,r,c)),getOwnPropertyDescriptor:(a,r)=>a._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(a,r)=>Reflect.has(n,r),ownKeys:()=>Reflect.ownKeys(n),set:(a,r,c)=>(n[r]=c,delete a[r],!0)})}function ea(n,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:o=i.indexable,_allKeys:s=i.allKeys}=n;return{allKeys:s,scriptable:e,indexable:o,isScriptable:fe(e)?e:()=>e,isIndexable:fe(o)?o:()=>o}}const ep=(n,i)=>n?n+ro(i):i,Co=(n,i)=>rt(i)&&"adapters"!==n&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function ia(n,i,e){if(Object.prototype.hasOwnProperty.call(n,i))return n[i];const o=e();return n[i]=o,o}function na(n,i,e){return fe(n)?n(i,e):n}const sp=(n,i)=>!0===n?i:"string"==typeof n?_e(i,n):void 0;function ap(n,i,e,o,s){for(const a of i){const r=sp(e,a);if(r){n.add(r);const c=na(r._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==o)return c}else if(!1===r&&typeof o<"u"&&e!==o)return null}return!1}function vo(n,i,e,o){const s=i._rootScopes,a=na(i._fallback,e,o),r=[...n,...s],c=new Set;c.add(o);let l=oa(c,r,e,a||e,o);return!(null===l||typeof a<"u"&&a!==e&&(l=oa(c,r,a,l,o),null===l))&&xo(Array.from(c),[""],s,a,()=>function rp(n,i,e){const o=n._getTarget();i in o||(o[i]={});const s=o[i];return bt(s)&&rt(e)?e:s||{}}(i,e,o))}function oa(n,i,e,o,s){for(;e;)e=ap(n,i,e,o,s);return e}function sa(n,i){for(const e of i){if(!e)continue;const o=e[n];if(typeof o<"u")return o}}function aa(n){let i=n._keys;return i||(i=n._keys=function lp(n){const i=new Set;for(const e of n)for(const o of Object.keys(e).filter(s=>!s.startsWith("_")))i.add(o);return Array.from(i)}(n._scopes)),i}function ra(n,i,e,o){const{iScale:s}=n,{key:a="r"}=this._parsing,r=new Array(o);let c,l,d,h;for(c=0,l=o;c<l;++c)d=c+e,h=i[d],r[c]={r:s.parse(_e(h,a),d)};return r}const dp=Number.EPSILON||1e-14,je=(n,i)=>i<n.length&&!n[i].skip&&n[i],ca=n=>"x"===n?"y":"x";function hp(n,i,e,o){const s=n.skip?i:n,a=i,r=e.skip?i:e,c=lo(a,s),l=lo(r,a);let d=c/(c+l),h=l/(c+l);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=o*d,p=o*h;return{previous:{x:a.x-u*(r.x-s.x),y:a.y-u*(r.y-s.y)},next:{x:a.x+p*(r.x-s.x),y:a.y+p*(r.y-s.y)}}}function _n(n,i,e){return Math.max(Math.min(n,e),i)}function fp(n,i,e,o,s){let a,r,c,l;if(i.spanGaps&&(n=n.filter(d=>!d.skip)),"monotone"===i.cubicInterpolationMode)!function gp(n,i="x"){const e=ca(i),o=n.length,s=Array(o).fill(0),a=Array(o);let r,c,l,d=je(n,0);for(r=0;r<o;++r)if(c=l,l=d,d=je(n,r+1),l){if(d){const h=d[i]-l[i];s[r]=0!==h?(d[e]-l[e])/h:0}a[r]=c?d?ee(s[r-1])!==ee(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}(function up(n,i,e){const o=n.length;let s,a,r,c,l,d=je(n,0);for(let h=0;h<o-1;++h)if(l=d,d=je(n,h+1),l&&d){if(yi(i[h],0,dp)){e[h]=e[h+1]=0;continue}s=e[h]/i[h],a=e[h+1]/i[h],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(r=3/Math.sqrt(c),e[h]=s*r*i[h],e[h+1]=a*r*i[h])}})(n,s,a),function pp(n,i,e="x"){const o=ca(e),s=n.length;let a,r,c,l=je(n,0);for(let d=0;d<s;++d){if(r=c,c=l,l=je(n,d+1),!c)continue;const h=c[e],u=c[o];r&&(a=(h-r[e])/3,c[`cp1${e}`]=h-a,c[`cp1${o}`]=u-a*i[d]),l&&(a=(l[e]-h)/3,c[`cp2${e}`]=h+a,c[`cp2${o}`]=u+a*i[d])}}(n,a,i)}(n,s);else{let d=o?n[n.length-1]:n[0];for(a=0,r=n.length;a<r;++a)c=n[a],l=hp(d,c,n[Math.min(a+1,r-(o?0:1))%r],i.tension),c.cp1x=l.previous.x,c.cp1y=l.previous.y,c.cp2x=l.next.x,c.cp2y=l.next.y,d=c}i.capBezierPoints&&function _p(n,i){let e,o,s,a,r,c=le(n[0],i);for(e=0,o=n.length;e<o;++e)r=a,a=c,c=e<o-1&&le(n[e+1],i),a&&(s=n[e],r&&(s.cp1x=_n(s.cp1x,i.left,i.right),s.cp1y=_n(s.cp1y,i.top,i.bottom)),c&&(s.cp2x=_n(s.cp2x,i.left,i.right),s.cp2y=_n(s.cp2y,i.top,i.bottom)))}(n,e)}function la(){return typeof window<"u"&&typeof document<"u"}function yo(n){let i=n.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function fn(n,i,e){let o;return"string"==typeof n?(o=parseInt(n,10),-1!==n.indexOf("%")&&(o=o/100*i.parentNode[e])):o=n,o}const mn=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),bp=["top","right","bottom","left"];function Ze(n,i,e){const o={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=bp[s];o[a]=parseFloat(n[i+"-"+a+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Ie(n,i){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:o}=i,s=mn(e),a="border-box"===s.boxSizing,r=Ze(s,"padding"),c=Ze(s,"border","width"),{x:l,y:d,box:h}=function Cp(n,i){const e=n.touches,o=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=o;let c,l,r=!1;if(((n,i,e)=>(n>0||i>0)&&(!e||!e.shadowRoot))(s,a,n.target))c=s,l=a;else{const d=i.getBoundingClientRect();c=o.clientX-d.left,l=o.clientY-d.top,r=!0}return{x:c,y:l,box:r}}(n,e),u=r.left+(h&&c.left),p=r.top+(h&&c.top);let{width:g,height:_}=i;return a&&(g-=r.width+c.width,_-=r.height+c.height),{x:Math.round((l-u)/g*e.width/o),y:Math.round((d-p)/_*e.height/o)}}const bn=n=>Math.round(10*n)/10;function da(n,i,e){const o=i||1,s=Math.floor(n.height*o),a=Math.floor(n.width*o);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const r=n.canvas;return r.style&&(e||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==o||r.height!==s||r.width!==a)&&(n.currentDevicePixelRatio=o,r.height=s,r.width=a,n.ctx.setTransform(o,0,0,o,0,0),!0)}const Pp=function(){let n=!1;try{const i={get passive(){return n=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return n}();function ha(n,i){const e=function mp(n,i){return mn(n).getPropertyValue(i)}(n,i),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function De(n,i,e,o){return{x:n.x+e*(i.x-n.x),y:n.y+e*(i.y-n.y)}}function wp(n,i,e,o){return{x:n.x+e*(i.x-n.x),y:"middle"===o?e<.5?n.y:i.y:"after"===o?e<1?n.y:i.y:e>0?i.y:n.y}}function Tp(n,i,e,o){const s={x:n.cp2x,y:n.cp2y},a={x:i.cp1x,y:i.cp1y},r=De(n,s,e),c=De(s,a,e),l=De(a,i,e),d=De(r,c,e),h=De(c,l,e);return De(d,h,e)}function Ke(n,i,e){return n?function(n,i){return{x:e=>n+n+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,o)=>e-o,leftForLtr:(e,o)=>e-o}}(i,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,i)=>n+i,leftForLtr:(n,i)=>n}}function ua(n,i){let e,o;("ltr"===i||"rtl"===i)&&(e=n.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),n.prevTextDirection=o)}function pa(n,i){void 0!==i&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",i[0],i[1]))}function ga(n){return"angle"===n?{between:Pi,compare:Mu,normalize:Ut}:{between:re,compare:(i,e)=>i-e,normalize:i=>i}}function _a({start:n,end:i,count:e,loop:o,style:s}){return{start:n%e,end:i%e,loop:o&&(i-n+1)%e==0,style:s}}function fa(n,i,e){if(!e)return[n];const{property:o,start:s,end:a}=e,r=i.length,{compare:c,between:l,normalize:d}=ga(o),{start:h,end:u,loop:p,style:g}=function Mp(n,i,e){const{property:o,start:s,end:a}=e,{between:r,normalize:c}=ga(o),l=i.length;let p,g,{start:d,end:h,loop:u}=n;if(u){for(d+=l,h+=l,p=0,g=l;p<g&&r(c(i[d%l][o]),s,a);++p)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:u,style:n.style}}(n,i,e),_=[];let A,S,D,m=!1,v=null;for(let Y=h,j=h;Y<=u;++Y)S=i[Y%r],!S.skip&&(A=d(S[o]),A!==D&&(m=l(A,s,a),null===v&&(m||l(s,D,A)&&0!==c(s,D))&&(v=0===c(A,s)?Y:j),null!==v&&(!m||0===c(a,A)||l(a,D,A))&&(_.push(_a({start:v,end:Y,loop:p,count:r,style:g})),v=null),j=Y,D=A));return null!==v&&_.push(_a({start:v,end:u,loop:p,count:r,style:g})),_}function ma(n,i){const e=[],o=n.segments;for(let s=0;s<o.length;s++){const a=fa(o[s],n.points,i);a.length&&e.push(...a)}return e}function xa(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Op(n,i){if(!i)return!1;const e=[],o=function(s,a){return po(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,o)!==JSON.stringify(i,o)}class Lp{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,o,s){const r=e.duration;e.listeners[s].forEach(c=>c({chart:i,initial:e.initial,numSteps:r,currentStep:Math.min(o-e.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Ys.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((o,s)=>{if(!o.running||!o.items.length)return;const a=o.items;let l,r=a.length-1,c=!1;for(;r>=0;--r)l=a[r],l._active?(l._total>o.duration&&(o.duration=l._total),l.tick(i),c=!0):(a[r]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,o,i,"progress")),a.length||(o.running=!1,this._notify(s,o,i,"complete"),o.initial=!1),e+=a.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let o=e.get(i);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,o)),o}listen(i,e,o){this._getAnims(i).listeners[e].push(o)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,s)=>Math.max(o,s._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const o=e.items;let s=o.length-1;for(;s>=0;--s)o[s].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var de=new Lp;const Ca="transparent",Np={boolean:(n,i,e)=>e>.5?i:n,color(n,i,e){const o=Vs(n||Ca),s=o.valid&&Vs(i||Ca);return s&&s.valid?s.mix(o,e).hexString():i},number:(n,i,e)=>n+(i-n)*e};class Ep{constructor(i,e,o,s){const a=e[o];s=Mi([i.to,s,a,i.from]);const r=Mi([i.from,a,s]);this._active=!0,this._fn=i.fn||Np[i.type||typeof r],this._easing=wi[i.easing]||wi.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=o,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(i,e,o){if(this._active){this._notify(!1);const s=this._target[this._prop],a=o-this._start,r=this._duration-a;this._start=o,this._duration=Math.floor(Math.max(r,i.duration)),this._total+=a,this._loop=!!i.loop,this._to=Mi([i.to,e,s,i.from]),this._from=Mi([i.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,o=this._duration,s=this._prop,a=this._from,r=this._loop,c=this._to;let l;if(this._active=a!==c&&(r||e<o),!this._active)return this._target[s]=c,void this._notify(!0);e<0?this._target[s]=a:(l=e/o%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(a,c,l))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,o)=>{i.push({res:e,rej:o})})}_notify(i){const e=i?"res":"rej",o=this._promises||[];for(let s=0;s<o.length;s++)o[s][e]()}}class va{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!rt(i))return;const e=Object.keys(wt.animation),o=this._properties;Object.getOwnPropertyNames(i).forEach(s=>{const a=i[s];if(!rt(a))return;const r={};for(const c of e)r[c]=a[c];(bt(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!o.has(c))&&o.set(c,r)})})}_animateOptions(i,e){const o=e.options,s=function Up(n,i){if(!i)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=i}(i,o);if(!s)return[];const a=this._createAnimations(s,o);return o.$shared&&function Fp(n,i){const e=[],o=Object.keys(i);for(let s=0;s<o.length;s++){const a=n[o[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}(i.options.$animations,o).then(()=>{i.options=o},()=>{}),a}_createAnimations(i,e){const o=this._properties,s=[],a=i.$animations||(i.$animations={}),r=Object.keys(e),c=Date.now();let l;for(l=r.length-1;l>=0;--l){const d=r[l];if("$"===d.charAt(0))continue;if("options"===d){s.push(...this._animateOptions(i,e));continue}const h=e[d];let u=a[d];const p=o.get(d);if(u){if(p&&u.active()){u.update(p,h,c);continue}u.cancel()}p&&p.duration?(a[d]=u=new Ep(p,i,d,h),s.push(u)):i[d]=h}return s}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const o=this._createAnimations(i,e);return o.length?(de.add(this._chart,o),!0):void 0}}function ya(n,i){const e=n&&n.options||{},o=e.reverse,s=void 0===e.min?i:0,a=void 0===e.max?i:0;return{start:o?a:s,end:o?s:a}}function Pa(n,i){const e=[],o=n._getSortedDatasetMetas(i);let s,a;for(s=0,a=o.length;s<a;++s)e.push(o[s].index);return e}function wa(n,i,e,o={}){const s=n.keys,a="single"===o.mode;let r,c,l,d;if(null!==i){for(r=0,c=s.length;r<c;++r){if(l=+s[r],l===e){if(o.all)continue;break}d=n.values[l],yt(d)&&(a||0===i||ee(i)===ee(d))&&(i+=d)}return i}}function Ta(n,i){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==i.stack}function Jp(n,i,e){const o=n[i]||(n[i]={});return o[e]||(o[e]={})}function ka(n,i,e,o){for(const s of i.getMatchingVisibleMetas(o).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function Aa(n,i){const{chart:e,_cachedMeta:o}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:r,index:c}=o,l=a.axis,d=r.axis,h=function Hp(n,i,e){return`${n.id}.${i.id}.${e.stack||e.type}`}(a,r,o),u=i.length;let p;for(let g=0;g<u;++g){const _=i[g],{[l]:m,[d]:v}=_;p=(_._stacks||(_._stacks={}))[d]=Jp(s,h,m),p[c]=v,p._top=ka(p,r,!0,o.type),p._bottom=ka(p,r,!1,o.type),(p._visualValues||(p._visualValues={}))[c]=v}}function Po(n,i){const e=n.scales;return Object.keys(e).filter(o=>e[o].axis===i).shift()}function Si(n,i){const e=n.controller.index,o=n.vScale&&n.vScale.axis;if(o){i=i||n._parsed;for(const s of i){const a=s._stacks;if(!a||void 0===a[o]||void 0===a[o][e])return;delete a[o][e],void 0!==a[o]._visualValues&&void 0!==a[o]._visualValues[e]&&delete a[o]._visualValues[e]}}}const wo=n=>"reset"===n||"none"===n,Ma=(n,i)=>i?n:Object.assign({},n);class zt{constructor(i,e){this.chart=i,this._ctx=i.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=Ta(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&Si(this._cachedMeta),this.index=i}linkScales(){const i=this.chart,e=this._cachedMeta,o=this.getDataset(),s=(u,p,g,_)=>"x"===u?p:"r"===u?_:g,a=e.xAxisID=nt(o.xAxisID,Po(i,"x")),r=e.yAxisID=nt(o.yAxisID,Po(i,"y")),c=e.rAxisID=nt(o.rAxisID,Po(i,"r")),l=e.indexAxis,d=e.iAxisID=s(l,a,r,c),h=e.vAxisID=s(l,r,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){const e=this._cachedMeta;return i===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const i=this._cachedMeta;this._data&&Bs(this._data,this),i._stacked&&Si(i)}_dataCheck(){const i=this.getDataset(),e=i.data||(i.data=[]),o=this._data;if(rt(e))this._data=function Bp(n){const i=Object.keys(n),e=new Array(i.length);let o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o],e[o]={x:a,y:n[a]};return e}(e);else if(o!==e){if(o){Bs(o,this);const s=this._cachedMeta;Si(s),s._parsed=[]}e&&Object.isExtensible(e)&&function Du(n,i){n._chartjs?n._chartjs.listeners.push(i):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),qs.forEach(e=>{const o="_onData"+ro(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const r=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[o]&&c[o](...a)}),r}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){const e=this._cachedMeta,o=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Ta(e.vScale,e),e.stack!==o.stack&&(s=!0,Si(e),e.stack=o.stack),this._resyncElements(i),(s||a!==e._stacked)&&Aa(this,e._parsed)}configure(){const i=this.chart.config,e=i.datasetScopeKeys(this._type),o=i.getOptionScopes(this.getDataset(),e,!0);this.options=i.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,e){const{_cachedMeta:o,_data:s}=this,{iScale:a,_stacked:r}=o,c=a.axis;let h,u,p,l=0===i&&e===s.length||o._sorted,d=i>0&&o._parsed[i-1];if(!1===this._parsing)o._parsed=s,o._sorted=!0,p=s;else{p=bt(s[i])?this.parseArrayData(o,s,i,e):rt(s[i])?this.parseObjectData(o,s,i,e):this.parsePrimitiveData(o,s,i,e);const g=()=>null===u[c]||d&&u[c]<d[c];for(h=0;h<e;++h)o._parsed[h+i]=u=p[h],l&&(g()&&(l=!1),d=u);o._sorted=l}r&&Aa(this,p)}parsePrimitiveData(i,e,o,s){const{iScale:a,vScale:r}=i,c=a.axis,l=r.axis,d=a.getLabels(),h=a===r,u=new Array(s);let p,g,_;for(p=0,g=s;p<g;++p)_=p+o,u[p]={[c]:h||a.parse(d[_],_),[l]:r.parse(e[_],_)};return u}parseArrayData(i,e,o,s){const{xScale:a,yScale:r}=i,c=new Array(s);let l,d,h,u;for(l=0,d=s;l<d;++l)h=l+o,u=e[h],c[l]={x:a.parse(u[0],h),y:r.parse(u[1],h)};return c}parseObjectData(i,e,o,s){const{xScale:a,yScale:r}=i,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s);let h,u,p,g;for(h=0,u=s;h<u;++h)p=h+o,g=e[p],d[h]={x:a.parse(_e(g,c),p),y:r.parse(_e(g,l),p)};return d}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,e,o){const a=this._cachedMeta,r=e[i.axis];return wa({keys:Pa(this.chart,!0),values:e._stacks[i.axis]._visualValues},r,a.index,{mode:o})}updateRangeFromParsed(i,e,o,s){const a=o[e.axis];let r=null===a?NaN:a;const c=s&&o._stacks[e.axis];s&&c&&(s.values=c,r=wa(s,a,this._cachedMeta.index)),i.min=Math.min(i.min,r),i.max=Math.max(i.max,r)}getMinMax(i,e){const o=this._cachedMeta,s=o._parsed,a=o._sorted&&i===o.iScale,r=s.length,c=this._getOtherScale(i),l=((n,i,e)=>n&&!i.hidden&&i._stacked&&{keys:Pa(this.chart,!0),values:null})(e,o),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function Yp(n){const{min:i,max:e,minDefined:o,maxDefined:s}=n.getUserBounds();return{min:o?i:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}(c);let p,g;function _(){g=s[p];const m=g[c.axis];return!yt(g[i.axis])||h>m||u<m}for(p=0;p<r&&(_()||(this.updateRangeFromParsed(d,i,g,l),!a));++p);if(a)for(p=r-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(d,i,g,l);break}return d}getAllParsedValues(i){const e=this._cachedMeta._parsed,o=[];let s,a,r;for(s=0,a=e.length;s<a;++s)r=e[s][i.axis],yt(r)&&o.push(r);return o}getMaxOverflow(){return!1}getLabelAndValue(i){const e=this._cachedMeta,o=e.iScale,s=e.vScale,a=this.getParsed(i);return{label:o?""+o.getLabelForValue(a[o.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(i){const e=this._cachedMeta;this.update(i||"default"),e._clip=function qp(n){let i,e,o,s;return rt(n)?(i=n.top,e=n.right,o=n.bottom,s=n.left):i=e=o=s=n,{top:i,right:e,bottom:o,left:s,disabled:!1===n}}(nt(this.options.clip,function Rp(n,i,e){if(!1===e)return!1;const o=ya(n,e),s=ya(i,e);return{top:s.end,right:o.end,bottom:s.start,left:o.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(i){}draw(){const i=this._ctx,o=this._cachedMeta,s=o.data||[],a=this.chart.chartArea,r=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let h;for(o.dataset&&o.dataset.draw(i,a,c,l),h=c;h<c+l;++h){const u=s[h];u.hidden||(u.active&&d?r.push(u):u.draw(i,a))}for(h=0;h<r.length;++h)r[h].draw(i,a)}getStyle(i,e){const o=e?"active":"default";return void 0===i&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(i||0,o)}getContext(i,e,o){const s=this.getDataset();let a;if(i>=0&&i<this._cachedMeta.data.length){const r=this._cachedMeta.data[i];a=r.$context||(r.$context=function Gp(n,i,e){return be(n,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),i,r)),a.parsed=this.getParsed(i),a.raw=s.data[i],a.index=a.dataIndex=i}else a=this.$context||(this.$context=function Qp(n,i){return be(n,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=o,a}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,e){return this._resolveElementOptions(this.dataElementType.id,e,i)}_resolveElementOptions(i,e="default",o){const s="active"===e,a=this._cachedDataOpts,r=i+"-"+e,c=a[r],l=this.enableOptionSharing&&vi(o);if(c)return Ma(c,l);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,i),u=s?[`${i}Hover`,"hover",i,""]:[i,""],p=d.getOptionScopes(this.getDataset(),h),g=Object.keys(wt.elements[i]),m=d.resolveNamedOptions(p,g,()=>this.getContext(o,s,e),u);return m.$shared&&(m.$shared=l,a[r]=Object.freeze(Ma(m,l))),m}_resolveAnimations(i,e,o){const s=this.chart,a=this._cachedDataOpts,r=`animation-${e}`,c=a[r];if(c)return c;let l;if(!1!==s.options.animation){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),p=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(p,this.getContext(i,o,e))}const d=new va(s,l&&l.animations);return l&&l._cacheable&&(a[r]=Object.freeze(d)),d}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,e){return!e||wo(i)||this.chart._animationsDisabled}_getSharedOptions(i,e){const o=this.resolveDataElementOptions(i,e),s=this._sharedOptions,a=this.getSharedOptions(o),r=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,o),{sharedOptions:a,includeOptions:r}}updateElement(i,e,o,s){wo(s)?Object.assign(i,o):this._resolveAnimations(e,s).update(i,o)}updateSharedOptions(i,e,o){i&&!wo(e)&&this._resolveAnimations(void 0,e).update(i,o)}_setStyle(i,e,o,s){i.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,o,s).update(i,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(i,e,o){this._setStyle(i,o,"active",!1)}setHoverStyle(i,e,o){this._setStyle(i,o,"active",!0)}_removeDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){const i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){const e=this._data,o=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const s=o.length,a=e.length,r=Math.min(a,s);r&&this.parse(0,r),a>s?this._insertElements(s,a-s,i):a<s&&this._removeElements(a,s-a)}_insertElements(i,e,o=!0){const s=this._cachedMeta,a=s.data,r=i+e;let c;const l=d=>{for(d.length+=e,c=d.length-1;c>=r;c--)d[c]=d[c-e]};for(l(a),c=i;c<r;++c)a[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(i,e),o&&this.updateElements(a,i,e,"reset")}updateElements(i,e,o,s){}_removeElements(i,e){const o=this._cachedMeta;if(this._parsing){const s=o._parsed.splice(i,e);o._stacked&&Si(o,s)}o.data.splice(i,e)}_sync(i){if(this._parsing)this._syncList.push(i);else{const[e,o,s]=i;this[e](o,s)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){const i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,e){e&&this._sync(["_removeElements",i,e]);const o=arguments.length-2;o&&this._sync(["_insertElements",i,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Vp(n){const i=n.iScale,e=function $p(n,i){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(i);let o=[];for(let s=0,a=e.length;s<a;s++)o=o.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Hs(o.sort((s,a)=>s-a))}return n._cache.$bar}(i,n.type);let s,a,r,c,o=i._length;const l=()=>{32767===r||-32768===r||(vi(c)&&(o=Math.min(o,Math.abs(r-c)||o)),c=r)};for(s=0,a=e.length;s<a;++s)r=i.getPixelForValue(e[s]),l();for(c=void 0,s=0,a=i.ticks.length;s<a;++s)r=i.getPixelForTick(s),l();return o}function Sa(n,i,e,o){return bt(n)?function Wp(n,i,e,o){const s=e.parse(n[0],o),a=e.parse(n[1],o),r=Math.min(s,a),c=Math.max(s,a);let l=r,d=c;Math.abs(r)>Math.abs(c)&&(l=c,d=r),i[e.axis]=d,i._custom={barStart:l,barEnd:d,start:s,end:a,min:r,max:c}}(n,i,e,o):i[e.axis]=e.parse(n,o),i}function Za(n,i,e,o){const s=n.iScale,a=n.vScale,r=s.getLabels(),c=s===a,l=[];let d,h,u,p;for(d=e,h=e+o;d<h;++d)p=i[d],u={},u[s.axis]=c||s.parse(r[d],d),l.push(Sa(p,u,a,d));return l}function To(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function eg(n,i,e,o){let s=i.borderSkipped;const a={};if(!s)return void(n.borderSkipped=a);if(!0===s)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:c,reverse:l,top:d,bottom:h}=function tg(n){let i,e,o,s,a;return n.horizontal?(i=n.base>n.x,e="left",o="right"):(i=n.base<n.y,e="bottom",o="top"),i?(s="end",a="start"):(s="start",a="end"),{start:e,end:o,reverse:i,top:s,bottom:a}}(n);"middle"===s&&e&&(n.enableBorderRadius=!0,(e._top||0)===o?s=d:(e._bottom||0)===o?s=h:(a[Ia(h,r,c,l)]=!0,s=d)),a[Ia(s,r,c,l)]=!0,n.borderSkipped=a}function Ia(n,i,e,o){return o?(n=function ig(n,i,e){return n===i?e:n===e?i:n}(n,i,e),n=Da(n,e,i)):n=Da(n,i,e),n}function Da(n,i,e){return"start"===n?i:"end"===n?e:n}function ng(n,{inflateAmount:i},e){n.inflateAmount="auto"===i?1===e?.33:0:i}U(zt,"defaults",{}),U(zt,"datasetElementType",null),U(zt,"dataElementType",null);class xn extends zt{parsePrimitiveData(i,e,o,s){return Za(i,e,o,s)}parseArrayData(i,e,o,s){return Za(i,e,o,s)}parseObjectData(i,e,o,s){const{iScale:a,vScale:r}=i,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d="x"===a.axis?c:l,h="x"===r.axis?c:l,u=[];let p,g,_,m;for(p=o,g=o+s;p<g;++p)m=e[p],_={},_[a.axis]=a.parse(_e(m,d),p),u.push(Sa(_e(m,h),_,r,p));return u}updateRangeFromParsed(i,e,o,s){super.updateRangeFromParsed(i,e,o,s);const a=o._custom;a&&e===this._cachedMeta.vScale&&(i.min=Math.min(i.min,a.min),i.max=Math.max(i.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(i){const e=this._cachedMeta,{iScale:o,vScale:s}=e,a=this.getParsed(i),r=a._custom,c=To(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+o.getLabelForValue(a[o.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(i){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,i)}updateElements(i,e,o,s){const a="reset"===s,{index:r,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(e,s);for(let g=e;g<e+o;g++){const _=this.getParsed(g),m=a||dt(_[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,h),A=(_._stacks||{})[c.axis],S={horizontal:d,base:m.base,enableBorderRadius:!A||To(_._custom)||r===A._top||r===A._bottom,x:d?m.head:v.center,y:d?v.center:m.head,height:d?v.size:Math.abs(m.size),width:d?Math.abs(m.size):v.size};p&&(S.options=u||this.resolveDataElementOptions(g,i[g].active?"active":s));const D=S.options||i[g].options;eg(S,D,A,r),ng(S,D,h.ratio),this.updateElement(i[g],g,S,s)}}_getStacks(i,e){const{iScale:o}=this._cachedMeta,s=o.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),a=o.options.stacked,r=[],c=l=>{const d=l.controller.getParsed(e),h=d&&d[l.vScale.axis];if(dt(h)||isNaN(h))return!0};for(const l of s)if((void 0===e||!c(l))&&((!1===a||-1===r.indexOf(l.stack)||void 0===a&&void 0===l.stack)&&r.push(l.stack),l.index===i))break;return r.length||r.push(void 0),r}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,e,o){const s=this._getStacks(i,o),a=void 0!==e?s.indexOf(e):-1;return-1===a?s.length-1:a}_getRuler(){const i=this.options,e=this._cachedMeta,o=e.iScale,s=[];let a,r;for(a=0,r=e.data.length;a<r;++a)s.push(o.getPixelForValue(this.getParsed(a)[o.axis],a));const c=i.barThickness;return{min:c||Vp(e),pixels:s,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:i.grouped,ratio:c?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){const{_cachedMeta:{vScale:e,_stacked:o,index:s},options:{base:a,minBarLength:r}}=this,c=a||0,l=this.getParsed(i),d=l._custom,h=To(d);let _,m,u=l[e.axis],p=0,g=o?this.applyStack(e,l,o):u;g!==u&&(p=g-u,g=u),h&&(u=d.barStart,g=d.barEnd-d.barStart,0!==u&&ee(u)!==ee(d.barEnd)&&(p=0),p+=u);const v=dt(a)||h?p:a;let A=e.getPixelForValue(v);if(_=this.chart.getDataVisibility(i)?e.getPixelForValue(p+g):A,m=_-A,Math.abs(m)<r){m=function Xp(n,i,e){return 0!==n?ee(n):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(m,e,c)*r,u===c&&(A-=m/2);const S=e.getPixelForDecimal(0),D=e.getPixelForDecimal(1),O=Math.min(S,D),Z=Math.max(S,D);A=Math.max(Math.min(A,Z),O),_=A+m,o&&!h&&(l._stacks[e.axis]._visualValues[s]=e.getValueForPixel(_)-e.getValueForPixel(A))}if(A===e.getPixelForValue(c)){const S=ee(m)*e.getLineWidthForValue(c)/2;A+=S,m-=S}return{size:m,base:A,head:_,center:_+m/2}}_calculateBarIndexPixels(i,e){const o=e.scale,s=this.options,a=s.skipNull,r=nt(s.maxBarThickness,1/0);let c,l;if(e.grouped){const d=a?this._getStackCount(i):e.stackCount,h="flex"===s.barThickness?function Kp(n,i,e,o){const s=i.pixels,a=s[n];let r=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const l=e.categoryPercentage;null===r&&(r=a-(null===c?i.end-i.start:c-a)),null===c&&(c=a+a-r);const d=a-(a-Math.min(r,c))/2*l;return{chunk:Math.abs(c-r)/2*l/o,ratio:e.barPercentage,start:d}}(i,e,s,d):function jp(n,i,e,o){const s=e.barThickness;let a,r;return dt(s)?(a=i.min*e.categoryPercentage,r=e.barPercentage):(a=s*o,r=1),{chunk:a/o,ratio:r,start:i.pixels[n]-a/2}}(i,e,s,d),u=this._getStackIndex(this.index,this._cachedMeta.stack,a?i:void 0);c=h.start+h.chunk*u+h.chunk/2,l=Math.min(r,h.chunk*h.ratio)}else c=o.getPixelForValue(this.getParsed(i)[o.axis],i),l=Math.min(r,e.min*e.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const i=this._cachedMeta,e=i.vScale,o=i.data,s=o.length;let a=0;for(;a<s;++a)null!==this.getParsed(a)[e.axis]&&o[a].draw(this._ctx)}}U(xn,"id","bar"),U(xn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),U(xn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Cn extends zt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,e,o,s){const a=super.parsePrimitiveData(i,e,o,s);for(let r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+o).radius;return a}parseArrayData(i,e,o,s){const a=super.parseArrayData(i,e,o,s);for(let r=0;r<a.length;r++)a[r]._custom=nt(e[o+r][2],this.resolveDataElementOptions(r+o).radius);return a}parseObjectData(i,e,o,s){const a=super.parseObjectData(i,e,o,s);for(let r=0;r<a.length;r++){const c=e[o+r];a[r]._custom=nt(c&&c.r&&+c.r,this.resolveDataElementOptions(r+o).radius)}return a}getMaxOverflow(){const i=this._cachedMeta.data;let e=0;for(let o=i.length-1;o>=0;--o)e=Math.max(e,i[o].size(this.resolveDataElementOptions(o))/2);return e>0&&e}getLabelAndValue(i){const e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:a}=e,r=this.getParsed(i),c=s.getLabelForValue(r.x),l=a.getLabelForValue(r.y),d=r._custom;return{label:o[i]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(i){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,i)}updateElements(i,e,o,s){const a="reset"===s,{iScale:r,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(e,s),h=r.axis,u=c.axis;for(let p=e;p<e+o;p++){const g=i[p],_=!a&&this.getParsed(p),m={},v=m[h]=a?r.getPixelForDecimal(.5):r.getPixelForValue(_[h]),A=m[u]=a?c.getBasePixel():c.getPixelForValue(_[u]);m.skip=isNaN(v)||isNaN(A),d&&(m.options=l||this.resolveDataElementOptions(p,g.active?"active":s),a&&(m.options.radius=0)),this.updateElement(g,p,m,s)}}resolveDataElementOptions(i,e){const o=this.getParsed(i);let s=super.resolveDataElementOptions(i,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return"active"!==e&&(s.radius=0),s.radius+=nt(o&&o._custom,a),s}}U(Cn,"id","bubble"),U(Cn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),U(Cn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Oe extends zt{constructor(i,e){super(i,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,e){const o=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=o;else{let r,c,a=l=>+o[l];if(rt(o[i])){const{key:l="value"}=this._parsing;a=d=>+_e(o[d],l)}for(r=i,c=i+e;r<c;++r)s._parsed[r]=a(r)}}_getRotation(){return Gt(this.options.rotation-90)}_getCircumference(){return Gt(this.options.circumference)}_getRotationExtents(){let i=xt,e=-xt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const s=this.chart.getDatasetMeta(o).controller,a=s._getRotation(),r=s._getCircumference();i=Math.min(i,a),e=Math.max(e,a+r)}return{rotation:i,circumference:e-i}}update(i){const e=this.chart,{chartArea:o}=e,s=this._cachedMeta,a=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(o.width,o.height)-r)/2,0),l=Math.min(((n,i)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/i)(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:_,offsetY:m}=function og(n,i,e){let o=1,s=1,a=0,r=0;if(i<xt){const c=n,l=c+i,d=Math.cos(c),h=Math.sin(c),u=Math.cos(l),p=Math.sin(l),g=(D,O,Z)=>Pi(D,c,l,!0)?1:Math.max(O,O*e,Z,Z*e),_=(D,O,Z)=>Pi(D,c,l,!0)?-1:Math.min(O,O*e,Z,Z*e),m=g(0,d,u),v=g(Pt,h,p),A=_(Ct,d,u),S=_(Ct+Pt,h,p);o=(m-A)/2,s=(v-S)/2,a=-(m+A)/2,r=-(v+S)/2}return{ratioX:o,ratioY:s,offsetX:a,offsetY:r}}(u,h,l),S=Math.max(Math.min((o.width-r)/p,(o.height-r)/g)/2,0),D=Is(this.options.radius,S),Z=(D-Math.max(D*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=_*D,this.offsetY=m*D,s.total=this.calculateTotal(),this.outerRadius=D-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*d,0),this.updateElements(a,0,a.length,i)}_circumference(i,e){const o=this.options,s=this._cachedMeta,a=this._getCircumference();return e&&o.animation.animateRotate||!this.chart.getDataVisibility(i)||null===s._parsed[i]||s.data[i].hidden?0:this.calculateCircumference(s._parsed[i]*a/xt)}updateElements(i,e,o,s){const a="reset"===s,r=this.chart,c=r.chartArea,h=(c.left+c.right)/2,u=(c.top+c.bottom)/2,p=a&&r.options.animation.animateScale,g=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(e,s);let S,A=this._getRotation();for(S=0;S<e;++S)A+=this._circumference(S,a);for(S=e;S<e+o;++S){const D=this._circumference(S,a),O=i[S],Z={x:h+this.offsetX,y:u+this.offsetY,startAngle:A,endAngle:A+D,circumference:D,outerRadius:_,innerRadius:g};v&&(Z.options=m||this.resolveDataElementOptions(S,O.active?"active":s)),A+=D,this.updateElement(O,S,Z,s)}}calculateTotal(){const i=this._cachedMeta,e=i.data;let s,o=0;for(s=0;s<e.length;s++){const a=i._parsed[s];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(o+=Math.abs(a))}return o}calculateCircumference(i){const e=this._cachedMeta.total;return e>0&&!isNaN(i)?xt*(Math.abs(i)/e):0}getLabelAndValue(i){const o=this.chart,s=o.data.labels||[],a=Ti(this._cachedMeta._parsed[i],o.options.locale);return{label:s[i]||"",value:a}}getMaxBorderWidth(i){let e=0;const o=this.chart;let s,a,r,c,l;if(!i)for(s=0,a=o.data.datasets.length;s<a;++s)if(o.isDatasetVisible(s)){r=o.getDatasetMeta(s),i=r.data,c=r.controller;break}if(!i)return 0;for(s=0,a=i.length;s<a;++s)l=c.resolveDataElementOptions(s),"inner"!==l.borderAlign&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(i){let e=0;for(let o=0,s=i.length;o<s;++o){const a=this.resolveDataElementOptions(o);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(i){let e=0;for(let o=0;o<i;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}_getRingWeight(i){return Math.max(nt(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}U(Oe,"id","doughnut"),U(Oe,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),U(Oe,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")}),U(Oe,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:o,color:s}}=i.legend.options;return e.labels.map((a,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}}});class vn extends zt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){const e=this._cachedMeta,{dataset:o,data:s=[],_dataset:a}=e,r=this.chart._animationsDisabled;let{start:c,count:l}=Qs(e,s,r);this._drawStart=c,this._drawCount=l,Gs(e)&&(c=0,l=s.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=s;const d=this.resolveDatasetElementOptions(i);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:d},i),this.updateElements(s,c,l,i)}updateElements(i,e,o,s){const a="reset"===s,{iScale:r,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,s),p=r.axis,g=c.axis,{spanGaps:_,segment:m}=this.options,v=$e(_)?_:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||a||"none"===s,S=e+o,D=i.length;let O=e>0&&this.getParsed(e-1);for(let Z=0;Z<D;++Z){const B=i[Z],H=A?B:{};if(Z<e||Z>=S){H.skip=!0;continue}const Y=this.getParsed(Z),j=dt(Y[g]),st=H[p]=r.getPixelForValue(Y[p],Z),at=H[g]=a||j?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,Y,l):Y[g],Z);H.skip=isNaN(st)||isNaN(at)||j,H.stop=Z>0&&Math.abs(Y[p]-O[p])>v,m&&(H.parsed=Y,H.raw=d.data[Z]),u&&(H.options=h||this.resolveDataElementOptions(Z,B.active?"active":s)),A||this.updateElement(B,Z,H,s),O=Y}}getMaxOverflow(){const i=this._cachedMeta,e=i.dataset,o=e.options&&e.options.borderWidth||0,s=i.data||[];if(!s.length)return o;const a=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,a,r)/2}draw(){const i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}U(vn,"id","line"),U(vn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),U(vn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Zi extends zt{constructor(i,e){super(i,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){const o=this.chart,s=o.data.labels||[],a=Ti(this._cachedMeta._parsed[i].r,o.options.locale);return{label:s[i]||"",value:a}}parseObjectData(i,e,o,s){return ra.bind(this)(i,e,o,s)}update(i){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,i)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const i=this.chart,e=i.chartArea,o=i.options,s=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(s/2,0),c=(a-Math.max(o.cutoutPercentage?a/100*o.cutoutPercentage:1,0))/i.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(i,e,o,s){const a="reset"===s,r=this.chart,l=r.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,p=d.getIndexAngle(0)-.5*Ct;let _,g=p;const m=360/this.countVisibleElements();for(_=0;_<e;++_)g+=this._computeAngle(_,s,m);for(_=e;_<e+o;_++){const v=i[_];let A=g,S=g+this._computeAngle(_,s,m),D=r.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=S,a&&(l.animateScale&&(D=0),l.animateRotate&&(A=S=p));const O={x:h,y:u,innerRadius:0,outerRadius:D,startAngle:A,endAngle:S,options:this.resolveDataElementOptions(_,v.active?"active":s)};this.updateElement(v,_,O,s)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((o,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(i,e,o){return this.chart.getDataVisibility(i)?Gt(this.resolveDataElementOptions(i,e).angle||o):0}}U(Zi,"id","polarArea"),U(Zi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),U(Zi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:o,color:s}}=i.legend.options;return e.labels.map((a,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:o,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ko extends Oe{}U(ko,"id","pie"),U(ko,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class yn extends zt{getLabelAndValue(i){const e=this._cachedMeta.vScale,o=this.getParsed(i);return{label:e.getLabels()[i],value:""+e.getLabelForValue(o[e.axis])}}parseObjectData(i,e,o,s){return ra.bind(this)(i,e,o,s)}update(i){const e=this._cachedMeta,o=e.dataset,s=e.data||[],a=e.iScale.getLabels();if(o.points=s,"resize"!==i){const r=this.resolveDatasetElementOptions(i);this.options.showLine||(r.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:a.length===s.length,options:r},i)}this.updateElements(s,0,s.length,i)}updateElements(i,e,o,s){const a=this._cachedMeta.rScale,r="reset"===s;for(let c=e;c<e+o;c++){const l=i[c],d=this.resolveDataElementOptions(c,l.active?"active":s),h=a.getPointPositionForValue(c,this.getParsed(c).r),u=r?a.xCenter:h.x,p=r?a.yCenter:h.y,g={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:d};this.updateElement(l,c,g,s)}}}U(yn,"id","radar"),U(yn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),U(yn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Pn extends zt{getLabelAndValue(i){const e=this._cachedMeta,o=this.chart.data.labels||[],{xScale:s,yScale:a}=e,r=this.getParsed(i),c=s.getLabelForValue(r.x),l=a.getLabelForValue(r.y);return{label:o[i]||"",value:"("+c+", "+l+")"}}update(i){const e=this._cachedMeta,{data:o=[]}=e,s=this.chart._animationsDisabled;let{start:a,count:r}=Qs(e,o,s);if(this._drawStart=a,this._drawCount=r,Gs(e)&&(a=0,r=o.length),this.options.showLine){const{dataset:c,_dataset:l}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=o;const d=this.resolveDatasetElementOptions(i);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},i)}this.updateElements(o,a,r,i)}addElements(){const{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,e,o,s){const a="reset"===s,{iScale:r,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),u=this.getSharedOptions(h),p=this.includeOptions(s,u),g=r.axis,_=c.axis,{spanGaps:m,segment:v}=this.options,A=$e(m)?m:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||a||"none"===s;let D=e>0&&this.getParsed(e-1);for(let O=e;O<e+o;++O){const Z=i[O],B=this.getParsed(O),H=S?Z:{},Y=dt(B[_]),j=H[g]=r.getPixelForValue(B[g],O),st=H[_]=a||Y?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,B,l):B[_],O);H.skip=isNaN(j)||isNaN(st)||Y,H.stop=O>0&&Math.abs(B[g]-D[g])>A,v&&(H.parsed=B,H.raw=d.data[O]),p&&(H.options=u||this.resolveDataElementOptions(O,Z.active?"active":s)),S||this.updateElement(Z,O,H,s),D=B}this.updateSharedOptions(u,s,h)}getMaxOverflow(){const i=this._cachedMeta,e=i.data||[];if(!this.options.showLine){let c=0;for(let l=e.length-1;l>=0;--l)c=Math.max(c,e[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const o=i.dataset,s=o.options&&o.options.borderWidth||0;if(!e.length)return s;const a=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,a,r)/2}}U(Pn,"id","scatter"),U(Pn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),U(Pn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var sg=Object.freeze({__proto__:null,BarController:xn,BubbleController:Cn,DoughnutController:Oe,LineController:vn,PieController:ko,PolarAreaController:Zi,RadarController:yn,ScatterController:Pn});function Le(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ao{constructor(i){U(this,"options"),this.options=i||{}}static override(i){Object.assign(Ao.prototype,i)}init(){}formats(){return Le()}parse(){return Le()}format(){return Le()}add(){return Le()}diff(){return Le()}startOf(){return Le()}endOf(){return Le()}}var ag__date=Ao;function rg(n,i,e,o){const{controller:s,data:a,_sorted:r}=n,c=s._cachedMeta.iScale;if(c&&i===c.axis&&"r"!==i&&r&&a.length){const l=c._reversePixels?Zu:ce;if(!o)return l(a,i,e);if(s._sharedOptions){const d=a[0],h="function"==typeof d.getRange&&d.getRange(i);if(h){const u=l(a,i,e-h),p=l(a,i,e+h);return{lo:u.lo,hi:p.hi}}}}return{lo:0,hi:a.length-1}}function Ii(n,i,e,o,s){const a=n.getSortedVisibleDatasetMetas(),r=e[i];for(let c=0,l=a.length;c<l;++c){const{index:d,data:h}=a[c],{lo:u,hi:p}=rg(a[c],i,r,s);for(let g=u;g<=p;++g){const _=h[g];_.skip||o(_,d,g)}}}function Mo(n,i,e,o,s){const a=[];return!s&&!n.isPointInArea(i)||Ii(n,e,i,function(c,l,d){!s&&!le(c,n.chartArea,0)||c.inRange(i.x,i.y,o)&&a.push({element:c,datasetIndex:l,index:d})},!0),a}function So(n,i,e,o,s,a){return a||n.isPointInArea(i)?"r"!==e||o?function dg(n,i,e,o,s,a){let r=[];const c=function cg(n){const i=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(o,s){const a=i?Math.abs(o.x-s.x):0,r=e?Math.abs(o.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}(e);let l=Number.POSITIVE_INFINITY;return Ii(n,e,i,function d(h,u,p){const g=h.inRange(i.x,i.y,s);if(o&&!g)return;const _=h.getCenterPoint(s);if(!a&&!n.isPointInArea(_)&&!g)return;const v=c(i,_);v<l?(r=[{element:h,datasetIndex:u,index:p}],l=v):v===l&&r.push({element:h,datasetIndex:u,index:p})}),r}(n,i,e,o,s,a):function lg(n,i,e,o){let s=[];return Ii(n,e,i,function a(r,c,l){const{startAngle:d,endAngle:h}=r.getProps(["startAngle","endAngle"],o),{angle:u}=Rs(r,{x:i.x,y:i.y});Pi(u,d,h)&&s.push({element:r,datasetIndex:c,index:l})}),s}(n,i,e,s):[]}function Oa(n,i,e,o,s){const a=[],r="x"===e?"inXRange":"inYRange";let c=!1;return Ii(n,e,i,(l,d,h)=>{l[r](i[e],s)&&(a.push({element:l,datasetIndex:d,index:h}),c=c||l.inRange(i.x,i.y,s))}),o&&!c?[]:a}var hg={evaluateInteractionItems:Ii,modes:{index(n,i,e,o){const s=Ie(i,n),a=e.axis||"x",r=e.includeInvisible||!1,c=e.intersect?Mo(n,s,a,o,r):So(n,s,a,!1,o,r),l=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const h=c[0].index,u=d.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:d.index,index:h})}),l):[]},dataset(n,i,e,o){const s=Ie(i,n),a=e.axis||"xy",r=e.includeInvisible||!1;let c=e.intersect?Mo(n,s,a,o,r):So(n,s,a,!1,o,r);if(c.length>0){const l=c[0].datasetIndex,d=n.getDatasetMeta(l).data;c=[];for(let h=0;h<d.length;++h)c.push({element:d[h],datasetIndex:l,index:h})}return c},point:(n,i,e,o)=>Mo(n,Ie(i,n),e.axis||"xy",o,e.includeInvisible||!1),nearest:(n,i,e,o)=>So(n,Ie(i,n),e.axis||"xy",e.intersect,o,e.includeInvisible||!1),x:(n,i,e,o)=>Oa(n,Ie(i,n),"x",e.intersect,o),y:(n,i,e,o)=>Oa(n,Ie(i,n),"y",e.intersect,o)}};const La=["left","top","right","bottom"];function Di(n,i){return n.filter(e=>e.pos===i)}function Na(n,i){return n.filter(e=>-1===La.indexOf(e.pos)&&e.box.axis===i)}function Oi(n,i){return n.sort((e,o)=>{const s=i?o:e,a=i?e:o;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Ea(n,i,e,o){return Math.max(n[e],i[e])+Math.max(n[o],i[o])}function Fa(n,i){n.top=Math.max(n.top,i.top),n.left=Math.max(n.left,i.left),n.bottom=Math.max(n.bottom,i.bottom),n.right=Math.max(n.right,i.right)}function fg(n,i,e,o){const{pos:s,box:a}=e,r=n.maxPadding;if(!rt(s)){e.size&&(n[s]-=e.size);const u=o[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?a.height:a.width),e.size=u.size/u.count,n[s]+=e.size}a.getPadding&&Fa(r,a.getPadding());const c=Math.max(0,i.outerWidth-Ea(r,n,"left","right")),l=Math.max(0,i.outerHeight-Ea(r,n,"top","bottom")),d=c!==n.w,h=l!==n.h;return n.w=c,n.h=l,e.horizontal?{same:d,other:h}:{same:h,other:d}}function bg(n,i){const e=i.maxPadding;return function o(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{a[r]=Math.max(i[r],e[r])}),a}(n?["left","right"]:["top","bottom"])}function Li(n,i,e,o){const s=[];let a,r,c,l,d,h;for(a=0,r=n.length,d=0;a<r;++a){c=n[a],l=c.box,l.update(c.width||i.w,c.height||i.h,bg(c.horizontal,i));const{same:u,other:p}=fg(i,e,c,o);d|=u&&s.length,h=h||p,l.fullSize||s.push(c)}return d&&Li(s,i,e,o)||h}function wn(n,i,e,o,s){n.top=e,n.left=i,n.right=i+o,n.bottom=e+s,n.width=o,n.height=s}function Ua(n,i,e,o){const s=e.padding;let{x:a,y:r}=i;for(const c of n){const l=c.box,d=o[c.stack]||{count:1,placed:0,weight:1},h=c.stackWeight/d.weight||1;if(c.horizontal){const u=i.w*h,p=d.size||l.height;vi(d.start)&&(r=d.start),l.fullSize?wn(l,s.left,r,e.outerWidth-s.right-s.left,p):wn(l,i.left+d.placed,r,u,p),d.start=r,d.placed+=u,r=l.bottom}else{const u=i.h*h,p=d.size||l.width;vi(d.start)&&(a=d.start),l.fullSize?wn(l,a,s.top,p,e.outerHeight-s.bottom-s.top):wn(l,a,i.top+d.placed,p,u),d.start=a,d.placed+=u,a=l.right}}i.x=a,i.y=r}var Dt={addBox(n,i){n.boxes||(n.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},n.boxes.push(i)},removeBox(n,i){const e=n.boxes?n.boxes.indexOf(i):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(n,i,e,o){if(!n)return;const s=It(n.options.layout.padding),a=Math.max(i-s.width,0),r=Math.max(e-s.height,0),c=function _g(n){const i=function ug(n){const i=[];let e,o,s,a,r,c;for(e=0,o=(n||[]).length;e<o;++e)s=n[e],({position:a,options:{stack:r,stackWeight:c=1}}=s),i.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&a+r,stackWeight:c});return i}(n),e=Oi(i.filter(d=>d.box.fullSize),!0),o=Oi(Di(i,"left"),!0),s=Oi(Di(i,"right")),a=Oi(Di(i,"top"),!0),r=Oi(Di(i,"bottom")),c=Na(i,"x"),l=Na(i,"y");return{fullSize:e,leftAndTop:o.concat(a),rightAndBottom:s.concat(l).concat(r).concat(c),chartArea:Di(i,"chartArea"),vertical:o.concat(s).concat(l),horizontal:a.concat(r).concat(c)}}(n.boxes),l=c.vertical,d=c.horizontal;_t(n.boxes,m=>{"function"==typeof m.beforeLayout&&m.beforeLayout()});const h=l.reduce((m,v)=>v.box.options&&!1===v.box.options.display?m:m+1,0)||1,u=Object.freeze({outerWidth:i,outerHeight:e,padding:s,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/h,hBoxMaxHeight:r/2}),p=Object.assign({},s);Fa(p,It(o));const g=Object.assign({maxPadding:p,w:a,h:r,x:s.left,y:s.top},s),_=function gg(n,i){const e=function pg(n){const i={};for(const e of n){const{stack:o,pos:s,stackWeight:a}=e;if(!o||!La.includes(s))continue;const r=i[o]||(i[o]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return i}(n),{vBoxMaxWidth:o,hBoxMaxHeight:s}=i;let a,r,c;for(a=0,r=n.length;a<r;++a){c=n[a];const{fullSize:l}=c.box,d=e[c.stack],h=d&&c.stackWeight/d.weight;c.horizontal?(c.width=h?h*o:l&&i.availableWidth,c.height=s):(c.width=o,c.height=h?h*s:l&&i.availableHeight)}return e}(l.concat(d),u);Li(c.fullSize,g,u,_),Li(l,g,u,_),Li(d,g,u,_)&&Li(l,g,u,_),function mg(n){const i=n.maxPadding;function e(o){const s=Math.max(i[o]-n[o],0);return n[o]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(g),Ua(c.leftAndTop,g,u,_),g.x+=g.w,g.y+=g.h,Ua(c.rightAndBottom,g,u,_),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},_t(c.chartArea,m=>{const v=m.box;Object.assign(v,n.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Ra{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,o){}removeEventListener(i,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,o,s){return e=Math.max(0,e||i.width),o=o||i.height,{width:e,height:Math.max(0,s?Math.floor(e/s):o)}}isAttached(i){return!0}updateConfig(i){}}class xg extends Ra{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Tn="$chartjs",Cg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qa=n=>null===n||""===n,Ba=!!Pp&&{passive:!0};function Pg(n,i,e){n.canvas.removeEventListener(i,e,Ba)}function kn(n,i){for(const e of n)if(e===i||e.contains(i))return!0}function Tg(n,i,e){const o=n.canvas,s=new MutationObserver(a=>{let r=!1;for(const c of a)r=r||kn(c.addedNodes,o),r=r&&!kn(c.removedNodes,o);r&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function kg(n,i,e){const o=n.canvas,s=new MutationObserver(a=>{let r=!1;for(const c of a)r=r||kn(c.removedNodes,o),r=r&&!kn(c.addedNodes,o);r&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ni=new Map;let Ha=0;function Ya(){const n=window.devicePixelRatio;n!==Ha&&(Ha=n,Ni.forEach((i,e)=>{e.currentDevicePixelRatio!==n&&i()}))}function Sg(n,i,e){const o=n.canvas,s=o&&yo(o);if(!s)return;const a=Js((c,l)=>{const d=s.clientWidth;e(c,l),d<s.clientWidth&&e()},window),r=new ResizeObserver(c=>{const l=c[0],d=l.contentRect.width,h=l.contentRect.height;0===d&&0===h||a(d,h)});return r.observe(s),function Ag(n,i){Ni.size||window.addEventListener("resize",Ya),Ni.set(n,i)}(n,a),r}function Zo(n,i,e){e&&e.disconnect(),"resize"===i&&function Mg(n){Ni.delete(n),Ni.size||window.removeEventListener("resize",Ya)}(n)}function Zg(n,i,e){const o=n.canvas,s=Js(a=>{null!==n.ctx&&e(function wg(n,i){const e=Cg[n.type]||n.type,{x:o,y:s}=Ie(n,i);return{type:e,chart:i,native:n,x:void 0!==o?o:null,y:void 0!==s?s:null}}(a,n))},n);return function yg(n,i,e){n.addEventListener(i,e,Ba)}(o,i,s),s}class Ig extends Ra{acquireContext(i,e){const o=i&&i.getContext&&i.getContext("2d");return o&&o.canvas===i?(function vg(n,i){const e=n.style,o=n.getAttribute("height"),s=n.getAttribute("width");if(n[Tn]={initial:{height:o,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",qa(s)){const a=ha(n,"width");void 0!==a&&(n.width=a)}if(qa(o))if(""===n.style.height)n.height=n.width/(i||2);else{const a=ha(n,"height");void 0!==a&&(n.height=a)}}(i,e),o):null}releaseContext(i){const e=i.canvas;if(!e[Tn])return!1;const o=e[Tn].initial;["height","width"].forEach(a=>{const r=o[a];dt(r)?e.removeAttribute(a):e.setAttribute(a,r)});const s=o.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[Tn],!0}addEventListener(i,e,o){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:Tg,detach:kg,resize:Sg}[e]||Zg)(i,e,o)}removeEventListener(i,e){const o=i.$proxies||(i.$proxies={}),s=o[e];s&&(({attach:Zo,detach:Zo,resize:Zo}[e]||Pg)(i,e,s),o[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,o,s){return function yp(n,i,e,o){const s=mn(n),a=Ze(s,"margin"),r=fn(s.maxWidth,n,"clientWidth")||ln,c=fn(s.maxHeight,n,"clientHeight")||ln,l=function vp(n,i,e){let o,s;if(void 0===i||void 0===e){const a=yo(n);if(a){const r=a.getBoundingClientRect(),c=mn(a),l=Ze(c,"border","width"),d=Ze(c,"padding");i=r.width-d.width-l.width,e=r.height-d.height-l.height,o=fn(c.maxWidth,a,"clientWidth"),s=fn(c.maxHeight,a,"clientHeight")}else i=n.clientWidth,e=n.clientHeight}return{width:i,height:e,maxWidth:o||ln,maxHeight:s||ln}}(n,i,e);let{width:d,height:h}=l;if("content-box"===s.boxSizing){const p=Ze(s,"border","width"),g=Ze(s,"padding");d-=g.width+p.width,h-=g.height+p.height}return d=Math.max(0,d-a.width),h=Math.max(0,o?d/o:h-a.height),d=bn(Math.min(d,r,l.maxWidth)),h=bn(Math.min(h,c,l.maxHeight)),d&&!h&&(h=bn(d/2)),(void 0!==i||void 0!==e)&&o&&l.height&&h>l.height&&(h=l.height,d=bn(Math.floor(h*o))),{width:d,height:h}}(i,e,o,s)}isAttached(i){const e=yo(i);return!(!e||!e.isConnected)}}class $t{constructor(){U(this,"x"),U(this,"y"),U(this,"active",!1),U(this,"options"),U(this,"$animations")}tooltipPosition(i){const{x:e,y:o}=this.getProps(["x","y"],i);return{x:e,y:o}}hasValue(){return $e(this.x)&&$e(this.y)}getProps(i,e){const o=this.$animations;if(!e||!o)return this;const s={};return i.forEach(a=>{s[a]=o[a]&&o[a].active()?o[a]._to:this[a]}),s}}function An(n,i,e,o,s){const a=nt(o,0),r=Math.min(nt(s,n.length),n.length);let l,d,h,c=0;for(e=Math.ceil(e),s&&(l=s-o,e=l/Math.floor(l/e)),h=a;h<0;)c++,h=Math.round(a+c*e);for(d=Math.max(a,0);d<r;d++)d===h&&(i.push(n[d]),c++,h=Math.round(a+c*e))}U($t,"defaults",{}),U($t,"defaultRoutes");const Ja=(n,i,e)=>"top"===i||"left"===i?n[i]+e:n[i]-e,Qa=(n,i)=>Math.min(i||n,n);function Ga(n,i){const e=[],o=n.length/i,s=n.length;let a=0;for(;a<s;a+=o)e.push(n[Math.floor(a)]);return e}function qg(n,i,e){const o=n.ticks.length,s=Math.min(i,o-1),a=n._startPixel,r=n._endPixel,c=1e-6;let d,l=n.getPixelForTick(s);if(!(e&&(d=1===o?Math.max(l-a,r-l):0===i?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(s-1))/2,l+=s<i?d:-d,l<a-c||l>r+c)))return l}function Ei(n){return n.drawTicks?n.tickLength:0}function za(n,i){if(!n.display)return 0;const e=kt(n.font,i),o=It(n.padding);return(bt(n.text)?n.text.length:1)*e.lineHeight+o.height}function Jg(n,i,e){let o=uo(n);return(e&&"right"!==i||!e&&"right"===i)&&(o=(n=>"left"===n?"right":"right"===n?"left":n)(o)),o}class Ne extends $t{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:o,_suggestedMax:s}=this;return i=Ft(i,Number.POSITIVE_INFINITY),e=Ft(e,Number.NEGATIVE_INFINITY),o=Ft(o,Number.POSITIVE_INFINITY),s=Ft(s,Number.NEGATIVE_INFINITY),{min:Ft(i,o),max:Ft(e,s),minDefined:yt(i),maxDefined:yt(e)}}getMinMax(i){let r,{min:e,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:e,max:o};const c=this.getMatchingVisibleMetas();for(let l=0,d=c.length;l<d;++l)r=c[l].controller.getMinMax(this,i),s||(e=Math.min(e,r.min)),a||(o=Math.max(o,r.max));return e=a&&e>o?o:e,o=s&&e>o?e:o,{min:Ft(e,Ft(o,e)),max:Ft(o,Ft(e,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(i,e,o){const{beginAtZero:s,grace:a,ticks:r}=this.options,c=r.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function tp(n,i,e){const{min:o,max:s}=n,a=Is(i,(s-o)/2),r=(c,l)=>e&&0===c?0:c+l;return{min:r(o,-Math.abs(a)),max:r(s,a)}}(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=c<this.ticks.length;this._convertTicksToLabels(l?Ga(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function Og(n,i){const e=n.options.ticks,o=function Lg(n){const i=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(i?0:1),n._maxLength/e))}(n),s=Math.min(e.maxTicksLimit||o,o),a=e.major.enabled?function Eg(n){const i=[];let e,o;for(e=0,o=n.length;e<o;e++)n[e].major&&i.push(e);return i}(i):[],r=a.length,c=a[0],l=a[r-1],d=[];if(r>s)return function Fg(n,i,e,o){let r,s=0,a=e[0];for(o=Math.ceil(o),r=0;r<n.length;r++)r===a&&(i.push(n[r]),s++,a=e[s*o])}(i,d,a,r/s),d;const h=function Ng(n,i,e){const o=function Ug(n){const i=n.length;let e,o;if(i<2)return!1;for(o=n[0],e=1;e<i;++e)if(n[e]-n[e-1]!==o)return!1;return o}(n),s=i.length/e;if(!o)return Math.max(s,1);const a=function ku(n){const i=[],e=Math.sqrt(n);let o;for(o=1;o<e;o++)n%o==0&&(i.push(o),i.push(n/o));return e===(0|e)&&i.push(e),i.sort((s,a)=>s-a).pop(),i}(o);for(let r=0,c=a.length-1;r<c;r++){const l=a[r];if(l>s)return l}return Math.max(s,1)}(a,i,s);if(r>0){let u,p;const g=r>1?Math.round((l-c)/(r-1)):null;for(An(i,d,h,dt(g)?0:c-g,c),u=0,p=r-1;u<p;u++)An(i,d,h,a[u],a[u+1]);return An(i,d,h,l,dt(g)?i.length:l+g),d}return An(i,d,h),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,o,i=this.options.reverse;this.isHorizontal()?(e=this.left,o=this.right):(e=this.top,o=this.bottom,i=!i),this._startPixel=e,this._endPixel=o,this._reversePixels=i,this._length=o-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),mt(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let o,s,a;for(o=0,s=i.length;o<s;o++)a=i[o],a.label=mt(e.callback,[a.value,o,i],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,o=Qa(this.ticks.length,i.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let c,l,d,r=s;if(!this._isVisible()||!e.display||s>=a||o<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),u=h.widest.width,p=h.highest.height,g=At(this.chart.width-u,0,this.maxWidth);c=i.offset?this.maxWidth/o:g/(o-1),u+6>c&&(c=g/(o-(i.offset?.5:1)),l=this.maxHeight-Ei(i.grid)-e.padding-za(i.title,this.chart.options.font),d=Math.sqrt(u*u+p*p),r=co(Math.min(Math.asin(At((h.highest.height+6)/c,-1,1)),Math.asin(At(l/d,-1,1))-Math.asin(At(p/d,-1,1)))),r=Math.max(s,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:o,title:s,grid:a}}=this,r=this._isVisible(),c=this.isHorizontal();if(r){const l=za(s,e.options.font);if(c?(i.width=this.maxWidth,i.height=Ei(a)+l):(i.height=this.maxHeight,i.width=Ei(a)+l),o.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:p}=this._getLabelSizes(),g=2*o.padding,_=Gt(this.labelRotation),m=Math.cos(_),v=Math.sin(_);c?i.height=Math.min(this.maxHeight,i.height+(o.mirror?0:v*u.width+m*p.height)+g):i.width=Math.min(this.maxWidth,i.width+(o.mirror?0:m*u.width+v*p.height)+g),this._calculatePadding(d,h,v,m)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,o,s){const{ticks:{align:a,padding:r},position:c}=this.options,l=0!==this.labelRotation,d="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;l?d?(p=s*i.width,g=o*e.height):(p=o*i.height,g=s*e.width):"start"===a?g=e.width:"end"===a?p=i.width:"inner"!==a&&(p=i.width/2,g=e.width/2),this.paddingLeft=Math.max((p-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-u+r)*this.width/(this.width-u),0)}else{let h=e.height/2,u=i.height/2;"start"===a?(h=0,u=i.height):"end"===a&&(h=e.height,u=0),this.paddingTop=h+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,o=i.length;e<o;e++)dt(i[e].label)&&(i.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let o=this.ticks;e<o.length&&(o=Ga(o,e)),this._labelSizes=i=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,o){const{ctx:s,_longestTextCache:a}=this,r=[],c=[],l=Math.floor(e/Qa(e,o));let u,p,g,_,m,v,A,S,D,O,Z,d=0,h=0;for(u=0;u<e;u+=l){if(_=i[u].label,m=this._resolveTickFontOptions(u),s.font=v=m.string,A=a[v]=a[v]||{data:{},gc:[]},S=m.lineHeight,D=O=0,dt(_)||bt(_)){if(bt(_))for(p=0,g=_.length;p<g;++p)Z=_[p],!dt(Z)&&!bt(Z)&&(D=un(s,A.data,A.gc,D,Z),O+=S)}else D=un(s,A.data,A.gc,D,_),O=S;r.push(D),c.push(O),d=Math.max(D,d),h=Math.max(O,h)}!function Bg(n,i){_t(n,e=>{const o=e.gc,s=o.length/2;let a;if(s>i){for(a=0;a<s;++a)delete e.data[o[a]];o.splice(0,s)}})}(a,e);const B=r.indexOf(d),H=c.indexOf(h),Y=j=>({width:r[j]||0,height:c[j]||0});return{first:Y(0),last:Y(e-1),widest:Y(B),highest:Y(H),widths:r,heights:c}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function Su(n){return At(n,-32768,32767)}(this._alignToPixels?Ae(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const o=e[i];return o.$context||(o.$context=function Yg(n,i,e){return be(n,{tick:e,index:i,type:"tick"})}(this.getContext(),i,o))}return this.$context||(this.$context=function Hg(n,i){return be(n,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=Gt(this.labelRotation),o=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),r=i.autoSkipPadding||0,c=a?a.widest.width+r:0,l=a?a.highest.height+r:0;return this.isHorizontal()?l*o>c*s?c/o:l/s:l*s<c*o?l/o:c/s}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,o=this.chart,s=this.options,{grid:a,position:r,border:c}=s,l=a.offset,d=this.isHorizontal(),u=this.ticks.length+(l?1:0),p=Ei(a),g=[],_=c.setContext(this.getContext()),m=_.display?_.width:0,v=m/2,A=function(vt){return Ae(o,vt,m)};let S,D,O,Z,B,H,Y,j,st,at,lt,Mt;if("top"===r)S=A(this.bottom),H=this.bottom-p,j=S-v,at=A(i.top)+v,Mt=i.bottom;else if("bottom"===r)S=A(this.top),at=i.top,Mt=A(i.bottom)-v,H=S+v,j=this.top+p;else if("left"===r)S=A(this.right),B=this.right-p,Y=S-v,st=A(i.left)+v,lt=i.right;else if("right"===r)S=A(this.left),st=i.left,lt=A(i.right)-v,B=S+v,Y=this.left+p;else if("x"===e){if("center"===r)S=A((i.top+i.bottom)/2+.5);else if(rt(r)){const vt=Object.keys(r)[0];S=A(this.chart.scales[vt].getPixelForValue(r[vt]))}at=i.top,Mt=i.bottom,H=S+v,j=H+p}else if("y"===e){if("center"===r)S=A((i.left+i.right)/2);else if(rt(r)){const vt=Object.keys(r)[0];S=A(this.chart.scales[vt].getPixelForValue(r[vt]))}B=S-v,Y=B-p,st=i.left,lt=i.right}const Bt=nt(s.ticks.maxTicksLimit,u),ft=Math.max(1,Math.ceil(u/Bt));for(D=0;D<u;D+=ft){const vt=this.getContext(D),Tt=a.setContext(vt),Kt=c.setContext(vt),Ot=Tt.lineWidth,ni=Tt.color,Yn=Kt.dash||[],oi=Kt.dashOffset,Ji=Tt.tickWidth,Qi=Tt.tickColor,Gi=Tt.tickBorderDash||[],zi=Tt.tickBorderDashOffset;O=qg(this,D,l),void 0!==O&&(Z=Ae(o,O,Ot),d?B=Y=st=lt=Z:H=j=at=Mt=Z,g.push({tx1:B,ty1:H,tx2:Y,ty2:j,x1:st,y1:at,x2:lt,y2:Mt,width:Ot,color:ni,borderDash:Yn,borderDashOffset:oi,tickWidth:Ji,tickColor:Qi,tickBorderDash:Gi,tickBorderDashOffset:zi}))}return this._ticksLength=u,this._borderValue=S,g}_computeLabelItems(i){const e=this.axis,o=this.options,{position:s,ticks:a}=o,r=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:d,padding:h,mirror:u}=a,p=Ei(o.grid),g=p+h,_=u?-h:g,m=-Gt(this.labelRotation),v=[];let A,S,D,O,Z,B,H,Y,j,st,at,lt,Mt="middle";if("top"===s)B=this.bottom-_,H=this._getXAxisLabelAlignment();else if("bottom"===s)B=this.top+_,H=this._getXAxisLabelAlignment();else if("left"===s){const ft=this._getYAxisLabelAlignment(p);H=ft.textAlign,Z=ft.x}else if("right"===s){const ft=this._getYAxisLabelAlignment(p);H=ft.textAlign,Z=ft.x}else if("x"===e){if("center"===s)B=(i.top+i.bottom)/2+g;else if(rt(s)){const ft=Object.keys(s)[0];B=this.chart.scales[ft].getPixelForValue(s[ft])+g}H=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)Z=(i.left+i.right)/2-g;else if(rt(s)){const ft=Object.keys(s)[0];Z=this.chart.scales[ft].getPixelForValue(s[ft])}H=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===l?Mt="top":"end"===l&&(Mt="bottom"));const Bt=this._getLabelSizes();for(A=0,S=c.length;A<S;++A){D=c[A],O=D.label;const ft=a.setContext(this.getContext(A));Y=this.getPixelForTick(A)+a.labelOffset,j=this._resolveTickFontOptions(A),st=j.lineHeight,at=bt(O)?O.length:1;const vt=at/2,Tt=ft.color,Kt=ft.textStrokeColor,Ot=ft.textStrokeWidth;let Yn,ni=H;if(r?(Z=Y,"inner"===H&&(ni=A===S-1?this.options.reverse?"left":"right":0===A?this.options.reverse?"right":"left":"center"),lt="top"===s?"near"===d||0!==m?-at*st+st/2:"center"===d?-Bt.highest.height/2-vt*st+st:st/2-Bt.highest.height:"near"===d||0!==m?st/2:"center"===d?Bt.highest.height/2-vt*st:Bt.highest.height-at*st,u&&(lt*=-1),0!==m&&!ft.showLabelBackdrop&&(Z+=st/2*Math.sin(m))):(B=Y,lt=(1-at)*st/2),ft.showLabelBackdrop){const oi=It(ft.backdropPadding),Ji=Bt.heights[A],Qi=Bt.widths[A];let Gi=lt-oi.top,zi=0-oi.left;switch(Mt){case"middle":Gi-=Ji/2;break;case"bottom":Gi-=Ji}switch(H){case"center":zi-=Qi/2;break;case"right":zi-=Qi}Yn={left:zi,top:Gi,width:Qi+oi.width,height:Ji+oi.height,color:ft.backdropColor}}v.push({label:O,font:j,textOffset:lt,options:{rotation:m,color:Tt,strokeColor:Kt,strokeWidth:Ot,textAlign:ni,textBaseline:Mt,translation:[Z,B],backdrop:Yn}})}return v}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-Gt(this.labelRotation))return"top"===i?"left":"right";let s="center";return"start"===e.align?s="left":"end"===e.align?s="right":"inner"===e.align&&(s="inner"),s}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:o,mirror:s,padding:a}}=this.options,c=i+a,l=this._getLabelSizes().widest.width;let d,h;return"left"===e?s?(h=this.right+a,"near"===o?d="left":"center"===o?(d="center",h+=l/2):(d="right",h+=l)):(h=this.right-c,"near"===o?d="right":"center"===o?(d="center",h-=l/2):(d="left",h=this.left)):"right"===e?s?(h=this.left+a,"near"===o?d="right":"center"===o?(d="center",h-=l/2):(d="left",h-=l)):(h=this.left+c,"near"===o?d="left":"center"===o?(d="center",h+=l/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:o,top:s,width:a,height:r}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(o,s,a,r),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===i);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(i){const e=this.options.grid,o=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let a,r;const c=(l,d,h)=>{!h.width||!h.color||(o.save(),o.lineWidth=h.width,o.strokeStyle=h.color,o.setLineDash(h.borderDash||[]),o.lineDashOffset=h.borderDashOffset,o.beginPath(),o.moveTo(l.x,l.y),o.lineTo(d.x,d.y),o.stroke(),o.restore())};if(e.display)for(a=0,r=s.length;a<r;++a){const l=s[a];e.drawOnChartArea&&c({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&c({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{border:o,grid:s}}=this,a=o.setContext(this.getContext()),r=o.display?a.width:0;if(!r)return;const c=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,h,u,p;this.isHorizontal()?(d=Ae(i,this.left,r)-r/2,h=Ae(i,this.right,c)+c/2,u=p=l):(u=Ae(i,this.top,r)-r/2,p=Ae(i,this.bottom,c)+c/2,d=h=l),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(d,u),e.lineTo(h,p),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const o=this.ctx,s=this._computeLabelArea();s&&pn(o,s);const a=this.getLabelItems(i);for(const r of a)Me(o,r.label,0,r.textOffset,r.font,r.options);s&&gn(o)}drawTitle(){const{ctx:i,options:{position:e,title:o,reverse:s}}=this;if(!o.display)return;const a=kt(o.font),r=It(o.padding),c=o.align;let l=a.lineHeight/2;"bottom"===e||"center"===e||rt(e)?(l+=r.bottom,bt(o.text)&&(l+=a.lineHeight*(o.text.length-1))):l+=r.top;const{titleX:d,titleY:h,maxWidth:u,rotation:p}=function Qg(n,i,e,o){const{top:s,left:a,bottom:r,right:c,chart:l}=n,{chartArea:d,scales:h}=l;let p,g,_,u=0;const m=r-s,v=c-a;if(n.isHorizontal()){if(g=Zt(o,a,c),rt(e)){const A=Object.keys(e)[0];_=h[A].getPixelForValue(e[A])+m-i}else _="center"===e?(d.bottom+d.top)/2+m-i:Ja(n,e,i);p=c-a}else{if(rt(e)){const A=Object.keys(e)[0];g=h[A].getPixelForValue(e[A])-v+i}else g="center"===e?(d.left+d.right)/2-v+i:Ja(n,e,i);_=Zt(o,r,s),u="left"===e?-Pt:Pt}return{titleX:g,titleY:_,maxWidth:p,rotation:u}}(this,l,e,c);Me(i,o.text,0,0,a,{color:o.color,maxWidth:u,rotation:p,textAlign:Jg(c,e,s),textBaseline:"middle",translation:[d,h]})}draw(i){!this._isVisible()||(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,o=nt(i.grid&&i.grid.z,-1),s=nt(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Ne.prototype.draw?[{z:o,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]:[{z:e,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",s=[];let a,r;for(a=0,r=e.length;a<r;++a){const c=e[a];c[o]===this.id&&(!i||c.type===i)&&s.push(c)}return s}_resolveTickFontOptions(i){return kt(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Mn{constructor(i,e,o){this.type=i,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let o;(function $g(n){return"id"in n&&"defaults"in n})(e)&&(o=this.register(e));const s=this.items,a=i.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+i);return a in s||(s[a]=i,function Gg(n,i,e){const o=xi(Object.create(null),[e?wt.get(e):{},wt.get(i),n.defaults]);wt.set(i,o),n.defaultRoutes&&function zg(n,i){Object.keys(i).forEach(e=>{const o=e.split("."),s=o.pop(),a=[n].concat(o).join("."),r=i[e].split("."),c=r.pop(),l=r.join(".");wt.route(a,s,l,c)})}(i,n.defaultRoutes),n.descriptors&&wt.describe(i,n.descriptors)}(i,r,o),this.override&&wt.override(i.id,i.overrides)),r}get(i){return this.items[i]}unregister(i){const e=this.items,o=i.id,s=this.scope;o in e&&delete e[o],s&&o in wt[s]&&(delete wt[s][o],this.override&&delete ke[o])}}class Vg{constructor(){this.controllers=new Mn(zt,"datasets",!0),this.elements=new Mn($t,"elements"),this.plugins=new Mn(Object,"plugins"),this.scales=new Mn(Ne,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,o){[...e].forEach(s=>{const a=o||this._getRegistryForType(s);o||a.isForType(s)||a===this.plugins&&s.id?this._exec(i,a,s):_t(s,r=>{const c=o||this._getRegistryForType(r);this._exec(i,c,r)})})}_exec(i,e,o){const s=ro(i);mt(o["before"+s],[],o),e[i](o),mt(o["after"+s],[],o)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const o=this._typedRegistries[e];if(o.isForType(i))return o}return this.plugins}_get(i,e,o){const s=e.get(i);if(void 0===s)throw new Error('"'+i+'" is not a registered '+o+".");return s}}var ie=new Vg;class jg{constructor(){this._init=[]}notify(i,e,o,s){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const a=s?this._descriptors(i).filter(s):this._descriptors(i),r=this._notify(a,i,e,o);return"afterDestroy"===e&&(this._notify(a,i,"stop"),this._notify(this._init,i,"uninstall")),r}_notify(i,e,o,s){s=s||{};for(const a of i){const r=a.plugin;if(!1===mt(r[o],[e,s,a.options],r)&&s.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const o=i&&i.config,s=nt(o.options&&o.options.plugins,{}),a=function Kg(n){const i={},e=[],o=Object.keys(ie.plugins.items);for(let a=0;a<o.length;a++)e.push(ie.getPlugin(o[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const r=s[a];-1===e.indexOf(r)&&(e.push(r),i[r.id]=!0)}return{plugins:e,localIds:i}}(o);return!1!==s||e?function Xg(n,{plugins:i,localIds:e},o,s){const a=[],r=n.getContext();for(const c of i){const l=c.id,d=Wg(o[l],s);null!==d&&a.push({plugin:c,options:t_(n.config,{plugin:c,local:e[l]},d,r)})}return a}(i,a,s,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],o=this._cache,s=(a,r)=>a.filter(c=>!r.some(l=>c.plugin.id===l.plugin.id));this._notify(s(e,o),i,"stop"),this._notify(s(o,e),i,"start")}}function Wg(n,i){return i||!1!==n?!0===n?{}:n:null}function t_(n,{plugin:i,local:e},o,s){const a=n.pluginScopeKeys(i),r=n.getOptionScopes(o,a);return e&&i.defaults&&r.push(i.defaults),n.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Io(n,i){return((i.datasets||{})[n]||{}).indexAxis||i.indexAxis||(wt.datasets[n]||{}).indexAxis||"x"}function $a(n){if("x"===n||"y"===n||"r"===n)return n}function n_(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function Do(n,...i){if($a(n))return n;for(const e of i){const o=e.axis||n_(e.position)||n.length>1&&$a(n[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Va(n,i,e){if(e[i+"AxisID"]===n)return{axis:i}}function ja(n){const i=n.options||(n.options={});i.plugins=nt(i.plugins,{}),i.scales=function s_(n,i){const e=ke[n.type]||{scales:{}},o=i.scales||{},s=Io(n.type,i),a=Object.create(null);return Object.keys(o).forEach(r=>{const c=o[r];if(!rt(c))return console.error(`Invalid scale configuration for scale: ${r}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=Do(r,c,function o_(n,i){if(i.data&&i.data.datasets){const e=i.data.datasets.filter(o=>o.xAxisID===n||o.yAxisID===n);if(e.length)return Va(n,"x",e[0])||Va(n,"y",e[0])}return{}}(r,n),wt.scales[c.type]),d=function i_(n,i){return n===i?"_index_":"_value_"}(l,s),h=e.scales||{};a[r]=Ci(Object.create(null),[{axis:l},c,h[l],h[d]])}),n.data.datasets.forEach(r=>{const c=r.type||n.type,l=r.indexAxis||Io(c,i),h=(ke[c]||{}).scales||{};Object.keys(h).forEach(u=>{const p=function e_(n,i){let e=n;return"_index_"===n?e=i:"_value_"===n&&(e="x"===i?"y":"x"),e}(u,l),g=r[p+"AxisID"]||p;a[g]=a[g]||Object.create(null),Ci(a[g],[{axis:p},o[g],h[u]])})}),Object.keys(a).forEach(r=>{const c=a[r];Ci(c,[wt.scales[c.type],wt.scale])}),a}(n,i)}function Ka(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Wa=new Map,Xa=new Set;function Sn(n,i){let e=Wa.get(n);return e||(e=i(),Wa.set(n,e),Xa.add(e)),e}const Fi=(n,i,e)=>{const o=_e(i,e);void 0!==o&&n.add(o)};class r_{constructor(i){this._config=function a_(n){return(n=n||{}).data=Ka(n.data),ja(n),n}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Ka(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),ja(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return Sn(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return Sn(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return Sn(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return Sn(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const o=this._scopeCache;let s=o.get(i);return(!s||e)&&(s=new Map,o.set(i,s)),s}getOptionScopes(i,e,o){const{options:s,type:a}=this,r=this._cachedScopes(i,o),c=r.get(e);if(c)return c;const l=new Set;e.forEach(h=>{i&&(l.add(i),h.forEach(u=>Fi(l,i,u))),h.forEach(u=>Fi(l,s,u)),h.forEach(u=>Fi(l,ke[a]||{},u)),h.forEach(u=>Fi(l,wt,u)),h.forEach(u=>Fi(l,_o,u))});const d=Array.from(l);return 0===d.length&&d.push(Object.create(null)),Xa.has(e)&&r.set(e,d),d}chartOptionScopes(){const{options:i,type:e}=this;return[i,ke[e]||{},wt.datasets[e]||{},{type:e},wt,_o]}resolveNamedOptions(i,e,o,s=[""]){const a={$shared:!0},{resolver:r,subPrefixes:c}=tr(this._resolverCache,i,s);let l=r;(function l_(n,i){const{isScriptable:e,isIndexable:o}=ea(n);for(const s of i){const a=e(s),r=o(s),c=(r||a)&&n[s];if(a&&(fe(c)||c_(c))||r&&bt(c))return!0}return!1})(r,e)&&(a.$shared=!1,l=Ve(r,o=fe(o)?o():o,this.createResolver(i,o,c)));for(const d of e)a[d]=l[d];return a}createResolver(i,e,o=[""],s){const{resolver:a}=tr(this._resolverCache,i,o);return rt(e)?Ve(a,e,void 0,s):a}}function tr(n,i,e){let o=n.get(i);o||(o=new Map,n.set(i,o));const s=e.join();let a=o.get(s);return a||(a={resolver:xo(i,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},o.set(s,a)),a}const c_=n=>rt(n)&&Object.getOwnPropertyNames(n).reduce((i,e)=>i||fe(n[e]),!1),h_=["top","bottom","left","right","chartArea"];function er(n,i){return"top"===n||"bottom"===n||-1===h_.indexOf(n)&&"x"===i}function ir(n,i){return function(e,o){return e[n]===o[n]?e[i]-o[i]:e[n]-o[n]}}function nr(n){const i=n.chart,e=i.options.animation;i.notifyPlugins("afterRender"),mt(e&&e.onComplete,[n],i)}function u_(n){const i=n.chart,e=i.options.animation;mt(e&&e.onProgress,[n],i)}function or(n){return la()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Zn={},sr=n=>{const i=or(n);return Object.values(Zn).filter(e=>e.canvas===i).pop()};function p_(n,i,e){const o=Object.keys(n);for(const s of o){const a=+s;if(a>=i){const r=n[s];delete n[s],(e>0||a>i)&&(n[a+e]=r)}}}class Vt{static register(...i){ie.add(...i),ar()}static unregister(...i){ie.remove(...i),ar()}constructor(i,e){const o=this.config=new r_(e),s=or(i),a=sr(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function Dg(n){return!la()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?xg:Ig}(s)),this.platform.updateConfig(o);const c=this.platform.acquireContext(s,r.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;this.id=mu(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Ou(n,i){let e;return function(...o){return i?(clearTimeout(e),e=setTimeout(n,i,o)):n.apply(this,o),i}}(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],Zn[this.id]=this,c&&l?(de.listen(this,"complete",nr),de.listen(this,"progress",u_),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:e},width:o,height:s,_aspectRatio:a}=this;return dt(i)?e&&a?a:s?o/s:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return ie}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():da(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ws(this.canvas,this.ctx),this}stop(){return de.stop(this),this}resize(i,e){de.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){const o=this.options,r=this.platform.getMaximumSize(this.canvas,i,e,o.maintainAspectRatio&&this.aspectRatio),c=o.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,da(this,c,!0)&&(this.notifyPlugins("resize",{size:r}),mt(o.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){_t(this.options.scales||{},(o,s)=>{o.id=s})}buildOrUpdateScales(){const i=this.options,e=i.scales,o=this.scales,s=Object.keys(o).reduce((r,c)=>(r[c]=!1,r),{});let a=[];e&&(a=a.concat(Object.keys(e).map(r=>{const c=e[r],l=Do(r,c),d="r"===l,h="x"===l;return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),_t(a,r=>{const c=r.options,l=c.id,d=Do(l,c),h=nt(c.type,r.dtype);(void 0===c.position||er(c.position,d)!==er(r.dposition))&&(c.position=r.dposition),s[l]=!0;let u=null;l in o&&o[l].type===h?u=o[l]:(u=new(ie.getScale(h))({id:l,type:h,ctx:this.ctx,chart:this}),o[u.id]=u),u.init(c,i)}),_t(s,(r,c)=>{r||delete o[c]}),_t(o,r=>{Dt.configure(this,r,r.options),Dt.addBox(this,r)})}_updateMetasets(){const i=this._metasets,e=this.data.datasets.length,o=i.length;if(i.sort((s,a)=>s.index-a.index),o>e){for(let s=e;s<o;++s)this._destroyDatasetMeta(s);i.splice(e,o-e)}this._sortedMetasets=i.slice(0).sort(ir("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((o,s)=>{0===e.filter(a=>a===o._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const i=[],e=this.data.datasets;let o,s;for(this._removeUnreferencedMetasets(),o=0,s=e.length;o<s;o++){const a=e[o];let r=this.getDatasetMeta(o);const c=a.type||this.config.type;if(r.type&&r.type!==c&&(this._destroyDatasetMeta(o),r=this.getDatasetMeta(o)),r.type=c,r.indexAxis=a.indexAxis||Io(c,this.options),r.order=a.order||0,r.index=o,r.label=""+a.label,r.visible=this.isDatasetVisible(o),r.controller)r.controller.updateIndex(o),r.controller.linkScales();else{const l=ie.getController(c),{datasetElementType:d,dataElementType:h}=wt.datasets[c];Object.assign(l,{dataElementType:ie.getElement(h),datasetElementType:d&&ie.getElement(d)}),r.controller=new l(this,o),i.push(r.controller)}}return this._updateMetasets(),i}_resetElements(){_t(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const e=this.config;e.update();const o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:u}=this.getDatasetMeta(d),p=!s&&-1===a.indexOf(u);u.buildOrUpdateElements(p),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=o.layout.autoPadding?r:0,this._updateLayout(r),s||_t(a,d=>{d.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(ir("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){_t(this.scales,i=>{Dt.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(i.events);(!Ls(e,o)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,e=this._getUniformDataChanges()||[];for(const{method:o,start:s,count:a}of e)p_(i,s,"_removeElements"===o?-a:a)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const e=this.data.datasets.length,o=a=>new Set(i.filter(r=>r[0]===a).map((r,c)=>c+","+r.splice(1).join(","))),s=o(0);for(let a=1;a<e;a++)if(!Ls(s,o(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Dt.update(this,this.width,this.height,i);const e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],_t(this.boxes,s=>{o&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,fe(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){const o=this.getDatasetMeta(i),s={meta:o,index:i,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(o.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(de.has(this)?this.attached&&!de.running(this)&&de.start(this):(this.draw(),nr({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:o,height:s}=this._resizeBeforeDraw;this._resize(o,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const e=this._sortedMetasets,o=[];let s,a;for(s=0,a=e.length;s<a;++s){const r=e[s];(!i||r.visible)&&o.push(r)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const e=this.ctx,o=i._clip,s=!o.disabled,a=function __(n){const{xScale:i,yScale:e}=n;if(i&&e)return{left:i.left,right:i.right,top:e.top,bottom:e.bottom}}(i)||this.chartArea,r={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(s&&pn(e,{left:!1===o.left?0:a.left-o.left,right:!1===o.right?this.width:a.right+o.right,top:!1===o.top?0:a.top-o.top,bottom:!1===o.bottom?this.height:a.bottom+o.bottom}),i.controller.draw(),s&&gn(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(i){return le(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,e,o,s){const a=hg.modes[e];return"function"==typeof a?a(this,i,o,s):[]}getDatasetMeta(i){const e=this.data.datasets[i],o=this._metasets;let s=o.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},o.push(s)),s}getContext(){return this.$context||(this.$context=be(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const e=this.data.datasets[i];if(!e)return!1;const o=this.getDatasetMeta(i);return"boolean"==typeof o.hidden?!o.hidden:!e.hidden}setDatasetVisibility(i,e){this.getDatasetMeta(i).hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,o){const s=o?"show":"hide",a=this.getDatasetMeta(i),r=a.controller._resolveAnimations(void 0,s);vi(e)?(a.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(i,o),r.update(a,{visible:o}),this.update(c=>c.datasetIndex===i?s:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){const e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),de.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),Ws(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Zn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,e=this.platform,o=(a,r)=>{e.addEventListener(this,a,r),i[a]=r},s=(a,r,c)=>{a.offsetX=r,a.offsetY=c,this._eventHandler(a)};_t(this.options.events,a=>o(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,e=this.platform,o=(l,d)=>{e.addEventListener(this,l,d),i[l]=d},s=(l,d)=>{i[l]&&(e.removeEventListener(this,l,d),delete i[l])},a=(l,d)=>{this.canvas&&this.resize(l,d)};let r;const c=()=>{s("attach",c),this.attached=!0,this.resize(),o("resize",a),o("detach",r)};r=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),o("attach",c)},e.isAttached(this.canvas)?c():r()}unbindEvents(){_t(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},_t(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,o){const s=o?"set":"remove";let a,r,c,l;for("dataset"===e&&(a=this.getDatasetMeta(i[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=i.length;c<l;++c){r=i[c];const d=r&&this.getDatasetMeta(r.datasetIndex).controller;d&&d[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const e=this._active||[],o=i.map(({datasetIndex:a,index:r})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[r],index:r}});!rn(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(i,e,o){return this._plugins.notify(this,i,e,o)}isPluginEnabled(i){return 1===this._plugins._cache.filter(e=>e.plugin.id===i).length}_updateHoverStyles(i,e,o){const s=this.options.hover,a=(l,d)=>l.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),r=a(e,i),c=o?i:a(i,e);r.length&&this.updateHoverStyle(r,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(i,e){const o={event:i,replay:e,cancelable:!0,inChartArea:this.isPointInArea(i)},s=r=>(r.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",o,s))return;const a=this._handleEvent(i,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,s),(a||o.changed)&&this.render(),this}_handleEvent(i,e,o){const{_active:s=[],options:a}=this,c=this._getActiveElements(i,s,o,e),l=function Pu(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(i),d=function g_(n,i,e,o){return e&&"mouseout"!==n.type?o?i:n:null}(i,this._lastEvent,o,l);o&&(this._lastEvent=null,mt(a.onHover,[i,c,this],this),l&&mt(a.onClick,[i,c,this],this));const h=!rn(c,s);return(h||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=d,h}_getActiveElements(i,e,o,s){if("mouseout"===i.type)return[];if(!o)return e;const a=this.options.hover;return this.getElementsAtEventForMode(i,a.mode,a,s)}}function ar(){return _t(Vt.instances,n=>n._plugins.invalidate())}function We(n,i,e,o){return{x:e+n*Math.cos(i),y:o+n*Math.sin(i)}}function In(n,i,e,o,s,a){const{x:r,y:c,startAngle:l,pixelMargin:d,innerRadius:h}=i,u=Math.max(i.outerRadius+o+e-d,0),p=h>0?h+o+e+d:0;let g=0;const _=s-l;if(o){const Tt=((h>0?h-o:0)+(u>0?u-o:0))/2;g=(_-(0!==Tt?_*Tt/(Tt+o):_))/2}const v=(_-Math.max(.001,_*u-e/Ct)/u)/2,A=l+v+g,S=s-v-g,{outerStart:D,outerEnd:O,innerStart:Z,innerEnd:B}=function b_(n,i,e,o){const s=function m_(n){return bo(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),a=(e-i)/2,r=Math.min(a,o*i/2),c=l=>{const d=(e-Math.min(a,l))*o/2;return At(l,0,Math.min(a,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:At(s.innerStart,0,r),innerEnd:At(s.innerEnd,0,r)}}(i,p,u,S-A),H=u-D,Y=u-O,j=A+D/H,st=S-O/Y,at=p+Z,lt=p+B,Mt=A+Z/at,Bt=S-B/lt;if(n.beginPath(),a){const ft=(j+st)/2;if(n.arc(r,c,u,j,ft),n.arc(r,c,u,ft,st),O>0){const Ot=We(Y,st,r,c);n.arc(Ot.x,Ot.y,O,st,S+Pt)}const vt=We(lt,S,r,c);if(n.lineTo(vt.x,vt.y),B>0){const Ot=We(lt,Bt,r,c);n.arc(Ot.x,Ot.y,B,S+Pt,Bt+Math.PI)}const Tt=(S-B/p+(A+Z/p))/2;if(n.arc(r,c,p,S-B/p,Tt,!0),n.arc(r,c,p,Tt,A+Z/p,!0),Z>0){const Ot=We(at,Mt,r,c);n.arc(Ot.x,Ot.y,Z,Mt+Math.PI,A-Pt)}const Kt=We(H,A,r,c);if(n.lineTo(Kt.x,Kt.y),D>0){const Ot=We(H,j,r,c);n.arc(Ot.x,Ot.y,D,A-Pt,j)}}else{n.moveTo(r,c);const ft=Math.cos(j)*u+r,vt=Math.sin(j)*u+c;n.lineTo(ft,vt);const Tt=Math.cos(st)*u+r,Kt=Math.sin(st)*u+c;n.lineTo(Tt,Kt)}n.closePath()}U(Vt,"defaults",wt),U(Vt,"instances",Zn),U(Vt,"overrides",ke),U(Vt,"registry",ie),U(Vt,"version","4.3.0"),U(Vt,"getChart",sr);class Ui extends $t{constructor(e){super(),U(this,"circumference"),U(this,"endAngle"),U(this,"fullCircles"),U(this,"innerRadius"),U(this,"outerRadius"),U(this,"pixelMargin"),U(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,o,s){const a=this.getProps(["x","y"],s),{angle:r,distance:c}=Rs(a,{x:e,y:o}),{startAngle:l,endAngle:d,innerRadius:h,outerRadius:u,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,m=nt(p,d-l)>=xt||Pi(r,l,d),v=re(c,h+g,u+g);return m&&v}getCenterPoint(e){const{x:o,y:s,startAngle:a,endAngle:r,innerRadius:c,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:h}=this.options,u=(a+r)/2,p=(c+l+h+d)/2;return{x:o+Math.cos(u)*p,y:s+Math.sin(u)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:o,circumference:s}=this,a=(o.offset||0)/4,r=(o.spacing||0)/2,c=o.circular;if(this.pixelMargin="inner"===o.borderAlign?.33:0,this.fullCircles=s>xt?Math.floor(s/xt):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const h=a*(1-Math.sin(Math.min(Ct,s||0)));e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,function x_(n,i,e,o,s){const{fullCircles:a,startAngle:r,circumference:c}=i;let l=i.endAngle;if(a){In(n,i,e,o,l,s);for(let d=0;d<a;++d)n.fill();isNaN(c)||(l=r+(c%xt||xt))}In(n,i,e,o,l,s),n.fill()}(e,this,h,r,c),function C_(n,i,e,o,s){const{fullCircles:a,startAngle:r,circumference:c,options:l}=i,{borderWidth:d,borderJoinStyle:h,borderDash:u,borderDashOffset:p}=l,g="inner"===l.borderAlign;if(!d)return;n.setLineDash(u||[]),n.lineDashOffset=p,g?(n.lineWidth=2*d,n.lineJoin=h||"round"):(n.lineWidth=d,n.lineJoin=h||"bevel");let _=i.endAngle;if(a){In(n,i,e,o,_,s);for(let m=0;m<a;++m)n.stroke();isNaN(c)||(_=r+(c%xt||xt))}g&&function f_(n,i,e){const{startAngle:o,pixelMargin:s,x:a,y:r,outerRadius:c,innerRadius:l}=i;let d=s/c;n.beginPath(),n.arc(a,r,c,o-d,e+d),l>s?(d=s/l,n.arc(a,r,l,e+d,o-d,!0)):n.arc(a,r,s,e+Pt,o-Pt),n.closePath(),n.clip()}(n,i,_),a||(In(n,i,e,o,_,s),n.stroke())}(e,this,h,r,c),e.restore()}}function rr(n,i,e=i){n.lineCap=nt(e.borderCapStyle,i.borderCapStyle),n.setLineDash(nt(e.borderDash,i.borderDash)),n.lineDashOffset=nt(e.borderDashOffset,i.borderDashOffset),n.lineJoin=nt(e.borderJoinStyle,i.borderJoinStyle),n.lineWidth=nt(e.borderWidth,i.borderWidth),n.strokeStyle=nt(e.borderColor,i.borderColor)}function v_(n,i,e){n.lineTo(e.x,e.y)}function cr(n,i,e={}){const o=n.length,{start:s=0,end:a=o-1}=e,{start:r,end:c}=i,l=Math.max(s,r),d=Math.min(a,c);return{count:o,start:l,loop:i.loop,ilen:d<l&&!(s<r&&a<r||s>c&&a>c)?o+d-l:d-l}}function P_(n,i,e,o){const{points:s,options:a}=i,{count:r,start:c,loop:l,ilen:d}=cr(s,e,o),h=function y_(n){return n.stepped?Qu:n.tension||"monotone"===n.cubicInterpolationMode?Gu:v_}(a);let g,_,m,{move:u=!0,reverse:p}=o||{};for(g=0;g<=d;++g)_=s[(c+(p?d-g:g))%r],!_.skip&&(u?(n.moveTo(_.x,_.y),u=!1):h(n,m,_,p,a.stepped),m=_);return l&&(_=s[(c+(p?d:0))%r],h(n,m,_,p,a.stepped)),!!l}function w_(n,i,e,o){const s=i.points,{count:a,start:r,ilen:c}=cr(s,e,o),{move:l=!0,reverse:d}=o||{};let p,g,_,m,v,A,h=0,u=0;const S=O=>(r+(d?c-O:O))%a,D=()=>{m!==v&&(n.lineTo(h,v),n.lineTo(h,m),n.lineTo(h,A))};for(l&&(g=s[S(0)],n.moveTo(g.x,g.y)),p=0;p<=c;++p){if(g=s[S(p)],g.skip)continue;const O=g.x,Z=g.y,B=0|O;B===_?(Z<m?m=Z:Z>v&&(v=Z),h=(u*h+O)/++u):(D(),n.lineTo(O,Z),_=B,u=0,m=v=Z),A=Z}D()}function Oo(n){const i=n.options;return n._decimated||n._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?P_:w_}U(Ui,"id","arc"),U(Ui,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),U(Ui,"defaultRoutes",{backgroundColor:"backgroundColor"}),U(Ui,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const M_="function"==typeof Path2D;class xe extends $t{constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,e){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(fp(this._points,o,i,o.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Ip(n,i){const e=n.points,o=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:r,end:c}=function Sp(n,i,e,o){let s=0,a=i-1;if(e&&!o)for(;s<i&&!n[s].skip;)s++;for(;s<i&&n[s].skip;)s++;for(s%=i,e&&(a+=s);a>s&&n[a%i].skip;)a--;return a%=i,{start:s,end:a}}(e,s,a,o);return function ba(n,i,e,o){return o&&o.setContext&&e?function Dp(n,i,e,o){const s=n._chart.getContext(),a=xa(n.options),{_datasetIndex:r,options:{spanGaps:c}}=n,l=e.length,d=[];let h=a,u=i[0].start,p=u;function g(_,m,v,A){const S=c?-1:1;if(_!==m){for(_+=l;e[_%l].skip;)_-=S;for(;e[m%l].skip;)m+=S;_%l!=m%l&&(d.push({start:_%l,end:m%l,loop:v,style:A}),h=A,u=m%l)}}for(const _ of i){u=c?u:_.start;let v,m=e[u%l];for(p=u+1;p<=_.end;p++){const A=e[p%l];v=xa(o.setContext(be(s,{type:"segment",p0:m,p1:A,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:r}))),Op(v,h)&&g(u,p-1,_.loop,h),m=A,h=v}u<p-1&&g(u,p-1,_.loop,h)}return d}(n,i,e,o):i}(n,!0===o?[{start:r,end:c,loop:a}]:function Zp(n,i,e,o){const s=n.length,a=[];let l,r=i,c=n[i];for(l=i+1;l<=e;++l){const d=n[l%s];d.skip||d.stop?c.skip||(a.push({start:i%s,end:(l-1)%s,loop:o=!1}),i=r=d.stop?l:null):(r=l,c.skip&&(i=l)),c=d}return null!==r&&a.push({start:i%s,end:r%s,loop:o}),a}(e,r,c<r?c+s:c,!!n._fullLoop&&0===r&&c===s-1),e,i)}(this,this.options.segment))}first(){const i=this.segments;return i.length&&this.points[i[0].start]}last(){const i=this.segments,o=i.length;return o&&this.points[i[o-1].end]}interpolate(i,e){const o=this.options,s=i[e],a=this.points,r=ma(this,{property:e,start:s,end:s});if(!r.length)return;const c=[],l=function T_(n){return n.stepped?wp:n.tension||"monotone"===n.cubicInterpolationMode?Tp:De}(o);let d,h;for(d=0,h=r.length;d<h;++d){const{start:u,end:p}=r[d],g=a[u],_=a[p];if(g===_){c.push(g);continue}const v=l(g,_,Math.abs((s-g[e])/(_[e]-g[e])),o.stepped);v[e]=i[e],c.push(v)}return 1===c.length?c[0]:c}pathSegment(i,e,o){return Oo(this)(i,this,e,o)}path(i,e,o){const s=this.segments,a=Oo(this);let r=this._loop;e=e||0,o=o||this.points.length-e;for(const c of s)r&=a(i,this,c,{start:e,end:e+o-1});return!!r}draw(i,e,o,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(i.save(),function S_(n,i,e,o){M_&&!i.options.segment?function k_(n,i,e,o){let s=i._path;s||(s=i._path=new Path2D,i.path(s,e,o)&&s.closePath()),rr(n,i.options),n.stroke(s)}(n,i,e,o):function A_(n,i,e,o){const{segments:s,options:a}=i,r=Oo(i);for(const c of s)rr(n,a,c.style),n.beginPath(),r(n,i,c,{start:e,end:e+o-1})&&n.closePath(),n.stroke()}(n,i,e,o)}(i,this,o,s),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lr(n,i,e,o){const s=n.options,{[e]:a}=n.getProps([e],o);return Math.abs(i-a)<s.radius+s.hitRadius}U(xe,"id","line"),U(xe,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),U(xe,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),U(xe,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i});class Dn extends $t{constructor(e){super(),U(this,"parsed"),U(this,"skip"),U(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,o,s){const a=this.options,{x:r,y:c}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(o-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,o){return lr(this,e,"x",o)}inYRange(e,o){return lr(this,e,"y",o)}getCenterPoint(e){const{x:o,y:s}=this.getProps(["x","y"],e);return{x:o,y:s}}size(e){let o=(e=e||this.options||{}).radius||0;return o=Math.max(o,o&&e.hoverRadius||0),2*(o+(o&&e.borderWidth||0))}draw(e,o){const s=this.options;this.skip||s.radius<.1||!le(this,o,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,mo(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function dr(n,i){const{x:e,y:o,base:s,width:a,height:r}=n.getProps(["x","y","base","width","height"],i);let c,l,d,h,u;return n.horizontal?(u=r/2,c=Math.min(e,s),l=Math.max(e,s),d=o-u,h=o+u):(u=a/2,c=e-u,l=e+u,d=Math.min(o,s),h=Math.max(o,s)),{left:c,top:d,right:l,bottom:h}}function Ce(n,i,e,o){return n?0:At(i,e,o)}function Lo(n,i,e,o){const s=null===i,a=null===e,c=n&&!(s&&a)&&dr(n,o);return c&&(s||re(i,c.left,c.right))&&(a||re(e,c.top,c.bottom))}function L_(n,i){n.rect(i.x,i.y,i.w,i.h)}function No(n,i,e={}){const o=n.x!==e.x?-i:0,s=n.y!==e.y?-i:0;return{x:n.x+o,y:n.y+s,w:n.w+((n.x+n.w!==e.x+e.w?i:0)-o),h:n.h+((n.y+n.h!==e.y+e.h?i:0)-s),radius:n.radius}}U(Dn,"id","point"),U(Dn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),U(Dn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class On extends $t{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:o,backgroundColor:s}}=this,{inner:a,outer:r}=function D_(n){const i=dr(n),e=i.right-i.left,o=i.bottom-i.top,s=function Z_(n,i,e){const s=n.borderSkipped,a=ta(n.options.borderWidth);return{t:Ce(s.top,a.top,0,e),r:Ce(s.right,a.right,0,i),b:Ce(s.bottom,a.bottom,0,e),l:Ce(s.left,a.left,0,i)}}(n,e/2,o/2),a=function I_(n,i,e){const{enableBorderRadius:o}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=Se(s),r=Math.min(i,e),c=n.borderSkipped,l=o||rt(s);return{topLeft:Ce(!l||c.top||c.left,a.topLeft,0,r),topRight:Ce(!l||c.top||c.right,a.topRight,0,r),bottomLeft:Ce(!l||c.bottom||c.left,a.bottomLeft,0,r),bottomRight:Ce(!l||c.bottom||c.right,a.bottomRight,0,r)}}(n,e/2,o/2);return{outer:{x:i.left,y:i.top,w:e,h:o,radius:a},inner:{x:i.left+s.l,y:i.top+s.t,w:e-s.l-s.r,h:o-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}(this),c=function O_(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(r.radius)?Ai:L_;i.save(),(r.w!==a.w||r.h!==a.h)&&(i.beginPath(),c(i,No(r,e,a)),i.clip(),c(i,No(a,-e,r)),i.fillStyle=o,i.fill("evenodd")),i.beginPath(),c(i,No(a,e)),i.fillStyle=s,i.fill(),i.restore()}inRange(i,e,o){return Lo(this,i,e,o)}inXRange(i,e){return Lo(this,i,null,e)}inYRange(i,e){return Lo(this,null,i,e)}getCenterPoint(i){const{x:e,y:o,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],i);return{x:a?(e+s)/2:e,y:a?o:(o+s)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}U(On,"id","bar"),U(On,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),U(On,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var N_=Object.freeze({__proto__:null,ArcElement:Ui,BarElement:On,LineElement:xe,PointElement:Dn});const Eo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hr=Eo.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function ur(n){return Eo[n%Eo.length]}function pr(n){return hr[n%hr.length]}function gr(n){let i;for(i in n)if(n[i].borderColor||n[i].backgroundColor)return!0;return!1}var B_={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,i,e){if(!e.enabled)return;const{data:{datasets:o},options:s}=n.config,{elements:a}=s;if(!e.forceOverride&&(gr(o)||function q_(n){return n&&(n.borderColor||n.backgroundColor)}(s)||a&&gr(a)))return;const r=function R_(n){let i=0;return(e,o)=>{const s=n.getDatasetMeta(o).controller;s instanceof Oe?i=function F_(n,i){return n.backgroundColor=n.data.map(()=>ur(i++)),i}(e,i):s instanceof Zi?i=function U_(n,i){return n.backgroundColor=n.data.map(()=>pr(i++)),i}(e,i):s&&(i=function E_(n,i){return n.borderColor=ur(i),n.backgroundColor=pr(i),++i}(e,i))}}(n);o.forEach(r)}};function _r(n){if(n._decimated){const i=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function fr(n){n.data.datasets.forEach(i=>{_r(i)})}var Q_={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,i,e)=>{if(!e.enabled)return void fr(n);const o=n.width;n.data.datasets.forEach((s,a)=>{const{_data:r,indexAxis:c}=s,l=n.getDatasetMeta(a),d=r||s.data;if("y"===Mi([c,n.options.indexAxis])||!l.controller.supportsDecimation)return;const h=n.scales[l.xAxisID];if("linear"!==h.type&&"time"!==h.type||n.options.parsing)return;let _,{start:u,count:p}=function J_(n,i){const e=i.length;let s,o=0;const{iScale:a}=n,{min:r,max:c,minDefined:l,maxDefined:d}=a.getUserBounds();return l&&(o=At(ce(i,a.axis,r).lo,0,e-1)),s=d?At(ce(i,a.axis,c).hi+1,o,e)-o:e-o,{start:o,count:s}}(l,d);if(p<=(e.threshold||4*o))_r(s);else{switch(dt(r)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}})),e.algorithm){case"lttb":_=function H_(n,i,e,o,s){const a=s.samples||o;if(a>=e)return n.slice(i,i+e);const r=[],c=(e-2)/(a-2);let l=0;const d=i+e-1;let u,p,g,_,m,h=i;for(r[l++]=n[h],u=0;u<a-2;u++){let S,v=0,A=0;const D=Math.floor((u+1)*c)+1+i,O=Math.min(Math.floor((u+2)*c)+1,e)+i,Z=O-D;for(S=D;S<O;S++)v+=n[S].x,A+=n[S].y;v/=Z,A/=Z;const B=Math.floor(u*c)+1+i,H=Math.min(Math.floor((u+1)*c)+1,e)+i,{x:Y,y:j}=n[h];for(g=_=-1,S=B;S<H;S++)_=.5*Math.abs((Y-v)*(n[S].y-j)-(Y-n[S].x)*(A-j)),_>g&&(g=_,p=n[S],m=S);r[l++]=p,h=m}return r[l++]=n[d],r}(d,u,p,o,e);break;case"min-max":_=function Y_(n,i,e,o){let r,c,l,d,h,u,p,g,_,m,s=0,a=0;const v=[],S=n[i].x,O=n[i+e-1].x-S;for(r=i;r<i+e;++r){c=n[r],l=(c.x-S)/O*o,d=c.y;const Z=0|l;if(Z===h)d<_?(_=d,u=r):d>m&&(m=d,p=r),s=(a*s+c.x)/++a;else{const B=r-1;if(!dt(u)&&!dt(p)){const H=Math.min(u,p),Y=Math.max(u,p);H!==g&&H!==B&&v.push({...n[H],x:s}),Y!==g&&Y!==B&&v.push({...n[Y],x:s})}r>0&&B!==g&&v.push(n[B]),v.push(c),h=Z,a=0,_=m=d,u=p=g=r}}return v}(d,u,p,o);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=_}})},destroy(n){fr(n)}};function Fo(n,i,e,o){if(o)return;let s=i[n],a=e[n];return"angle"===n&&(s=Ut(s),a=Ut(a)),{property:n,start:s,end:a}}function Uo(n,i,e){for(;i>n;i--){const o=e[i];if(!isNaN(o.x)&&!isNaN(o.y))break}return i}function mr(n,i,e,o){return n&&i?o(n[e],i[e]):n?n[e]:i?i[e]:0}function br(n,i){let e=[],o=!1;return bt(n)?(o=!0,e=n):e=function z_(n,i){const{x:e=null,y:o=null}=n||{},s=i.points,a=[];return i.segments.forEach(({start:r,end:c})=>{c=Uo(r,c,s);const l=s[r],d=s[c];null!==o?(a.push({x:l.x,y:o}),a.push({x:d.x,y:o})):null!==e&&(a.push({x:e,y:l.y}),a.push({x:e,y:d.y}))}),a}(n,i),e.length?new xe({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function xr(n){return n&&!1!==n.fill}function $_(n,i,e){let s=n[i].fill;const a=[i];let r;if(!e)return s;for(;!1!==s&&-1===a.indexOf(s);){if(!yt(s))return s;if(r=n[s],!r)return!1;if(r.visible)return s;a.push(s),s=r.fill}return!1}function V_(n,i,e){const o=function X_(n){const i=n.options,e=i.fill;let o=nt(e&&e.target,e);return void 0===o&&(o=!!i.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(n);if(rt(o))return!isNaN(o.value)&&o;let s=parseFloat(o);return yt(s)&&Math.floor(s)===s?function j_(n,i,e,o){return("-"===n||"+"===n)&&(e=i+e),!(e===i||e<0||e>=o)&&e}(o[0],i,s,e):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function nf(n,i,e){const o=[];for(let s=0;s<e.length;s++){const a=e[s],{first:r,last:c,point:l}=of(a,i,"x");if(!(!l||r&&c))if(r)o.unshift(l);else if(n.push(l),!c)break}n.push(...o)}function of(n,i,e){const o=n.interpolate(i,e);if(!o)return{};const s=o[e],a=n.segments,r=n.points;let c=!1,l=!1;for(let d=0;d<a.length;d++){const h=a[d],u=r[h.start][e],p=r[h.end][e];if(re(s,u,p)){c=s===u,l=s===p;break}}return{first:c,last:l,point:o}}class Cr{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,o){const{x:s,y:a,radius:r}=this;return i.arc(s,a,r,(e=e||{start:0,end:xt}).end,e.start,!0),!o.bounds}interpolate(i){const{x:e,y:o,radius:s}=this,a=i.angle;return{x:e+Math.cos(a)*s,y:o+Math.sin(a)*s,angle:a}}}function Ro(n,i,e){const o=function sf(n){const{chart:i,fill:e,line:o}=n;if(yt(e))return function af(n,i){const e=n.getDatasetMeta(i);return e&&n.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function tf(n){const{scale:i,index:e,line:o}=n,s=[],a=o.segments,r=o.points,c=function ef(n,i){const e=[],o=n.getMatchingVisibleMetas("line");for(let s=0;s<o.length;s++){const a=o[s];if(a.index===i)break;a.hidden||e.unshift(a.dataset)}return e}(i,e);c.push(br({x:null,y:i.bottom},o));for(let l=0;l<a.length;l++){const d=a[l];for(let h=d.start;h<=d.end;h++)nf(s,r[h],c)}return new xe({points:s,options:{}})}(n);if("shape"===e)return!0;const s=function rf(n){return(n.scale||{}).getPointPositionForValue?function lf(n){const{scale:i,fill:e}=n,o=i.options,s=i.getLabels().length,a=o.reverse?i.max:i.min,r=function W_(n,i,e){let o;return o="start"===n?e:"end"===n?i.options.reverse?i.min:i.max:rt(n)?n.value:i.getBaseValue(),o}(e,i,a),c=[];if(o.grid.circular){const l=i.getPointPositionForValue(0,a);return new Cr({x:l.x,y:l.y,radius:i.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)c.push(i.getPointPositionForValue(l,r));return c}(n):function cf(n){const{scale:i={},fill:e}=n,o=function K_(n,i){let e=null;return"start"===n?e=i.bottom:"end"===n?e=i.top:rt(n)?e=i.getPixelForValue(n.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(yt(o)){const s=i.isHorizontal();return{x:s?o:null,y:s?null:o}}return null}(n)}(n);return s instanceof Cr?s:br(s,o)}(i),{line:s,scale:a,axis:r}=i,c=s.options,l=c.fill,d=c.backgroundColor,{above:h=d,below:u=d}=l||{};o&&s.points.length&&(pn(n,e),function df(n,i){const{line:e,target:o,above:s,below:a,area:r,scale:c}=i,l=e._loop?"angle":i.axis;n.save(),"x"===l&&a!==s&&(vr(n,o,r.top),yr(n,{line:e,target:o,color:s,scale:c,property:l}),n.restore(),n.save(),vr(n,o,r.bottom)),yr(n,{line:e,target:o,color:a,scale:c,property:l}),n.restore()}(n,{line:s,target:o,above:h,below:u,area:e,scale:a,axis:r}),gn(n))}function vr(n,i,e){const{segments:o,points:s}=i;let a=!0,r=!1;n.beginPath();for(const c of o){const{start:l,end:d}=c,h=s[l],u=s[Uo(l,d,s)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),r=!!i.pathSegment(n,c,{move:r}),r?n.closePath():n.lineTo(u.x,e)}n.lineTo(i.first().x,e),n.closePath(),n.clip()}function yr(n,i){const{line:e,target:o,property:s,color:a,scale:r}=i,c=function G_(n,i,e){const o=n.segments,s=n.points,a=i.points,r=[];for(const c of o){let{start:l,end:d}=c;d=Uo(l,d,s);const h=Fo(e,s[l],s[d],c.loop);if(!i.segments){r.push({source:c,target:h,start:s[l],end:s[d]});continue}const u=ma(i,h);for(const p of u){const g=Fo(e,a[p.start],a[p.end],p.loop),_=fa(c,s,g);for(const m of _)r.push({source:m,target:p,start:{[e]:mr(h,g,"start",Math.max)},end:{[e]:mr(h,g,"end",Math.min)}})}}return r}(e,o,s);for(const{source:l,target:d,start:h,end:u}of c){const{style:{backgroundColor:p=a}={}}=l,g=!0!==o;n.save(),n.fillStyle=p,hf(n,r,g&&Fo(s,h,u)),n.beginPath();const _=!!e.pathSegment(n,l);let m;if(g){_?n.closePath():Pr(n,o,u,s);const v=!!o.pathSegment(n,d,{move:_,reverse:!0});m=_&&v,m||Pr(n,o,h,s)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function hf(n,i,e){const{top:o,bottom:s}=i.chart.chartArea,{property:a,start:r,end:c}=e||{};"x"===a&&(n.beginPath(),n.rect(r,o,c-r,s-o),n.clip())}function Pr(n,i,e,o){const s=i.interpolate(e,o);s&&n.lineTo(s.x,s.y)}var uf={id:"filler",afterDatasetsUpdate(n,i,e){const o=(n.data.datasets||[]).length,s=[];let a,r,c,l;for(r=0;r<o;++r)a=n.getDatasetMeta(r),c=a.dataset,l=null,c&&c.options&&c instanceof xe&&(l={visible:n.isDatasetVisible(r),index:r,fill:V_(c,r,o),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=l,s.push(l);for(r=0;r<o;++r)l=s[r],l&&!1!==l.fill&&(l.fill=$_(s,r,e.propagate))},beforeDraw(n,i,e){const o="beforeDraw"===e.drawTime,s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let r=s.length-1;r>=0;--r){const c=s[r].$filler;!c||(c.line.updateControlPoints(a,c.axis),o&&c.fill&&Ro(n.ctx,c,a))}},beforeDatasetsDraw(n,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const o=n.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s){const a=o[s].$filler;xr(a)&&Ro(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,i,e){const o=i.meta.$filler;!xr(o)||"beforeDatasetDraw"!==e.drawTime||Ro(n.ctx,o,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wr=(n,i)=>{let{boxHeight:e=i,boxWidth:o=i}=n;return n.usePointStyle&&(e=Math.min(e,i),o=n.pointStyleWidth||Math.min(o,i)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(i,e)}};class Tr extends $t{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,o){this.maxWidth=i,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=mt(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(o=>i.filter(o,this.chart.data))),i.sort&&(e=e.sort((o,s)=>i.sort(o,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const o=i.labels,s=kt(o.font),a=s.size,r=this._computeTitleHeight(),{boxWidth:c,itemHeight:l}=wr(o,a);let d,h;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(r,a,c,l)+10):(h=this.maxHeight,d=this._fitCols(r,s,c,l)+10),this.width=Math.min(d,i.maxWidth||this.maxWidth),this.height=Math.min(h,i.maxHeight||this.maxHeight)}_fitRows(i,e,o,s){const{ctx:a,maxWidth:r,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],h=s+c;let u=i;a.textAlign="left",a.textBaseline="middle";let p=-1,g=-h;return this.legendItems.forEach((_,m)=>{const v=o+e/2+a.measureText(_.text).width;(0===m||d[d.length-1]+v+2*c>r)&&(u+=h,d[d.length-(m>0?0:1)]=0,g+=h,p++),l[m]={left:0,top:g,row:p,width:v,height:s},d[d.length-1]+=v+c}),u}_fitCols(i,e,o,s){const{ctx:a,maxHeight:r,options:{labels:{padding:c}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],h=r-i;let u=c,p=0,g=0,_=0,m=0;return this.legendItems.forEach((v,A)=>{const{itemWidth:S,itemHeight:D}=function gf(n,i,e,o,s){const a=function _f(n,i,e,o){let s=n.text;return s&&"string"!=typeof s&&(s=s.reduce((a,r)=>a.length>r.length?a:r)),i+e.size/2+o.measureText(s).width}(o,n,i,e),r=function ff(n,i,e){let o=n;return"string"!=typeof i.text&&(o=kr(i,e)),o}(s,o,i.lineHeight);return{itemWidth:a,itemHeight:r}}(o,e,a,v,s);A>0&&g+D+2*c>h&&(u+=p+c,d.push({width:p,height:g}),_+=p+c,m++,p=g=0),l[A]={left:_,top:g,col:m,width:S,height:D},p=Math.max(p,S),g+=D+c}),u+=p,d.push({width:p,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:s},rtl:a}}=this,r=Ke(a,this.left,this.width);if(this.isHorizontal()){let c=0,l=Zt(o,this.left+s,this.right-this.lineWidths[c]);for(const d of e)c!==d.row&&(c=d.row,l=Zt(o,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+i+s,d.left=r.leftForLtr(r.x(l),d.width),l+=d.width+s}else{let c=0,l=Zt(o,this.top+i+s,this.bottom-this.columnSizes[c].height);for(const d of e)d.col!==c&&(c=d.col,l=Zt(o,this.top+i+s,this.bottom-this.columnSizes[c].height)),d.top=l,d.left+=this.left+s,d.left=r.leftForLtr(r.x(d.left),d.width),l+=d.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;pn(i,this),this._draw(),gn(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:o,ctx:s}=this,{align:a,labels:r}=i,c=wt.color,l=Ke(i.rtl,this.left,this.width),d=kt(r.font),{padding:h}=r,u=d.size,p=u/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:_,boxHeight:m,itemHeight:v}=wr(r,u),D=this.isHorizontal(),O=this._computeTitleHeight();g=D?{x:Zt(a,this.left+h,this.right-o[0]),y:this.top+h+O,line:0}:{x:this.left+h,y:Zt(a,this.top+O+h,this.bottom-e[0].height),line:0},ua(this.ctx,i.textDirection);const Z=v+h;this.legendItems.forEach((B,H)=>{s.strokeStyle=B.fontColor,s.fillStyle=B.fontColor;const Y=s.measureText(B.text).width,j=l.textAlign(B.textAlign||(B.textAlign=r.textAlign)),st=_+p+Y;let at=g.x,lt=g.y;l.setWidth(this.width),D?H>0&&at+st+h>this.right&&(lt=g.y+=Z,g.line++,at=g.x=Zt(a,this.left+h,this.right-o[g.line])):H>0&&lt+Z>this.bottom&&(at=g.x=at+e[g.line].width+h,g.line++,lt=g.y=Zt(a,this.top+O+h,this.bottom-e[g.line].height)),function(B,H,Y){if(isNaN(_)||_<=0||isNaN(m)||m<0)return;s.save();const j=nt(Y.lineWidth,1);if(s.fillStyle=nt(Y.fillStyle,c),s.lineCap=nt(Y.lineCap,"butt"),s.lineDashOffset=nt(Y.lineDashOffset,0),s.lineJoin=nt(Y.lineJoin,"miter"),s.lineWidth=j,s.strokeStyle=nt(Y.strokeStyle,c),s.setLineDash(nt(Y.lineDash,[])),r.usePointStyle){const st={radius:m*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:j},at=l.xPlus(B,_/2);Xs(s,st,at,H+p,r.pointStyleWidth&&_)}else{const st=H+Math.max((u-m)/2,0),at=l.leftForLtr(B,_),lt=Se(Y.borderRadius);s.beginPath(),Object.values(lt).some(Mt=>0!==Mt)?Ai(s,{x:at,y:st,w:_,h:m,radius:lt}):s.rect(at,st,_,m),s.fill(),0!==j&&s.stroke()}s.restore()}(l.x(at),lt,B),at=((n,i,e,o)=>n===(o?"left":"right")?e:"center"===n?(i+e)/2:i)(j,at+_+p,D?at+st:this.right,i.rtl),function(B,H,Y){Me(s,Y.text,B,H+v/2,d,{strikethrough:Y.hidden,textAlign:l.textAlign(Y.textAlign)})}(l.x(at),lt,B),D?g.x+=st+h:g.y+="string"!=typeof B.text?kr(B,d.lineHeight):Z}),pa(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,o=kt(e.font),s=It(e.padding);if(!e.display)return;const a=Ke(i.rtl,this.left,this.width),r=this.ctx,c=e.position,d=s.top+o.size/2;let h,u=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,u=Zt(i.align,u,this.right-p);else{const _=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);h=d+Zt(i.align,this.top,this.bottom-_-i.labels.padding-this._computeTitleHeight())}const g=Zt(c,u,u+p);r.textAlign=a.textAlign(uo(c)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=o.string,Me(r,e.text,g,h,o)}_computeTitleHeight(){const i=this.options.title,e=kt(i.font),o=It(i.padding);return i.display?e.lineHeight+o.height:0}_getLegendItemAt(i,e){let o,s,a;if(re(i,this.left,this.right)&&re(e,this.top,this.bottom))for(a=this.legendHitBoxes,o=0;o<a.length;++o)if(s=a[o],re(i,s.left,s.left+s.width)&&re(e,s.top,s.top+s.height))return this.legendItems[o];return null}handleEvent(i){const e=this.options;if(!function mf(n,i){return!(("mousemove"!==n&&"mouseout"!==n||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==n&&"mouseup"!==n))}(i.type,e))return;const o=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const s=this._hoveredItem,a=((n,i)=>null!==n&&null!==i&&n.datasetIndex===i.datasetIndex&&n.index===i.index)(s,o);s&&!a&&mt(e.onLeave,[i,s,this],this),this._hoveredItem=o,o&&!a&&mt(e.onHover,[i,o,this],this)}else o&&mt(e.onClick,[i,o,this],this)}}function kr(n,i){return i*(n.text?n.text.length+.5:0)}var bf={id:"legend",_element:Tr,start(n,i,e){const o=n.legend=new Tr({ctx:n.ctx,options:e,chart:n});Dt.configure(n,o,e),Dt.addBox(n,o)},stop(n){Dt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,i,e){const o=n.legend;Dt.configure(n,o,e),o.options=e},afterUpdate(n){const i=n.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(n,i){i.replay||n.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,i,e){const o=i.datasetIndex,s=e.chart;s.isDatasetVisible(o)?(s.hide(o),i.hidden=!0):(s.show(o),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const i=n.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:s,color:a,useBorderRadius:r,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(e?0:void 0),h=It(d.borderWidth);return{text:i[l.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:o||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:r&&(c||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class qo extends $t{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const s=bt(o.text)?o.text.length:1;this._padding=It(o.padding);const a=s*kt(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:o,bottom:s,right:a,options:r}=this,c=r.align;let d,h,u,l=0;return this.isHorizontal()?(h=Zt(c,o,a),u=e+i,d=a-o):("left"===r.position?(h=o+i,u=Zt(c,s,e),l=-.5*Ct):(h=a-i,u=Zt(c,e,s),l=.5*Ct),d=s-e),{titleX:h,titleY:u,maxWidth:d,rotation:l}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const o=kt(e.font),a=o.lineHeight/2+this._padding.top,{titleX:r,titleY:c,maxWidth:l,rotation:d}=this._drawArgs(a);Me(i,e.text,0,0,o,{color:e.color,maxWidth:l,rotation:d,textAlign:uo(e.align),textBaseline:"middle",translation:[r,c]})}}var Cf={id:"title",_element:qo,start(n,i,e){!function xf(n,i){const e=new qo({ctx:n.ctx,options:i,chart:n});Dt.configure(n,e,i),Dt.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Dt.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,i,e){const o=n.titleBlock;Dt.configure(n,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ln=new WeakMap;var vf={id:"subtitle",start(n,i,e){const o=new qo({ctx:n.ctx,options:e,chart:n});Dt.configure(n,o,e),Dt.addBox(n,o),Ln.set(n,o)},stop(n){Dt.removeBox(n,Ln.get(n)),Ln.delete(n)},beforeUpdate(n,i,e){const o=Ln.get(n);Dt.configure(n,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ri={average(n){if(!n.length)return!1;let i,e,o=0,s=0,a=0;for(i=0,e=n.length;i<e;++i){const r=n[i].element;if(r&&r.hasValue()){const c=r.tooltipPosition();o+=c.x,s+=c.y,++a}}return{x:o/a,y:s/a}},nearest(n,i){if(!n.length)return!1;let a,r,c,e=i.x,o=i.y,s=Number.POSITIVE_INFINITY;for(a=0,r=n.length;a<r;++a){const l=n[a].element;if(l&&l.hasValue()){const h=lo(i,l.getCenterPoint());h<s&&(s=h,c=l)}}if(c){const l=c.tooltipPosition();e=l.x,o=l.y}return{x:e,y:o}}};function ne(n,i){return i&&(bt(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function he(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function yf(n,i){const{element:e,datasetIndex:o,index:s}=i,a=n.getDatasetMeta(o).controller,{label:r,value:c}=a.getLabelAndValue(s);return{chart:n,label:r,parsed:a.getParsed(s),raw:n.data.datasets[o].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:o,element:e}}function Ar(n,i){const e=n.chart.ctx,{body:o,footer:s,title:a}=n,{boxWidth:r,boxHeight:c}=i,l=kt(i.bodyFont),d=kt(i.titleFont),h=kt(i.footerFont),u=a.length,p=s.length,g=o.length,_=It(i.padding);let m=_.height,v=0,A=o.reduce((O,Z)=>O+Z.before.length+Z.lines.length+Z.after.length,0);A+=n.beforeBody.length+n.afterBody.length,u&&(m+=u*d.lineHeight+(u-1)*i.titleSpacing+i.titleMarginBottom),A&&(m+=g*(i.displayColors?Math.max(c,l.lineHeight):l.lineHeight)+(A-g)*l.lineHeight+(A-1)*i.bodySpacing),p&&(m+=i.footerMarginTop+p*h.lineHeight+(p-1)*i.footerSpacing);let S=0;const D=function(O){v=Math.max(v,e.measureText(O).width+S)};return e.save(),e.font=d.string,_t(n.title,D),e.font=l.string,_t(n.beforeBody.concat(n.afterBody),D),S=i.displayColors?r+2+i.boxPadding:0,_t(o,O=>{_t(O.before,D),_t(O.lines,D),_t(O.after,D)}),S=0,e.font=h.string,_t(n.footer,D),e.restore(),v+=_.width,{width:v,height:m}}function Tf(n,i,e,o){const{x:s,width:a}=e,{width:r,chartArea:{left:c,right:l}}=n;let d="center";return"center"===o?d=s<=(c+l)/2?"left":"right":s<=a/2?d="left":s>=r-a/2&&(d="right"),function wf(n,i,e,o){const{x:s,width:a}=o,r=e.caretSize+e.caretPadding;if("left"===n&&s+a+r>i.width||"right"===n&&s-a-r<0)return!0}(d,n,i,e)&&(d="center"),d}function Mr(n,i,e){const o=e.yAlign||i.yAlign||function Pf(n,i){const{y:e,height:o}=i;return e<o/2?"top":e>n.height-o/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||i.xAlign||Tf(n,i,e,o),yAlign:o}}function Sr(n,i,e,o){const{caretSize:s,caretPadding:a,cornerRadius:r}=n,{xAlign:c,yAlign:l}=e,d=s+a,{topLeft:h,topRight:u,bottomLeft:p,bottomRight:g}=Se(r);let _=function kf(n,i){let{x:e,width:o}=n;return"right"===i?e-=o:"center"===i&&(e-=o/2),e}(i,c);const m=function Af(n,i,e){let{y:o,height:s}=n;return"top"===i?o+=e:o-="bottom"===i?s+e:s/2,o}(i,l,d);return"center"===l?"left"===c?_+=d:"right"===c&&(_-=d):"left"===c?_-=Math.max(h,p)+s:"right"===c&&(_+=Math.max(u,g)+s),{x:At(_,0,o.width-i.width),y:At(m,0,o.height-i.height)}}function Nn(n,i,e){const o=It(e.padding);return"center"===i?n.x+n.width/2:"right"===i?n.x+n.width-o.right:n.x+o.left}function Zr(n){return ne([],he(n))}function Ir(n,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?n.override(e):n}const Dr={beforeTitle:ae,title(n){if(n.length>0){const i=n[0],e=i.chart.data.labels,o=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(o>0&&i.dataIndex<o)return e[i.dataIndex]}return""},afterTitle:ae,beforeBody:ae,beforeLabel:ae,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let i=n.dataset.label||"";i&&(i+=": ");const e=n.formattedValue;return dt(e)||(i+=e),i},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ae,afterBody:ae,beforeFooter:ae,footer:ae,afterFooter:ae};function Lt(n,i,e,o){const s=n[i].call(e,o);return typeof s>"u"?Dr[i].call(e,o):s}class Bo extends $t{constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const i=this._cachedAnimations;if(i)return i;const e=this.chart,o=this.options.setContext(this.getContext()),s=o.enabled&&e.options.animation&&o.animations,a=new va(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function Mf(n,i,e){return be(n,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,e){const{callbacks:o}=e,s=Lt(o,"beforeTitle",this,i),a=Lt(o,"title",this,i),r=Lt(o,"afterTitle",this,i);let c=[];return c=ne(c,he(s)),c=ne(c,he(a)),c=ne(c,he(r)),c}getBeforeBody(i,e){return Zr(Lt(e.callbacks,"beforeBody",this,i))}getBody(i,e){const{callbacks:o}=e,s=[];return _t(i,a=>{const r={before:[],lines:[],after:[]},c=Ir(o,a);ne(r.before,he(Lt(c,"beforeLabel",this,a))),ne(r.lines,Lt(c,"label",this,a)),ne(r.after,he(Lt(c,"afterLabel",this,a))),s.push(r)}),s}getAfterBody(i,e){return Zr(Lt(e.callbacks,"afterBody",this,i))}getFooter(i,e){const{callbacks:o}=e,s=Lt(o,"beforeFooter",this,i),a=Lt(o,"footer",this,i),r=Lt(o,"afterFooter",this,i);let c=[];return c=ne(c,he(s)),c=ne(c,he(a)),c=ne(c,he(r)),c}_createItems(i){const e=this._active,o=this.chart.data,s=[],a=[],r=[];let l,d,c=[];for(l=0,d=e.length;l<d;++l)c.push(yf(this.chart,e[l]));return i.filter&&(c=c.filter((h,u,p)=>i.filter(h,u,p,o))),i.itemSort&&(c=c.sort((h,u)=>i.itemSort(h,u,o))),_t(c,h=>{const u=Ir(i.callbacks,h);s.push(Lt(u,"labelColor",this,h)),a.push(Lt(u,"labelPointStyle",this,h)),r.push(Lt(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=c,c}update(i,e){const o=this.options.setContext(this.getContext()),s=this._active;let a,r=[];if(s.length){const c=Ri[o.position].call(this,s,this._eventPosition);r=this._createItems(o),this.title=this.getTitle(r,o),this.beforeBody=this.getBeforeBody(r,o),this.body=this.getBody(r,o),this.afterBody=this.getAfterBody(r,o),this.footer=this.getFooter(r,o);const l=this._size=Ar(this,o),d=Object.assign({},c,l),h=Mr(this.chart,o,d),u=Sr(o,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),i&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(i,e,o,s){const a=this.getCaretPosition(i,o,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(i,e,o){const{xAlign:s,yAlign:a}=this,{caretSize:r,cornerRadius:c}=o,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:u}=Se(c),{x:p,y:g}=i,{width:_,height:m}=e;let v,A,S,D,O,Z;return"center"===a?(O=g+m/2,"left"===s?(v=p,A=v-r,D=O+r,Z=O-r):(v=p+_,A=v+r,D=O-r,Z=O+r),S=v):(A="left"===s?p+Math.max(l,h)+r:"right"===s?p+_-Math.max(d,u)-r:this.caretX,"top"===a?(D=g,O=D-r,v=A-r,S=A+r):(D=g+m,O=D+r,v=A+r,S=A-r),Z=D),{x1:v,x2:A,x3:S,y1:D,y2:O,y3:Z}}drawTitle(i,e,o){const s=this.title,a=s.length;let r,c,l;if(a){const d=Ke(o.rtl,this.x,this.width);for(i.x=Nn(this,o.titleAlign,o),e.textAlign=d.textAlign(o.titleAlign),e.textBaseline="middle",r=kt(o.titleFont),c=o.titleSpacing,e.fillStyle=o.titleColor,e.font=r.string,l=0;l<a;++l)e.fillText(s[l],d.x(i.x),i.y+r.lineHeight/2),i.y+=r.lineHeight+c,l+1===a&&(i.y+=o.titleMarginBottom-c)}}_drawColorBox(i,e,o,s,a){const r=this.labelColors[o],c=this.labelPointStyles[o],{boxHeight:l,boxWidth:d}=a,h=kt(a.bodyFont),u=Nn(this,"left",a),p=s.x(u),_=e.y+(l<h.lineHeight?(h.lineHeight-l)/2:0);if(a.usePointStyle){const m={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},v=s.leftForLtr(p,d)+d/2,A=_+l/2;i.strokeStyle=a.multiKeyBackground,i.fillStyle=a.multiKeyBackground,mo(i,m,v,A),i.strokeStyle=r.borderColor,i.fillStyle=r.backgroundColor,mo(i,m,v,A)}else{i.lineWidth=rt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,i.strokeStyle=r.borderColor,i.setLineDash(r.borderDash||[]),i.lineDashOffset=r.borderDashOffset||0;const m=s.leftForLtr(p,d),v=s.leftForLtr(s.xPlus(p,1),d-2),A=Se(r.borderRadius);Object.values(A).some(S=>0!==S)?(i.beginPath(),i.fillStyle=a.multiKeyBackground,Ai(i,{x:m,y:_,w:d,h:l,radius:A}),i.fill(),i.stroke(),i.fillStyle=r.backgroundColor,i.beginPath(),Ai(i,{x:v,y:_+1,w:d-2,h:l-2,radius:A}),i.fill()):(i.fillStyle=a.multiKeyBackground,i.fillRect(m,_,d,l),i.strokeRect(m,_,d,l),i.fillStyle=r.backgroundColor,i.fillRect(v,_+1,d-2,l-2))}i.fillStyle=this.labelTextColors[o]}drawBody(i,e,o){const{body:s}=this,{bodySpacing:a,bodyAlign:r,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=o,u=kt(o.bodyFont);let p=u.lineHeight,g=0;const _=Ke(o.rtl,this.x,this.width),m=function(Y){e.fillText(Y,_.x(i.x+g),i.y+p/2),i.y+=p+a},v=_.textAlign(r);let A,S,D,O,Z,B,H;for(e.textAlign=r,e.textBaseline="middle",e.font=u.string,i.x=Nn(this,v,o),e.fillStyle=o.bodyColor,_t(this.beforeBody,m),g=c&&"right"!==v?"center"===r?d/2+h:d+2+h:0,O=0,B=s.length;O<B;++O){for(A=s[O],S=this.labelTextColors[O],e.fillStyle=S,_t(A.before,m),D=A.lines,c&&D.length&&(this._drawColorBox(e,i,O,_,o),p=Math.max(u.lineHeight,l)),Z=0,H=D.length;Z<H;++Z)m(D[Z]),p=u.lineHeight;_t(A.after,m)}g=0,p=u.lineHeight,_t(this.afterBody,m),i.y-=a}drawFooter(i,e,o){const s=this.footer,a=s.length;let r,c;if(a){const l=Ke(o.rtl,this.x,this.width);for(i.x=Nn(this,o.footerAlign,o),i.y+=o.footerMarginTop,e.textAlign=l.textAlign(o.footerAlign),e.textBaseline="middle",r=kt(o.footerFont),e.fillStyle=o.footerColor,e.font=r.string,c=0;c<a;++c)e.fillText(s[c],l.x(i.x),i.y+r.lineHeight/2),i.y+=r.lineHeight+o.footerSpacing}}drawBackground(i,e,o,s){const{xAlign:a,yAlign:r}=this,{x:c,y:l}=i,{width:d,height:h}=o,{topLeft:u,topRight:p,bottomLeft:g,bottomRight:_}=Se(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+u,l),"top"===r&&this.drawCaret(i,e,o,s),e.lineTo(c+d-p,l),e.quadraticCurveTo(c+d,l,c+d,l+p),"center"===r&&"right"===a&&this.drawCaret(i,e,o,s),e.lineTo(c+d,l+h-_),e.quadraticCurveTo(c+d,l+h,c+d-_,l+h),"bottom"===r&&this.drawCaret(i,e,o,s),e.lineTo(c+g,l+h),e.quadraticCurveTo(c,l+h,c,l+h-g),"center"===r&&"left"===a&&this.drawCaret(i,e,o,s),e.lineTo(c,l+u),e.quadraticCurveTo(c,l,c+u,l),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(i){const e=this.chart,o=this.$animations,s=o&&o.x,a=o&&o.y;if(s||a){const r=Ri[i.position].call(this,this._active,this._eventPosition);if(!r)return;const c=this._size=Ar(this,i),l=Object.assign({},r,this._size),d=Mr(e,i,l),h=Sr(i,l,d,e);(s._to!==h.x||a._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(i){const e=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const r=It(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(i.save(),i.globalAlpha=o,this.drawBackground(a,i,s,e),ua(i,e.textDirection),a.y+=r.top,this.drawTitle(a,i,e),this.drawBody(a,i,e),this.drawFooter(a,i,e),pa(i,e.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,e){const o=this._active,s=i.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),a=!rn(o,s),r=this._positionChanged(s,e);(a||r)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,e,o=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],r=this._getActiveElements(i,a,e,o),c=this._positionChanged(r,i),l=e||!rn(r,a)||c;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,e))),l}_getActiveElements(i,e,o,s){const a=this.options;if("mouseout"===i.type)return[];if(!s)return e;const r=this.chart.getElementsAtEventForMode(i,a.mode,a,o);return a.reverse&&r.reverse(),r}_positionChanged(i,e){const{caretX:o,caretY:s,options:a}=this,r=Ri[a.position].call(this,i,e);return!1!==r&&(o!==r.x||s!==r.y)}}U(Bo,"positioners",Ri);var Zf=Object.freeze({__proto__:null,Colors:B_,Decimation:Q_,Filler:uf,Legend:bf,SubTitle:vf,Title:Cf,Tooltip:{id:"tooltip",_element:Bo,positioners:Ri,afterInit(n,i,e){e&&(n.tooltip=new Bo({chart:n,options:e}))},beforeUpdate(n,i,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,i,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const i=n.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;i.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,i){n.tooltip&&n.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,i)=>i.bodyFont.size,boxWidth:(n,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Or(n){const i=this.getLabels();return n>=0&&n<i.length?i[n]:n}class Ho extends Ne{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const e=this._addedLabels;if(e.length){const o=this.getLabels();for(const{index:s,label:a}of e)o[s]===a&&o.splice(s,1);this._addedLabels=[]}super.init(i)}parse(i,e){if(dt(i))return null;const o=this.getLabels();return((n,i)=>null===n?null:At(Math.round(n),0,i))(e=isFinite(e)&&o[e]===i?e:function Df(n,i,e,o){const s=n.indexOf(i);return-1===s?((n,i,e,o)=>("string"==typeof i?(e=n.push(i)-1,o.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(n,i,e,o):s!==n.lastIndexOf(i)?e:s}(o,i,nt(e,i),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let{min:o,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(o=0),e||(s=this.getLabels().length-1)),this.min=o,this.max=s}buildTicks(){const i=this.min,e=this.max,o=this.options.offset,s=[];let a=this.getLabels();a=0===i&&e===a.length-1?a:a.slice(i,e+1),this._valueRange=Math.max(a.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let r=i;r<=e;r++)s.push({value:r});return s}getLabelForValue(i){return Or.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function Lr(n,i,{horizontal:e,minRotation:o}){const s=Gt(o),a=(e?Math.sin(s):Math.cos(s))||.001;return Math.min(i/a,.75*i*(""+n).length)}U(Ho,"id","category"),U(Ho,"defaults",{ticks:{callback:Or}});class En extends Ne{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return dt(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds();let{min:s,max:a}=this;const r=l=>s=e?s:l,c=l=>a=o?a:l;if(i){const l=ee(s),d=ee(a);l<0&&d<0?c(0):l>0&&d>0&&r(0)}if(s===a){let l=0===a?1:Math.abs(.05*a);c(a+l),i||r(s-l)}this.min=s,this.max=a}getTickLimit(){const i=this.options.ticks;let s,{maxTicksLimit:e,stepSize:o}=i;return o?(s=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let o=this.getTickLimit();o=Math.max(2,o);const r=function Lf(n,i){const e=[],{bounds:s,step:a,min:r,max:c,precision:l,count:d,maxTicks:h,maxDigits:u,includeBounds:p}=n,g=a||1,_=h-1,{min:m,max:v}=i,A=!dt(r),S=!dt(c),D=!dt(d),O=(v-m)/(u+1);let B,H,Y,j,Z=Es((v-m)/_/g)*g;if(Z<1e-14&&!A&&!S)return[{value:m},{value:v}];j=Math.ceil(v/Z)-Math.floor(m/Z),j>_&&(Z=Es(j*Z/_/g)*g),dt(l)||(B=Math.pow(10,l),Z=Math.ceil(Z*B)/B),"ticks"===s?(H=Math.floor(m/Z)*Z,Y=Math.ceil(v/Z)*Z):(H=m,Y=v),A&&S&&a&&function Au(n,i){const e=Math.round(n);return e-i<=n&&e+i>=n}((c-r)/a,Z/1e3)?(j=Math.round(Math.min((c-r)/Z,h)),Z=(c-r)/j,H=r,Y=c):D?(H=A?r:H,Y=S?c:Y,j=d-1,Z=(Y-H)/j):(j=(Y-H)/Z,j=yi(j,Math.round(j),Z/1e3)?Math.round(j):Math.ceil(j));const st=Math.max(Us(Z),Us(H));B=Math.pow(10,dt(l)?st:l),H=Math.round(H*B)/B,Y=Math.round(Y*B)/B;let at=0;for(A&&(p&&H!==r?(e.push({value:r}),H<r&&at++,yi(Math.round((H+at*Z)*B)/B,r,Lr(r,O,n))&&at++):H<r&&at++);at<j;++at){const lt=Math.round((H+at*Z)*B)/B;if(S&&lt>c)break;e.push({value:lt})}return S&&p&&Y!==c?e.length&&yi(e[e.length-1].value,c,Lr(c,O,n))?e[e.length-1].value=c:e.push({value:c}):(!S||Y===c)&&e.push({value:Y}),e}({maxTicks:o,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&Fs(r,this,"value"),i.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const i=this.ticks;let e=this.min,o=this.max;if(super.configure(),this.options.offset&&i.length){const s=(o-e)/Math.max(i.length-1,1)/2;e-=s,o+=s}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(i){return Ti(i,this.chart.options.locale,this.options.ticks.format)}}class Yo extends En{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=yt(i)?i:0,this.max=yt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,o=Gt(this.options.ticks.minRotation),s=(i?Math.sin(o):Math.cos(o))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}U(Yo,"id","linear"),U(Yo,"defaults",{ticks:{callback:hn.formatters.numeric}});const qi=n=>Math.floor(me(n)),Ee=(n,i)=>Math.pow(10,qi(n)+i);function Nr(n){return n/Math.pow(10,qi(n))==1}function Er(n,i,e){const o=Math.pow(10,e),s=Math.floor(n/o);return Math.ceil(i/o)-s}class Jo extends Ne{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const o=En.prototype.parse.apply(this,[i,e]);if(0!==o)return yt(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=yt(i)?Math.max(0,i):null,this.max=yt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yt(this._userMin)&&(this.min=i===Ee(this.min,0)?Ee(this.min,-1):Ee(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let o=this.min,s=this.max;const a=c=>o=i?o:c,r=c=>s=e?s:c;o===s&&(o<=0?(a(1),r(10)):(a(Ee(o,-1)),r(Ee(s,1)))),o<=0&&a(Ee(s,-1)),s<=0&&r(Ee(o,1)),this.min=o,this.max=s}buildTicks(){const i=this.options,o=function Ef(n,{min:i,max:e}){i=Ft(n.min,i);const o=[],s=qi(i);let a=function Nf(n,i){let o=qi(i-n);for(;Er(n,i,o)>10;)o++;for(;Er(n,i,o)<10;)o--;return Math.min(o,qi(n))}(i,e),r=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),l=s>a?Math.pow(10,s):0,d=Math.round((i-l)*r)/r,h=Math.floor((i-l)/c/10)*c*10;let u=Math.floor((d-h)/Math.pow(10,a)),p=Ft(n.min,Math.round((l+h+u*Math.pow(10,a))*r)/r);for(;p<e;)o.push({value:p,major:Nr(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(a++,u=2,r=a>=0?1:r),p=Math.round((l+h+u*Math.pow(10,a))*r)/r;const g=Ft(n.max,p);return o.push({value:g,major:Nr(g),significand:u}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&Fs(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(i){return void 0===i?"0":Ti(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=me(i),this._valueRange=me(this.max)-me(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(me(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function Qo(n){const i=n.ticks;if(i.display&&n.display){const e=It(i.backdropPadding);return nt(i.font&&i.font.size,wt.font.size)+e.height}return 0}function Ff(n,i,e){return e=bt(e)?e:[e],{w:Ju(n,i.string,e),h:e.length*i.lineHeight}}function Fr(n,i,e,o,s){return n===o||n===s?{start:i-e/2,end:i+e/2}:n<o||n>s?{start:i-e,end:i}:{start:i,end:i+e}}function Rf(n,i,e,o,s){const a=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e));let c=0,l=0;o.start<i.l?(c=(i.l-o.start)/a,n.l=Math.min(n.l,i.l-c)):o.end>i.r&&(c=(o.end-i.r)/a,n.r=Math.max(n.r,i.r+c)),s.start<i.t?(l=(i.t-s.start)/r,n.t=Math.min(n.t,i.t-l)):s.end>i.b&&(l=(s.end-i.b)/r,n.b=Math.max(n.b,i.b+l))}function qf(n,i,e){const o=n.drawingArea,{extra:s,additionalAngle:a,padding:r,size:c}=e,l=n.getPointPosition(i,o+s+r,a),d=Math.round(co(Ut(l.angle+Pt))),h=function Qf(n,i,e){return 90===e||270===e?n-=i/2:(e>270||e<90)&&(n-=i),n}(l.y,c.h,d),u=function Yf(n){return 0===n||180===n?"center":n<180?"left":"right"}(d),p=function Jf(n,i,e){return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(l.x,c.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:p,top:h,right:p+c.w,bottom:h+c.h}}function Bf(n,i){if(!i)return!0;const{left:e,top:o,right:s,bottom:a}=n;return!(le({x:e,y:o},i)||le({x:e,y:a},i)||le({x:s,y:o},i)||le({x:s,y:a},i))}function Gf(n,i,e){const{left:o,top:s,right:a,bottom:r}=e,{backdropColor:c}=i;if(!dt(c)){const l=Se(i.borderRadius),d=It(i.backdropPadding);n.fillStyle=c;const h=o-d.left,u=s-d.top,p=a-o+d.width,g=r-s+d.height;Object.values(l).some(_=>0!==_)?(n.beginPath(),Ai(n,{x:h,y:u,w:p,h:g,radius:l}),n.fill()):n.fillRect(h,u,p,g)}}function Ur(n,i,e,o){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,i,0,xt);else{let a=n.getPointPosition(0,i);s.moveTo(a.x,a.y);for(let r=1;r<o;r++)a=n.getPointPosition(r,i),s.lineTo(a.x,a.y)}}U(Jo,"id","logarithmic"),U(Jo,"defaults",{ticks:{callback:hn.formatters.logarithmic,major:{enabled:!0}}});class Bi extends En{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=It(Qo(this.options)/2),e=this.width=this.maxWidth-i.width,o=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+o/2+i.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=yt(i)&&!isNaN(i)?i:0,this.max=yt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qo(this.options))}generateTickLabels(i){En.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,o)=>{const s=mt(this.options.pointLabels.callback,[e,o],this);return s||0===s?s:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){const i=this.options;i.display&&i.pointLabels.display?function Uf(n){const i={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},i),o=[],s=[],a=n._pointLabels.length,r=n.options.pointLabels,c=r.centerPointLabels?Ct/a:0;for(let l=0;l<a;l++){const d=r.setContext(n.getPointLabelContext(l));s[l]=d.padding;const h=n.getPointPosition(l,n.drawingArea+s[l],c),u=kt(d.font),p=Ff(n.ctx,u,n._pointLabels[l]);o[l]=p;const g=Ut(n.getIndexAngle(l)+c),_=Math.round(co(g));Rf(e,i,g,Fr(_,h.x,p.w,0,180),Fr(_,h.y,p.h,90,270))}n.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),n._pointLabelItems=function Hf(n,i,e){const o=[],s=n._pointLabels.length,a=n.options,{centerPointLabels:r,display:c}=a.pointLabels,l={extra:Qo(a)/2,additionalAngle:r?Ct/s:0};let d;for(let h=0;h<s;h++){l.padding=e[h],l.size=i[h];const u=qf(n,h,l);o.push(u),"auto"===c&&(u.visible=Bf(u,d),u.visible&&(d=u))}return o}(n,o,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,o,s){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((o-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,o,s))}getIndexAngle(i){return Ut(i*(xt/(this._pointLabels.length||1))+Gt(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(dt(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(dt(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const o=e[i];return function Vf(n,i,e){return be(n,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,o)}}getPointPosition(i,e,o=0){const s=this.getIndexAngle(i)-Pt+o;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:o,right:s,bottom:a}=this._pointLabelItems[i];return{left:e,top:o,right:s,bottom:a}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const o=this.ctx;o.save(),o.beginPath(),Ur(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=i,o.fill(),o.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:o,grid:s,border:a}=e,r=this._pointLabels.length;let c,l,d;if(e.pointLabels.display&&function zf(n,i){const{ctx:e,options:{pointLabels:o}}=n;for(let s=i-1;s>=0;s--){const a=n._pointLabelItems[s];if(!a.visible)continue;const r=o.setContext(n.getPointLabelContext(s));Gf(e,r,a);const c=kt(r.font),{x:l,y:d,textAlign:h}=a;Me(e,n._pointLabels[s],l,d+c.lineHeight/2,c,{color:r.color,textAlign:h,textBaseline:"middle"})}}(this,r),s.display&&this.ticks.forEach((h,u)=>{if(0!==u){l=this.getDistanceFromCenterForValue(h.value);const p=this.getContext(u),g=s.setContext(p),_=a.setContext(p);!function $f(n,i,e,o,s){const a=n.ctx,r=i.circular,{color:c,lineWidth:l}=i;!r&&!o||!c||!l||e<0||(a.save(),a.strokeStyle=c,a.lineWidth=l,a.setLineDash(s.dash),a.lineDashOffset=s.dashOffset,a.beginPath(),Ur(n,e,r,o),a.closePath(),a.stroke(),a.restore())}(this,g,l,r,_)}}),o.display){for(i.save(),c=r-1;c>=0;c--){const h=o.setContext(this.getPointLabelContext(c)),{color:u,lineWidth:p}=h;!p||!u||(i.lineWidth=p,i.strokeStyle=u,i.setLineDash(h.borderDash),i.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,l),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(d.x,d.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;const s=this.getIndexAngle(0);let a,r;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(s),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((c,l)=>{if(0===l&&!e.reverse)return;const d=o.setContext(this.getContext(l)),h=kt(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){i.font=h.string,r=i.measureText(c.label).width,i.fillStyle=d.backdropColor;const u=It(d.backdropPadding);i.fillRect(-r/2-u.left,-a-h.size/2-u.top,r+u.width,h.size+u.height)}Me(i,c.label,0,-a,h,{color:d.color})}),i.restore()}drawTitle(){}}U(Bi,"id","radialLinear"),U(Bi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:hn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:i=>i,padding:5,centerPointLabels:!1}}),U(Bi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),U(Bi,"descriptors",{angleLines:{_fallback:"grid"}});const Fn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(Fn);function jf(n,i){return n-i}function Rr(n,i){if(dt(i))return null;const e=n._adapter,{parser:o,round:s,isoWeekday:a}=n._parseOpts;let r=i;return"function"==typeof o&&(r=o(r)),yt(r)||(r="string"==typeof o?e.parse(r,o):e.parse(r)),null===r?null:(s&&(r="week"!==s||!$e(a)&&!0!==a?e.startOf(r,s):e.startOf(r,"isoWeek",a)),+r)}function qr(n,i,e,o){const s=Nt.length;for(let a=Nt.indexOf(n);a<s-1;++a){const r=Fn[Nt[a]],c=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-i)/(c*r.size))<=o)return Nt[a]}return Nt[s-1]}function Br(n,i,e){if(e){if(e.length){const{lo:o,hi:s}=ho(e,i);n[e[o]>=i?e[o]:e[s]]=!0}}else n[i]=!0}function Hr(n,i,e){const o=[],s={},a=i.length;let r,c;for(r=0;r<a;++r)c=i[r],s[c]=r,o.push({value:c,major:!1});return 0!==a&&e?function Xf(n,i,e,o){const s=n._adapter,a=+s.startOf(i[0].value,o),r=i[i.length-1].value;let c,l;for(c=a;c<=r;c=+s.add(c,1,o))l=e[c],l>=0&&(i[l].major=!0);return i}(n,o,s,e):o}class Hi extends Ne{constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,e={}){const o=i.time||(i.time={}),s=this._adapter=new ag__date(i.adapters.date);s.init(e),Ci(o.displayFormats,s.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(i),this._normalized=e.normalized}parse(i,e){return void 0===i?null:Rr(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const i=this.options,e=this._adapter,o=i.time.unit||"day";let{min:s,max:a,minDefined:r,maxDefined:c}=this.getUserBounds();function l(d){!r&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!r||!c)&&(l(this._getLabelBounds()),("ticks"!==i.bounds||"labels"!==i.ticks.source)&&l(this.getMinMax(!1))),s=yt(s)&&!isNaN(s)?s:+e.startOf(Date.now(),o),a=yt(a)&&!isNaN(a)?a:+e.endOf(Date.now(),o)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const i=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return i.length&&(e=i[0],o=i[i.length-1]),{min:e,max:o}}buildTicks(){const i=this.options,e=i.time,o=i.ticks,s="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===i.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,c=function Iu(n,i,e){let o=0,s=n.length;for(;o<s&&n[o]<i;)o++;for(;s>o&&n[s-1]>e;)s--;return o>0||s<n.length?n.slice(o,s):n}(s,a,this.max);return this._unit=e.unit||(o.autoSkip?qr(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):function Kf(n,i,e,o,s){for(let a=Nt.length-1;a>=Nt.indexOf(e);a--){const r=Nt[a];if(Fn[r].common&&n._adapter.diff(s,o,r)>=i-1)return r}return Nt[e?Nt.indexOf(e):0]}(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function Wf(n){for(let i=Nt.indexOf(n)+1,e=Nt.length;i<e;++i)if(Fn[Nt[i]].common)return Nt[i]}(this._unit):void 0,this.initOffsets(s),i.reverse&&c.reverse(),Hr(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let s,a,e=0,o=0;this.options.offset&&i.length&&(s=this.getDecimalForValue(i[0]),e=1===i.length?1-s:(this.getDecimalForValue(i[1])-s)/2,a=this.getDecimalForValue(i[i.length-1]),o=1===i.length?a:(a-this.getDecimalForValue(i[i.length-2]))/2);const r=i.length<3?.5:.25;e=At(e,0,r),o=At(o,0,r),this._offsets={start:e,end:o,factor:1/(e+1+o)}}_generate(){const i=this._adapter,e=this.min,o=this.max,s=this.options,a=s.time,r=a.unit||qr(a.minUnit,e,o,this._getLabelCapacity(e)),c=nt(s.ticks.stepSize,1),l="week"===r&&a.isoWeekday,d=$e(l)||!0===l,h={};let p,g,u=e;if(d&&(u=+i.startOf(u,"isoWeek",l)),u=+i.startOf(u,d?"day":r),i.diff(o,e,r)>1e5*c)throw new Error(e+" and "+o+" are too far apart with stepSize of "+c+" "+r);const _="data"===s.ticks.source&&this.getDataTimestamps();for(p=u,g=0;p<o;p=+i.add(p,c,r),g++)Br(h,p,_);return(p===o||"ticks"===s.bounds||1===g)&&Br(h,p,_),Object.keys(h).sort((m,v)=>m-v).map(m=>+m)}getLabelForValue(i){const o=this.options.time;return this._adapter.format(i,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(i,e){return this._adapter.format(i,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(i,e,o,s){const a=this.options,r=a.ticks.callback;if(r)return mt(r,[i,e,o],this);const c=a.time.displayFormats,l=this._unit,d=this._majorUnit,u=d&&c[d],p=o[e];return this._adapter.format(i,s||(d&&u&&p&&p.major?u:l&&c[l]))}generateTickLabels(i){let e,o,s;for(e=0,o=i.length;e<o;++e)s=i[e],s.label=this._tickFormatFunction(s.value,e,i)}getDecimalForValue(i){return null===i?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){const e=this._offsets,o=this.getDecimalForValue(i);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(i){const e=this._offsets,o=this.getDecimalForPixel(i)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(i){const e=this.options.ticks,o=this.ctx.measureText(i).width,s=Gt(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),r=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:o*a+c*r,h:o*r+c*a}}_getLabelCapacity(i){const e=this.options.time,o=e.displayFormats,s=o[e.unit]||o.millisecond,a=this._tickFormatFunction(i,0,Hr(this,[i],this._majorUnit),s),r=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return c>0?c:1}getDataTimestamps(){let e,o,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,o=s.length;e<o;++e)i=i.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const i=this._cache.labels||[];let e,o;if(i.length)return i;const s=this.getLabels();for(e=0,o=s.length;e<o;++e)i.push(Rr(this,s[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Hs(i.sort(jf))}}function Un(n,i,e){let a,r,c,l,o=0,s=n.length-1;e?(i>=n[o].pos&&i<=n[s].pos&&({lo:o,hi:s}=ce(n,"pos",i)),({pos:a,time:c}=n[o]),({pos:r,time:l}=n[s])):(i>=n[o].time&&i<=n[s].time&&({lo:o,hi:s}=ce(n,"time",i)),({time:a,pos:c}=n[o]),({time:r,pos:l}=n[s]));const d=r-a;return d?c+(l-c)*(i-a)/d:c}U(Hi,"id","time"),U(Hi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Go extends Hi{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=Un(e,this.min),this._tableRange=Un(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:o}=this,s=[],a=[];let r,c,l,d,h;for(r=0,c=i.length;r<c;++r)d=i[r],d>=e&&d<=o&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:o,pos:1}];for(r=0,c=s.length;r<c;++r)h=s[r+1],l=s[r-1],d=s[r],Math.round((h+l)/2)!==d&&a.push({time:d,pos:r/(c-1)});return a}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),o=this.getLabelTimestamps();return i=e.length&&o.length?this.normalize(e.concat(o)):e.length?e:o,i=this._cache.all=i,i}getDecimalForValue(i){return(Un(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,o=this.getDecimalForPixel(i)/e.factor-e.end;return Un(this._table,o*this._tableRange+this._minPos,!0)}}U(Go,"id","timeseries"),U(Go,"defaults",Hi.defaults);const Yr=[sg,N_,Zf,Object.freeze({__proto__:null,CategoryScale:Ho,LinearScale:Yo,LogarithmicScale:Jo,RadialLinearScale:Bi,TimeScale:Hi,TimeSeriesScale:Go})];var Rt=b(9521),em=b(5017);const im=["*"],Jr=new t.OlP("MatChipRemove"),Qr=new t.OlP("MatChipAvatar"),Gr=new t.OlP("MatChipTrailingIcon");class nm{constructor(i){this._elementRef=i}}const om=(0,q.sb)((0,q.pj)((0,q.Kr)(nm),"primary"),-1);let Xe=(()=>{class n extends om{constructor(e,o,s,a,r,c,l,d){super(e),this._ngZone=o,this._changeDetectorRef=r,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new pt.x,this._onBlur=new pt.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=c.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new q.IR(this,o,this._chipRippleTarget,s),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=a||{},this._animationsDisabled="NoopAnimations"===l,this.tabIndex=null!=d&&parseInt(d)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const o=(0,ht.Ig)(e);o!==this._selected&&(this._selected=o,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,ht.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,ht.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,ht.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",o=this._elementRef.nativeElement;o.hasAttribute(e)||o.tagName.toLowerCase()===e?o.classList.add(e):o.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case Rt.yY:case Rt.ZH:this.remove(),e.preventDefault();break;case Rt.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(Et.t4),t.Y36(q.Y2,8),t.Y36(t.sBO),t.Y36(y.K0),t.Y36(t.QbO,8),t.$8M("tabindex"))},n.\u0275dir=t.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,o,s){if(1&e&&(t.Suo(s,Qr,5),t.Suo(s,Gr,5),t.Suo(s,Jr,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.avatar=a.first),t.iGM(a=t.CRH())&&(o.trailingIcon=a.first),t.iGM(a=t.CRH())&&(o.removeIcon=a.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,o){1&e&&t.NdJ("click",function(a){return o._handleClick(a)})("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o.focus()})("blur",function(){return o._blur()}),2&e&&(t.uIk("tabindex",o.disabled?null:o.tabIndex)("role",o.role)("disabled",o.disabled||null)("aria-disabled",o.disabled.toString())("aria-selected",o.ariaSelected),t.ekj("mat-chip-selected",o.selected)("mat-chip-with-avatar",o.avatar)("mat-chip-with-trailing-icon",o.trailingIcon||o.removeIcon)("mat-chip-disabled",o.disabled)("_mat-animation-noopable",o._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),n})();const zr=new t.OlP("mat-chips-default-options"),cm=(0,q.FD)(class{constructor(n,i,e,o){this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=e,this.ngControl=o,this.stateChanges=new pt.x}});let lm=0;class dm{constructor(i,e){this.source=i,this.value=e}}let zo=(()=>{class n extends cm{constructor(e,o,s,a,r,c,l){super(c,a,r,l),this._elementRef=e,this._changeDetectorRef=o,this._dir=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new pt.x,this._uid="mat-chip-list-"+lm++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(d,h)=>d===h,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,ht.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(T.kI.required)??!1}set required(e){this._required=(0,ht.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,ht.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,ht.Ig)(e),this._syncChipsState()}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,Pe.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,Pe.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,Pe.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,Pe.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new I.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,we.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,we.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,Qt.O)(null),(0,we.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new em.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const o=e.target;o&&o.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,o=!0){if(this._clearSelection(),this.chips.forEach(s=>s.deselect()),Array.isArray(e))e.forEach(s=>this._selectValue(s,o)),this._sortValues();else{const s=this._selectValue(e,o);s&&o&&this._keyManager.setActiveItem(s)}}_selectValue(e,o=!0){const s=this.chips.find(a=>null!=a.value&&this._compareWith(a.value,e));return s&&(o?s.selectViaInteraction():s.select(),this._selectionModel.select(s)),s}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(o=>{o!==e&&o.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let o=null;o=Array.isArray(this.selected)?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=o,this.change.emit(new dm(this,o)),this.valueChange.emit(o),this._onChange(o),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(o=>{!this._selectionModel.isSelected(o)&&o.selected&&o.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let o=this.chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&this._keyManager.updateActiveItem(o),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const o=e.chip,s=this.chips.toArray().indexOf(e.chip);this._isValidIndex(s)&&o._hasFocus&&(this._lastDestroyedChipIndex=s)})}_originatesFromChip(e){let o=e.target;for(;o&&o!==this._elementRef.nativeElement;){if(o.classList.contains("mat-chip"))return!0;o=o.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(pi.Is,8),t.Y36(T.F,8),t.Y36(T.sg,8),t.Y36(q.rD),t.Y36(T.a5,10))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,o,s){if(1&e&&t.Suo(s,Xe,5),2&e){let a;t.iGM(a=t.CRH())&&(o.chips=a)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,o){1&e&&t.NdJ("focus",function(){return o.focus()})("blur",function(){return o._blur()})("keydown",function(a){return o._keydown(a)}),2&e&&(t.Ikx("id",o._uid),t.uIk("tabindex",o.disabled?null:o._tabIndex)("aria-required",o.role?o.required:null)("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-multiselectable",o.multiple)("role",o.role)("aria-orientation",o.ariaOrientation),t.ekj("mat-chip-list-disabled",o.disabled)("mat-chip-list-invalid",o.errorState)("mat-chip-list-required",o.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:E.Eo,useExisting:n}]),t.qOj],ngContentSelectors:im,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[q.rD,{provide:zr,useValue:{separatorKeyCodes:[Rt.K5]}}],imports:[q.BQ]}),n})();const gm=["myChart1"],_m=["myChart2"];function fm(n,i){1&n&&(t.TgZ(0,"div",3)(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",4),t.qZA())}function mm(n,i){1&n&&(t.TgZ(0,"div",7)(1,"button",56),t._UZ(2,"img",57),t._uU(3," My Products "),t.qZA()())}const bm=function(){return["add/new","product"]};function xm(n,i){1&n&&(t.TgZ(0,"div",7)(1,"button",8),t._UZ(2,"img",58),t._uU(3," New Product "),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,bm)))}const Cm=function(){return["add/new","linked-product"]};function vm(n,i){1&n&&(t.TgZ(0,"div",7)(1,"button",8),t._UZ(2,"img",59),t._uU(3," Create Bundle "),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Cm)))}function ym(n,i){if(1&n&&(t.TgZ(0,"div",60)(1,"h3"),t._uU(2),t.qZA(),t._uU(3),t.TgZ(4,"strong"),t._uU(5,"Products"),t.qZA(),t._UZ(6,"mat-progress-bar",61),t._uU(7),t.TgZ(8,"strong"),t._uU(9,"Verified Products "),t.qZA(),t._UZ(10,"mat-progress-bar",62),t._uU(11),t.TgZ(12,"strong"),t._uU(13,"Active Products"),t.qZA(),t._UZ(14,"mat-progress-bar",63),t._uU(15),t.TgZ(16,"strong"),t._uU(17,"In Development Products "),t.qZA(),t._UZ(18,"mat-progress-bar",61),t._uU(19),t.TgZ(20,"strong"),t._uU(21,"End of Life Products "),t.qZA(),t._UZ(22,"mat-progress-bar",64),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.selectedUser),t.xp6(1),t.hij(" ",e.selectedUserAllProducts," "),t.xp6(3),t.Q6J("value",e.selectedUserAllProducts/e.selectedUserAllProducts*100),t.xp6(1),t.hij(" ",e.selectedUserVerifiedProducts," "),t.xp6(3),t.Q6J("value",e.selectedUserVerifiedProducts/e.selectedUserAllProducts*100),t.xp6(1),t.hij(" ",e.selectedUserActiveProducts," "),t.xp6(3),t.Q6J("value",e.selectedUserActiveProducts/e.selectedUserAllProducts*100),t.xp6(1),t.hij(" ",e.selectedUserInDevelopmentProducts," "),t.xp6(3),t.Q6J("value",e.selectedUserInDevelopmentProducts/e.selectedUserAllProducts*100),t.xp6(1),t.hij(" ",e.selectedUserEolProducts," "),t.xp6(3),t.Q6J("value",e.selectedUserEolProducts/e.selectedUserAllProducts*100)}}function Pm(n,i){1&n&&(t.TgZ(0,"div",60),t._UZ(1,"canvas",15,65),t.qZA())}function wm(n,i){if(1&n&&(t.TgZ(0,"mat-option",81),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Tm(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function km(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",55)(2,"form",66)(3,"div",67)(4,"div",68)(5,"div",69)(6,"h3"),t._uU(7,"Pamphlet Details:"),t.qZA(),t.TgZ(8,"mat-form-field",70)(9,"mat-label"),t._uU(10,"Pamphlet Name"),t.qZA(),t._UZ(11,"input",71,72),t.TgZ(13,"mat-icon",23),t._uU(14,"create"),t.qZA()(),t.TgZ(15,"mat-form-field",70)(16,"mat-label"),t._uU(17,"Brand"),t.qZA(),t.TgZ(18,"mat-select",73,74),t.YNc(20,wm,2,2,"mat-option",26),t.ALo(21,"typeGroup"),t.qZA()(),t.TgZ(22,"mat-form-field",70)(23,"mat-label"),t._uU(24,"Description"),t.qZA(),t._UZ(25,"textarea",75,76),t.qZA()(),t.TgZ(27,"div",19)(28,"h3"),t._uU(29,"Selected Products:"),t.qZA(),t.TgZ(30,"mat-card")(31,"ul"),t.YNc(32,Tm,2,1,"li",77),t.qZA()()(),t.TgZ(33,"div",78)(34,"h3",79),t._uU(35,"..."),t.qZA(),t.TgZ(36,"button",80),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.saveProduct())}),t._uU(37,"Create Pamphlet"),t.qZA()()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("formGroup",e.newProductForm),t.xp6(18),t.Q6J("ngForOf",t.xi3(21,3,e.typesList,"Brand")),t.xp6(12),t.Q6J("ngForOf",e.newPamphletSKUs)}}function Am(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Please wait..."),t.qZA())}function Mm(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Search"),t.qZA())}function Sm(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Loading Users..."),t.qZA())}function Zm(n,i){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Filter By User"),t.qZA())}function Im(n,i){if(1&n&&(t.TgZ(0,"mat-option",81),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name+" "+e.surname)}}function Dm(n,i){if(1&n&&(t.TgZ(0,"mat-option",81),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Om(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function Lm(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1,"Create Pamphlet"),t.qZA())}function Nm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",83)(1,"span",84)(2,"mat-checkbox",85),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.addToPamphlet(r.product_id,r.sku,s))}),t._uU(3,"Add to list"),t.qZA()()()}}function Em(n,i){1&n&&t._UZ(0,"th",82)}function Fm(n,i){if(1&n&&(t.TgZ(0,"td",83)(1,"a",86),t._UZ(2,"img",87),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/web/",e.clean_sku,"",t.LSH)}}function Um(n,i){1&n&&(t.TgZ(0,"th",82)(1,"span",88),t._uU(2,"SKU"),t.qZA()())}function Rm(n,i){if(1&n&&(t.TgZ(0,"td",83),t._UZ(1,"a",86),t._uU(2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij("",e.sku," ")}}function qm(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Name "),t.qZA())}function Bm(n,i){if(1&n&&(t.TgZ(0,"td",83),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Hm(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Brand "),t.qZA())}function Ym(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",89),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectBrand(r.getBrandName(a.brand_type_id)))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function Jm(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Description "),t.qZA())}function Qm(n,i){if(1&n&&(t.TgZ(0,"td",83),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Gm(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Active "),t.qZA())}function zm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",91),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is active"))}),t.TgZ(1,"mat-icon",92),t._uU(2,"check_circle"),t.qZA()()}}function $m(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",91),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",93),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Vm(n,i){if(1&n&&(t.TgZ(0,"td",83),t.YNc(1,zm,3,0,"span",90),t.YNc(2,$m,3,0,"span",90),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function jm(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," In Development "),t.qZA())}function Km(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",91),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is in development"))}),t.TgZ(1,"mat-icon",94),t._uU(2,"check_circle"),t.qZA()()}}function Wm(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",91),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",93),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function Xm(n,i){if(1&n&&(t.TgZ(0,"td",83),t.YNc(1,Km,3,0,"span",90),t.YNc(2,Wm,3,0,"span",90),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function t1(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," EOL "),t.qZA())}function e1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",91),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is in end of life"))}),t.TgZ(1,"mat-icon",95),t._uU(2,"check_circle"),t.qZA()()}}function n1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",91),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",93),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function o1(n,i){if(1&n&&(t.TgZ(0,"td",83),t.YNc(1,e1,3,0,"span",90),t.YNc(2,n1,3,0,"span",90),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function s1(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Updated "),t.qZA())}function a1(n,i){if(1&n&&(t.TgZ(0,"td",83),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function r1(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Created "),t.qZA())}function c1(n,i){if(1&n&&(t.TgZ(0,"td",83),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function l1(n,i){1&n&&t._UZ(0,"th",82)}function d1(n,i){if(1&n&&(t.TgZ(0,"td",83)(1,"a",96),t._uU(2," View Details "),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function h1(n,i){1&n&&t._UZ(0,"th",82)}function u1(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"..."),t.qZA())}function p1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",99),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.addToMyProducts(s.id))}),t._uU(1,"add_circle_outline"),t.qZA()}if(2&n){const e=t.oxw(2).$implicit;t.MGl("matTooltip","Add ",e.sku," to 'My Products'")}}function g1(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,p1,2,1,"mat-icon",98),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.productManagerRole)}}function _1(n,i){1&n&&(t.TgZ(0,"span",100)(1,"mat-chip",101),t._uU(2,"My Product"),t.qZA()())}function f1(n,i){if(1&n&&(t.TgZ(0,"td",83),t.YNc(1,u1,2,0,"span",2),t.YNc(2,g1,2,1,"span",2),t.YNc(3,_1,3,0,"span",97),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.productsLoader),t.xp6(1),t.Q6J("ngIf",!e.product_manager),t.xp6(1),t.Q6J("ngIf",e.product_manager==o.loggedInUser)}}function m1(n,i){1&n&&t._UZ(0,"tr",102)}function b1(n,i){1&n&&t._UZ(0,"tr",103)}function x1(n,i){if(1&n&&(t.TgZ(0,"tr",104)(1,"td",105),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(30);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const C1=function(){return["add/new","presentation"]},v1=function(){return[10,25,50,100]};function y1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",5),t.YNc(4,mm,4,0,"div",6),t.YNc(5,xm,4,2,"div",6),t.YNc(6,vm,4,2,"div",6),t.TgZ(7,"div",7)(8,"button",8),t._UZ(9,"img",9),t._uU(10," Create Presentation "),t.qZA()(),t.TgZ(11,"div",7)(12,"button",10),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(63);return t.KtG(s.exportTable("csv",{fileName:"products_system"}))}),t._UZ(13,"img",11),t._uU(14," Quick Export "),t.qZA()()(),t.TgZ(15,"div",12),t.YNc(16,ym,23,11,"div",13),t.YNc(17,Pm,3,0,"div",13),t.TgZ(18,"div",14),t._UZ(19,"canvas",15,16),t.qZA()(),t.YNc(21,km,38,6,"div",17),t.TgZ(22,"div",5)(23,"div",18)(24,"div",5)(25,"div",19)(26,"mat-form-field",20),t.YNc(27,Am,2,0,"mat-label",2),t.YNc(28,Mm,2,0,"mat-label",2),t.TgZ(29,"input",21,22),t.NdJ("keyup",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.applyFilter(s))}),t.qZA(),t.TgZ(31,"mat-icon",23),t._uU(32,"search"),t.qZA()()(),t.TgZ(33,"div",19)(34,"mat-form-field",24),t.YNc(35,Sm,2,0,"mat-label",2),t.YNc(36,Zm,2,0,"mat-label",2),t.TgZ(37,"mat-select",25),t.NdJ("selectionChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterByUser(s))}),t.YNc(38,Im,2,2,"mat-option",26),t.qZA()()(),t.TgZ(39,"div",19)(40,"mat-form-field",24)(41,"mat-label"),t._uU(42,"Categories"),t.qZA(),t.TgZ(43,"mat-select",27),t.NdJ("selectionChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterByCategory(s))}),t.YNc(44,Dm,2,2,"mat-option",26),t.qZA()()()(),t.TgZ(45,"div",28)(46,"span",29)(47,"mat-checkbox",30),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.displayDates=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.showDates(s))}),t._uU(48,"More info"),t.qZA()(),t.TgZ(49,"span",29)(50,"mat-checkbox",31),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.eolProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(51,"EOL"),t.qZA()(),t.TgZ(52,"span",29)(53,"mat-checkbox",31),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.developmentProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(54,"In Development"),t.qZA()(),t.TgZ(55,"span",29)(56,"mat-checkbox",31),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.activeProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(57,"Active"),t.qZA()(),t.TgZ(58,"span",29)(59,"mat-checkbox",31),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.allProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(60,"All"),t.qZA()(),t.YNc(61,Om,1,0,"mat-progress-bar",32),t.TgZ(62,"table",33,34),t.NdJ("matSortChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.announceSortChange(s))}),t.ynx(64,35),t.YNc(65,Lm,2,0,"th",36),t.YNc(66,Nm,4,0,"td",37),t.BQk(),t.ynx(67,38),t.YNc(68,Em,1,0,"th",36),t.YNc(69,Fm,3,2,"td",37),t.BQk(),t.ynx(70,39),t.YNc(71,Um,3,0,"th",36),t.YNc(72,Rm,3,2,"td",37),t.BQk(),t.ynx(73,40),t.YNc(74,qm,2,0,"th",36),t.YNc(75,Bm,2,1,"td",37),t.BQk(),t.ynx(76,41),t.YNc(77,Hm,2,0,"th",36),t.YNc(78,Ym,2,1,"td",42),t.BQk(),t.ynx(79,43),t.YNc(80,Jm,2,0,"th",36),t.YNc(81,Qm,2,1,"td",37),t.BQk(),t.ynx(82,44),t.YNc(83,Gm,2,0,"th",36),t.YNc(84,Vm,3,2,"td",37),t.BQk(),t.ynx(85,45),t.YNc(86,jm,2,0,"th",36),t.YNc(87,Xm,3,2,"td",37),t.BQk(),t.ynx(88,46),t.YNc(89,t1,2,0,"th",36),t.YNc(90,o1,3,2,"td",37),t.BQk(),t.ynx(91,47),t.YNc(92,s1,2,0,"th",36),t.YNc(93,a1,3,3,"td",37),t.BQk(),t.ynx(94,48),t.YNc(95,r1,2,0,"th",36),t.YNc(96,c1,3,3,"td",37),t.BQk(),t.ynx(97,49),t.YNc(98,l1,1,0,"th",36),t.YNc(99,d1,3,1,"td",37),t.BQk(),t.ynx(100,50),t.YNc(101,h1,1,0,"th",36),t.YNc(102,f1,4,3,"td",37),t.BQk(),t.YNc(103,m1,1,0,"tr",51),t.YNc(104,b1,1,0,"tr",52),t.YNc(105,x1,3,1,"tr",53),t.qZA(),t._UZ(106,"mat-paginator",54),t.qZA()(),t._UZ(107,"div",55),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.productManagerRole),t.xp6(1),t.Q6J("ngIf",e.addProductRole),t.xp6(1),t.Q6J("ngIf",e.addProductRole),t.xp6(2),t.Q6J("routerLink",t.DdM(25,C1)),t.xp6(8),t.Q6J("ngIf","user"==e.displayMode),t.xp6(1),t.Q6J("ngIf","home"==e.displayMode),t.xp6(4),t.Q6J("ngIf",e.showNewPamphletPanel),t.xp6(6),t.Q6J("ngIf",e.entireProductsLoader),t.xp6(1),t.Q6J("ngIf",!e.entireProductsLoader),t.xp6(1),t.Q6J("disabled",e.entireProductsLoader),t.xp6(6),t.Q6J("ngIf",e.usersLoader),t.xp6(1),t.Q6J("ngIf",!e.usersLoader),t.xp6(2),t.Q6J("ngForOf",e.users),t.xp6(5),t.Q6J("disabled",e.entireProductsLoader),t.xp6(1),t.Q6J("ngForOf",e.primaryCategoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(41),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(26,v1))}}class ti extends Ki._k{constructor(i,e,o,s,a,r,c,l,d,h,u,p){super(),this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=a,this._snackBar=r,this._liveAnnouncer=c,this.info=l,this.router=d,this.formBuilder=h,this.lookup=u,this.products=p,this.productsList=[],this.categoriesList=[],this.primaryCategoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","view","add"],this.productsLoader=!1,this.entireProductsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.newPamphlet=[],this.newPamphletSKUs=[],this.showNewPamphletPanel=!1,this.productManagerProducts=[],this.productManagerRole=!1,this.addingToMyProducts=!1,this.users=[],this.usersLoader=!0,this.displayMode="home",this.info.isUserLoggedIn.subscribe(g=>{this.loggedIn=g})}ngAfterViewInit(){this.charts("home",0)}ngOnInit(){this.loggedInUser=this.info.getUserId(),window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.productManagerRole=this.info.role(86),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.productManagerRole=this.info.role(86)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.newProductForm=this.formBuilder.group({name:["",T.kI.required],brand_type_id:["",T.kI.required],description:["",T.kI.required]}),this.info.auth()}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.info.setLoadingInfo("Preparing...","info"),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.productManagerRole=this.info.role(86)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){let i="products-verified";this.info.setLoadingInfo("Loading products...","info"),this.viewAllProductsRole&&(i="products"),this.productsLoader=!0,this.api.GET(i).subscribe({next:e=>{this.productsList=e,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Products loaded","success"),this.entireProducts(),this.getUsers()},error:e=>{this.info.setLoadingInfo("Failed to connect to the server: "+e.message,"success"),this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}entireProducts(){this.info.setLoadingInfo("Loading more products...","info"),this.entireProductsLoader=!0,this.api.GET("products-verified").subscribe({next:e=>{this.productsList=e,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.products.setProducts(e),this.entireProductsLoader=!1,this.info.setLoadingInfo("Products loaded","success")},error:e=>{this.info.setLoadingInfo(e,"danger"),this.entireProductsLoader=!1}})}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}getAllTypes(){this.typesList=this.lookup.getTypes(),this.info.setLoadingInfo("Loading types...","info"),this.api.GET("types").subscribe({next:i=>{this.lookup.setTypes(i),this.typesList=this.lookup.getTypes(),this.brands=this.typesList.filter(e=>"Brand"==e.grouping),this.info.setLoadingInfo("Types loaded","success")},error:i=>{this.openSnackBar("Failed to communicate with the server","Okay"),this.info.setLoadingInfo("Failed to communicate with the server: "+i.message,"info")}})}getBrandName(i){try{let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}catch(e){return this.info.errorHandler(e),""}}permission(i){return console.log("Role check"),!!this.info.role(i)}iconClick(i){this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view","add"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view","add"]}selectBrand(i){this.router.navigate(["/brand",i.toLowerCase()])}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?o=>1==o.is_in_development&&1==o.is_active:this.activeProducts&&this.eolProducts?o=>1==o.is_active&&1==o.is_eol:this.developmentProducts&&this.eolProducts?o=>1==o.is_in_development&&1==o.is_eol:this.activeProducts?o=>1==o.is_active:this.developmentProducts?o=>1==o.is_in_development:o=>1==o.is_eol),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.info.setLoadingInfo("Loading categories...","info"),this.api.GET("categories").subscribe({next:i=>{this.products.setCategories(i),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=i.filter(e=>"0"==e.parent),this.info.setLoadingInfo("Categories loaded","success")},error:i=>{this.info.setLoadingInfo(i,"info")}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}showPamphletCheckboxes(){this.showNewPamphletPanel=!this.showNewPamphletPanel,this.displayedColumns=this.showNewPamphletPanel?["pamphlet","thumbnail","sku","name","brand","description","view","add"]:["thumbnail","sku","name","brand","description","view","add"]}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}addToMyProducts(i){this.addingToMyProducts=!0,this.api.POST(`products/update/${i}`,{product_manager:this.info.getUserId()}).subscribe({next:e=>{this.entireProducts(),this.openSnackBar("Added to 'My Products'","Okay"),this.addingToMyProducts=!1},error:e=>{this.addingToMyProducts=!1,this.info.errorHandler(e),this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}getUsers(){this.info.setLoadingInfo("Loading users, please wait...","info"),this.usersLoader=!0,this.api.GET("users").subscribe({next:i=>{this.usersLoader=!1,this.users=i,console.log(this.users),this.info.setLoadingInfo("","info")},error:i=>{this.info.setLoadingInfo("Failed to connect to the server: "+i.message,"info")}})}filterByUser(i){const e=this.users.find(s=>s.id==i.value);this.selectedUser=`${e?.name}'s products:`,this.displayMode="user";const o=i.value;this.info.setLoadingInfo("Loading user products...","info"),this.productsLoader=!0,this.api.GET(`product-manager/products/${o}`).subscribe({next:s=>{this.productsList=s,this.dataSource=new f.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.productsLoader=!1,this.blockUI.stop(),this.info.setLoadingInfo("Products loaded successfully","info"),this.charts("user",o)},error:s=>{this.openSnackBar("Failed to connect to the server: "+s.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+s.message,"danger")}})}addToPamphlet(i,e,o){}saveProduct(){}charts(i,e){try{const o="home"==i?"home":`home-user/${e}`;this.displayMode="home"==i?"home":"user",this.info.setLoadingInfo("Loading stats...","info"),this.api.GET(o).subscribe({next:a=>{this.selectedUserAllProducts=a.all,this.selectedUserVerifiedProducts=a.verified,this.selectedUserActiveProducts=a.active,this.selectedUserInDevelopmentProducts=a.dev,this.selectedUserEolProducts=a.eol,Vt.register(...Yr);try{const r=this.myChart1.nativeElement.getContext("2d");if(!r)return void console.error("Could not retrieve 2D context for canvas");new Vt(r,{type:"bar",data:{labels:["Verified","Active","Eol","Development","All"],datasets:[{label:"Verified Products",data:[a.verified,a.active,a.eol,a.dev,a.all],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Products"}}}}),this.info.setLoadingInfo("","success")}catch{}},error:a=>{this.info.setLoadingInfo(a,"info")}});const s=7;this.api.GET(`home/${s}`).subscribe({next:a=>{"home"==this.displayMode&&this.api.GET(`home-verification/${s}`).subscribe({next:r=>{Vt.register(...Yr);const c=this.myChart2.nativeElement.getContext("2d");c?new Vt(c,{type:"line",data:{labels:[a[22]?.date,a[21]?.date,a[20]?.date,a[19]?.date,a[18]?.date,a[17]?.date,a[16]?.date,a[15]?.date,a[14]?.date,a[13]?.date,a[12]?.date,a[11]?.date,a[10]?.date,a[9]?.date,a[8]?.date,a[7]?.date,a[6]?.date,a[5]?.date,a[4]?.date,a[3]?.date,a[2]?.date,a[1]?.date,a[0]?.date],datasets:[{label:"Updated",data:[a[22]?.total_updates,a[21]?.total_updates,a[20]?.total_updates,a[19]?.total_updates,a[18]?.total_updates,a[17]?.total_updates,a[16]?.total_updates,a[15]?.total_updates,a[14]?.total_updates,a[13]?.total_updates,a[12]?.total_updates,a[11]?.total_updates,a[10]?.total_updates,a[9]?.total_updates,a[8]?.total_updates,a[7]?.total_updates,a[6]?.total_updates,a[5]?.total_updates,a[4]?.total_updates,a[3]?.total_updates,a[2]?.total_updates,a[1]?.total_updates,a[0]?.total_updates],borderWidth:1,fill:!1},{label:"Verified",data:[r[22]?.total_updates,r[21]?.total_updates,r[20]?.total_updates,r[19]?.total_updates,r[18]?.total_updates,r[17]?.total_updates,r[16]?.total_updates,r[15]?.total_updates,r[14]?.total_updates,r[13]?.total_updates,r[12]?.total_updates,r[11]?.total_updates,r[10]?.total_updates,r[9]?.total_updates,r[8]?.total_updates,r[7]?.total_updates,r[6]?.total_updates,r[5]?.total_updates,r[4]?.total_updates,r[3]?.total_updates,r[2]?.total_updates,r[1]?.total_updates,r[0]?.total_updates],borderWidth:1,fill:!0}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"Product Activity"}}}}):console.error("Could not retrieve 2D context for canvas")},error:r=>{this.info.setLoadingInfo(r,"info")}}),this.info.setLoadingInfo("","success")},error:a=>{this.info.setLoadingInfo(a,"info")}})}catch{console.info("chart error handled")}}}function P1(n,i){1&n&&(t.TgZ(0,"div",2)(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA())}function w1(n,i){1&n&&t._UZ(0,"mat-progress-bar",3)}function T1(n,i){1&n&&t._UZ(0,"th",40)}function k1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._UZ(1,"img",42),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function A1(n,i){1&n&&(t.TgZ(0,"th",40)(1,"span",43),t._uU(2,"SKU"),t.qZA()())}function M1(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function S1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Name "),t.qZA())}function Z1(n,i){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function I1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Brand "),t.qZA())}function D1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectBrand(r.getBrandName(a.brand_type_id)))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.getBrandName(e.brand_type_id)," ")}}function O1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Description "),t.qZA())}function L1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function N1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Active "),t.qZA())}function E1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is active"))}),t.TgZ(1,"mat-icon",48),t._uU(2,"check_circle"),t.qZA()()}}function F1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",49),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function U1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,E1,3,0,"span",46),t.YNc(2,F1,3,0,"span",46),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function R1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," In Development "),t.qZA())}function q1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is in development"))}),t.TgZ(1,"mat-icon",50),t._uU(2,"check_circle"),t.qZA()()}}function B1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",49),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function H1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,q1,3,0,"span",46),t.YNc(2,B1,3,0,"span",46),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Y1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," EOL "),t.qZA())}function J1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.iconClick(s.sku+" is in end of life"))}),t.TgZ(1,"mat-icon",51),t._uU(2,"check_circle"),t.qZA()()}}function Q1(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.iconClick("Nothing here"))}),t.TgZ(1,"mat-icon",49),t._uU(2,"radio_button_unchecked"),t.qZA()()}}function G1(n,i){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,J1,3,0,"span",46),t.YNc(2,Q1,3,0,"span",46),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function z1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Updated "),t.qZA())}function $1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function V1(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Created "),t.qZA())}function j1(n,i){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function K1(n,i){1&n&&t._UZ(0,"th",40)}function W1(n,i){if(1&n&&(t.TgZ(0,"td",41)(1,"button",52),t._uU(2," View Details "),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function X1(n,i){1&n&&t._UZ(0,"tr",53)}function tb(n,i){1&n&&t._UZ(0,"tr",54)}function eb(n,i){if(1&n&&(t.TgZ(0,"tr",55)(1,"td",56),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(20);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}ti.\u0275fac=function(i){return new(i||ti)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(I.Kd),t.Y36(R.C),t.Y36(P.F0),t.Y36(T.QS),t.Y36(Xt.W),t.Y36(W))},ti.\u0275cmp=t.Xpm({type:ti,selectors:[["app-products-home"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(w.YE,5),t.Gf(gm,5),t.Gf(_m,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first),t.iGM(o=t.CRH())&&(e.myChart1=o.first),t.iGM(o=t.CRH())&&(e.myChart2=o.first)}},features:[t.qOj],decls:3,vars:2,consts:[[1,"loadingInfo"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],["class","col-12 col-ms-12 col-md-5 col-lg-2",4,"ngIf"],[1,"col-12","col-ms-12","col-md-5","col-lg-2"],["mat-raised-button","",1,"p-2",2,"width","100%",3,"routerLink"],["src","../../../assets/icons/presentation.png","height","35"],["mat-raised-button","",1,"p-2",2,"width","100%",3,"click"],["src","../../../assets/icons/csv.png","height","35"],[1,"row","mt-5","g-1"],["class","col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[1,"col-xs-6","col-sm-6","col-md-6","col-lg-6","col-xl-6",2,"padding-left","1rem"],[1,"myCharts"],["myChart2",""],["class","row",4,"ngIf"],[1,"col-md-12","mt-3"],[1,"col-md-4"],["appearance","legacy","color","primary"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"disabled","keyup"],["input",""],["matSuffix",""],["appearance","legacy"],["matInput","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled","selectionChange"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","pamphlet"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["matColumnDef","add"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","products/product-manager",1,"p-2",2,"width","100%"],["src","../../../assets/icons/products.png","height","35"],["src","../../../assets/icons/new-product.png","height","35"],["src","../../../assets/icons/linked-products.png","height","35"],[1,"col-xs-6","col-sm-6","col-md-6","col-lg-6","col-xl-6"],["mode","determinate",1,"mb-3",3,"value"],["mode","determinate","color","accent",1,"mb-3",3,"value"],["mode","determinate","color","var(--my-custom-green)",1,"mb-3",3,"value"],["mode","determinate","color","warn",1,"mb-3",3,"value"],["myChart1",""],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"row",2,"background-color","#f7f7f7","padding","1rem","border","1px solid rgb(231, 231, 231)"],[1,"col-md-6"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],["rows","3","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[4,"ngFor","ngForOf"],[1,"col-md-2"],[2,"color","#ffff"],["type","submit","mat-raised-button","","type","submit","color","primary",2,"float","right",3,"click"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"padding","9px","background-color","#f0f0f0","color","green"],["color","primary",1,"table-setting",3,"change"],["target","_blank",3,"routerLink"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details","target","_blank",3,"routerLink"],["style","font-size: 10px;",4,"ngIf"],["style","cursor: pointer; color: rgb(8, 145, 88);",3,"matTooltip","click",4,"ngIf"],[2,"cursor","pointer","color","rgb(8, 145, 88)",3,"matTooltip","click"],[2,"font-size","10px"],["disabled",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t._UZ(0,"span",0),t.YNc(1,fm,4,0,"div",1),t.YNc(2,y1,108,27,"div",2)),2&i&&(t.xp6(1),t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},dependencies:[y.sg,y.O5,P.rH,P.yS,Xe,E.KE,E.hX,E.R9,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,f.Ee,C.NW,gt.Hw,Q.Nt,T._Y,T.Fj,T.JJ,T.JL,T.On,T.sg,T.u,ct.lW,ct.zs,G.gD,q.ey,K.a8,te.pW,w.YE,w.nU,ye.jt,pe.oG,nn.gM,y.uU,Re],styles:["[_ngcontent-%COMP%]:root{--my-custom-green: #3AB7AD}table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.mat-column-add[_ngcontent-%COMP%]{width:12rem;padding-left:2rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}.loadingInfo[_ngcontent-%COMP%]{float:right}.myCharts[_ngcontent-%COMP%]{height:315px!important}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%]{width:100%}.table-category[_ngcontent-%COMP%]{width:100%;float:none}.mat-column-id[_ngcontent-%COMP%], .sku-title[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,li.gn)([(0,di.bH)()],ti.prototype,"blockUI",void 0);const ib=function(){return[10,25,50,100]};function nb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",4)(4,"div",5)(5,"button",6),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(41);return t.KtG(s.exportTable("csv",{fileName:"products_system"}))}),t.TgZ(6,"mat-icon"),t._uU(7,"download_file"),t.qZA(),t._uU(8," Export CSV "),t.qZA()(),t.TgZ(9,"div",5)(10,"button",7)(11,"mat-icon"),t._uU(12,"wordpress"),t.qZA(),t._uU(13," Export For WordPress "),t.qZA()()(),t.TgZ(14,"div",4)(15,"div",8)(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Search"),t.qZA(),t.TgZ(19,"input",10,11),t.NdJ("keyup",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.applyFilter(s))}),t.qZA(),t.TgZ(21,"mat-icon",12),t._uU(22,"search"),t.qZA()(),t.TgZ(23,"div",13)(24,"span",14)(25,"mat-checkbox",15),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.displayDates=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.showDates(s))}),t._uU(26,"More info"),t.qZA()(),t.TgZ(27,"span",14)(28,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.eolProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(29,"EOL"),t.qZA()(),t.TgZ(30,"span",14)(31,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.developmentProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(32,"In Development"),t.qZA()(),t.TgZ(33,"span",14)(34,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.activeProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(35,"Active"),t.qZA()(),t.TgZ(36,"span",14)(37,"mat-checkbox",16),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.allProducts=s)})("change",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.filterStatuses(s))}),t._uU(38,"All"),t.qZA()(),t.YNc(39,w1,1,0,"mat-progress-bar",17),t.TgZ(40,"table",18,19),t.NdJ("matSortChange",function(s){t.CHM(e);const a=t.oxw();return t.KtG(a.announceSortChange(s))}),t.ynx(42,20),t.YNc(43,T1,1,0,"th",21),t.YNc(44,k1,2,1,"td",22),t.BQk(),t.ynx(45,23),t.YNc(46,A1,3,0,"th",21),t.YNc(47,M1,2,2,"td",24),t.BQk(),t.ynx(48,25),t.YNc(49,S1,2,0,"th",21),t.YNc(50,Z1,2,2,"td",24),t.BQk(),t.ynx(51,26),t.YNc(52,I1,2,0,"th",21),t.YNc(53,D1,2,1,"td",27),t.BQk(),t.ynx(54,28),t.YNc(55,O1,2,0,"th",21),t.YNc(56,L1,2,1,"td",22),t.BQk(),t.ynx(57,29),t.YNc(58,N1,2,0,"th",21),t.YNc(59,U1,3,2,"td",22),t.BQk(),t.ynx(60,30),t.YNc(61,R1,2,0,"th",21),t.YNc(62,H1,3,2,"td",22),t.BQk(),t.ynx(63,31),t.YNc(64,Y1,2,0,"th",21),t.YNc(65,G1,3,2,"td",22),t.BQk(),t.ynx(66,32),t.YNc(67,z1,2,0,"th",21),t.YNc(68,$1,3,3,"td",22),t.BQk(),t.ynx(69,33),t.YNc(70,V1,2,0,"th",21),t.YNc(71,j1,3,3,"td",22),t.BQk(),t.ynx(72,34),t.YNc(73,K1,1,0,"th",21),t.YNc(74,W1,3,1,"td",22),t.BQk(),t.YNc(75,X1,1,0,"tr",35),t.YNc(76,tb,1,0,"tr",36),t.YNc(77,eb,3,1,"tr",37),t.qZA(),t._UZ(78,"mat-paginator",38),t.qZA()(),t._UZ(79,"div",39),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(25),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(35),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(10,ib))}}class ei{constructor(i,e,o,s,a,r,c,l,d,h,u,p,g){this.navbar=i,this.sideNav=e,this.topNav=o,this.treeNav=s,this.api=a,this._snackBar=r,this._liveAnnouncer=c,this.info=l,this.route=d,this.router=h,this.formBuilder=u,this.lookup=p,this.products=g,this.displayedColumns=["thumbnail","sku","name","brand","description","view"],this.typesList=[],this.loggedIn=!1,this.productsList=[],this.categoriesList=[],this.packagingList=[],this.productsLoader=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.showNewPamphletPanel=!1,this.info.isUserLoggedIn.subscribe(_=>{this.loggedIn=_})}ngOnInit(){this.route.params.subscribe(i=>{this.series=i.series,this.typesList=this.lookup.getTypes();const e=this.typesList.find(o=>o.name.toUpperCase()==this.series.toUpperCase());console.log("Lookup type: ",e),this.loadProducts(e.id)})}loadProducts(i){this.api.GET(`products-by-series/${i}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}table(i){this.dataSource=new f.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(i){this.dataSource.filter=i.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getBrandName(i){let e=0;return e=parseInt(i)-1,null==this.typesList[e]||isNaN(e)||null==e?"":this.typesList[e].name}permission(i){return console.log("Role check"),!!this.info.role(i)}iconClick(i){this.openSnackBar(i,"\u{1f609}")}filePath(i){return i.substring(7)}showDates(i){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view"]}selectBrand(i){this.router.navigate(["/brand",i.toLowerCase()])}filterStatuses(i){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?o=>1==o.is_in_development&&1==o.is_active:this.activeProducts&&this.eolProducts?o=>1==o.is_active&&1==o.is_eol:this.developmentProducts&&this.eolProducts?o=>1==o.is_in_development&&1==o.is_eol:this.activeProducts?o=>1==o.is_active:this.developmentProducts?o=>1==o.is_in_development:o=>1==o.is_eol),this.table(e)}filterByCategory(i){console.log(i),this.api.GET(`products-by-category/${i.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:i=>{this.products.setCategories(i),this.categoriesList=this.products.getCategories()},error:i=>{console.log(i)}})}showPamphletCheckboxes(){this.showNewPamphletPanel=!this.showNewPamphletPanel,this.displayedColumns=this.showNewPamphletPanel?["pamphlet","thumbnail","sku","name","brand","description","view"]:["thumbnail","sku","name","brand","description","view"]}announceSortChange(i){this._liveAnnouncer.announce(i.direction?`Sorted ${i.direction}ending`:"Sorting cleared")}openSnackBar(i,e){this._snackBar.open(i,e,{duration:2e3})}}ei.\u0275fac=function(i){return new(i||ei)(t.Y36(M.I),t.Y36(N.Z),t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(I.Kd),t.Y36(R.C),t.Y36(P.gz),t.Y36(P.F0),t.Y36(T.QS),t.Y36(Xt.W),t.Y36(W))},ei.\u0275cmp=t.Xpm({type:ei,selectors:[["app-series"]],viewQuery:function(i,e){if(1&i&&(t.Gf(C.NW,5),t.Gf(w.YE,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.paginator=o.first),t.iGM(o=t.CRH())&&(e.sort=o.first)}},decls:2,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","",1,"m-1",2,"width","100%",3,"click"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],[1,"sku-title"],["mat-cell","",3,"routerLink"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,e){1&i&&(t.YNc(0,P1,4,0,"div",0),t.YNc(1,nb,80,11,"div",1)),2&i&&(t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},dependencies:[y.O5,P.rH,E.KE,E.hX,E.R9,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,f.Ee,C.NW,gt.Hw,Q.Nt,T.JJ,T.On,ct.lW,te.pW,w.YE,w.nU,ye.jt,pe.oG,y.uU]}),(0,li.gn)([(0,di.bH)()],ei.prototype,"blockUI",void 0);var qt=b(8184),jt=b(4080),$r=b(9770),ob=b(9646);function sb(n,i){}class Rn{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Vr=(()=>{class n extends jt.en{constructor(e,o,s,a,r,c,l,d){super(),this._elementRef=e,this._focusTrapFactory=o,this._config=a,this._interactivityChecker=r,this._ngZone=c,this._overlayRef=l,this._focusMonitor=d,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),u},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=s}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),o}attachTemplatePortal(e){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,o){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(o)}_focusByCssSelector(e,o){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,o)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let o=null;if("string"==typeof e?o=this._document.querySelector(e):"boolean"==typeof e?o=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(o=e),this._config.restoreFocus&&o&&"function"==typeof o.focus){const s=(0,Et.ht)(),a=this._elementRef.nativeElement;(!s||s===this._document.body||s===a||a.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=(0,Et.ht)();return e===o||e.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Et.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(I.qV),t.Y36(y.K0,8),t.Y36(Rn),t.Y36(I.ic),t.Y36(t.R0b),t.Y36(qt.Iu),t.Y36(I.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,o){if(1&e&&t.Gf(jt.Pl,7),2&e){let s;t.iGM(s=t.CRH())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,o){2&e&&t.uIk("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&t.YNc(0,sb,0,0,"ng-template",0)},dependencies:[jt.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class $o{constructor(i,e){this.overlayRef=i,this.config=e,this.closed=new pt.x,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(o=>{o.keyCode===Rt.hY&&!this.disableClose&&!(0,Rt.Vb)(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(i,e){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),o.next(i),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const jr=new t.OlP("DialogScrollStrategy"),ab=new t.OlP("DialogData"),rb=new t.OlP("DefaultDialogConfig"),lb={provide:jr,deps:[qt.aV],useFactory:function cb(n){return()=>n.scrollStrategies.block()}};let db=0,Kr=(()=>{class n{constructor(e,o,s,a,r,c){this._overlay=e,this._injector=o,this._defaultOptions=s,this._parentDialog=a,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pt.x,this._afterOpenedAtThisLevel=new pt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,$r.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Qt.O)(void 0))),this._scrollStrategy=c}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,o){(o={...this._defaultOptions||new Rn,...o}).id=o.id||"cdk-dialog-"+db++,o.id&&this.getDialogById(o.id);const a=this._getOverlayConfig(o),r=this._overlay.create(a),c=new $o(r,o),l=this._attachContainer(r,c,o);return c.containerInstance=l,this._attachDialogContent(e,c,l,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Vo(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){Vo(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Vo(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const o=new qt.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachContainer(e,o,s){const a=s.injector||s.viewContainerRef?.injector,r=[{provide:Rn,useValue:s},{provide:$o,useValue:o},{provide:qt.Iu,useValue:e}];let c;s.container?"function"==typeof s.container?c=s.container:(c=s.container.type,r.push(...s.container.providers(s))):c=Vr;const l=new jt.C5(c,s.viewContainerRef,t.zs3.create({parent:a||this._injector,providers:r}),s.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,o,s,a){if(e instanceof t.Rgc){const r=this._createInjector(a,o,s,void 0);let c={$implicit:a.data,dialogRef:o};a.templateContext&&(c={...c,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),s.attachTemplatePortal(new jt.UE(e,null,c,r))}else{const r=this._createInjector(a,o,s,this._injector),c=s.attachComponentPortal(new jt.C5(e,a.viewContainerRef,r,a.componentFactoryResolver));o.componentInstance=c.instance}}_createInjector(e,o,s,a){const r=e.injector||e.viewContainerRef?.injector,c=[{provide:ab,useValue:e.data},{provide:$o,useValue:o}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(o,e,s)):c.push(...e.providers)),e.direction&&(!r||!r.get(pi.Is,null,t.XFs.Optional))&&c.push({provide:pi.Is,useValue:{value:e.direction,change:(0,ob.of)()}}),t.zs3.create({parent:r||a,providers:c})}_removeOpenDialog(e,o){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,r)=>{a?r.setAttribute("aria-hidden",a):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let s=o.length-1;s>-1;s--){const a=o[s];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(qt.aV),t.LFG(t.zs3),t.LFG(rb,8),t.LFG(n,12),t.LFG(qt.Xj),t.LFG(jr))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Vo(n,i){let e=n.length;for(;e--;)i(n[e])}let hb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Kr,lb],imports:[qt.U8,jt.eL,I.rt,jt.eL]}),n})();var qn=b(9300),ut=b(7340);function ub(n,i){}const ii={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},pb={dialogContainer:(0,ut.X$)("dialogContainer",[(0,ut.SB)("void, exit",(0,ut.oB)({opacity:0,transform:"scale(0.7)"})),(0,ut.SB)("enter",(0,ut.oB)({transform:"none"})),(0,ut.eR)("* => enter",(0,ut.ru)([(0,ut.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,ut.oB)({transform:"none",opacity:1})),(0,ut.IO)("@*",(0,ut.pV)(),{optional:!0})]),ii),(0,ut.eR)("* => void, * => exit",(0,ut.ru)([(0,ut.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ut.oB)({opacity:0})),(0,ut.IO)("@*",(0,ut.pV)(),{optional:!0})]),ii)])};class Bn{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=ii.params.enterAnimationDuration,this.exitAnimationDuration=ii.params.exitAnimationDuration}}let gb=(()=>{class n extends Vr{constructor(e,o,s,a,r,c,l,d){super(e,o,s,a,r,c,l,d),this._animationStateChanged=new t.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(I.qV),t.Y36(y.K0,8),t.Y36(Bn),t.Y36(I.ic),t.Y36(t.R0b),t.Y36(qt.Iu),t.Y36(I.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),_b=(()=>{class n extends gb{constructor(e,o,s,a,r,c,l,d,h){super(e,o,s,a,r,c,l,h),this._changeDetectorRef=d,this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?this._openAnimationDone(o):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:o})}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||ii.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||ii.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(I.qV),t.Y36(y.K0,8),t.Y36(Bn),t.Y36(I.ic),t.Y36(t.R0b),t.Y36(qt.Iu),t.Y36(t.sBO),t.Y36(I.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,o){1&e&&t.WFA("@dialogContainer.start",function(a){return o._onAnimationStart(a)})("@dialogContainer.done",function(a){return o._onAnimationDone(a)}),2&e&&(t.Ikx("id",o._config.id),t.uIk("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),t.d8E("@dialogContainer",o._getAnimationState()))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&t.YNc(0,ub,0,0,"ng-template",0)},dependencies:[jt.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[pb.dialogContainer]}}),n})();class fb{constructor(i,e,o){this._ref=i,this._containerInstance=o,this._afterOpened=new pt.x,this._beforeClosed=new pt.x,this._state=0,this.disableClose=e.disableClose,this.id=i.id,o._animationStateChanged.pipe((0,qn.h)(s=>"opened"===s.state),(0,He.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe((0,qn.h)(s=>"closed"===s.state),(0,He.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Pe.T)(this.backdropClick(),this.keydownEvents().pipe((0,qn.h)(s=>s.keyCode===Rt.hY&&!this.disableClose&&!(0,Rt.Vb)(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),function mb(n,i,e){n._closeInteractionType=i,n.close(e)}(this,"keydown"===s.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe((0,qn.h)(e=>"closing"===e.state),(0,He.q)(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const bb=new t.OlP("MatDialogData"),xb=new t.OlP("mat-dialog-default-options"),Wr=new t.OlP("mat-dialog-scroll-strategy"),vb={provide:Wr,deps:[qt.aV],useFactory:function Cb(n){return()=>n.scrollStrategies.block()}};let yb=0,Pb=(()=>{class n{constructor(e,o,s,a,r,c,l,d,h,u){this._overlay=e,this._defaultOptions=s,this._parentDialog=a,this._dialogRefConstructor=l,this._dialogContainerType=d,this._dialogDataToken=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pt.x,this._afterOpenedAtThisLevel=new pt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,$r.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Qt.O)(void 0))),this._scrollStrategy=c,this._dialog=o.get(Kr)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){let s;(o={...this._defaultOptions||new Bn,...o}).id=o.id||`${this._idPrefix}${yb++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(e,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Bn,useValue:o},{provide:Rn,useValue:o}]},templateContext:()=>({dialogRef:s}),providers:(r,c,l)=>(s=new this._dialogRefConstructor(r,o,l),s.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentInstance=a.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const r=this.openDialogs.indexOf(s);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),jo=(()=>{class n extends Pb{constructor(e,o,s,a,r,c,l,d){super(e,o,a,c,l,r,fb,_b,bb,d)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(qt.aV),t.LFG(t.zs3),t.LFG(y.Ye,8),t.LFG(xb,8),t.LFG(Wr),t.LFG(n,12),t.LFG(qt.Xj),t.LFG(t.QbO,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),wb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[jo,vb],imports:[hb,qt.U8,jt.eL,q.BQ,q.BQ]}),n})();var Ko=b(1481),Yi=b(6338),Xr=b(1572),Hn=b(8255);function tc(n,i,e,o,s,a,r){try{var c=n[a](r),l=c.value}catch(d){return void e(d)}c.done?i(l):Promise.resolve(l).then(o,s)}function ec(n){return function(){var i=this,e=arguments;return new Promise(function(o,s){var a=n.apply(i,e);function r(l){tc(a,o,s,r,c,"next",l)}function c(l){tc(a,o,s,r,c,"throw",l)}r(void 0)})}}var Wo=b(5876);const Tb=["qrcElement"];let Xo=(()=>{class n{constructor(e,o){this.renderer=e,this.sanitizer=o,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.vpe,this.context=null}ngOnChanges(){var e=this;return ec(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((o,s)=>{Wo.hz(this.qrdata,e,(a,r)=>{a?s(a):o(r)})})}toCanvas(e,o){return new Promise((s,a)=>{Wo.rT(e,this.qrdata,o,r=>{r?a(r):s("success")})})}toSVG(e){return new Promise((o,s)=>{Wo.toString(this.qrdata,e,(a,r)=>{a?s(a):o(r)})})}renderElement(e){for(const o of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,o);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return ec(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const o={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,type:e.elementType,version:e.version,width:e.width},s=e.imageSrc,a=e.imageHeight||40,r=e.imageWidth||40;switch(e.elementType){case"canvas":const c=e.renderer.createElement("canvas");e.context=c.getContext("2d"),e.toCanvas(c,o).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(c,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(c,"title",`${e.title}`),s&&e.context){e.centerImage=new Image(r,a),s!==e.centerImage.src&&(e.centerImage.src=s),a!==e.centerImage.height&&(e.centerImage.height=a),r!==e.centerImage.width&&(e.centerImage.width=r);const h=e.centerImage;h&&(h.onload=()=>{e.context?.drawImage(h,c.width/2-r/2,c.height/2-a/2,r,a)})}e.renderElement(c),e.emitQRCodeURL(c)}).catch(h=>{console.error("[angularx-qrcode] canvas error:",h)});break;case"svg":const l=e.renderer.createElement("div");e.toSVG(o).then(h=>{e.renderer.setProperty(l,"innerHTML",h);const u=l.firstChild;e.renderer.setAttribute(u,"height",`${e.width}`),e.renderer.setAttribute(u,"width",`${e.width}`),e.renderElement(u),e.emitQRCodeURL(u)}).catch(h=>{console.error("[angularx-qrcode] svg error:",h)});break;default:const d=e.renderer.createElement("img");e.toDataURL(o).then(h=>{e.alt&&d.setAttribute("alt",e.alt),e.ariaLabel&&d.setAttribute("aria-label",e.ariaLabel),d.setAttribute("src",h),e.title&&d.setAttribute("title",e.title),e.renderElement(d),e.emitQRCodeURL(d)}).catch(h=>{console.error("[angularx-qrcode] img/url error:",h)})}}catch(o){console.error("[angularx-qrcode] Error generating QR Code:",o.message)}})()}emitQRCodeURL(e){const o=e.constructor.name;if(o===SVGSVGElement.name){const r=new Blob([e.outerHTML],{type:"image/svg+xml"}),c=URL.createObjectURL(r),l=this.sanitizer.bypassSecurityTrustUrl(c);return void this.qrCodeURL.emit(l)}let s="";o===HTMLCanvasElement.name&&(s=e.toDataURL("image/png")),o===HTMLImageElement.name&&(s=e.src),fetch(s).then(a=>a.blob()).then(a=>URL.createObjectURL(a)).then(a=>this.sanitizer.bypassSecurityTrustUrl(a)).then(a=>{this.qrCodeURL.emit(a)}).catch(a=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+a)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(Ko.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(e,o){if(1&e&&t.Gf(Tb,7),2&e){let s;t.iGM(s=t.CRH())&&(o.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,o){1&e&&t._UZ(0,"div",null,0),2&e&&t.Tol(o.cssClass)},encapsulation:2,changeDetection:0}),n})(),kb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[]}),n})();const Ab=["pdfContent"];function Mb(n,i){1&n&&(t.TgZ(0,"a",3),t._uU(1," < Back to My products "),t.qZA())}function Sb(n,i){if(1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",4),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function Zb(n,i){1&n&&(t.TgZ(0,"i",31),t._uU(1,"arrow_right"),t.qZA())}function Ib(n,i){1&n&&(t.TgZ(0,"i",31),t._uU(1,"arrow_left"),t.qZA())}function Db(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function Ob(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Db,2,0,"span",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function Lb(n,i){1&n&&(t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2,"ID"),t.qZA(),t._UZ(3,"input",82,83),t.qZA())}function Nb(n,i){if(1&n&&(t.TgZ(0,"mat-option",84),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.s9C("value",e.id),t.Q6J("disabled",!o.editRole),t.xp6(1),t.Oqu(e.name)}}function Eb(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Fb(n,i){1&n&&(t.TgZ(0,"div",86),t._uU(1,' \u26a0 Before verifying, make sure your images are arranged correctly on the "Media" tab. '),t.qZA())}function Ub(n,i){1&n&&(t.TgZ(0,"div",86),t._uU(1," \u26a0 Please set categories for this product "),t.qZA())}function Rb(n,i){1&n&&(t.TgZ(0,"span")(1,"i",87),t._uU(2,"Product Manager is needed to verify this product"),t.qZA()())}function qb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.updateProduct())}),t._uU(1,"Save Changes"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.productForm.dirty)}}function Bb(n,i){if(1&n&&(t.TgZ(0,"mat-option",84),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.s9C("value",e.id),t.Q6J("disabled",!o.editRole),t.xp6(1),t.Oqu(e.name)}}function Hb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89)(2,"mat-form-field",39)(3,"mat-label"),t._uU(4,"Product Region"),t.qZA(),t.TgZ(5,"mat-select",90,91),t.YNc(7,Bb,2,3,"mat-option",46),t.ALo(8,"typeGroup"),t.qZA()()(),t.BQk()),2&n){const e=i.index,o=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(6),t.Q6J("ngForOf",t.xi3(8,2,o.typesList,"Region"))}}function Yb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.addRegion())}),t._uU(1," Add Region "),t.qZA()}}function Jb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",93),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.updateRegion())}),t._uU(1,"Save Region"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.regionsForm.dirty)}}function Qb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",102),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.removeDesign(s,a.id))}),t._uU(1,"delete"),t.qZA()}}function Gb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89)(2,"mat-form-field",39)(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"textarea",99,100),t.YNc(7,Qb,2,0,"mat-icon",101),t.qZA()(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(2),t.Q6J("ngIf",s.editRole)}}function zb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.addDesign(s.id))}),t._uU(1," Add New "),t.qZA()}}function $b(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.design(s.id))}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function Vb(n,i){if(1&n&&(t.TgZ(0,"form",36),t.ynx(1,97),t.YNc(2,Gb,8,4,"ng-container",22),t.BQk(),t.YNc(3,zb,2,0,"button",71),t.YNc(4,$b,2,1,"button",98),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.shoutoutsForm),t.xp6(2),t.Q6J("ngForOf",e.shoutouts.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function jb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",102),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.removeDesign(s,a.id))}),t._uU(1,"delete"),t.qZA()}}function Kb(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89)(2,"mat-form-field",39)(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"textarea",99),t.YNc(6,jb,2,0,"mat-icon",101),t.qZA()(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(1),t.Q6J("ngIf",s.editRole)}}function Wb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.addDesign(s.id))}),t._uU(1," Add New "),t.qZA()}}function Xb(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.design(s.id))}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function tx(n,i){if(1&n&&(t.TgZ(0,"form",36),t.ynx(1,104),t.YNc(2,Kb,7,4,"ng-container",22),t.BQk(),t.YNc(3,Wb,2,0,"button",71),t.YNc(4,Xb,2,1,"button",98),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.featuresAndBenefitsForm),t.xp6(2),t.Q6J("ngForOf",e.features.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function ex(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",102),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.removeDesign(s,a.id))}),t._uU(1,"delete"),t.qZA()}}function ix(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89)(2,"mat-form-field",39)(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"textarea",99),t.YNc(6,ex,2,0,"mat-icon",101),t.qZA()(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(1),t.Q6J("ngIf",s.editRole)}}function nx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.addDesign(s.id))}),t._uU(1," Add New "),t.qZA()}}function ox(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.design(s.id))}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function sx(n,i){if(1&n&&(t.TgZ(0,"form",36),t.ynx(1,105),t.YNc(2,ix,7,4,"ng-container",22),t.BQk(),t.YNc(3,nx,2,0,"button",71),t.YNc(4,ox,2,1,"button",98),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.extendedFabsForm),t.xp6(2),t.Q6J("ngForOf",e.fabs.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function ax(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",102),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,a=t.oxw(2).$implicit,r=t.oxw(3);return t.KtG(r.removeDesign(s,a.id))}),t._uU(1,"delete"),t.qZA()}}function rx(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",89)(2,"mat-form-field",39)(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"input",107),t.YNc(6,ax,2,0,"mat-icon",101),t.qZA()(),t.BQk()),2&n){const e=i.index,o=t.oxw(2).$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.hij("",o.name,":"),t.xp6(1),t.Q6J("readonly",!s.editRole),t.xp6(1),t.Q6J("ngIf",s.editRole)}}function cx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.addDesign(s.id))}),t._uU(1," Add New "),t.qZA()}}function lx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.design(s.id))}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw(5);t.Q6J("disabled",e.designLoader)}}function dx(n,i){if(1&n&&(t.TgZ(0,"form",36),t.ynx(1,106),t.YNc(2,rx,7,4,"ng-container",22),t.BQk(),t.YNc(3,cx,2,0,"button",71),t.YNc(4,lx,2,1,"button",98),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("formGroup",e.packageContentsForm),t.xp6(2),t.Q6J("ngForOf",e.contents.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole)}}function hx(n,i){if(1&n&&(t.TgZ(0,"mat-card",94),t._UZ(1,"img",95),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._UZ(4,"hr"),t.YNc(5,Vb,5,4,"form",96),t.YNc(6,tx,5,4,"form",96),t.YNc(7,sx,5,4,"form",96),t.YNc(8,dx,5,4,"form",96),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("src","../../../assets/icons/",e.name,".png",t.LSH),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf",80==e.id),t.xp6(1),t.Q6J("ngIf",81==e.id),t.xp6(1),t.Q6J("ngIf",82==e.id),t.xp6(1),t.Q6J("ngIf",83==e.id)}}function ux(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function px(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",116),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(4);return t.KtG(a.removeFromBundle(s))}),t._uU(1,"delete"),t.qZA()}}function gx(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",111),t._UZ(1,"input",113),t.YNc(2,px,2,0,"mat-icon",114),t.TgZ(3,"mat-hint")(4,"a",115),t._uU(5,"View this product"),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.s9C("value",e),t.xp6(1),t.Q6J("ngIf",o.editRole),t.xp6(2),t.MGl("href","https://products.smdtechnologies.com/",e,"",t.LSH)}}function _x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",111)(1,"mat-label"),t._uU(2,"Selected Product"),t.qZA(),t._UZ(3,"input",113),t.TgZ(4,"mat-icon",102),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(4);return t.KtG(r.removeFromBundle(a))}),t._uU(5,"delete"),t.qZA(),t.TgZ(6,"mat-hint")(7,"a",115),t._uU(8,"View this product"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(3),t.s9C("value",e),t.xp6(4),t.MGl("href","https://products.smdtechnologies.com/",e,"",t.LSH)}}function fx(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function mx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",108),t._UZ(1,"img",109),t.TgZ(2,"strong"),t._uU(3," Linked Products"),t.qZA(),t._UZ(4,"hr"),t.YNc(5,ux,1,0,"mat-progress-bar",26),t._UZ(6,"br")(7,"br"),t.YNc(8,gx,6,3,"mat-form-field",110),t.TgZ(9,"form",36),t.YNc(10,_x,9,2,"mat-form-field",110),t.TgZ(11,"mat-form-field",111)(12,"mat-label"),t._uU(13,"Add Product"),t.qZA(),t._UZ(14,"input",112),t.TgZ(15,"mat-autocomplete",49,50),t.NdJ("optionSelected",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.addToBundle(s))}),t.YNc(17,fx,2,2,"mat-option",51),t.ALo(18,"async"),t.qZA()()()()}if(2&n){const e=t.MAs(16),o=t.oxw(3);t.xp6(5),t.Q6J("ngIf",o.bundleLoader),t.xp6(3),t.Q6J("ngForOf",o.linkedProductSKUs),t.xp6(1),t.Q6J("formGroup",o.newProductForm),t.xp6(1),t.Q6J("ngForOf",o.newPamphletSKUs),t.xp6(4),t.Q6J("formControl",o.autocompleteControl)("matAutocomplete",e),t.xp6(3),t.Q6J("ngForOf",t.lcZ(18,7,o.filteredOptions))}}function bx(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function xx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",126),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.downloadURI("storage/"+c.filePath(r.path),a.id,r.name,r))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function Cx(n,i){if(1&n&&(t.TgZ(0,"div",117)(1,"div",118)(2,"div",119)(3,"div",120)(4,"p",121),t._uU(5,"..."),t.qZA(),t._UZ(6,"img",122),t.qZA(),t.TgZ(7,"div",123)(8,"mat-chip-list",124),t.YNc(9,xx,2,1,"mat-chip",125),t.ALo(10,"typeGroup"),t.qZA()()()()()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(6),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function vx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",126),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw().$implicit,c=t.oxw(4);return t.KtG(c.downloadURI("storage/"+c.filePath(r.path),a.id,r.name,r))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function yx(n,i){if(1&n&&(t.TgZ(0,"div",117)(1,"div",118)(2,"div",119)(3,"div",120)(4,"p",121),t._uU(5,"..."),t.qZA(),t._UZ(6,"img",122),t.qZA(),t.TgZ(7,"div",123)(8,"mat-chip-list",124),t.YNc(9,vx,2,1,"mat-chip",125),t.ALo(10,"typeGroup"),t.qZA()()()()()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(6),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function Px(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,yx,11,5,"div",78),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function wx(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function Tx(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function kx(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,Tx,2,1,"span",2),t._UZ(2,"span",128),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD)}}function Ax(n,i){if(1&n&&(t.TgZ(0,"div")(1,"ul",127),t.YNc(2,kx,3,2,"li",22),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.productAttributes)}}function Mx(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function Sx(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.attribute_key),t.xp6(2),t.Oqu(e.attribute_value)}}function Zx(n,i){if(1&n&&(t.TgZ(0,"div")(1,"table",129),t.YNc(2,Sx,5,2,"tr",22),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.pdsAttributes)}}function Ix(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",32)(1,"div",33)(2,"div",34),t.YNc(3,Ob,3,2,"span",22),t.qZA(),t.TgZ(4,"div",19)(5,"div",35)(6,"mat-card")(7,"form",36),t._UZ(8,"img",37),t.TgZ(9,"strong"),t._uU(10," General Details"),t.qZA(),t._UZ(11,"hr"),t.YNc(12,Lb,5,0,"mat-form-field",38),t.TgZ(13,"mat-form-field",39)(14,"mat-label"),t._uU(15,"SKU"),t.qZA(),t._UZ(16,"input",40,41),t.qZA(),t.TgZ(18,"mat-form-field",39)(19,"mat-label"),t._uU(20,"Product Name"),t.qZA(),t._UZ(21,"input",42,43),t.qZA(),t.TgZ(23,"mat-form-field",39)(24,"mat-label"),t._uU(25,"Product Brand"),t.qZA(),t.TgZ(26,"mat-select",44,45),t.YNc(28,Nb,2,3,"mat-option",46),t.ALo(29,"typeGroup"),t.qZA()(),t.TgZ(30,"mat-form-field",39)(31,"mat-label"),t._uU(32,"Series"),t.qZA(),t.TgZ(33,"input",47,48),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.newSeriesType=s)}),t.qZA(),t.TgZ(35,"mat-autocomplete",49,50),t.NdJ("optionSelected",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addSeries(s))}),t.YNc(37,Eb,2,2,"mat-option",51),t.ALo(38,"async"),t.qZA()(),t.TgZ(39,"strong"),t._uU(40,"Description"),t.qZA(),t._UZ(41,"br")(42,"br"),t.TgZ(43,"mat-form-field",39)(44,"mat-label"),t._uU(45,"Short Description"),t.qZA(),t._UZ(46,"textarea",52,53),t.qZA(),t.TgZ(48,"mat-form-field",39)(49,"mat-label"),t._uU(50,"Description"),t.qZA(),t._UZ(51,"textarea",54,55),t.qZA(),t._UZ(53,"hr"),t.TgZ(54,"div",56)(55,"mat-checkbox",57,58),t._uU(57,"Is In Development"),t.qZA(),t._UZ(58,"br"),t.TgZ(59,"mat-checkbox",59,60),t._uU(61,"Is EOL"),t.qZA(),t._UZ(62,"br"),t.TgZ(63,"mat-checkbox",61,62),t._uU(65,"Is Active"),t.qZA(),t._UZ(66,"hr"),t.TgZ(67,"mat-checkbox",63,64),t._uU(69,"Requires Icasa"),t.qZA(),t._UZ(70,"hr"),t.YNc(71,Fb,2,0,"div",65),t.YNc(72,Ub,2,0,"div",65),t.TgZ(73,"mat-checkbox",66,67),t._uU(75,"Verified"),t.qZA(),t._UZ(76,"br"),t.YNc(77,Rb,3,0,"span",2),t._UZ(78,"hr"),t.YNc(79,qb,2,1,"button",68),t.qZA()()(),t._UZ(80,"br"),t.TgZ(81,"mat-card"),t._UZ(82,"img",69),t.TgZ(83,"strong"),t._uU(84,"Regions "),t.qZA(),t._UZ(85,"span",0)(86,"hr"),t.TgZ(87,"form",36),t.ynx(88,70),t.YNc(89,Hb,9,5,"ng-container",22),t.BQk(),t.YNc(90,Yb,2,0,"button",71),t.YNc(91,Jb,2,1,"button",72),t.qZA()(),t.YNc(92,hx,9,6,"mat-card",73),t.ALo(93,"typeGroup"),t.qZA(),t.TgZ(94,"div",74),t.YNc(95,mx,19,9,"mat-card",75),t.TgZ(96,"mat-card",76),t._UZ(97,"img",77),t.TgZ(98,"strong"),t._uU(99," Images"),t.qZA(),t._UZ(100,"hr"),t.YNc(101,bx,1,0,"mat-progress-bar",26),t._UZ(102,"br")(103,"br"),t.TgZ(104,"div",19),t.YNc(105,Cx,11,5,"div",78),t.qZA(),t.YNc(106,Px,2,1,"div",79),t.qZA(),t.TgZ(107,"mat-card",80),t._UZ(108,"img",81),t.TgZ(109,"strong"),t._uU(110,"Attributes"),t.qZA(),t._UZ(111,"hr"),t.YNc(112,wx,1,0,"mat-progress-bar",26),t._UZ(113,"br"),t.YNc(114,Ax,3,1,"div",2),t.qZA(),t.TgZ(115,"mat-card",80),t._UZ(116,"img",81),t.TgZ(117,"strong"),t._uU(118," PDS Attributes"),t.qZA(),t._UZ(119,"hr"),t.YNc(120,Mx,1,0,"mat-progress-bar",26),t._UZ(121,"br"),t.YNc(122,Zx,3,1,"div",2),t.qZA()()()()()}if(2&n){const e=t.MAs(36),o=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",o.productCategories),t.xp6(4),t.Q6J("formGroup",o.productForm),t.xp6(5),t.Q6J("ngIf",o.adminRole),t.xp6(9),t.Q6J("readonly",!o.editRole),t.xp6(7),t.Q6J("ngForOf",t.xi3(29,35,o.typesList,"Brand")),t.xp6(5),t.s9C("value",o.productSeries),t.Q6J("formControl",o.autocompleteControl1)("matAutocomplete",e)("ngModel",o.newSeriesType)("readonly",!o.editRole),t.xp6(4),t.Q6J("ngForOf",t.lcZ(38,38,o.filteredSeries)),t.xp6(9),t.Q6J("readonly",!o.editRole),t.xp6(5),t.Q6J("readonly",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("disabled",!o.editRole),t.xp6(4),t.Q6J("ngIf",!o.imagesAreSorted),t.xp6(1),t.Q6J("ngIf",o.productCategories.length<1),t.xp6(1),t.Q6J("disabled",!o.canVerify),t.xp6(4),t.Q6J("ngIf",0==o.productManagerId),t.xp6(2),t.Q6J("ngIf",o.editRole),t.xp6(8),t.Q6J("formGroup",o.regionsForm),t.xp6(2),t.Q6J("ngForOf",o.regions.controls),t.xp6(1),t.Q6J("ngIf",o.editRole),t.xp6(1),t.Q6J("ngIf",o.editRole),t.xp6(1),t.Q6J("ngForOf",t.xi3(93,40,o.typesList,"Design")),t.xp6(3),t.Q6J("ngIf",o.isBundle),t.xp6(6),t.Q6J("ngIf",o.loadingPdsAttributes),t.xp6(4),t.Q6J("ngForOf",o.mediaFiles),t.xp6(1),t.Q6J("ngForOf",o.mediaFilesForLinkedProducts),t.xp6(6),t.Q6J("ngIf",o.loadingPdsAttributes),t.xp6(2),t.Q6J("ngIf",!o.loadingPdsAttributes),t.xp6(6),t.Q6J("ngIf",o.loadingPdsAttributes),t.xp6(2),t.Q6J("ngIf",!o.loadingPdsAttributes)}}function Dx(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function Ox(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Dx,2,0,"span",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function Lx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",142),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.clearCats())}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t._uU(3," Clear Categories"),t.qZA()}}function Nx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",143),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.modifyCats())}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3,"Edit Categories"),t.qZA()}}function Ex(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",143),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.modifyCats())}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3,"Cancel"),t.qZA()}}function Fx(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ux(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Rx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",144),t.NdJ("valueChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.tier2=s)})("selectionChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.chosenItem(s,2))}),t.YNc(4,Ux,2,2,"mat-option",51),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.tierLabels[1]),t.xp6(1),t.Q6J("value",e.tier2),t.xp6(1),t.Q6J("ngForOf",e.descedantsCategories)}}function qx(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Bx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",144),t.NdJ("valueChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.tier3=s)})("selectionChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.chosenItem(s,3))}),t.YNc(4,qx,2,2,"mat-option",51),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.tierLabels[2]),t.xp6(1),t.Q6J("value",e.tier3),t.xp6(1),t.Q6J("ngForOf",e.descedantsCategories)}}function Hx(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Yx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",39)(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",144),t.NdJ("valueChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.tier4=s)})("selectionChange",function(s){t.CHM(e);const a=t.oxw(4);return t.KtG(a.chosenItem(s,4))}),t.YNc(4,Hx,2,2,"mat-option",51),t.qZA()()}if(2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.tierLabels[3]),t.xp6(1),t.Q6J("value",e.tier4),t.xp6(1),t.Q6J("ngForOf",e.descedantsCategories)}}function Jx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",39)(2,"mat-label"),t._uU(3,"Primary Category"),t.qZA(),t.TgZ(4,"mat-select",144),t.NdJ("valueChange",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.tier1=s)})("selectionChange",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.chosenItem(s,1))}),t.YNc(5,Fx,2,2,"mat-option",51),t.qZA()(),t.YNc(6,Rx,5,3,"mat-form-field",38),t.YNc(7,Bx,5,3,"mat-form-field",38),t.YNc(8,Yx,5,3,"mat-form-field",38),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("value",e.tier1),t.xp6(1),t.Q6J("ngForOf",e.primaryCategoriesList),t.xp6(1),t.Q6J("ngIf",e.tier1>0),t.xp6(1),t.Q6J("ngIf",e.tier2>0),t.xp6(1),t.Q6J("ngIf",e.tier3>0)}}function Qx(n,i){1&n&&(t.TgZ(0,"small")(1,"i"),t._uU(2,"Ctrl + F"),t.qZA(),t._uU(3," to find category"),t.qZA())}function Gx(n,i){1&n&&(t.TgZ(0,"small")(1,"i"),t._uU(2,"Please wait..."),t.qZA()())}function zx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(9);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t._uU(2),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(9);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name,"")}}function $x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(8);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t._uU(2),t.TgZ(3,"ul",146),t.YNc(4,zx,3,3,"li",22),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(8);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Vx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(7);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t._uU(2),t.TgZ(3,"ul",146),t.YNc(4,$x,6,7,"li",22),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(7);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function jx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(6);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t._uU(2),t.TgZ(3,"ul",146),t.YNc(4,Vx,6,7,"li",22),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(6);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Kx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(5);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t._uU(2),t.TgZ(3,"ul",146),t.YNc(4,jx,6,7,"li",22),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(5);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Wx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t._uU(2),t.TgZ(3,"ul",146),t.YNc(4,Kx,6,7,"li",22),t.ALo(5,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,4,o.categoriesList,e.id))}}function Xx(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",145),t.NdJ("change",function(s){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.checkedItem(r.id,r.parent,s))}),t.qZA(),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.TgZ(4,"ul",146),t.YNc(5,Wx,6,7,"li",22),t.ALo(6,"parent"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("checked",o.isChecked(e.id))("disabled",o.isChecked(e.id)),t.xp6(2),t.hij(" ",e.name,""),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,4,o.categoriesList,e.id))}}function t0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",130)(1,"div",131)(2,"mat-card",132)(3,"form")(4,"div",133)(5,"div",134),t.YNc(6,Ox,3,2,"span",22),t._UZ(7,"hr"),t.YNc(8,Lx,4,0,"button",135),t._uU(9,"\xa0 "),t.YNc(10,Nx,4,0,"button",136),t.YNc(11,Ex,4,0,"button",136),t._UZ(12,"br")(13,"br"),t.YNc(14,Jx,9,5,"div",2),t.TgZ(15,"div",137)(16,"div",138)(17,"button",139),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.saveCategories())}),t._uU(18,"Save Changes"),t.qZA()()()(),t.TgZ(19,"div",140),t.YNc(20,Qx,4,0,"small",2),t.YNc(21,Gx,3,0,"small",2),t._UZ(22,"hr"),t.TgZ(23,"div",141)(24,"ul"),t.YNc(25,Xx,7,7,"li",22),t.ALo(26,"parent"),t.qZA()()()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",e.productCategories),t.xp6(2),t.Q6J("ngIf",e.productCategories.length>0),t.xp6(2),t.Q6J("ngIf",!e.modifyingCategories),t.xp6(1),t.Q6J("ngIf",e.modifyingCategories),t.xp6(3),t.Q6J("ngIf",e.modifyingCategories),t.xp6(6),t.Q6J("ngIf",!e.checkboxLoader),t.xp6(1),t.Q6J("ngIf",e.checkboxLoader),t.xp6(4),t.Q6J("ngForOf",t.xi3(26,8,e.categoriesList,"0"))}}function e0(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",89)(2,"mat-grid-list",156)(3,"mat-grid-tile")(4,"mat-form-field",157),t._UZ(5,"input",158),t.qZA()(),t.TgZ(6,"mat-grid-tile")(7,"mat-form-field",157),t._UZ(8,"input",159),t.qZA()(),t.TgZ(9,"mat-grid-tile")(10,"button",160),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.removeNewAttribute(a))}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA(),t._uU(13," Remove This Field"),t.qZA()()()(),t.BQk()}if(2&n){const e=i.index,o=t.oxw(3);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(4),t.Q6J("readonly",!o.editRole),t.xp6(3),t.Q6J("readonly",!o.editRole)}}function n0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",161),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.addNewAttribute())}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t._uU(3," Add Attribute "),t.qZA()}}function o0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",162),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.updateAttributes())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.productFormAttributes.dirty),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function s0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",163),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.updateAttributesBulk())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function a0(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function r0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",169),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.deleteProductAttribute(s.id,s.key,s.product_id))}),t.TgZ(1,"mat-icon",170),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Delete"),t.qZA()()}}function c0(n,i){if(1&n&&(t.TgZ(0,"span",165)(1,"button",166)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,167),t.YNc(6,r0,5,0,"button",168),t.qZA()()),2&n){const e=t.MAs(5),o=t.oxw(4);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Q6J("ngIf",o.editRole)}}function l0(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,a0,2,1,"span",2),t._UZ(2,"span",128),t.YNc(3,c0,7,2,"span",164),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD),t.xp6(1),t.Q6J("ngIf",o.editRole)}}function d0(n,i){if(1&n&&(t.TgZ(0,"mat-tab",147)(1,"div",148)(2,"mat-card",132)(3,"h2"),t._uU(4,"Manually add Attributes"),t.qZA(),t.TgZ(5,"form",36),t.ynx(6,149),t.YNc(7,e0,14,3,"ng-container",22),t.BQk(),t.YNc(8,n0,4,0,"button",150),t.YNc(9,o0,2,2,"button",151),t.qZA()(),t.TgZ(10,"mat-card",152)(11,"h2"),t._uU(12,"Paste Attributes"),t.qZA(),t.TgZ(13,"form",36),t._UZ(14,"input",153)(15,"textarea",154),t.YNc(16,s0,2,1,"button",155),t.qZA()(),t.TgZ(17,"mat-card",152)(18,"ul",127),t.YNc(19,l0,4,3,"li",22),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("formGroup",e.productFormAttributes),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(4),t.Q6J("formGroup",e.productFormAttributesBulk),t.xp6(2),t.Q6J("readonly",!e.editRole),t.xp6(1),t.Q6J("ngIf",e.editRole),t.xp6(3),t.Q6J("ngForOf",e.productAttributes)}}function h0(n,i){1&n&&(t.TgZ(0,"span",184),t._uU(1,"No information to show"),t.qZA())}function u0(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function p0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",169),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3).$implicit,a=t.oxw(3);return t.KtG(a.savePackagingChanges(s.id))}),t.TgZ(1,"mat-icon",191),t._uU(2,"save"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Save"),t.qZA()()}}function g0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",169),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3).$implicit,a=t.oxw(3);return t.KtG(a.deletePackaging(s.id))}),t.TgZ(1,"mat-icon",170),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Delete"),t.qZA()()}}function _0(n,i){if(1&n&&(t.TgZ(0,"span",165)(1,"button",190)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,167),t.YNc(6,p0,5,0,"button",168),t.YNc(7,g0,5,0,"button",168),t.qZA()()),2&n){const e=t.MAs(5),o=t.oxw(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Q6J("ngIf",o.editRole),t.xp6(1),t.Q6J("ngIf",o.editRole)}}function f0(n,i){if(1&n&&(t.TgZ(0,"td",165),t.YNc(1,_0,8,3,"span",164),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.editRole)}}function m0(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",185),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",186),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",187),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"input",188),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",189),t.qZA(),t.YNc(13,f0,2,1,"td",164),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(o.returnTypeName(e.packaging_type_id)),t.xp6(2),t.MGl("id","length",e.id,""),t.Q6J("value",e.length)("readonly",!o.editRole),t.xp6(2),t.MGl("id","height",e.id,""),t.Q6J("value",e.height)("readonly",!o.editRole),t.xp6(2),t.MGl("id","width",e.id,""),t.Q6J("value",e.width)("readonly",!o.editRole),t.xp6(2),t.MGl("id","weight",e.id,""),t.Q6J("value",e.weight)("readonly",!o.editRole),t.xp6(2),t.MGl("id","barcode",e.id,""),t.Q6J("value",e.barcode)("readonly",!o.editRole),t.xp6(1),t.Q6J("ngIf",o.editRole)}}function b0(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function x0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.updatePackaging())}),t._uU(1,"Save Packaging"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",!e.productFormPackaging.dirty)}}function C0(n,i){if(1&n&&(t.TgZ(0,"mat-tab",171)(1,"mat-card",132)(2,"h2"),t._uU(3,"Packaging Information"),t.qZA(),t.YNc(4,h0,2,0,"span",172),t.YNc(5,u0,1,0,"mat-progress-bar",26),t.TgZ(6,"table",27)(7,"tr")(8,"th"),t._uU(9,"Type"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Length"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Height"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Width"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Weight"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Barcode"),t.qZA()(),t.YNc(20,m0,14,17,"tr",22),t.qZA()(),t.TgZ(21,"mat-card",152)(22,"h2"),t._uU(23,"Add New Packaging Information"),t.qZA(),t.TgZ(24,"form",36)(25,"div",173)(26,"div",133)(27,"div",134)(28,"mat-form-field",174)(29,"mat-label"),t._uU(30,"Choose Packaging Type:"),t.qZA(),t.TgZ(31,"mat-select",175),t.YNc(32,b0,2,2,"mat-option",51),t.ALo(33,"typeGroup"),t.qZA()(),t.TgZ(34,"mat-form-field",174)(35,"mat-label"),t._uU(36,"Weight (KG)"),t.qZA(),t._UZ(37,"input",176),t.TgZ(38,"mat-icon",177),t._uU(39,"fitness_center"),t.qZA()(),t.TgZ(40,"mat-form-field",174)(41,"mat-label"),t._uU(42,"Dimensions(cm): Length"),t.qZA(),t._UZ(43,"input",178),t.TgZ(44,"mat-icon",177),t._uU(45,"design_services"),t.qZA()(),t.TgZ(46,"mat-form-field",174)(47,"mat-label"),t._uU(48,"Dimensions(cm): Width"),t.qZA(),t._UZ(49,"input",179),t.TgZ(50,"mat-icon",177),t._uU(51,"design_services"),t.qZA()(),t.TgZ(52,"mat-form-field",174)(53,"mat-label"),t._uU(54,"Dimensions(cm): Height"),t.qZA(),t._UZ(55,"input",180),t.TgZ(56,"mat-icon",177),t._uU(57,"design_services"),t.qZA()()(),t.TgZ(58,"div",134)(59,"mat-form-field",174)(60,"mat-label"),t._uU(61,"Barcode"),t.qZA(),t._UZ(62,"input",181),t.qZA(),t.TgZ(63,"mat-form-field",174)(64,"mat-label"),t._uU(65,"Product Id"),t.qZA(),t._UZ(66,"input",182),t.qZA(),t.TgZ(67,"div",183),t.YNc(68,x0,2,1,"button",68),t.qZA()()()()()()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.packagingCount<0),t.xp6(1),t.Q6J("ngIf",e.packagingLoader),t.xp6(15),t.Q6J("ngForOf",e.packaging),t.xp6(4),t.Q6J("formGroup",e.productFormPackaging),t.xp6(7),t.Q6J("disabled",!e.editRole),t.xp6(1),t.Q6J("ngForOf",t.xi3(33,12,e.typesList,"Packaging")),t.xp6(5),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("readonly",!e.editRole),t.xp6(7),t.Q6J("readonly",!e.editRole),t.xp6(6),t.Q6J("ngIf",e.editRole)}}function v0(n,i){if(1&n&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function y0(n,i){if(1&n&&(t.TgZ(0,"mat-list-option",209),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function P0(n,i){1&n&&(t.TgZ(0,"div",210)(1,"h3"),t._uU(2,"Loading ..."),t.qZA()())}function w0(n,i){if(1&n&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function T0(n,i){if(1&n&&(t.TgZ(0,"div",211),t.YNc(1,w0,3,1,"ul",22),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function k0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",198),t.NdJ("change",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.setFocusType(s))}),t.YNc(4,v0,2,2,"option",51),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"label"),t._uU(8,"Document Expiry Date:"),t.qZA(),t.TgZ(9,"input",199),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.expiry_date=s)}),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"input",200),t.NdJ("change",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onChange(s))}),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-selection-list",201,202),t.YNc(15,y0,2,1,"mat-list-option",203),t.ALo(16,"typeGroup"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"button",204),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.uploadDocument("55","document"))}),t._uU(19,"Upload File"),t.qZA(),t._UZ(20,"hr"),t.YNc(21,P0,3,0,"div",205),t.TgZ(22,"div",206),t._UZ(23,"div",207),t.qZA(),t.YNc(24,T0,2,1,"div",208),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,7,e.typesList,"File")),t.xp6(5),t.Q6J("ngModel",e.expiry_date),t.xp6(6),t.Q6J("ngForOf",t.xi3(16,10,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function A0(n,i){1&n&&(t.TgZ(0,"div",212)(1,"p"),t._uU(2,"You do not have permissions to upload files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA()())}function M0(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u26a0"),t.qZA())}function S0(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,M0,2,0,"span",2),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,4,e.created_at)),t.xp6(3),t.Q6J("ngIf",o.today>e.expiry_date),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.expiry_date)," ")}}function Z0(n,i){if(1&n&&(t.TgZ(0,"mat-tab",192)(1,"div",131)(2,"div",19)(3,"div",193)(4,"mat-card",132),t.YNc(5,k0,25,13,"div",2),t.YNc(6,A0,5,0,"div",194),t.qZA()(),t.TgZ(7,"div",195)(8,"mat-card",132)(9,"table",196)(10,"thead")(11,"tr",197)(12,"th"),t._uU(13,"Document"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Uploaded"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Expiry Date"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,S0,10,8,"tr",22),t.qZA()()()()()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(13),t.Q6J("ngForOf",e.documentFiles)}}function I0(n,i){1&n&&(t.TgZ(0,"mat-chip",234),t._uU(1,"Primary"),t.qZA())}function D0(n,i){if(1&n&&t._UZ(0,"span",235),2&n){const e=t.oxw().index;t.s9C("matBadge",e+1)}}function O0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-option",236),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,r=t.oxw().$implicit,c=t.oxw(4);return t.KtG(c.updateFileType(r.id,a.id))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function L0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",227)(1,"div",228)(2,"div",193)(3,"mat-chip-list"),t.YNc(4,I0,2,0,"mat-chip",229),t.qZA(),t.YNc(5,D0,1,1,"span",230),t._UZ(6,"img",231),t.qZA(),t.TgZ(7,"div",195)(8,"mat-form-field",39)(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select"),t.YNc(12,O0,2,2,"mat-option",232),t.ALo(13,"typeGroup"),t.qZA()(),t.TgZ(14,"mat-checkbox",233),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(4);return t.KtG(r.ecommerceImage(a.ecommerce,a.id))}),t._uU(15),t.qZA()()()()}if(2&n){const e=i.$implicit,o=i.index,s=t.oxw(4);t.xp6(4),t.Q6J("ngIf",0==o),t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.s9C("alt",e.path),t.s9C("src",s.storageUrl+s.filePath(e.path),t.LSH),t.xp6(4),t.Oqu(s.returnTypeName(e.type_id)),t.xp6(2),t.Q6J("ngForOf",t.xi3(13,8,s.typesList,"Image")),t.xp6(2),t.Q6J("checked",1==e.ecommerce),t.xp6(1),t.hij("E-commerce ",e.ecommerce,"")}}function N0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",225),t.NdJ("cdkDropListDropped",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.drop(s))}),t.YNc(1,L0,16,11,"div",226),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.mediaFiles)}}function E0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",241),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.deleteFile(s.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}function F0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",237),t.YNc(1,E0,3,0,"a",238),t._UZ(2,"img",239),t.TgZ(3,"mat-checkbox",240),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.addToSelectedFiles(a.id))}),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.uploadRole),t.xp6(1),t.s9C("src",o.storageUrl+o.filePath(e.path),t.LSH)}}function U0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",242),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.bulkDeleteFiles())}),t._uU(1,"Delete Selected Items"),t.qZA()}}function R0(n,i){1&n&&(t.TgZ(0,"div",210)(1,"h3"),t._uU(2,"Loading ..."),t.qZA()())}function q0(n,i){if(1&n&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e)}}function B0(n,i){if(1&n&&(t.TgZ(0,"div",211),t.YNc(1,q0,3,1,"ul",22),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function H0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",243)(2,"input",200),t.NdJ("change",function(s){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onChange(s))}),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"button",204),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.onUpload("47","image"))}),t._uU(5,"Upload Media"),t.qZA()(),t.TgZ(6,"div",195),t.YNc(7,R0,3,0,"div",205),t.TgZ(8,"div",206),t._UZ(9,"div",207),t.qZA(),t.YNc(10,B0,2,1,"div",208),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(7),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function Y0(n,i){1&n&&(t.TgZ(0,"div",19)(1,"div",25)(2,"div",212)(3,"p"),t._uU(4,"You do not have permissions to upload media"),t.qZA(),t.TgZ(5,"mat-icon"),t._uU(6,"hide_image"),t.qZA()()()())}function J0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",244)(1,"mat-label"),t._uU(2),t.qZA(),t._UZ(3,"input",245),t.TgZ(4,"mat-icon",102),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.deleteSocial(a.id,a.link))}),t._uU(5,"delete"),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.link),t.xp6(1),t.s9C("placeholder",e.link),t.Q6J("readonly",!0)}}function Q0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",213)(1,"div",131)(2,"mat-tab-group")(3,"mat-tab",214)(4,"div",215)(5,"div",193),t.YNc(6,N0,2,1,"div",216),t.qZA(),t.TgZ(7,"div",195),t._UZ(8,"span",0),t.TgZ(9,"div",19),t.YNc(10,F0,4,2,"div",217),t._UZ(11,"hr"),t.YNc(12,U0,2,0,"button",218),t.qZA()()(),t.TgZ(13,"mat-card"),t.YNc(14,H0,11,4,"div",219),t.YNc(15,Y0,7,0,"div",219),t.qZA()(),t.TgZ(16,"mat-tab",220)(17,"div",131)(18,"mat-card")(19,"mat-form-field",174)(20,"mat-label"),t._uU(21,"New Video Link"),t.qZA(),t.TgZ(22,"input",221),t.NdJ("ngModelChange",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.socialLink=s)}),t.qZA(),t.TgZ(23,"button",222),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.updateSocials("youtu.be"))}),t._uU(24,"Save"),t.qZA()(),t.TgZ(25,"div",223),t.YNc(26,J0,6,3,"mat-form-field",224),t.qZA()()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(4),t.Q6J("ngForOf",e.mediaFiles),t.xp6(2),t.Q6J("ngIf",e.selectedFiles.length>1),t.xp6(2),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(7),t.Q6J("ngModel",e.socialLink)("readonly",!e.editRole),t.xp6(4),t.Q6J("ngForOf",e.socialLinks)}}function G0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",252),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.switchImage(0))}),t.qZA()}if(2&n){const e=t.oxw(3);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[0].path),t.LSH)}}function z0(n,i){if(1&n&&t._UZ(0,"img",253),2&n){const e=t.oxw(3);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[e.switchImageMain].path),t.LSH)}}function $0(n,i){if(1&n&&t._UZ(0,"img",254),2&n){const e=t.oxw(3);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[1].path),t.LSH)}}function V0(n,i){if(1&n&&t._UZ(0,"img",254),2&n){const e=t.oxw(3);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[2].path),t.LSH)}}function j0(n,i){if(1&n&&t._UZ(0,"img",254),2&n){const e=t.oxw(3);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[3].path),t.LSH)}}function K0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"table")(1,"tr")(2,"td",246),t.YNc(3,G0,1,1,"img",247),t.qZA(),t.TgZ(4,"td",248),t.YNc(5,z0,1,1,"img",249),t.qZA()(),t.TgZ(6,"tr")(7,"td",250),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(1))}),t.YNc(8,$0,1,1,"img",251),t.qZA()(),t.TgZ(9,"tr")(10,"td",250),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(2))}),t.YNc(11,V0,1,1,"img",251),t.qZA()(),t.TgZ(12,"tr")(13,"td",250),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(3))}),t.YNc(14,j0,1,1,"img",251),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(2),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[1]&&1==e.mediaFiles[1].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[2]&&1==e.mediaFiles[2].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[3]&&1==e.mediaFiles[3].ecommerce)}}function W0(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"table")(1,"tr")(2,"td",246)(3,"img",252),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(0))}),t.qZA()(),t.TgZ(4,"td",248),t._UZ(5,"img",253),t.qZA()(),t.TgZ(6,"tr")(7,"td",250),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(1))}),t._UZ(8,"img",254),t.qZA()(),t.TgZ(9,"tr")(10,"td",250),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(2))}),t._UZ(11,"img",254),t.qZA()(),t.TgZ(12,"tr")(13,"td",250),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(3))}),t._UZ(14,"img",254),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e.imageServerFiles[0],"",t.LSH),t.xp6(2),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e.imageServerFiles[1],"",t.LSH),t.xp6(3),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e.imageServerFiles[2],"",t.LSH),t.xp6(3),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e.imageServerFiles[3],"",t.LSH),t.xp6(3),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e.imageServerFiles[4],"",t.LSH)}}function X0(n,i){1&n&&(t.TgZ(0,"small")(1,"mat-icon",255),t._uU(2,"check_circle"),t.qZA(),t._uU(3," Verified"),t.qZA())}function t2(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function e2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function n2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,e2,2,0,"span",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function o2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function s2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,o2,2,1,"span",2),t._UZ(2,"span",128),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function a2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.key,": ")}}function r2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,a2,2,1,"span",2),t._UZ(2,"span",128),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function c2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function l2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,c2,2,1,"span",2),t._UZ(2,"span",128),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function d2(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function h2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,d2,2,1,"span",2),t._UZ(2,"span",128),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD)}}function u2(n,i){1&n&&t._UZ(0,"mat-progress-bar",4)}function p2(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",256),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"input",257),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",258),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"input",259),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",260),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(o.returnTypeName(e.packaging_type_id)),t.xp6(2),t.MGl("id","length",e.id,""),t.Q6J("value",e.length),t.xp6(2),t.MGl("id","height",e.id,""),t.Q6J("value",e.height),t.xp6(2),t.MGl("id","width",e.id,""),t.Q6J("value",e.width),t.xp6(2),t.MGl("id","weight",e.id,""),t.Q6J("value",e.weight),t.xp6(2),t.MGl("id","barcode",e.id,""),t.Q6J("value",e.barcode)}}function g2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",126),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.downloadImageServer("https://images.smdtechnologies.co.za/uploads/"+r,a.id,r.filename,r))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function _2(n,i){if(1&n&&(t.TgZ(0,"div",117)(1,"div",118)(2,"div",119)(3,"div",120)(4,"p",261),t._uU(5,"Image Server"),t.qZA(),t._UZ(6,"img",262),t.qZA(),t.TgZ(7,"div",123)(8,"mat-chip-list",124),t.YNc(9,g2,2,1,"mat-chip",125),t.ALo(10,"typeGroup"),t.qZA()()()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(6),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e,"",t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function f2(n,i){if(1&n&&(t.TgZ(0,"div",134),t._UZ(1,"iframe",263),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e,t.uOi)}}function m2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Loading "),t.qZA())}function b2(n,i){if(1&n&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name+" "+e.surname)}}function x2(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Managed by you"),t.qZA())}function C2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function v2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function y2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function P2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function w2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function T2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function k2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\xa0loading..."),t.qZA())}function A2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function M2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function S2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Z2(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function I2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"History"),t.qZA())}function D2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Hide history"),t.qZA())}function O2(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.activity),t.xp6(2),t.Oqu(t.xi3(5,2,e.created_at,"dd/MM/yyyy"))}}function L2(n,i){if(1&n&&(t.TgZ(0,"table")(1,"tr")(2,"th"),t._uU(3,"Action"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"Date"),t.qZA()(),t.YNc(6,O2,6,5,"tr",22),t.qZA()),2&n){const e=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",e.audits)}}function N2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",264)(1,"div",87)(2,"mat-card")(3,"mat-card-content")(4,"div",265)(5,"mat-form-field",39)(6,"mat-label"),t.YNc(7,m2,2,0,"span",2),t._uU(8,"Product Manager"),t.qZA(),t.TgZ(9,"mat-select",266),t.NdJ("valueChange",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.productManagerId=s)})("selectionChange",function(s){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectManager(s))}),t.YNc(10,b2,2,2,"mat-option",51),t.qZA()()(),t.TgZ(11,"mat-grid-list",267)(12,"mat-grid-tile",268),t._UZ(13,"mat-progress-spinner",269),t.qZA()(),t._UZ(14,"br"),t.TgZ(15,"div",265)(16,"h3"),t._uU(17),t.qZA(),t.YNc(18,x2,2,0,"small",2),t.qZA(),t._UZ(19,"hr"),t.TgZ(20,"mat-list",270),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.autoInfo())}),t.TgZ(21,"mat-list-item",271)(22,"mat-icon"),t._uU(23,"check_circle"),t.qZA(),t._uU(24," General Details "),t.qZA(),t.TgZ(25,"mat-list-item",271),t.YNc(26,C2,2,0,"mat-icon",2),t.YNc(27,v2,2,0,"mat-icon",2),t._uU(28," Categories "),t.qZA(),t.TgZ(29,"mat-list-item",271),t.YNc(30,y2,2,0,"mat-icon",2),t.YNc(31,P2,2,0,"mat-icon",2),t._uU(32," Attributes "),t.qZA(),t.TgZ(33,"mat-list-item",271),t.YNc(34,w2,2,0,"mat-icon",2),t.YNc(35,T2,2,0,"mat-icon",2),t._uU(36," Packaging "),t.YNc(37,k2,2,0,"span",2),t.qZA(),t.TgZ(38,"mat-list-item",271),t.YNc(39,A2,2,0,"mat-icon",2),t.YNc(40,M2,2,0,"mat-icon",2),t._uU(41),t.qZA(),t.TgZ(42,"mat-list-item",271),t.YNc(43,S2,2,0,"mat-icon",2),t.YNc(44,Z2,2,0,"mat-icon",2),t._uU(45),t.qZA()()(),t.TgZ(46,"div",265),t._UZ(47,"qrcode",272),t.qZA(),t.TgZ(48,"mat-card-content",108),t._UZ(49,"hr"),t.TgZ(50,"div",273)(51,"button",274),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.toggleHistory())}),t.YNc(52,I2,2,0,"span",2),t.YNc(53,D2,2,0,"span",2),t.qZA()(),t.YNc(54,L2,7,1,"table",2),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.Tol(e.infoBarCls),t.xp6(7),t.Q6J("ngIf",e.loadpProductManager),t.xp6(2),t.Q6J("value",e.productManagerId)("disabled",!e.adminRole),t.xp6(1),t.Q6J("ngForOf",e.users),t.xp6(3),t.Q6J("color",e.progressPercentage()>50?"primary":"warn")("mode",e.progressMode)("value",e.progressPercentage()),t.xp6(4),t.hij("",e.progressPercentage(),"% Complete"),t.xp6(1),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(8),t.Q6J("ngIf",e.categoriesList.length<1),t.xp6(1),t.Q6J("ngIf",e.categoriesList.length>0),t.xp6(3),t.Q6J("ngIf",e.productAttributes.length<1&&e.attributes.length<1),t.xp6(1),t.Q6J("ngIf",e.productAttributes.length>0||e.attributes.length>0),t.xp6(3),t.Q6J("ngIf",e.packagingCount<1),t.xp6(1),t.Q6J("ngIf",e.packagingCount>0),t.xp6(2),t.Q6J("ngIf",e.packagingLoading),t.xp6(2),t.Q6J("ngIf",e.documentFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.documentFiles.length>0),t.xp6(1),t.hij(" Documents (",e.documentFiles.length,") "),t.xp6(2),t.Q6J("ngIf",e.mediaFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(1),t.hij(" Images (",e.mediaFiles.length,") "),t.xp6(2),t.MGl("qrdata","https://products.smdtechnologies.com/",e.sku,""),t.Q6J("width",200)("errorCorrectionLevel","M"),t.xp6(5),t.Q6J("ngIf",!e.historyTable),t.xp6(1),t.Q6J("ngIf",e.historyTable),t.xp6(1),t.Q6J("ngIf",e.historyTable)}}function E2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"p")(2,"a",5),t._uU(3,"Products "),t.qZA(),t._uU(4),t.TgZ(5,"span",6),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleInfoBar())}),t.YNc(6,Zb,2,0,"i",7),t.YNc(7,Ib,2,0,"i",7),t.qZA()(),t.TgZ(8,"div",8)(9,"div",9)(10,"mat-card",10)(11,"mat-tab-group"),t.YNc(12,Ix,123,43,"mat-tab",11),t.YNc(13,t0,27,11,"mat-tab",12),t.YNc(14,d0,20,8,"mat-tab",13),t.YNc(15,C0,69,15,"mat-tab",14),t.YNc(16,Z0,20,3,"mat-tab",15),t.YNc(17,Q0,27,8,"mat-tab",16),t.TgZ(18,"mat-tab",17)(19,"div",18)(20,"div",19)(21,"div",20),t.YNc(22,K0,15,5,"table",2),t.YNc(23,W0,15,5,"table",2),t.qZA(),t.TgZ(24,"div",21),t.YNc(25,X0,4,0,"small",2),t.TgZ(26,"h2"),t._uU(27),t.qZA(),t.TgZ(28,"p"),t._uU(29),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.qZA(),t.TgZ(32,"ul"),t.YNc(33,t2,2,1,"li",22),t.qZA()()()(),t.TgZ(34,"div",23)(35,"h2"),t._uU(36,"Description"),t.qZA(),t.TgZ(37,"p"),t._uU(38),t.qZA()(),t.TgZ(39,"div",23)(40,"h2"),t._uU(41,"Product Information"),t.qZA(),t.TgZ(42,"table")(43,"tr")(44,"td",24),t._uU(45,"Categories"),t.qZA(),t.TgZ(46,"td"),t.YNc(47,n2,3,2,"span",22),t.qZA()(),t.TgZ(48,"tr")(49,"td",24),t._uU(50,"Brand"),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA()(),t.TgZ(53,"tr")(54,"td",24),t._uU(55,"SKU"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA()(),t.TgZ(58,"tr")(59,"td",24),t._uU(60,"Barcode"),t.qZA(),t.TgZ(61,"td"),t._uU(62),t.qZA()(),t.TgZ(63,"tr")(64,"td",24),t._uU(65,"What's in the box"),t.qZA(),t.TgZ(66,"td"),t.YNc(67,s2,3,2,"div",22),t.qZA()(),t.TgZ(68,"tr")(69,"td",24),t._uU(70,"Features and Benefits"),t.qZA(),t.TgZ(71,"td"),t.YNc(72,r2,3,2,"div",22),t.qZA()(),t.TgZ(73,"tr")(74,"td",24),t._uU(75,"Extended FABs"),t.qZA(),t.TgZ(76,"td"),t.YNc(77,l2,3,2,"div",22),t.qZA()(),t.TgZ(78,"tr")(79,"td",24),t._uU(80,"Attributes"),t.qZA(),t.TgZ(81,"td"),t.YNc(82,h2,3,2,"div",22),t.qZA()()()(),t.TgZ(83,"div",23)(84,"h2"),t._uU(85,"Packaging"),t.qZA(),t.TgZ(86,"div",19)(87,"div",25),t.YNc(88,u2,1,0,"mat-progress-bar",26),t.TgZ(89,"table",27)(90,"tr")(91,"th"),t._uU(92,"Type"),t.qZA(),t.TgZ(93,"th"),t._uU(94,"Length"),t.qZA(),t.TgZ(95,"th"),t._uU(96,"Height"),t.qZA(),t.TgZ(97,"th"),t._uU(98,"Width"),t.qZA(),t.TgZ(99,"th"),t._uU(100,"Weight"),t.qZA(),t.TgZ(101,"th"),t._uU(102,"Barcode"),t.qZA()(),t.YNc(103,p2,13,11,"tr",22),t.qZA()()()(),t.TgZ(104,"div",23)(105,"h2"),t._uU(106,"Gallery"),t.qZA(),t.TgZ(107,"div",19),t.YNc(108,_2,11,5,"div",28),t.qZA()(),t.TgZ(109,"div",23)(110,"h2"),t._uU(111,"Videos"),t.qZA(),t.TgZ(112,"div",19),t.YNc(113,f2,2,1,"div",29),t.qZA()()()()()(),t.YNc(114,N2,55,30,"div",30),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" / Product Details / ",e.productName," "),t.xp6(2),t.Q6J("ngIf",e.showInfoBar),t.xp6(1),t.Q6J("ngIf",!e.showInfoBar),t.xp6(2),t.Tol(e.mainTabsCls),t.xp6(3),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(1),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(1),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(1),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(1),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(1),t.Q6J("ngIf",e.canManageThisProduct),t.xp6(5),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(1),t.Q6J("ngIf",e.mediaFiles.length<1),t.xp6(2),t.Q6J("ngIf",e.isVerified),t.xp6(2),t.Oqu(e.product.name),t.xp6(2),t.hij("Brand: ",e.productBrand,""),t.xp6(2),t.Oqu(e.product.description),t.xp6(2),t.Q6J("ngForOf",e.shoutOuts),t.xp6(5),t.Oqu(e.product.description),t.xp6(9),t.Q6J("ngForOf",e.productCategories),t.xp6(5),t.Oqu(e.productBrand),t.xp6(5),t.Oqu(e.product.sku),t.xp6(5),t.Oqu(e.productBarcode),t.xp6(5),t.Q6J("ngForOf",e.inTheBox),t.xp6(5),t.Q6J("ngForOf",e.featuresAndBenefits),t.xp6(5),t.Q6J("ngForOf",e.extendedFabs),t.xp6(5),t.Q6J("ngForOf",e.productAttributes),t.xp6(6),t.Q6J("ngIf",e.packagingLoader),t.xp6(15),t.Q6J("ngForOf",e.packaging),t.xp6(5),t.Q6J("ngForOf",e.imageServerFiles),t.xp6(5),t.Q6J("ngForOf",e.videos),t.xp6(1),t.Q6J("ngIf",e.showInfoBar)}}function F2(n,i){if(1&n&&(t.TgZ(0,"div")(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you believe this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",275),t._uU(9,"Report Issue"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function U2(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,F2,10,1,"div",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}function q2(n,i){if(1&n&&(t.TgZ(0,"div")(1,"strong"),t._uU(2,"Name:"),t.qZA(),t._uU(3),t._UZ(4,"br"),t._uU(5),t._UZ(6,"br"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.product.name," "),t.xp6(2),t.hij(" ",e.product.description," ")}}function B2(n,i){1&n&&(t.TgZ(0,"div")(1,"small")(2,"i"),t._uU(3,"Loading information..."),t.qZA()(),t._UZ(4,"mat-progress-bar",3),t.qZA())}const Y2=["pdfContent"];function J2(n,i){if(1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function Q2(n,i){1&n&&(t.TgZ(0,"i",4),t._uU(1,"arrow_right"),t.qZA())}function G2(n,i){1&n&&(t.TgZ(0,"i",4),t._uU(1,"arrow_left"),t.qZA())}function z2(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",32),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.switchImage(0))}),t.qZA()}if(2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[0].path),t.LSH)}}function $2(n,i){if(1&n&&t._UZ(0,"img",33),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[e.switchImageMain].path),t.LSH)}}function V2(n,i){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[1].path),t.LSH)}}function j2(n,i){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[2].path),t.LSH)}}function K2(n,i){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2);t.s9C("src",e.storageUrl+e.filePath(e.mediaFiles[3].path),t.LSH)}}function W2(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function X2(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," / "),t.qZA())}function tC(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,X2,2,0,"span",0),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," "),t.xp6(1),t.Q6J("ngIf",""!=e.name)}}function eC(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function iC(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function nC(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.value)}}function oC(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("\u2022 ",e.key,": ")}}function sC(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,oC,2,1,"span",0),t._UZ(2,"span",35),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.key),t.xp6(1),t.Q6J("innerHTML",o.beautifyAttr(e.value),t.oJD)}}function aC(n,i){1&n&&t._UZ(0,"mat-progress-bar",3)}function rC(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(o.returnTypeName(e.packaging_type_id)),t.xp6(2),t.Oqu(e.length),t.xp6(2),t.Oqu(e.height),t.xp6(2),t.Oqu(e.width),t.xp6(2),t.Oqu(e.weight),t.xp6(2),t.Oqu(e.barcode)}}function cC(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",45),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.downloadImageServer("https://images.smdtechnologies.co.za/uploads/"+r,a.id,r.filename,r))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function lC(n,i){if(1&n&&(t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"p",40),t._uU(5,"Image Server"),t.qZA(),t._UZ(6,"img",41),t.qZA(),t.TgZ(7,"div",42)(8,"mat-chip-list",43),t.YNc(9,cC,2,1,"mat-chip",44),t.ALo(10,"typeGroup"),t.qZA()()()()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(6),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e,"",t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,2,o.typesList,"Image Type"))}}function dC(n,i){if(1&n&&(t.TgZ(0,"div",46),t._UZ(1,"iframe",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e,t.uOi)}}function hC(n,i){if(1&n&&(t.TgZ(0,"div",48)(1,"div",49)(2,"div",50),t._UZ(3,"qrcode",51),t.qZA()()()),2&n){const e=t.oxw(2);t.Tol(e.infoBarCls),t.xp6(3),t.MGl("qrdata","https://products.smdtechnologies.com/",e.sku,""),t.Q6J("width",100)("errorCorrectionLevel","M")}}function uC(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"mat-card",7)(4,"mat-tab-group")(5,"mat-tab",8),t._UZ(6,"span",9),t.TgZ(7,"i",10),t._uU(8,"signal_wifi_statusbar_connected_no_internet_4"),t.qZA(),t.TgZ(9,"i",11),t._uU(10,"signal_wifi_connected_no_internet_4"),t.qZA(),t.TgZ(11,"div",12)(12,"div",13)(13,"div",14)(14,"table")(15,"tr")(16,"td",15),t.YNc(17,z2,1,1,"img",16),t.qZA(),t.TgZ(18,"td",17),t.YNc(19,$2,1,1,"img",18),t.qZA()(),t.TgZ(20,"tr")(21,"td",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.switchImage(1))}),t.YNc(22,V2,1,1,"img",20),t.qZA()(),t.TgZ(23,"tr")(24,"td",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.switchImage(2))}),t.YNc(25,j2,1,1,"img",20),t.qZA()(),t.TgZ(26,"tr")(27,"td",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.switchImage(3))}),t.YNc(28,K2,1,1,"img",20),t.qZA()()()(),t.TgZ(29,"div",21)(30,"h2"),t._uU(31),t.qZA(),t.TgZ(32,"p"),t._uU(33),t.qZA(),t.TgZ(34,"ul"),t.YNc(35,W2,2,1,"li",22),t.qZA()()()(),t.TgZ(36,"div",23)(37,"h2"),t._uU(38,"Description"),t.qZA(),t.TgZ(39,"p"),t._uU(40),t.qZA()(),t.TgZ(41,"div",23)(42,"h2"),t._uU(43,"Product Information"),t.qZA(),t.TgZ(44,"table")(45,"tr")(46,"td",24),t._uU(47,"Categories"),t.qZA(),t.TgZ(48,"td"),t.YNc(49,tC,3,2,"span",22),t.qZA()(),t.TgZ(50,"tr")(51,"td",24),t._uU(52,"Brand"),t.qZA(),t.TgZ(53,"td"),t._uU(54),t.qZA()(),t.TgZ(55,"tr")(56,"td",24),t._uU(57,"SKU"),t.qZA(),t.TgZ(58,"td"),t._uU(59),t.qZA()(),t.TgZ(60,"tr")(61,"td",24),t._uU(62,"Barcode"),t.qZA(),t.TgZ(63,"td"),t._uU(64),t.qZA()(),t.TgZ(65,"tr")(66,"td",24),t._uU(67,"What's in the box"),t.qZA(),t.TgZ(68,"td")(69,"ul"),t.YNc(70,eC,2,1,"li",22),t.qZA()()(),t.TgZ(71,"tr")(72,"td",24),t._uU(73,"Features and Benefits"),t.qZA(),t.TgZ(74,"td")(75,"ul"),t.YNc(76,iC,2,1,"li",22),t.qZA()()(),t.TgZ(77,"tr")(78,"td",24),t._uU(79,"Extended FABs"),t.qZA(),t.TgZ(80,"td")(81,"ul"),t.YNc(82,nC,2,1,"li",22),t.qZA()()(),t.TgZ(83,"tr")(84,"td",24),t._uU(85,"Attributes"),t.qZA(),t.TgZ(86,"td")(87,"ul",25),t.YNc(88,sC,3,2,"li",22),t.qZA()()()()(),t.TgZ(89,"div",23)(90,"h2"),t._uU(91,"Packaging"),t.qZA(),t.TgZ(92,"div",13)(93,"div",26),t.YNc(94,aC,1,0,"mat-progress-bar",27),t.TgZ(95,"table",28)(96,"tr",24)(97,"th"),t._uU(98,"Type"),t.qZA(),t.TgZ(99,"th"),t._uU(100,"Length"),t.qZA(),t.TgZ(101,"th"),t._uU(102,"Height"),t.qZA(),t.TgZ(103,"th"),t._uU(104,"Width"),t.qZA(),t.TgZ(105,"th"),t._uU(106,"Weight"),t.qZA(),t.TgZ(107,"th"),t._uU(108,"Barcode"),t.qZA()(),t.YNc(109,rC,13,6,"tr",22),t.qZA()()()(),t.TgZ(110,"div",23)(111,"h2"),t._uU(112,"Images"),t.qZA(),t.TgZ(113,"div",13),t.YNc(114,lC,11,5,"div",29),t.qZA()(),t.TgZ(115,"div",23)(116,"h2"),t._uU(117,"Videos"),t.qZA(),t.TgZ(118,"div",13),t.YNc(119,dC,2,1,"div",30),t.qZA()()()()()(),t.YNc(120,hC,4,5,"div",31),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Tol(e.mainTabsCls),t.xp6(15),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(2),t.Q6J("ngIf",e.mediaFiles[0]&&1==e.mediaFiles[0].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[1]&&1==e.mediaFiles[1].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[2]&&1==e.mediaFiles[2].ecommerce),t.xp6(3),t.Q6J("ngIf",e.mediaFiles[3]&&1==e.mediaFiles[3].ecommerce),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(e.productBrand),t.xp6(2),t.Q6J("ngForOf",e.shoutOuts),t.xp6(5),t.Oqu(e.product.description),t.xp6(9),t.Q6J("ngForOf",e.productCategories),t.xp6(5),t.Oqu(e.productBrand),t.xp6(5),t.Oqu(e.product.sku),t.xp6(5),t.Oqu(e.productBarcode),t.xp6(6),t.Q6J("ngForOf",e.inTheBox),t.xp6(6),t.Q6J("ngForOf",e.featuresAndBenefits),t.xp6(6),t.Q6J("ngForOf",e.extendedFabs),t.xp6(6),t.Q6J("ngForOf",e.productAttributes),t.xp6(6),t.Q6J("ngIf",e.packagingLoader),t.xp6(15),t.Q6J("ngForOf",e.packaging),t.xp6(5),t.Q6J("ngForOf",e.imageServerFiles),t.xp6(5),t.Q6J("ngForOf",e.videos),t.xp6(1),t.Q6J("ngIf",e.showInfoBar)}}function pC(n,i){if(1&n&&(t.TgZ(0,"div")(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you believe this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",52),t._uU(9,"Report Issue"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function gC(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,pC,10,1,"div",0),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}const _C=[{path:"",component:ti},{path:":sku",component:(()=>{class n{constructor(e,o,s,a,r,c,l,d,h,u,p,g,_){this.navbar=e,this.treeNav=o,this.api=s,this._snackBar=a,this.route=r,this.router=c,this.formBuilder=l,this.info=d,this.dialog=h,this.lookup=u,this.http=p,this.products=g,this._sanitizer=_,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.imageServerDocumentFiles=[],this.mediaFilesForLinkedProducts=[],this.linkedImagesLoader=!1,this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save Changes",this.disableSaveAttrBtn=!1,this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.isVerified=!1,this.categoriesList=[],this.primaryCategoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.requiredField=!1,this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0,this.isBundle=!1,this.linkedProducts=[],this.linkedProductsIDs=[],this.linkedProductSKUs=[],this.bundleLoader=!0,this.autocompleteControl=new T.p4(""),this.autocompleteControl1=new T.p4(""),this.productsList=[],this.newPamphlet=[],this.newPamphletSKUs=[],this.SKUsLoader=!0,this.options=[],this.designLoader=!1,this.parentChildCategories=[],this.audits=[],this.series=[],this.productManager="",this.productManagerId=0,this.brandManager="",this.users=[],this.loadpProductManager=!0,this.adminRole=!1,this.productManagerRole=!1,this.newSeriesType="",this.descedantsCategories=[],this.tierLabels=[],this.canVerify=!1,this.isEcommerceFile=!1,this.modifyingCategories=!1,this.switchImageMain=0,this.inTheBox=[],this.featuresAndBenefits=[],this.shoutOuts=[],this.extendedFabs=[],this.imagesAreSorted=!1,this.packagingLoader=!1,this.showInfoBar=!0,this.mainTabsCls="col-md-11 col-lg-9",this.infoBarCls="col-md-1 col-lg-3",this.loadingInfo="Preparing...",this.selectedFiles=[],this.historyTable=!1,this.socialLinks=[],this.videos=[],this.canManageThisProduct=!0,this.yourModel="<p>Initial content</p>"}ngOnInit(){this.canVerify=!1,this.info.auth(),this.info.setLoadingInfo("Preparing...","info"),window.scroll({top:0,left:0,behavior:"smooth"}),this.getAllTypes(),localStorage.setItem("route",this.router.url),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.productManagerRole=this.info.role(88),this.adminRole=this.info.role(90),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllCategories(),this.entireProducts(),this.productQr="https://products.smdtechnologies.com/"+this.sku,this.productForm=this.formBuilder.group({id:[""],sku:["0",T.kI.required],name:["0",T.kI.required],brand_type_id:["0",T.kI.required],description:["0",T.kI.required],short_description:["0",T.kI.required],parent_id:["0"],is_eol:[0,T.kI.required],is_in_development:[0,T.kI.required],is_active:[0,T.kI.required],verified:[0,T.kI.required],requires_icasa:[0,T.kI.required],family_grouping:[""]}),this.productFormPackaging=this.formBuilder.group({weight:[""],length:[""],width:[""],height:[""],packaging_type_id:["",T.kI.required],product_id:[this.id],barcode:[""]}),this.productFormAttributesBulk=this.formBuilder.group({attrKey:[""],attrValue:[""]}),this.productFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])}),this.regionsForm=this.formBuilder.group({regions:this.formBuilder.array([])}),this.shoutoutsForm=this.formBuilder.group({shoutouts:this.formBuilder.array([])}),this.featuresAndBenefitsForm=this.formBuilder.group({features:this.formBuilder.array([])}),this.extendedFabsForm=this.formBuilder.group({fabs:this.formBuilder.array([])}),this.packageContentsForm=this.formBuilder.group({contents:this.formBuilder.array([])}),("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"]),this.filteredOptions=this.autocompleteControl.valueChanges.pipe((0,Qt.O)(""),(0,Be.U)(e=>this._filter(e||""))),this.filteredSeries=this.autocompleteControl1.valueChanges.pipe((0,Qt.O)(""),(0,Be.U)(e=>this._filterSeries(e||""))),this.productManagerRole&&(this.editRole=!0)}get attributes(){return this.productFormAttributes.get("attributes")}get regions(){return this.regionsForm.get("regions")}get shoutouts(){return this.shoutoutsForm.get("shoutouts")}get features(){return this.featuresAndBenefitsForm.get("features")}get fabs(){return this.extendedFabsForm.get("fabs")}get contents(){return this.packageContentsForm.get("contents")}getAllTypes(){this.typesList=this.lookup.getTypes()}getDetails(e){this.productsLoader=!0,this.info.setLoadingInfo("Loading product details...","info"),this.api.GET(`products/${e}`).subscribe({next:o=>{if(this.productsLoader=!1,o.length>0){this.detailProgress++,this.product=o[0],this.productName=this.product.name,this.id=this.product.id;const s=this.typesList.find(c=>c.id==this.product.family_grouping);this.productSeries=s?.name;const a=this.typesList.find(c=>c.id==this.product.brand_type_id);this.productBrand=a?.name,this.productManagerId=this.product.product_manager,1==o[0].verified&&(this.info.setLoadingInfo("Product verified","info"),this.isVerified=!0),"Simple"!=o[0].type&&(this.isBundle=!0,this.getLinkedProducts()),this.canManage(this.id),this.getUsers(),this.audit(this.id),this.getProductAttributes(this.id),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.getDesigns(this.id),this.media(),this.documents(),this.getSocialLinks(this.id),this.getProductCategories(this.id),this.imageserver(e),this.productForm=this.formBuilder.group({id:[{value:this.product.id,disabled:!0}],sku:[{value:this.product.sku,disabled:!0},T.kI.required],name:[this.product.name,T.kI.required],brand_type_id:[this.product.brand_type_id,T.kI.required],description:[this.product.description,T.kI.required],short_description:[this.product.short_description,T.kI.required],is_in_development:[this.product.is_in_development],is_active:[this.product.is_active],is_eol:[this.product.is_eol],verified:[this.product.verified],requires_icasa:[this.product.requires_icasa],family_grouping:[this.product.family_grouping]}),this.newProductForm=this.formBuilder.group({sku:["",[T.kI.required]]});let r=[];if(r=JSON.parse(this.product.attributes),null!==r)for(let c=0;c<r.length;c++){const d=Object.keys(r[c])[0],h=r[c][d];this.info.setLoadingInfo("Loading attributes: "+r[c][d]+"...","success");const u=this.formBuilder.group({attrName:[d,T.kI.required],attrValue:[h,T.kI.required]});this.attributes.push(u)}this.info.setLoadingInfo("Product loaded","success")}},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+o.message,"success"),this.productsLoader=!1}})}getAllCategories(){this.info.setLoadingInfo("Loading categories...","info"),this.api.GET("categories").subscribe({next:e=>{this.products.setCategories(e),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=e.filter(o=>"0"==o.parent),this.info.setLoadingInfo("Categories loaded","success")},error:e=>{console.log(e)}})}getProductCategories(e){this.info.setLoadingInfo("Loading product categories...","info"),this.api.GET(`product-categories/search/${e}`).subscribe({next:o=>{this.productCategories=o,this.info.setLoadingInfo("","success"),this.progressPercentage()},error:o=>{console.log(o)}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.info.setLoadingInfo("Loading packaging details...","info"),this.api.GET(`packaging/search/${e}`).subscribe({next:o=>{o.length>0&&(this.detailProgress++,this.packaging=o,this.packagingCount=this.packaging.length,this.productBarcode=o[0].barcode,this.info.setLoadingInfo(`Loading packaging: ${o[0].barcode}`,"info"),this.productFormPackaging=this.formBuilder.group({weight:[o[0].weight],length:[o[0].length],width:[o[0].width],height:[o[0].height],packaging_type_id:[o[0].packaging_type_id],product_id:[this.id],barcode:[o[0].barcode]})),this.packagingLoading=!1,this.info.setLoadingInfo("","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Could not load packaging...","warn"),this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+o.message,"Okay")}})}getProductAttributes(e){this.info.setLoadingInfo("Fetching attributes...","info"),this.api.GET(`attributes/search-by-id/${e}`).subscribe({next:o=>{this.productAttributes=o,this.info.setLoadingInfo("Attributes loaded","success"),console.log(o)},error:o=>{console.log(o),this.info.setLoadingInfo("Could not load attributes","warn")}})}onChange(e){this.files=e.target.files;for(let o=0;o<this.files.length;o++)this.files[o].size>2e7&&this.messages.push("\u{1f6ab} "+this.files[o].name+" is too large!")}onUpload(e,o){if(this.loading=!this.loading,this.info.setLoadingInfo("Uploading media files...","info"),this.files.length>0)for(let s=0;s<this.files.length;s++)this.api.upload("upload-media",{file:this.files[s],name:this.files[s].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:o,permissions:this.filePermissions}).subscribe(a=>{if("object"==typeof a&&(this.loading=!1),a.type===x.dt.UploadProgress)this.uploadProgress=Math.round(100*a.loaded/a.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`,this.info.setLoadingInfo(`${this.uploadProgress}% complete...`,"info");else if(a instanceof x.Zn){const r=this.files[s].name+" ploaded the file successfully.";this.info.activity("Media file uploaded",this.product.id),this.messages.push(r),this.info.setLoadingInfo(r,"info")}this.media()},a=>{this.info.errorHandler(a),this.uploadProgress=0;const r=this.files[s].name+" could not upload the file: ";this.messages.push(r),this.info.setLoadingInfo(r,"warning")});else this.openSnackBar("Please select files","Okay"),this.info.setLoadingInfo("Uploadig complete.","info"),this.loading=!1}uploadDocument(e,o){if(this.loading=!this.loading,this.files.length>0)for(let s=0;s<this.files.length;s++)this.api.upload("upload-document",{file:this.files[s],name:this.files[s].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:o,permissions:this.filePermissions,expiry_date:this.expiry_date}).subscribe(a=>{if("object"==typeof a&&(this.loading=!1),a.type===x.dt.UploadProgress)this.uploadProgress=Math.round(100*a.loaded/a.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`,this.info.setLoadingInfo(`${this.uploadProgress}% complete...`,"info");else if(a instanceof x.Zn){const r=this.files[s].name+" ploaded the file successfully.";this.info.activity(`${this.files[s].name} uploaded`,this.product.id),this.messages.push(r),this.info.setLoadingInfo(r,"info")}this.documents()},a=>{this.info.errorHandler(a),this.uploadProgress=0;const r=this.files[s].name+" could not upload the file: ";this.messages.push(r),this.info.setLoadingInfo(r,"warning")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}openSnackBar(e,o){this._snackBar.open(e,o,{duration:4e3})}media(){this.info.setLoadingInfo("Loading media...","info"),this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e),this.info.setLoadingInfo("Media refreshed","success")},error:e=>{this.info.errorHandler(e)}})}imageserver(e){this.api.IMAGESERVERHIRES(e).subscribe({next:o=>{if(o.length>0)for(let s=0;s<o.length;s++){const a=o[s].filename;a.endsWith(".png")||a.endsWith(".jpg")?this.imageServerFiles.push(a):this.imageServerDocumentFiles.push(a)}},error:o=>{console.log(o)}})}documents(){this.info.setLoadingInfo("Loading documents...","info"),this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductRegions(e){this.info.setLoadingInfo("Loading regions...","info"),this.api.GET(`product-regions/${e}`).subscribe({next:o=>{if(this.productRegionList=o,null!==o){for(let s=0;s<o.length;s++){const a=this.formBuilder.group({regionField:[o[s].region_id,T.kI.required]});this.regions.push(a)}this.info.setLoadingInfo("Regions loaded","success")}},error:o=>{this.info.errorHandler(o)}})}updateFileType(e,o){this.api.POST(`product-files/update-fileType/${e}`,{type_id:o}).subscribe({next:s=>{console.log(s),this.info.activity("Updated file type",this.product.id),this.media(),this.documents()},error:s=>{console.log(s)}})}setFocusType(e){this.focusType=e.target.value}updateProduct(){this.api.POST(`products/update/${this.id}`,this.productForm.value).subscribe({next:e=>{this.progressPercentage(),this.getDetails(this.sku),this.addNonExistingType(),this.info.activity(`${this.info.getUserName()} Updated product general details`,this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:e=>{this.info.errorHandler(e),this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updatePackaging(){this.info.setLoadingInfo("Updating packaging...","info"),this.packagingLoader=!0,this.productFormPackaging.patchValue({product_id:this.id}),this.api.POST("packaging",this.productFormPackaging.value).subscribe({next:e=>{this.packagingLoader=!1,this.info.activity(`${this.info.getUserName()} Updated product packaging details`,this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.info.setLoadingInfo("Packaging updated...","success"),this.getPackaging(this.id)},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}deletePackaging(e){confirm("This packaging information will be removed")&&(this.packagingLoader=!0,this.info.setLoadingInfo("Deleting packaging info","info"),this.api.GET(`packaging/delete/${e}`).subscribe({next:o=>{this.packagingLoader=!1,this.info.activity(`${this.info.getUserName()} removed some packaing information`,this.product.id),this.openSnackBar("Packaging information deleted","Okay"),this.getPackaging(this.id),this.info.setLoadingInfo("Packaging item removed","success")},error:o=>{this.info.errorHandler(o)}}))}savePackagingChanges(e){this.packagingLoader=!0;const o=document.getElementById("length"+e),s=document.getElementById("height"+e),a=document.getElementById("width"+e),r=document.getElementById("weight"+e),c=document.getElementById("barcode"+e);this.info.setLoadingInfo("Updating packaging changes...","info"),this.api.POST(`packaging/update-by-id/${e}`,{length:o?.value,height:s?.value,width:a?.value,weight:r?.value,barcode:c?.value}).subscribe({next:l=>{this.packagingLoader=!1,this.info.activity(`${this.info.getUserName()} Updated product packaging details`,this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.info.setLoadingInfo("Packaging info saved...","success"),this.getPackaging(this.id)},error:l=>{this.openSnackBar("\u{1f622} "+l.message,"Okay"),this.info.setLoadingInfo("Failed to save packaging changes...","danger")}})}updateRegion(){this.info.setLoadingInfo("Updating regions...","info");for(let e=0;e<this.regionsForm.value.regions.length;e++)this.api.POST("products-regions",{product_id:this.id,region_id:this.regionsForm.value.regions[e].designField}).subscribe({next:o=>{this.getProductRegions(this.id),this.openSnackBar("Region Updated \u{1f603}","Okay"),this.info.setLoadingInfo("Regions updated...","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Failed to update regions...","danger")}})}updateSocials(e){this.openSnackBar(`Adding ${e} link...`,""),this.socialLink.includes(e)?this.api.POST("social",{product_id:this.id,link:this.socialLink}).subscribe({next:o=>{this.getSocialLinks(this.id),this.openSnackBar(`${e} link added \u{1f603}`,"Okay"),this.info.setLoadingInfo(`${e} link added \u{1f603}`,"success"),this.info.activity(`${this.info.getUserName()} added ${e} link`,this.product.id),this.socialLink=""},error:o=>{this.info.errorHandler(o),this.openSnackBar(`Adding ${e} failed!`,"Okay"),this.info.setLoadingInfo(`Adding ${e} failed!`,"danger")}}):this.openSnackBar(`Please make sure this is a valid ${e} link`,"Okay")}getSocialLinks(e){this.info.setLoadingInfo("Loading external links...","info"),this.api.GET(`social/${e}`).subscribe({next:o=>{this.socialLinks=o;for(let s=0;s<this.socialLinks.length;s++)this.videos.push(this._sanitizer.bypassSecurityTrustResourceUrl(o[s].link))},error:o=>{this.info.errorHandler(o)}})}deleteSocial(e,o){confirm("This link will be deleted")&&(this.openSnackBar("Deleting link... ",""),this.api.GET(`delete-social/${e}`).subscribe({next:s=>{this.getSocialLinks(this.id),this.openSnackBar("Link deleted","Okay"),this.info.setLoadingInfo(`${o} DELETED \u{1f603}`,"info"),this.info.activity(`${this.info.getUserName()} deleted a link`,this.product.id)},error:s=>{this.info.errorHandler(s),this.openSnackBar(`Failed to delete link: ${o}`,"Okay"),this.info.setLoadingInfo("Failed to delete","warning")}}))}filePath(e){return e.substring(7)}returnTypeName(e){try{return this.typesList[e-=1].name}catch{return null}}returnTypeGroup(e){try{return this.typesList[e-=1].grouping}catch{return null}}drop(e){Xn(this.mediaFiles,e.previousIndex,e.currentIndex);let o=[];for(let a=0;a<this.mediaFiles.length;a++)o.push(this.mediaFiles[a].id);const s=JSON.stringify(o);this.api.POST("image-order",{product_id:this.id,order_list:s}).subscribe({next:a=>{},error:a=>{this.info.errorHandler(a)}})}updateAttributesBulk(){this.info.setLoadingInfo("Updating attributes...","info"),this.info.setLoadingInfo("Fetching attributes...","info"),this.api.POST("attributes",[{product_id:this.id,key:"",value:this.productFormAttributesBulk.value.attrValue}]).subscribe({next:e=>{this.saveAttrBtnText="Save Changes",this.getProductAttributes(this.product.id),this.openSnackBar("Attributes Saved","Okay"),this.info.activity(`${this.info.getUserName()} Updated product attributes`,this.product.id),this.info.setLoadingInfo("Attributes saved...","success")},error:e=>{this.info.errorHandler(e),this.saveAttrBtnText="Failed, try again.",this.openSnackBar(e.message,"Okay"),this.info.setLoadingInfo("Failed to update attributes...","danger")}})}updateAttributes(){this.info.setLoadingInfo("Updating attributes...","info"),this.info.setLoadingInfo("Fetching attributes...","info");let e=this.productFormAttributes.value.attributes;for(let o=0;o<e.length;o++)0!==e[o].attrValue&&this.api.POST("attributes",[{product_id:this.id,key:e[o].attrName,value:e[o].attrValue}]).subscribe({next:s=>{this.saveAttrBtnText="Save Changes",this.getProductAttributes(this.product.id),this.openSnackBar("Attributes Saved","Okay"),this.info.activity(`${this.info.getUserName()} Updated product attributes`,this.product.id)},error:s=>{this.info.errorHandler(s),this.saveAttrBtnText="Failed, try again.",this.openSnackBar(s.message,"Okay"),this.info.setLoadingInfo("Failed to update attributes...","danger")}})}deleteFile(e){this.info.setLoadingInfo("About to delete file...","warn"),confirm("This image / file will be deleted")?(this.openSnackBar("Deleting file...",""),this.info.setLoadingInfo("Deleting file...","warn"),this.api.GET(`delete-file/${e}`).subscribe({next:o=>{this.media(),this.openSnackBar("File deleted...","Okay"),this.info.setLoadingInfo("File deleted","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Failed to delete file!","danger")}})):this.info.setLoadingInfo("","info")}hideFile(e){this.api.GET(`hide-file/${e}`).subscribe({next:o=>{},error:o=>{this.info.errorHandler(o)}})}progressPercentage(){const s=this.productCategories.length>0?1:0,u=(s+(this.attributes.length>0||this.productAttributes.length>0?1:0)+(this.packagingCount>0?1:0)+(this.documentFiles.length>0?1:0)+(this.mediaFiles.length>0||this.imageServerFiles.length>0?1:0)+(this.productForm.value.brand_type_id?1:0)+(this.product.is_in_development>0||this.product.is_eol>0||this.product.is_active>0?1:0)+(this.product.verified?1:0))/8*100;return s>0&&(this.canVerify=!0),Math.round(u)}addNewAttribute(){const e=this.formBuilder.group({attrName:[],attrValue:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}addRegion(){const e=this.formBuilder.group({regionField:[]});this.regions.push(e)}removeRegion(e){this.regions.removeAt(e),this.regionsForm.markAsDirty()}checkCategories(e){this.catFromProductTbl.find(s=>s.name==e);for(let s=0;s<this.productCategories.length;s++)if(e==this.productCategories[s].name)return!0;return!1}checkedItem(e,o,s){this.openSnackBar("Updating categories, please wait...",""),console.log("category: ",e),console.log("parent: ",o),this.checkboxLoader=!0;const a=this.selectedCategories;this.selectedCategories=[];for(let c=1;c<a.length;c++)this.isChecked(a[c]);const r=this.selectedCategories.indexOf(e);if(r<0){this.selectedCategories.push(e);const c=this.categoriesList.find(g=>g.id==o);c&&this.selectedCategories.push(c?.id);const l=this.categoriesList.find(g=>g.id==c?.parent);l&&this.selectedCategories.push(l?.id);const d=this.categoriesList.find(g=>g.id==l?.parent);d&&this.selectedCategories.push(d?.id);const h=this.categoriesList.find(g=>g.id==d?.parent);h&&this.selectedCategories.push(h?.id);const u=this.categoriesList.find(g=>g.id==h?.parent);u&&this.selectedCategories.push(u?.id);const p=this.categoriesList.find(g=>g.id==u?.parent);p&&this.selectedCategories.push(p?.id),this.saveCategories(),this.selectedCategories=[]}else this.selectedCategories.splice(r,1),this.selectedCategories=[];console.log(this.selectedCategories)}chosenItem(e,o){const s=e.value;switch(console.log(s),o){case 1:this.tier1=s;break;case 2:this.tier2=s;break;case 3:this.tier3=s;break;case 4:this.tier4=s}const a=this.categoriesList.find(r=>r.id==s);this.tierLabels.push(a?.name),this.descedantsCategories=this.categoriesList.filter(r=>r.parent==s),this.tierLength=this.descedantsCategories.length,this.selectedCategories.push(s),console.log(this.descedantsCategories)}saveCategories(){this.removePrevCatsFromDb(),this.checkboxLoader=!0,this.info.setLoadingInfo("Saving categories...","info"),this.openSnackBar("Updating categories, almost done...","");const e=this.selectedCategories.filter(o=>null!=o);if(e.length>0)for(let o=0;o<1;o++)this.api.POST("product-categories-bulk",{product_id:this.id,categories:e}).subscribe({next:s=>{this.getProductCategories(this.id),this.openSnackBar("Categories updated.",""),this.clearTempTiers(),this.info.setLoadingInfo("Categories updated...","success"),this.checkboxLoader=!1,this.progressPercentage()},error:s=>{this.getProductCategories(this.id),this.info.errorHandler(s),this.openSnackBar("\u{1f622} "+s.message,"Okay"),this.checkboxLoader=!1,this.info.setLoadingInfo("Failed to update categories...","danger")}})}removePrevCatsFromDb(){this.checkboxLoader=!0,this.info.setLoadingInfo("Removing categories...","info"),this.openSnackBar("Removing old categories, please wait...",""),this.api.POST("product-categories/clean",{product_id:this.id}).subscribe({next:e=>{console.log(e),this.getProductCategories(this.id),this.info.setLoadingInfo("Categories removed...","warn"),this.openSnackBar("Old categories removed...",""),this.checkboxLoader=!1,this.progressPercentage()},error:e=>{this.info.errorHandler(e),this.info.setLoadingInfo("Could not remove categories...","danger"),this.checkboxLoader=!1}})}setPermission(e){return!0}getPdsAttributes(e){this.info.setLoadingInfo("Fetching attributes from PDS...","info"),this.api.GET(`pds-attributes/${e}`).subscribe({next:o=>{this.pdsAttributes=o,this.loadingPdsAttributes=!1,this.info.setLoadingInfo("PDS attributes loaded","success")},error:o=>{this.info.errorHandler(o),this.loadingPdsAttributes=!1,this.info.setLoadingInfo("","danger")}})}deleteProductAttribute(e,o,s){1==confirm(`Delete ${o}?`)&&(this.info.setLoadingInfo("Deleting attributes","info"),this.api.GET(`attributes/delete/${e}`).subscribe({next:r=>{this.getProductAttributes(s),this.info.activity(`${this.info.getUserName()} deleted attribute: ${o}.`,parseInt(s)),this.info.setLoadingInfo("Attribute(s) removed","success"),this.progressPercentage()},error:r=>{this.info.errorHandler(r),this.info.setLoadingInfo("Failed to delete ttribute(s)","danger")}}))}downloadURI(e,o,s,a){this.api.download("download-file-api",e,this.product.id,this.product.sku,a.type_id,a.path.replace("public/","storage/"),o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});hi.saveAs(l,`${this.product.sku}${a.type_id}.jpg`)},c=>{console.log(c)})}downloadImageServer(e,o,s,a){this.api.download("download-file-api",e,this.product.id,this.product.sku,a.type_id,e,o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});hi.saveAs(l,`imageserver${this.product.sku}.jpg`)},c=>{this.info.errorHandler(c)})}getLinkedProducts(){this.bundleLoader=!0,this.linkedImagesLoader=!0,this.info.setLoadingInfo("Getting linked products","info"),this.api.GET(`linked-products/${this.id}`).subscribe({next:e=>{this.linkedProducts=e,this.linkedProductSKUs=[],this.linkedProductsIDs=[],this.mediaFilesForLinkedProducts=[];for(let o=0;o<e.length;o++){let s=this.productsList.find(a=>a.id==e[o].child_id);this.linkedProductSKUs.push(s?.sku),this.linkedProductsIDs.push(s?.id),this.info.setLoadingInfo("Getting linked products media","info"),this.api.GET(`product-media-files/${s?.id}`).subscribe({next:a=>{a.length>0&&this.mediaFilesForLinkedProducts.push(a)},error:a=>{this.info.errorHandler(a)}})}this.bundleLoader=!1,this.info.setLoadingInfo("","success")},error:e=>{this.info.errorHandler(e),this.bundleLoader=!1}})}addDesign(e){const o=this.formBuilder.group({designField:[]});switch(e){case 80:this.shoutouts.push(o);break;case 81:this.features.push(o);break;case 82:this.fabs.push(o);break;case 83:this.contents.push(o)}}removeDesign(e,o){this.designLoader=!0;let s=0;switch(o){case 80:s=this.shoutoutsForm.value.shoutouts[e].designId,this.shoutouts.removeAt(e),this.shoutoutsForm.markAsDirty();break;case 81:s=this.featuresAndBenefitsForm.value.features[e].designId,this.features.removeAt(e),this.featuresAndBenefitsForm.markAsDirty();break;case 82:s=this.extendedFabsForm.value.fabs[e].designId,this.fabs.removeAt(e),this.extendedFabsForm.markAsDirty();break;case 83:s=this.packageContentsForm.value.contents[e].designId,this.contents.removeAt(e),this.packageContentsForm.markAsDirty()}this.api.GET(`delete-design/${s}`).subscribe({next:a=>{this.openSnackBar("Item removed","Okay"),this.designLoader=!1,this.progressPercentage()},error:a=>{this.info.errorHandler(a),this.openSnackBar("\u{1f534} Item could not be removed","Okay")}})}design(e){switch(e){case 80:this.saveDesign(this.shoutoutsForm.value.shoutouts,e);break;case 81:this.saveDesign(this.featuresAndBenefitsForm.value.features,e);break;case 82:this.saveDesign(this.extendedFabsForm.value.fabs,e);break;case 83:this.saveDesign(this.packageContentsForm.value.contents,e)}}saveDesign(e,o){this.designLoader=!0,this.info.setLoadingInfo("Saving changes","info"),this.openSnackBar("Saving changes...","");for(let s=0;s<e.length;s++){const a=e[s].designField;null==e.find(l=>l.designField==a).designId&&this.api.POST("design",{product_id:this.id,design_type_id:o,value:a}).subscribe({next:l=>{this.designLoader=!1,this.info.setLoadingInfo("Changes saved","success"),this.openSnackBar("Changes saved","Okay"),this.info.errorHandler(l),this.progressPercentage()},error:l=>{this.designLoader=!1,this.info.setLoadingInfo("FABs, Extended FABs or Shoutouts changes failed to update.","danger"),this.openSnackBar("Changes were not saved, something wrong with input data.","Okay")}})}}getDesigns(e){this.info.setLoadingInfo("Fetching design data","info"),this.designLoader=!0,this.api.GET(`design/${e}`).subscribe({next:o=>{if(this.designLoader=!1,this.info.setLoadingInfo("","success"),null!==o)for(let s=0;s<o.length;s++){const a=this.formBuilder.group({designField:[o[s].value,T.kI.required],designId:[o[s].id]});switch(o[s].design_type_id){case 80:this.shoutouts.push(a),this.shoutOuts.push(o[s]);break;case 81:this.features.push(a),this.featuresAndBenefits.push(o[s]);break;case 82:this.fabs.push(a),this.extendedFabs.push(o[s]);break;case 83:this.contents.push(a),this.inTheBox.push(o[s])}this.info.setLoadingInfo(`Fetching design data: ${o[s].value}`,"info")}this.progressPercentage()},error:o=>{this.info.errorHandler(o)}})}addToBundle(e){const s=this.productsList.find(a=>a.sku==e.option.value)?.id;this.autocompleteControl.reset(),this.api.POST("link-products",{parent_id:this.id,child_id:s,relationship:"Pamphlet"}).subscribe({next:a=>{this.getLinkedProducts();const r=parseInt(this.id);this.info.activity("Added new SKU to linked products",r),this.openSnackBar("Product added ","Okay"),this.progressPercentage()},error:a=>{this.info.errorHandler(a),this.openSnackBar("\u{1f622} "+a.message,"Okay")}})}entireProducts(){this.productsList=this.products.getProducts(),this.productsList.length<1&&this.api.GET("products").subscribe({next:o=>{this.productsList=o,this.products.setProducts(o),this.options=this.productsList.map(s=>s.sku)},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay")}}),this.options=this.productsList.map(o=>o.sku);const e=this.typesList.filter(o=>"Series"==o.grouping);this.series=e.map(o=>o.name)}_filter(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.options.filter(a=>a.toLowerCase().includes(s))}return o}_filterSeries(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.series.filter(a=>a.toLowerCase().includes(s))}return o}removeFromBundle(e){let o=this.productsList.find(a=>a.sku==e);const s=this.linkedProducts.find(a=>a.child_id==o?.id&&a.parent_id==this.id);this.api.GET(`linked-products/delete/${s.id}`).subscribe({next:a=>{this.linkedProductSKUs=[],this.getLinkedProducts(),this.info.activity("Removed product from linked products",0),this.openSnackBar("Product removed ","Okay")},error:a=>{this.info.errorHandler(a)}})}addSeries(e){this.newSeries=e.option.value;const o=this.typesList.find(s=>s.name==this.newSeries);this.productForm.patchValue({family_grouping:o?.id}),this.updateProduct()}addNonExistingType(){this.info.setLoadingInfo("Updating series...","info"),this.typesList.find(o=>o.name.toLowerCase()==this.newSeriesType.toLowerCase())?this.openSnackBar(`${this.newSeriesType} already added.`,"OKay"):this.api.POST("types",{name:this.newSeriesType,grouping:"Series"}).subscribe({next:o=>{this.productForm.patchValue({family_grouping:o.id}),this.openSnackBar("Series saved","")},error:o=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+o.message,"Okay")}})}ngOnChanges(){}audit(e){this.info.setLoadingInfo("Getting audits","info"),this.api.GET(`activity/${this.id}`).subscribe({next:o=>{this.audits=o,this.info.setLoadingInfo("","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Audits did not load properrly","warn")}})}presentation(){this.api.presentation(this.product.id,this.linkedProductsIDs,this.productSeries,this.productBrand,this.productsList),this.openSnackBar("Generating Presentation...","")}getUsers(){try{this.api.GET("users").subscribe({next:e=>{this.users=e,this.api.GET("roles").subscribe({next:o=>{const a=o.find(r=>86==r.type_id&&r.product_id==this.id);if(a){const r=this.users.find(c=>c.id==a.user_id);this.productManager=r?.name+" "+r?.surname,this.loadpProductManager=!1,this.editRole=!0}},error:o=>{console.log(o)}}),this.loadpProductManager=!1},error:e=>{this.loadpProductManager=!1,this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}catch{this.loadpProductManager=!1}}selectManager(e){console.log(e),this.api.POST(`products/update/${this.id}`,{product_manager:e.value}).subscribe({next:s=>{this.progressPercentage(),this.getDetails(this.sku),this.openSnackBar("Product Manager updated","Okay"),this.info.activity("Updated Product Manager",0)},error:s=>{this.info.errorHandler(s),this.openSnackBar("\u{1f622} "+s.message,"Okay")}})}changeFocus(e){this.focusImg=e}autoInfo(){this.openSnackBar("This will update automatically","Okay")}ecommerceImage(e,o){this.isEcommerceFile=1!=e,this.api.POST(`images/ecommerce/${o}`,{ecommerce:this.isEcommerceFile}).subscribe({next:s=>{console.log(s),this.openSnackBar("Changes saved","Okay"),this.info.activity("E-commerce image",0)},error:s=>{this.openSnackBar(s.message,"Okay")}})}modifyCats(){this.clearTempTiers(),this.descedantsCategories=[],this.modifyingCategories=!this.modifyingCategories}clearCats(){this.clearTempTiers(),this.descedantsCategories=[],this.removePrevCatsFromDb()}clearTempTiers(){this.tier1=0,this.tier2=0,this.tier3=0,this.tier4=0,this.tierLabels=[],this.selectedCategories=[]}test(){this.api.test("test-private").subscribe({next:e=>{console.log(e)},error:e=>{this.info.errorHandler(e)}})}switchImage(e){this.switchImageMain=e}beautifyAttr(e){if(e&&e.length>0){const o=e[0];let s;return s=o.match(/^[A-Za-z0-9]*$/)?e:e.replaceAll(o,"<br>\u2022"),s}return e}toggleInfoBar(){this.showInfoBar=!this.showInfoBar,this.mainTabsCls=this.showInfoBar?"col-md-1 col-lg-9":"col-md-12 col-lg-12"}addToSelectedFiles(e){const o=this.selectedFiles.indexOf(e);o>-1?this.selectedFiles.splice(o,1):this.selectedFiles.push(e),console.log(this.selectedFiles)}bulkDeleteFiles(){if(confirm(`${this.selectedFiles.length} items will be deleted!`)){this.openSnackBar("Deleting multiple files",""),this.info.setLoadingInfo("Deleting multiple files...","warn");for(let e=0;e<this.selectedFiles.length;e++)this.openSnackBar("Please wait...",""),this.info.setLoadingInfo(`Deleting file ${e+1}`,"warn"),this.api.GET(`delete-file/${this.selectedFiles[e]}`).subscribe({next:s=>{this.media(),this.openSnackBar(`${e+1} files deleted...`,"Okay"),this.openSnackBar(`${e+1} files deleted...`,""),this.info.setLoadingInfo(`${e+1} files deleted...`,"success"),this.progressPercentage()},error:s=>{this.info.errorHandler(s),this.info.setLoadingInfo("Failed to delete file!","danger")}});this.info.setLoadingInfo("Items deleted successfully","success"),this.selectedFiles=[]}else this.info.setLoadingInfo("","info")}canManage(e){this.api.POST("can-manage-product",{product:e,user:this.info.getUserId()}).subscribe({next:o=>{o>0&&(this.canManageThisProduct=!0)},error:o=>{console.log(o)}})}toggleHistory(){this.historyTable=!this.historyTable}isChecked(e){return!!this.productCategories.find(s=>s.id==e)}ctrlF(){console.log(this.findCategory),window.find(this.findCategory)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(P.gz),t.Y36(P.F0),t.Y36(T.QS),t.Y36(R.C),t.Y36(jo),t.Y36(Xt.W),t.Y36(x.eN),t.Y36(W),t.Y36(Ko.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-product"]],viewQuery:function(e,o){if(1&e&&t.Gf(Ab,5),2&e){let s;t.iGM(s=t.CRH())&&(o.content=s.first)}},features:[t.TTD],decls:6,vars:4,consts:[[1,"loadingInfo"],["routerLink","../products/product-manager",4,"ngIf"],[4,"ngIf"],["routerLink","../products/product-manager"],["color","accent","mode","indeterminate"],["routerLink","/"],[2,"float","right","cursor","pointer",3,"click"],["class","material-icons",4,"ngIf"],["id","pdfContent",1,"row"],[2,"transition","width 1s"],[2,"background","#EFEFEF"],["label","Product Details",4,"ngIf"],["label","Manage Categories",4,"ngIf"],["label","Manage Attributes",4,"ngIf"],["label","Packaging",4,"ngIf"],["label","Files",4,"ngIf"],["label","Media",4,"ngIf"],["label","E-commerce View"],[1,"mt-5","py-3","custom-tab","card",2,"overflow","hidden !important"],[1,"row"],[1,"col-sm-12","col-md-9","col-lg-7"],[1,"col-sm-12","col-md-3","col-lg-5"],[4,"ngFor","ngForOf"],[1,"mt-2","py-3","custom-tab","card"],[1,"table-label-cell"],[1,"col-md-12"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table","table-bordered","mt-2"],["class","col-md-3  p-3",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngFor","ngForOf"],["style","transition: display 1s;",3,"class",4,"ngIf"],[1,"material-icons"],["label","Product Details"],[1,"mt-3",2,"overflow","hidden !important"],[2,"margin-bottom","1rem","padding-left","10px","color","#545454"],[1,"col-md-5"],[3,"formGroup"],["src","../../../assets/icons/details.png","height","30",1,"mx-2"],["appearance","outline","style","width: 90%;",4,"ngIf"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Enter Product SKU"],["sku",""],["matInput","","formControlName","name","placeholder","Enter Product Name",3,"readonly"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value","disabled",4,"ngFor","ngForOf"],["matInput","","placeholder","Enter Series",3,"formControl","matAutocomplete","value","ngModel","readonly","ngModelChange"],["family_grouping",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description",3,"readonly"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description...",3,"readonly"],["description",""],[2,"padding-left","1rem"],["formControlName","is_in_development",3,"disabled"],["is_in_development",""],["formControlName","is_eol",3,"disabled"],["is_eol",""],["formControlName","is_active",3,"disabled"],["is_active",""],["formControlName","requires_icasa",3,"disabled"],["requires_icasa",""],["class","card warning",4,"ngIf"],["formControlName","verified",3,"disabled"],["verified",""],["mat-raised-button","","type","submit","color","primary",3,"disabled","click",4,"ngIf"],["src","../../../assets/icons/regions.png","height","25",1,"mx-2"],["formArrayName","regions"],["mat-raised-button","","type","button","style","margin-left: 1rem;",3,"click",4,"ngIf"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem;",3,"disabled","click",4,"ngIf"],["style","margin-top: 1rem;",4,"ngFor","ngForOf"],[1,"col-md-7"],["style","margin-top: 2rem;",4,"ngIf"],[2,"height","auto"],["src","../../../assets/icons/gallery.png","height","30",1,"mx-2"],["class","col-md-3 p-3",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[2,"margin-top","30px !important","height","auto"],["src","../../../assets/icons/attributes.png","height","30",1,"mx-2"],["matInput","","formControlName","id"],["id",""],[3,"value","disabled"],[3,"value"],[1,"card","warning"],[1,"text-muted"],["mat-raised-button","","type","submit","color","primary",3,"disabled","click"],[3,"formGroupName"],["matInput","","formControlName","regionField"],["regionField",""],["mat-raised-button","","type","button",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"],[2,"margin-top","1rem"],["height","30",1,"mx-2",3,"src"],[3,"formGroup",4,"ngIf"],["formArrayName","shoutouts"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem; float: right;",3,"disabled","click",4,"ngIf"],["rows","6","matInput","","formControlName","designField","placeholder","","required","",3,"readonly"],["designField",""],["matSuffix","",3,"click",4,"ngIf"],["matSuffix","",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem","float","right",3,"disabled","click"],["formArrayName","features"],["formArrayName","fabs"],["formArrayName","contents"],["matInput","","type","text","formControlName","designField","placeholder","","required","",3,"readonly"],[2,"margin-top","2rem"],["src","../../../assets/icons/linked.png","height","30",1,"mx-2"],["appearance","outline","style","margin-bottom: 1rem; width: 50%;",4,"ngFor","ngForOf"],["appearance","outline",2,"margin-bottom","1rem","width","50%"],["type","text","placeholder","Enter SKU","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["type","text","placeholder","Search SKU","aria-label","Number","matInput","","readonly","",3,"value"],["matSuffix","","style","color:#545454;",3,"click",4,"ngIf"],["target","_blank",3,"href"],["matSuffix","",2,"color","#545454",3,"click"],[1,"col-md-3","p-3"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[2,"color","white"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'",3,"src"],[1,"flip-card-back"],["aria-label","Fish selection"],["class","mat-chip-list",3,"click",4,"ngFor","ngForOf"],[1,"mat-chip-list",3,"click"],[1,"attributes-bullets"],[3,"innerHTML"],[1,"table","table-bordered"],["label","Manage Categories"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[2,"background-color","rgb(255, 255, 255)"],[1,"row","form-border"],[1,"col-md-6"],["mat-stroked-button","","style","font-size: smaller; color: red;",3,"click",4,"ngIf"],["mat-stroked-button","","style","font-size: smaller;",3,"click",4,"ngIf"],[1,"col-md-row"],[1,"col-md-2"],["mat-raised-button","","type","submit","color","primary",3,"click"],[1,"col-md-6",2,"background-color","aliceblue"],[2,"height","40rem","overflow-y","scroll"],["mat-stroked-button","",2,"font-size","smaller","color","red",3,"click"],["mat-stroked-button","",2,"font-size","smaller",3,"click"],[3,"value","valueChange","selectionChange"],[3,"checked","disabled","change"],[1,"category-chechbox"],["label","Manage Attributes"],[1,"mt-2","custom-tab","form-border",2,"overflow","hidden !important"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","accent","style","margin-left: 1rem;",3,"click",4,"ngIf"],["mat-raised-button","","type","submit","color","primary","style","float: right; ",3,"disabled","click",4,"ngIf"],[2,"background-color","rgb(255, 255, 255)","margin-top","1rem"],["formControlName","attrName","type","hidden","value","6"],["formControlName","attrValue","rows","6","placeholder","Paste attributes here",2,"width","100%",3,"readonly"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem; ",3,"click",4,"ngIf"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value",3,"readonly"],["type","text","matInput","","id","attrValue","formControlName","attrValue","placeholder","Enter Value",3,"readonly"],["mat-raised-button","","type","button","color","warn",1,"mb-3",3,"click"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"float","right",3,"disabled","click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],["style","width: 7px;",4,"ngIf"],[2,"width","7px"],["mat-button","","aria-label","Options",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["color","warn"],["label","Packaging"],["class","warning",4,"ngIf"],[1,"mt-2","custom-tab",2,"overflow","hidden !important"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id",3,"disabled"],["matInput","","formControlName","weight","placeholder","Enter Product Weight",3,"readonly"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length",3,"readonly"],["matInput","","formControlName","width","placeholder","Enter Product Width",3,"readonly"],["matInput","","formControlName","height","placeholder","Enter Product Height",3,"readonly"],["matInput","","formControlName","barcode","placeholder","barcode",3,"readonly"],["matInput","","formControlName","product_id","placeholder","barcode","readonly",""],[1,"m-3"],[1,"warning"],["matInput","","placeholder","Length",3,"id","value","readonly"],["matInput","","placeholder","Height",3,"id","value","readonly"],["matInput","","placeholder","Width",3,"id","value","readonly"],["matInput","","placeholder","Weight",3,"id","value","readonly"],["matInput","","placeholder","Barcode",3,"id","value","readonly"],["mat-icon-button","","aria-label","Options",3,"matMenuTriggerFor"],["color","primary"],["label","Files"],[1,"col-md-4"],["class","upload-role",4,"ngIf"],[1,"col-md-8"],[1,"table"],[2,"list-style","none"],[1,"form-control",3,"change"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","file","multiple","",1,"form-control",3,"change"],[2,"background-color","rgb(247, 247, 247)"],["permissions",""],["style","height: 25px;",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[2,"height","25px"],[1,"container"],[1,"message"],[1,"upload-role"],["label","Media"],["label","Manage Images"],[1,"row","py-3"],["cdkDropList","","class","file-list",3,"cdkDropListDropped",4,"ngIf"],["class","col-md-3","style","padding-bottom: 1rem;",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["label","Videos"],["matInput","","placeholder","Enter link here",3,"ngModel","readonly","ngModelChange"],["mat-flat-button","","color","primary",3,"click"],[2,"padding","1rem"],["appearance","legacy",4,"ngFor","ngForOf"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box",4,"ngFor","ngForOf"],[1,"file-box"],["cdkDrag","",1,"row"],["color","accent","selected","",4,"ngIf"],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge",4,"ngIf"],[1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"checked","click"],["color","accent","selected",""],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],[3,"value","onSelectionChange"],[1,"col-md-3",2,"padding-bottom","1rem"],["style","position: relative; top: 34px;",3,"click",4,"ngIf"],["mat-card-image","","alt","Photo",3,"src"],[3,"click"],[2,"position","relative","top","34px",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"col-md-4","form-border"],["appearance","legacy"],["matInput","",3,"placeholder","readonly"],[1,"img-cell"],["height","66","width","66",3,"src","click",4,"ngIf"],["rowspan","4"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src",4,"ngIf"],[1,"img-cell",3,"click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src",4,"ngIf"],["height","66","width","66",3,"src","click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src"],[2,"font-size","20px"],["matInput","","placeholder","Length","readonly","",3,"id","value"],["matInput","","placeholder","Height","readonly","",3,"id","value"],["matInput","","placeholder","Width","readonly","",3,"id","value"],["matInput","","placeholder","Weight","readonly","",3,"id","value"],["matInput","","placeholder","Barcode","readonly","",3,"id","value"],[2,"font-size","x-small","background-color","rgb(235, 235, 235)","color","rgb(165, 165, 165)","padding-left","6px"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","100",3,"src"],["width","420","height","315",3,"src"],[2,"transition","display 1s"],[2,"text-align","center"],["matInput","","name","productManager",3,"value","disabled","valueChange","selectionChange"],["cols","3","rowHeight","100px"],["colspan","3"],[3,"color","mode","value"],["role","list",3,"click"],["role","listitem"],[3,"qrdata","width","errorCorrectionLevel"],[2,"text-align","center","margin-bottom","1rem"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,o){1&e&&(t._UZ(0,"span",0),t.TgZ(1,"p"),t.YNc(2,Mb,2,0,"a",1),t.qZA(),t.YNc(3,Sb,4,1,"div",2),t.YNc(4,E2,115,32,"div",2),t.YNc(5,U2,2,1,"div",2)),2&e&&(t.xp6(2),t.Q6J("ngIf",0!==o.productManagerId),t.xp6(1),t.Q6J("ngIf",1==o.productsLoader),t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",!o.product))},dependencies:[y.sg,y.O5,P.yS,zo,Xe,E.KE,E.bx,E.hX,E.R9,gt.Hw,Yi.i$,Yi.Tg,Yi.Ub,Yi.vS,Q.Nt,T._Y,T.YN,T.Kr,T.Fj,T.JJ,T.JL,T.Q7,T.On,T.F,T.oH,T.sg,T.u,T.x0,T.CE,ct.lW,V.SP,V.uX,G.gD,q.ey,K.a8,K.dn,K.G2,Xr.Ou,te.pW,Hn.VK,Hn.OP,Hn.p6,pe.oG,mi.XC,mi.ZL,vs,Ps,$.Il,$.DX,eo.k,Xo,y.Ov,y.uU,Re,z],styles:[".img-cell[_ngcontent-%COMP%]{width:20%;height:69px}.table-label-cell[_ngcontent-%COMP%]{background-color:#f4f4f4}.save-icon[_ngcontent-%COMP%]{cursor:pointer}.image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid rgb(224,224,224);padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid rgb(241,241,241);padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.flip-card[_ngcontent-%COMP%]{background-color:#fff;width:145px;height:240px;border:1px solid #f1f1f1;perspective:1000px}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .8s;transform-style:preserve-3d}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.flip-card-back[_ngcontent-%COMP%]{background-color:#b9b9b9;color:#000;transform:rotateY(180deg);padding:6px;font-size:smaller}.image-box[_ngcontent-%COMP%]{width:100%;height:100%}.warning[_ngcontent-%COMP%]{background-color:#ffa600d5;color:#000;padding:9px;margin-bottom:1rem}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.attributes-bullets[_ngcontent-%COMP%]{list-style-type:none}.loadingInfo[_ngcontent-%COMP%]{float:right}.category-chechbox[_ngcontent-%COMP%]{list-style:none}@media only screen and (min-width: 768px){.flip-card[_ngcontent-%COMP%]{width:100px;height:240px}}@media only screen and (min-width: 992px){.flip-card[_ngcontent-%COMP%]{width:120px;height:240px}.mat-chip-list[_ngcontent-%COMP%]{font-size:10px!important}}"]}),n})()},{path:"brand/:brand",component:qe},{path:"add/new/:type",component:nh},{path:"categories/manage",component:nc},{path:"products/export",component:ml},{path:"products/export-csv",component:gl},{path:"products/dashboard",component:Ue},{path:"series/:series",component:ei},{path:"brands/manage-brands",component:et},{path:"products/product-manager",component:Je},{path:"qrcode/:sku",component:(()=>{class n{constructor(e,o,s,a,r,c,l,d){this.navbar=e,this.route=o,this.router=s,this.info=a,this.nav=r,this.sideNav=c,this.treeNav=l,this.api=d,this.productsLoader=!0}ngOnInit(){this.nav.hide(),this.sideNav.hide(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku}),this.getDetails(this.sku)}getDetails(e){this.productsLoader=!0,this.info.setLoadingInfo("Loading product details...","info"),this.api.GET(`products/${e}`).subscribe({next:o=>{this.productsLoader=!1,o.length>0&&(this.product=o[0])},error:o=>{this.info.setLoadingInfo("Failed to connect to the server: "+o.message,"success"),this.productsLoader=!1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(P.gz),t.Y36(P.F0),t.Y36(R.C),t.Y36(M.I),t.Y36(N.Z),t.Y36(J.r),t.Y36(L.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-qr-code"]],decls:7,vars:6,consts:[[2,"text-align","center"],[4,"ngIf"],[3,"qrdata","width","errorCorrectionLevel"],["color","accent","mode","indeterminate"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"strong"),t._uU(2,"SKU:"),t.qZA(),t._uU(3),t.YNc(4,q2,7,2,"div",1),t.YNc(5,B2,5,0,"div",1),t._UZ(6,"qrcode",2),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",o.sku," "),t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",!o.product),t.xp6(1),t.MGl("qrdata","https://products.smdtechnologies.com/",o.sku,""),t.Q6J("width",300)("errorCorrectionLevel","M"))},dependencies:[y.O5,te.pW,Xo]}),n})()},{path:"public/:sku",component:(()=>{class n{constructor(e,o,s,a,r,c,l,d,h,u,p,g,_,m){this.navbar=e,this.treeNav=o,this.api=s,this._snackBar=a,this.route=r,this.router=c,this.formBuilder=l,this.info=d,this.dialog=h,this.lookup=u,this.http=p,this.products=g,this._sanitizer=_,this.sideNav=m,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.imageServerDocumentFiles=[],this.mediaFilesForLinkedProducts=[],this.linkedImagesLoader=!1,this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.isVerified=!1,this.categoriesList=[],this.primaryCategoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0,this.isBundle=!1,this.linkedProducts=[],this.linkedProductsIDs=[],this.linkedProductSKUs=[],this.bundleLoader=!0,this.autocompleteControl=new T.p4(""),this.autocompleteControl1=new T.p4(""),this.productsList=[],this.newPamphlet=[],this.newPamphletSKUs=[],this.SKUsLoader=!0,this.options=[],this.designLoader=!1,this.parentChildCategories=[],this.series=[],this.users=[],this.adminRole=!1,this.productManagerRole=!1,this.newSeriesType="",this.descedantsCategories=[],this.canVerify=!1,this.isEcommerceFile=!1,this.modifyingCategories=!1,this.switchImageMain=0,this.inTheBox=[],this.featuresAndBenefits=[],this.shoutOuts=[],this.extendedFabs=[],this.imagesAreSorted=!1,this.packagingLoader=!1,this.showInfoBar=!0,this.mainTabsCls="col-md-11 col-lg-11",this.infoBarCls="col-md-1 col-lg-1",this.loadingInfo="Preparing...",this.socialLinks=[],this.videos=[]}ngOnInit(){this.info.setLoadingInfo("Preparing...","info"),window.scroll({top:0,left:0,behavior:"smooth"}),this.getAllTypes(),localStorage.setItem("route",this.router.url),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.productManagerRole=this.info.role(88),this.adminRole=this.info.role(90),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.hide(),this.treeNav.hide(),this.sideNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllCategories(),this.entireProducts(),this.productQr="https://products.smdtechnologies.com/"+this.sku,("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"]),this.filteredOptions=this.autocompleteControl.valueChanges.pipe((0,Qt.O)(""),(0,Be.U)(e=>this._filter(e||""))),this.filteredSeries=this.autocompleteControl1.valueChanges.pipe((0,Qt.O)(""),(0,Be.U)(e=>this._filterSeries(e||""))),this.productManagerRole&&(this.editRole=!0)}getAllTypes(){this.typesList=this.lookup.getTypes()}getDetails(e){this.productsLoader=!0,this.info.setLoadingInfo("Loading product details...","info"),this.api.GET(`products/${e}`).subscribe({next:o=>{if(this.productsLoader=!1,o.length>0){this.detailProgress++,this.product=o[0],this.productName=this.product.name,this.id=this.product.id;const s=this.typesList.find(c=>c.id==this.product.family_grouping);this.productSeries=s?.name;const a=this.typesList.find(c=>c.id==this.product.brand_type_id);this.productBrand=a?.name,1==o[0].verified&&(this.info.setLoadingInfo("Product verified","info"),this.isVerified=!0),"Simple"!=o[0].type&&(this.isBundle=!0,this.getLinkedProducts()),this.getProductAttributes(this.id),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.getDesigns(this.id),this.media(),this.documents(),this.getSocialLinks(this.id),this.getProductCategories(this.id),this.imageserver(e);let r=[];if(r=JSON.parse(this.product.attributes),null!==r)for(let c=0;c<r.length;c++){const d=Object.keys(r[c])[0],h=r[c][d];this.info.setLoadingInfo("Loading attributes: "+r[c][d]+"...","success"),this.formBuilder.group({attrName:[d,T.kI.required],attrValue:[h,T.kI.required]})}this.info.setLoadingInfo("Product loaded","success")}},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay"),this.info.setLoadingInfo("Failed to connect to the server: "+o.message,"success"),this.productsLoader=!1}})}getAllCategories(){this.info.setLoadingInfo("Loading categories...","info"),this.api.GET("categories").subscribe({next:e=>{this.products.setCategories(e),this.categoriesList=this.products.getCategories(),this.primaryCategoriesList=e.filter(o=>"0"==o.parent),this.info.setLoadingInfo("Categories loaded","success")},error:e=>{console.log(e)}})}getProductCategories(e){this.info.setLoadingInfo("Loading product categories...","info"),this.api.GET(`product-categories/search/${e}`).subscribe({next:o=>{this.productCategories=o,this.info.setLoadingInfo("","success")},error:o=>{console.log(o)}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.info.setLoadingInfo("Loading packaging details...","info"),this.api.GET(`packaging/search/${e}`).subscribe({next:o=>{o.length>0&&(this.detailProgress++,this.packaging=o,this.packagingCount=this.packaging.length,this.productBarcode=o[0].barcode,this.info.setLoadingInfo(`Loading packaging: ${o[0].barcode}`,"info")),this.packagingLoading=!1,this.info.setLoadingInfo("","success")},error:o=>{this.info.errorHandler(o),this.info.setLoadingInfo("Could not load packaging...","warn"),this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+o.message,"Okay")}})}getProductAttributes(e){this.info.setLoadingInfo("Fetching attributes...","info"),this.api.GET(`attributes/search-by-id/${e}`).subscribe({next:o=>{this.productAttributes=o,this.info.setLoadingInfo("Attributes loaded","success"),console.log(o)},error:o=>{console.log(o),this.info.setLoadingInfo("Could not load attributes","warn")}})}openSnackBar(e,o){this._snackBar.open(e,o,{duration:4e3})}media(){this.info.setLoadingInfo("Loading media...","info"),this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e),this.info.setLoadingInfo("Media refreshed","success")},error:e=>{this.info.errorHandler(e)}})}imageserver(e){this.api.IMAGESERVERHIRES(e).subscribe({next:o=>{if(o.length>0)for(let s=0;s<o.length;s++){const a=o[s].filename;a.endsWith(".png")||a.endsWith(".jpg")?this.imageServerFiles.push(a):this.imageServerDocumentFiles.push(a)}},error:o=>{console.log(o)}})}documents(){this.info.setLoadingInfo("Loading documents...","info"),this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductRegions(e){this.info.setLoadingInfo("Loading regions...","info"),this.api.GET(`product-regions/${e}`).subscribe({next:o=>{if(this.productRegionList=o,null!==o){for(let s=0;s<o.length;s++)this.formBuilder.group({regionField:[o[s].region_id,T.kI.required]});this.info.setLoadingInfo("Regions loaded","success")}},error:o=>{this.info.errorHandler(o)}})}getSocialLinks(e){this.info.setLoadingInfo("Loading external links...","info"),this.api.GET(`social/${e}`).subscribe({next:o=>{this.socialLinks=o;for(let s=0;s<this.socialLinks.length;s++)this.videos.push(this._sanitizer.bypassSecurityTrustResourceUrl(o[s].link))},error:o=>{this.info.errorHandler(o)}})}filePath(e){return console.log("PATH: ",e),e.substring(7)}returnTypeName(e){return this.typesList[e-=1].name}returnTypeGroup(e){return this.typesList[e-=1].grouping}checkCategories(e){this.catFromProductTbl.find(s=>s.name==e);for(let s=0;s<this.productCategories.length;s++)if(e==this.productCategories[s].name)return!0;return!1}setPermission(e){return!0}getPdsAttributes(e){this.info.setLoadingInfo("Fetching attributes from PDS...","info"),this.api.GET(`pds-attributes/${e}`).subscribe({next:o=>{this.pdsAttributes=o,this.loadingPdsAttributes=!1,this.info.setLoadingInfo("PDS attributes loaded","success")},error:o=>{this.info.errorHandler(o),this.loadingPdsAttributes=!1,this.info.setLoadingInfo("","danger")}})}downloadURI(e,o,s,a){this.api.download("download-file-api",e,this.product.id,this.product.sku,a.type_id,a.path.replace("public/","storage/"),o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});hi.saveAs(l,`${this.product.sku}${a.type_id}.jpg`)},c=>{console.log(c)})}downloadImageServer(e,o,s,a){this.api.download("download-file-api",e,this.product.id,this.product.sku,a.type_id,e,o).subscribe(c=>{const l=new Blob([c],{type:"application/octet-stream"});hi.saveAs(l,`imageserver${this.product.sku}.jpg`)},c=>{this.info.errorHandler(c)})}getLinkedProducts(){this.bundleLoader=!0,this.linkedImagesLoader=!0,this.info.setLoadingInfo("Getting linked products","info"),this.api.GET(`linked-products/${this.id}`).subscribe({next:e=>{this.linkedProducts=e,this.linkedProductSKUs=[],this.linkedProductsIDs=[],this.mediaFilesForLinkedProducts=[];for(let o=0;o<e.length;o++){let s=this.productsList.find(a=>a.id==e[o].child_id);this.linkedProductSKUs.push(s?.sku),this.linkedProductsIDs.push(s?.id),this.info.setLoadingInfo("Getting linked products media","info"),this.api.GET(`product-media-files/${s?.id}`).subscribe({next:a=>{a.length>0&&this.mediaFilesForLinkedProducts.push(a)},error:a=>{this.info.errorHandler(a)}})}this.bundleLoader=!1,this.info.setLoadingInfo("","success")},error:e=>{this.info.errorHandler(e),this.bundleLoader=!1}})}getDesigns(e){this.info.setLoadingInfo("Fetching design data","info"),this.designLoader=!0,this.api.GET(`design/${e}`).subscribe({next:o=>{if(this.designLoader=!1,this.info.setLoadingInfo("","success"),null!==o)for(let s=0;s<o.length;s++){switch(this.formBuilder.group({designField:[o[s].value,T.kI.required],designId:[o[s].id]}),o[s].design_type_id){case 80:this.shoutOuts.push(o[s]);break;case 81:this.featuresAndBenefits.push(o[s]);break;case 82:this.extendedFabs.push(o[s]);break;case 83:this.inTheBox.push(o[s])}this.info.setLoadingInfo(`Fetching design data: ${o[s].value}`,"info")}},error:o=>{this.info.errorHandler(o)}})}entireProducts(){this.productsList=this.products.getProducts(),this.productsList.length<1&&this.api.GET("products").subscribe({next:o=>{this.productsList=o,this.products.setProducts(o),this.options=this.productsList.map(s=>s.sku)},error:o=>{this.openSnackBar("Failed to connect to the server: "+o.message,"Okay")}}),this.options=this.productsList.map(o=>o.sku);const e=this.typesList.filter(o=>"Series"==o.grouping);this.series=e.map(o=>o.name)}_filter(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.options.filter(a=>a.toLowerCase().includes(s))}return o}_filterSeries(e){let o=[];if(e.length>4){const s=e.toLowerCase();o=this.series.filter(a=>a.toLowerCase().includes(s))}return o}presentation(){this.api.presentation(this.product.id,this.linkedProductsIDs,this.productSeries,this.productBrand,this.productsList),this.openSnackBar("Generating Presentation...","")}changeFocus(e){this.focusImg=e}autoInfo(){this.openSnackBar("This will update automatically","Okay")}ecommerceImage(e,o){this.isEcommerceFile=1!=e,this.api.POST(`images/ecommerce/${o}`,{ecommerce:this.isEcommerceFile}).subscribe({next:s=>{console.log(s),this.openSnackBar("Changes saved","Okay"),this.info.activity("E-commerce image",0)},error:s=>{this.openSnackBar(s.message,"Okay")}})}test(){this.api.test("test-private").subscribe({next:e=>{console.log(e)},error:e=>{this.info.errorHandler(e)}})}switchImage(e){this.switchImageMain=e}beautifyAttr(e){const o=e[0];let s;return s=o.match(/^[A-Za-z0-9]*$/)?e:e.replaceAll(o,"<br>\u2022"),s}toggleInfoBar(){this.showInfoBar=!this.showInfoBar,this.mainTabsCls=this.showInfoBar?"col-md-11 col-lg-11":"col-md-12 col-lg-12"}ctrlF(){console.log(this.findCategory),window.find(this.findCategory)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.I),t.Y36(J.r),t.Y36(L.s),t.Y36(F.ux),t.Y36(P.gz),t.Y36(P.F0),t.Y36(T.QS),t.Y36(R.C),t.Y36(jo),t.Y36(Xt.W),t.Y36(x.eN),t.Y36(W),t.Y36(Ko.H7),t.Y36(N.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-public"]],viewQuery:function(e,o){if(1&e&&t.Gf(Y2,5),2&e){let s;t.iGM(s=t.CRH())&&(o.content=s.first)}},decls:6,vars:5,consts:[[4,"ngIf"],[2,"float","right","cursor","pointer",3,"click"],["class","material-icons",4,"ngIf"],["color","accent","mode","indeterminate"],[1,"material-icons"],["id","pdfContent",1,"row"],[2,"transition","width 1s"],[2,"background","#EFEFEF"],["label","Product Details"],[1,"loadingInfo"],["id","slow-connection","matTooltip","Poor internet connection",1,"material-icons",2,"color","orange","display","none"],["id","no-connection","matTooltip","No signal",1,"material-icons",2,"color","red","display","none"],[1,"mt-5","py-3","custom-tab","card",2,"overflow","hidden !important"],[1,"row"],[1,"col-sm-12","col-md-9","col-lg-7"],[1,"img-cell"],["height","66","width","66",3,"src","click",4,"ngIf"],["rowspan","4"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src",4,"ngIf"],[1,"img-cell",3,"click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src",4,"ngIf"],[1,"col-sm-12","col-md-3","col-lg-5"],[4,"ngFor","ngForOf"],[1,"mt-2","py-3","custom-tab","card"],[1,"table-label-cell"],[1,"attributes-bullets"],[1,"col-md-12"],["color","accent","mode","indeterminate",4,"ngIf"],[1,"table","table-bordered"],["class","col-md-3  p-3",4,"ngFor","ngForOf"],["class","col-md-6",4,"ngFor","ngForOf"],["style","transition: display 1s;",3,"class",4,"ngIf"],["height","66","width","66",3,"src","click"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","350","width","350",3,"src"],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","height","66","width","66",3,"src"],[3,"innerHTML"],[1,"col-md-3","p-3"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[2,"font-size","x-small","background-color","rgb(235, 235, 235)","color","rgb(165, 165, 165)","padding-left","6px"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","100",3,"src"],[1,"flip-card-back"],["aria-label","Fish selection"],["class","mat-chip-list",3,"click",4,"ngFor","ngForOf"],[1,"mat-chip-list",3,"click"],[1,"col-md-6"],["width","420","height","315",3,"src"],[2,"transition","display 1s"],[1,"text-muted"],[2,"text-align","center"],[3,"qrdata","width","errorCorrectionLevel"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,o){1&e&&(t.YNc(0,J2,4,1,"div",0),t.TgZ(1,"span",1),t.NdJ("click",function(){return o.toggleInfoBar()}),t.YNc(2,Q2,2,0,"i",2),t.YNc(3,G2,2,0,"i",2),t.qZA(),t.YNc(4,uC,121,24,"div",0),t.YNc(5,gC,2,1,"div",0)),2&e&&(t.Q6J("ngIf",1==o.productsLoader),t.xp6(2),t.Q6J("ngIf",o.showInfoBar),t.xp6(1),t.Q6J("ngIf",!o.showInfoBar),t.xp6(1),t.Q6J("ngIf",o.product),t.xp6(1),t.Q6J("ngIf",!o.product))},dependencies:[y.sg,y.O5,zo,Xe,ct.lW,V.SP,V.uX,K.a8,K.G2,te.pW,nn.gM,Xo,Re],styles:[".img-cell[_ngcontent-%COMP%]{width:20%;height:69px}.table-label-cell[_ngcontent-%COMP%]{background-color:#f4f4f4}.save-icon[_ngcontent-%COMP%]{cursor:pointer}.image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid rgb(224,224,224);padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid rgb(241,241,241);padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.flip-card[_ngcontent-%COMP%]{background-color:#fff;width:145px;height:240px;border:1px solid #f1f1f1;perspective:1000px}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .8s;transform-style:preserve-3d}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#fff;color:#000}.flip-card-back[_ngcontent-%COMP%]{background-color:#b9b9b9;color:#000;transform:rotateY(180deg);padding:6px;font-size:smaller}.image-box[_ngcontent-%COMP%]{width:100%;height:100%}.warning[_ngcontent-%COMP%]{background-color:#ffa600d5;color:#000;padding:9px;margin-bottom:1rem}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .example-button-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.attributes-bullets[_ngcontent-%COMP%]{list-style-type:none}.loadingInfo[_ngcontent-%COMP%]{float:right}.category-chechbox[_ngcontent-%COMP%]{list-style:none}@media only screen and (min-width: 768px){.flip-card[_ngcontent-%COMP%]{width:100px;height:240px}}@media only screen and (min-width: 992px){.flip-card[_ngcontent-%COMP%]{width:120px;height:240px}.mat-chip-list[_ngcontent-%COMP%]{font-size:10px!important}}"]}),n})()}];let fC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[P.Bz.forChild(_C),P.Bz]}),n})(),mC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[y.ez,q.BQ,mC,jt.eL]}),n})();var xC=b(3683),CC=b(6469);class vC{constructor(){this.routesToCache=[""],this.storedRouteHandles=new Map}shouldDetach(i){return this.routesToCache.indexOf(i.routeConfig.path)>-1}store(i,e){this.storedRouteHandles.set(i.routeConfig.path,e)}shouldAttach(i){return this.storedRouteHandles.has(i.routeConfig.path)}retrieve(i){return this.storedRouteHandles.get(i.routeConfig.path)}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}var yC=b(4409);let PC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:P.wN,useClass:vC}],imports:[y.ez,fC,pm,E.lN,f.p0,C.TU,gt.Ps,Yi.ie,Q.c,E.lN,T.u5,T.UX,ct.ot,V.Nh,G.LD,K.QW,wb,F.ZX,bC,Xr.Cq,te.Cv,w.JX,ye.JB,Hn.Tx,pe.p9,mi.Bb,xC.g0,bd,$.N6,eo.g,pe.p9,nn.AV,CC.i,kb,yC.OI]}),n})()},4901:tt=>{"use strict";var k={single_source_shortest_paths:function(b,y,P){var x={},C={};C[y]=0;var f,t,M,N,L,R,w=k.PriorityQueue.make();for(w.push(y,0);!w.empty();)for(M in N=(f=w.pop()).cost,L=b[t=f.value]||{})L.hasOwnProperty(M)&&(R=N+L[M],(typeof C[M]>"u"||C[M]>R)&&(C[M]=R,w.push(M,R),x[M]=t));if(typeof P<"u"&&typeof C[P]>"u"){var W=["Could not find a path from ",y," to ",P,"."].join("");throw new Error(W)}return x},extract_shortest_path_from_predecessor_list:function(b,y){for(var P=[],x=y;x;)P.push(x),x=b[x];return P.reverse(),P},find_path:function(b,y,P){var x=k.single_source_shortest_paths(b,y,P);return k.extract_shortest_path_from_predecessor_list(x,P)},PriorityQueue:{make:function(b){var x,y=k.PriorityQueue,P={};for(x in b=b||{},y)y.hasOwnProperty(x)&&(P[x]=y[x]);return P.queue=[],P.sorter=b.sorter||y.default_sorter,P},default_sorter:function(b,y){return b.cost-y.cost},push:function(b,y){this.queue.push({value:b,cost:y}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};tt.exports=k},8419:tt=>{"use strict";tt.exports=function(b){for(var y=[],P=b.length,x=0;x<P;x++){var C=b.charCodeAt(x);if(C>=55296&&C<=56319&&P>x+1){var w=b.charCodeAt(x+1);w>=56320&&w<=57343&&(C=1024*(C-55296)+w-56320+65536,x+=1)}C<128?y.push(C):C<2048?(y.push(C>>6|192),y.push(63&C|128)):C<55296||C>=57344&&C<65536?(y.push(C>>12|224),y.push(C>>6&63|128),y.push(63&C|128)):C>=65536&&C<=1114111?(y.push(C>>18|240),y.push(C>>12&63|128),y.push(C>>6&63|128),y.push(63&C|128)):y.push(239,191,189)}return new Uint8Array(y).buffer}},4327:function(tt,k){var P;void 0!==(P=function(){"use strict";function C(L,F,R){var I=new XMLHttpRequest;I.open("GET",L),I.responseType="blob",I.onload=function(){N(I.response,F,R)},I.onerror=function(){console.error("could not download file")},I.send()}function w(L){var F=new XMLHttpRequest;F.open("HEAD",L,!1);try{F.send()}catch{}return 200<=F.status&&299>=F.status}function f(L){try{L.dispatchEvent(new MouseEvent("click"))}catch{var F=document.createEvent("MouseEvents");F.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(F)}}var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,M=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),N=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!M?function(L,F,R){var I=t.URL||t.webkitURL,J=document.createElement("a");J.download=F=F||L.name||"download",J.rel="noopener","string"==typeof L?(J.href=L,J.origin===location.origin?f(J):w(J.href)?C(L,F,R):f(J,J.target="_blank")):(J.href=I.createObjectURL(L),setTimeout(function(){I.revokeObjectURL(J.href)},4e4),setTimeout(function(){f(J)},0))}:"msSaveOrOpenBlob"in navigator?function(L,F,R){if(F=F||L.name||"download","string"!=typeof L)navigator.msSaveOrOpenBlob(function x(L,F){return typeof F>"u"?F={autoBom:!1}:"object"!=typeof F&&(console.warn("Deprecated: Expected third argument to be a object"),F={autoBom:!F}),F.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob(["\ufeff",L],{type:L.type}):L}(L,R),F);else if(w(L))C(L,F,R);else{var I=document.createElement("a");I.href=L,I.target="_blank",setTimeout(function(){f(I)})}}:function(L,F,R,I){if((I=I||open("","_blank"))&&(I.document.title=I.document.body.innerText="downloading..."),"string"==typeof L)return C(L,F,R);var J="application/octet-stream"===L.type,W=/constructor/i.test(t.HTMLElement)||t.safari,ct=/CriOS\/[\d]+/.test(navigator.userAgent);if((ct||J&&W||M)&&typeof FileReader<"u"){var X=new FileReader;X.onloadend=function(){var E=X.result;E=ct?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=E:location=E,I=null},X.readAsDataURL(L)}else{var et=t.URL||t.webkitURL,T=et.createObjectURL(L);I?I.location=T:location.href=T,I=null,setTimeout(function(){et.revokeObjectURL(T)},4e4)}});t.saveAs=N.saveAs=N,tt.exports=N}.apply(k,[]))&&(tt.exports=P)}}]);