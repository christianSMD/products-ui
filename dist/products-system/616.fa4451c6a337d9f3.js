(self.webpackChunkproducts_system=self.webpackChunkproducts_system||[]).push([[616],{2616:(va,ro,ne)=>{"use strict";ne.r(ro),ne.d(ro,{ProductsModule:()=>gl});var Ce=ne(9808),wi=ne(1083),Gt=ne(3075),t=ne(5e3),ei=ne(1038),Te=ne(5146),Rt=ne(7261),se=ne(1357),xe=ne(9224),Ot=ne(3251),Lt=ne(4834),_t=ne(3874),gt=ne(7322),Ht=ne(7531),Bt=ne(7423),Ct=ne(4107),tt=ne(508),et=ne(3954);let st=(()=>{class s{transform(e,r){let m=[];for(let y=0;y<e.length;y++)e[y].parent==r&&m.push(e[y]);return m}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"parent",type:s,pure:!0}),s})();function ct(s,c){1&s&&t._uU(0," Manage Categories ")}function bt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(6).selectCategory(y.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit;t.xp6(1),t.hij("",e.name," ")}}function yt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(5).selectCategory(y.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,bt,5,1,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(5);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function kt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(4).selectCategory(y.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,yt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(4);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Zt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(3).selectCategory(y.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,kt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(3);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function zt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(2).selectCategory(y.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Zt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Xt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw().selectCategory(y.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,zt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function te(s,c){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"mat-form-field",36),t.TgZ(3,"mat-label"),t._uU(4,"Attribute Name"),t.qZA(),t._UZ(5,"input",37),t.qZA(),t.TgZ(6,"button",38),t.NdJ("click",function(){const y=t.CHM(e).index;return t.oxw(2).removeNewAttribute(y)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function ft(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"mat-card",5),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"div",19),t.TgZ(6,"form",26),t.ynx(7,28),t.YNc(8,te,9,1,"ng-container",8),t.BQk(),t.TgZ(9,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(10,"mat-icon"),t._uU(11,"add_circle_outline"),t.qZA(),t._uU(12," Add Field "),t.qZA(),t.TgZ(13,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("update")}),t._uU(14,"Save Attributes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(3),t.hij("",e.selectedCatName," Attributes"),t.xp6(3),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls)}}function we(s,c){if(1&s&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ie(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"add_circle_outline"),t.qZA(),t._uU(2," New Category "))}function Ut(s,c){if(1&s&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Tt(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("",e.newCategoryName," Attributes")}}function ie(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," attribute")}}function ae(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," Attributes")}}function Se(s,c){if(1&s&&(t.TgZ(0,"div",35),t.TgZ(1,"mat-grid-list",41),t.TgZ(2,"mat-grid-tile"),t.TgZ(3,"mat-form-field",12),t.TgZ(4,"mat-label"),t._uU(5,"Attribute Name"),t.qZA(),t._UZ(6,"input",37),t.qZA(),t.qZA(),t._UZ(7,"mat-grid-tile"),t.qZA(),t.qZA()),2&s){const e=t.oxw().index;t.Q6J("formGroupName",e)}}function ye(s,c){if(1&s&&(t.ynx(0),t._uU(1),t.YNc(2,Se,8,1,"div",40),t.BQk()),2&s){const e=c.index,r=t.oxw();t.xp6(1),t.hij(" ",r.hasValue()," "),t.xp6(1),t.Q6J("ngIf",e>=r.tempLength)}}function Ne(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("new")}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.disableSaveAttrBtn),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}let Oe=(()=>{class s{constructor(e,r,m,y,q){this.navbar=e,this.api=r,this.formBuilder=m,this._snackBar=y,this.info=q,this.newCategoryId=0,this.newCategoryName="",this.categoriesList=[],this.attributesFields=[],this.selectedCatName="",this.selectedCatId=0,this.selectedCatParentId="",this.selectedCatParentName="",this.currentStep=1,this.disableSaveCatBtn=!1,this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.saveCatBtnText="Save Category",this.saveAttrBtnText="Save Attributes",this.goToCategoriesBtn=!1,this.hasParent=!1,this.roles=[],this.permission=!1,this.tempLength=0}ngOnInit(){this.info.auth(),this.attrCount=0,this.navbar.show(),this.getAllCategories(),this.selectCategory(205),this.permission=this.info.role(60),this.addCategory=this.formBuilder.group({name:["",Gt.kI.required],parent:[""]}),this.updateCategory=this.formBuilder.group({name:[""],parent:[""]}),this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("cats",e),this.categoriesList=e},error:e=>{alert(e)}})}addNewCategory(){this.addCategory.valid?(this.disableSaveCatBtn=!0,this.saveCatBtnText="Saving...",this.api.POST("categories",this.addCategory.value).subscribe({next:e=>{console.log(e.id),this.newCategoryId=e.id,this.newCategoryName=e.name,this.disableAddAttrBtn=!1,this.disableSaveAttrBtn=!1,this.info.activity(`Added a new category: ${e.name}`,0),this.saveCatBtnText="Category Saved",this.getAllCategories(),this.openSnackBar(e.name+" Added","Okay")},error:e=>{console.log("AddNewCategory Error: "+e.message),this.openSnackBar("Failed to save category. Please try again or contact Administrator.","Okay"),this.disableSaveCatBtn=!1,this.saveCatBtnText="Failed. Try again"}})):console.log("Form input invalid.")}get attributes(){return this.categoryForm.get("attributes")}addNewAttribute(){const e=this.formBuilder.group({attrName:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}updateAttributes(e){if(this.attributes.valid){this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.goToCategoriesBtn=!0,this.saveAttrBtnText="Saving...";let r=[];for(let y=0;y<this.categoryForm.value.attributes.length;y++)r.push(this.categoryForm.value.attributes[y].attrName);let m="new"==e?this.newCategoryId:this.selectedCatId;this.api.POST(`categories/update/${m}`,r).subscribe({next:y=>{this.saveAttrBtnText="Attributes Saved",this.openSnackBar(this.attrCount+" attribute(s) added","Okay"),this.info.activity(`Updated attributes for category: ${m}`,0),this.getAllCategories()},error:y=>{this.openSnackBar(y.message,"Okay")}})}else this.openSnackBar("Please enter value","Okay")}updateParent(){console.log("updating: "+this.selectedCatId),this.api.POST(`categories/update-parent/${this.selectedCatId}`,this.updateCategory.value).subscribe({next:e=>{console.log(e),this.getAllCategories()},error:e=>{this.openSnackBar(e.message,"Okay")}})}selectCategory(e){this.clearSelectedCat(),console.log(e);try{let r=this.categoriesList.find(y=>y.id===e),m=null==r?void 0:r.attributes;m=JSON.parse(m),this.attributesFields=m,console.log("Fields: ",this.attributesFields),this.selectedCatId=null==r?void 0:r.id,this.selectedCatName=null==r?void 0:r.name,this.selectedCatParentId=null==r?void 0:r.parent,this.getParent(parseInt(this.selectedCatParentId));for(let y=0;y<this.attributesFields.length;y++){const q=this.formBuilder.group({attrName:[this.attributesFields[y]]});this.attributes.push(q)}}catch(r){console.log(r)}}getParent(e){if(e>0){let r=this.categoriesList.find(m=>m.id===e);this.selectedCatParentName=null==r?void 0:r.name,this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,Gt.kI.required],parent:[{value:this.selectedCatParentName,disabled:!1}]})}else this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,Gt.kI.required],parent:[{value:"",disabled:!1}]})}openSnackBar(e,r){this._snackBar.open(e,r)}clearSelectedCat(){this.getAllCategories(),this.selectedCatId=0,this.selectedCatName="",this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}selectParentCategory(e){this.hasParent=!0}refresh(){location.reload()}hasValue(){}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ei.I),t.Y36(Te.s),t.Y36(Gt.qu),t.Y36(Rt.ux),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-categories"]],decls:81,vars:22,consts:[["routerLink","../../"],["dynamicHeight","",3,"selectedTabChange"],["mat-tab-label",""],[1,"row"],[1,"col-md-4"],[2,"margin-top","1rem","margin-bottom","9rem"],[2,"margin-top","2rem","font-size","small"],[1,"catList"],[4,"ngFor","ngForOf"],["class","col-md-4 show",4,"ngIf"],[1,"col-md-4","show",3,"hidden"],[2,"margin-top","2rem",3,"formGroup"],["appearance","outline",2,"width","100%"],["name","name","matInput","","formControlName","name","placeholder","Edit Category Name",1,"capitalize"],["name","categories","formControlName","parent",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"click"],[3,"disabled"],[1,"col-md-5"],[2,"margin-top","2rem"],[3,"formGroup","ngSubmit"],["cols","3","rowHeight","80px"],["name","category_name","matInput","","formControlName","name","placeholder","Enter Category Name","required","",1,"capitalize"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"disabled"],[1,"col-md-7"],[4,"ngIf"],[3,"formGroup"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem","margin-bottom","1rem",3,"disabled","click"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","primary",2,"margin-left","1rem",3,"hidden","click"],[3,"click"],[1,"edit"],[1,"col-md-4","show"],["mat-raised-button","","type","button","color","basic",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[3,"formGroupName"],["appearance","outline"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","E.g. colour","required","",1,"capitalize"],["mat-mini-fab","","type","button","color","warn",2,"margin-left","1rem",3,"click"],[3,"value"],[3,"formGroupName",4,"ngIf"],["cols","2","rowHeight","80px"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Categories\n"),t.qZA(),t.TgZ(4,"mat-card"),t.TgZ(5,"mat-tab-group",1),t.NdJ("selectedTabChange",function(){return r.clearSelectedCat()}),t.TgZ(6,"mat-tab"),t.YNc(7,ct,1,0,"ng-template",2),t.TgZ(8,"div",3),t.TgZ(9,"div",4),t.TgZ(10,"mat-card",5),t.TgZ(11,"h2"),t._uU(12,"Categories"),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"div",6),t.TgZ(15,"ul",7),t.YNc(16,Xt,8,5,"li",8),t.ALo(17,"parent"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,ft,15,3,"div",9),t.TgZ(19,"div",10),t.TgZ(20,"mat-card",5),t.TgZ(21,"h2"),t._uU(22),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"form",11),t.TgZ(25,"mat-form-field",12),t.TgZ(26,"mat-label"),t._uU(27,"Category Name"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field",12),t.TgZ(30,"mat-label"),t._uU(31,"Parent Category"),t.qZA(),t.TgZ(32,"mat-select",14),t.NdJ("selectionChange",function(y){return r.selectParentCategory(y)}),t.YNc(33,we,2,2,"mat-option",15),t.qZA(),t.qZA(),t.TgZ(34,"button",16),t.NdJ("click",function(){return r.updateParent()}),t._uU(35,"Save Details"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"mat-tab",17),t.YNc(37,Ie,3,0,"ng-template",2),t.TgZ(38,"div",3),t.TgZ(39,"div",18),t.TgZ(40,"mat-card",5),t.TgZ(41,"h2"),t._uU(42,"New Category"),t.qZA(),t._UZ(43,"mat-divider"),t.TgZ(44,"div",19),t.TgZ(45,"form",20),t.NdJ("ngSubmit",function(){return r.addNewCategory()}),t.TgZ(46,"mat-grid-list",21),t.TgZ(47,"mat-grid-tile"),t.TgZ(48,"mat-form-field",12),t.TgZ(49,"mat-label"),t._uU(50,"Category Name"),t.qZA(),t._UZ(51,"input",22),t.qZA(),t.qZA(),t.TgZ(52,"mat-grid-tile"),t.TgZ(53,"mat-form-field",12),t.TgZ(54,"mat-label"),t._uU(55,"Parent Category"),t.qZA(),t.TgZ(56,"mat-select",14),t.NdJ("selectionChange",function(y){return r.selectParentCategory(y)}),t.YNc(57,Ut,2,2,"mat-option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"mat-grid-tile"),t.TgZ(59,"button",23),t._uU(60),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",24),t.TgZ(62,"mat-card",5),t.TgZ(63,"h2"),t.YNc(64,Tt,2,1,"span",25),t.YNc(65,ie,2,1,"span",25),t.YNc(66,ae,2,1,"span",25),t.qZA(),t._UZ(67,"mat-divider"),t.TgZ(68,"div",19),t.TgZ(69,"form",26),t.TgZ(70,"button",27),t.NdJ("click",function(){return r.addNewAttribute()}),t.TgZ(71,"mat-icon"),t._uU(72,"add_circle_outline"),t.qZA(),t._uU(73," Add Attribute "),t.qZA(),t.ynx(74,28),t.YNc(75,ye,3,2,"ng-container",8),t.BQk(),t.YNc(76,Ne,3,2,"div",25),t._UZ(77,"br"),t._UZ(78,"br"),t.TgZ(79,"button",29),t.NdJ("click",function(){return r.refresh()}),t._uU(80,"Go To Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",t.xi3(17,19,r.categoriesList,"0")),t.xp6(2),t.Q6J("ngIf",""!==r.selectedCatName),t.xp6(1),t.Q6J("hidden",""==r.selectedCatName),t.xp6(3),t.hij("",r.selectedCatName," Details"),t.xp6(2),t.Q6J("formGroup",r.updateCategory),t.xp6(9),t.Q6J("ngForOf",r.categoriesList),t.xp6(3),t.Q6J("disabled",!r.permission),t.xp6(9),t.Q6J("formGroup",r.addCategory),t.xp6(12),t.Q6J("ngForOf",r.categoriesList),t.xp6(2),t.Q6J("disabled",r.disableSaveCatBtn),t.xp6(1),t.Oqu(r.saveCatBtnText),t.xp6(4),t.Q6J("ngIf",r.attrCount<1),t.xp6(1),t.Q6J("ngIf",1==r.attrCount),t.xp6(1),t.Q6J("ngIf",r.attrCount>1),t.xp6(3),t.Q6J("formGroup",r.categoryForm),t.xp6(1),t.Q6J("disabled",r.disableAddAttrBtn),t.xp6(5),t.Q6J("ngForOf",r.attributes.controls),t.xp6(1),t.Q6J("ngIf",r.attrCount>0),t.xp6(3),t.Q6J("hidden",!r.goToCategoriesBtn))},directives:[wi.yS,xe.a8,Ot.SP,Ot.uX,Ot.uD,Lt.d,Ce.sg,_t.Hw,Ce.O5,Gt._Y,Gt.JL,Gt.sg,Gt.CE,Gt.x0,gt.KE,gt.hX,Ht.Nt,Gt.Fj,Gt.JJ,Gt.u,Gt.Q7,Bt.lW,Ct.gD,tt.ey,et.Il,et.DX],pipes:[st],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.catList[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:larger;text-transform:uppercase}.step-active[_ngcontent-%COMP%]{background-color:#28e3fc;border-radius:50%;padding:4px 10px}.step-inactive[_ngcontent-%COMP%]{background-color:#d4ddd8;color:#8d8d8d;border-radius:50%;padding:4px 10px}.step-done[_ngcontent-%COMP%]{background-color:#2dc954;color:#fff;border-radius:50%;padding:4px 10px}ul[_ngcontent-%COMP%]{line-height:2rem;list-style-type:square}li[_ngcontent-%COMP%]:hover{color:#d3526a}.edit[_ngcontent-%COMP%]{font-size:medium;cursor:pointer}.show[_ngcontent-%COMP%]{transition-timing-function:ease-in}"]}),s})();var Ze=ne(6087),Me=ne(4847),$t=ne(8279),an=ne(631),Vi=ne(6689),nn=ne(776),Ii=ne(5664),Jn=ne(5899),vr=ne(7877);function oc(s,c){1&s&&t._UZ(0,"mat-progress-bar",24)}function ac(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1," SKU "),t.qZA())}function ba(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function Pl(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1," Name "),t.qZA())}function sc(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function os(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Short description"),t.qZA())}function as(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.shortDescription," ")}}function kl(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Description"),t.qZA())}function Sl(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Nl(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Categories"),t.qZA())}function Ll(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setProductCategories(e.id)," ")}}function br(s,c){1&s&&t._UZ(0,"tr",27)}function ss(s,c){1&s&&t._UZ(0,"tr",28)}function oo(s,c){if(1&s&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",30),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const ku=function(){return[10,25,100]};let Su=(()=>{class s extends an._k{constructor(e,r,m,y,q,nt,Wt,he){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=y,this.api=q,this._snackBar=nt,this._liveAnnouncer=Wt,this.info=he,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.displayedColumns=["sku","name","shortDescription","description","categories"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(ke=>{this.loggedIn=ke})}ngOnInit(){this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getImages(),this.getProductCategories(),this.getAllCategories(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log(e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("Categories",e),this.categoriesList=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getImages(){this.productsLoader=!0,this.api.GET("images").subscribe({next:e=>{console.log(e),this.images=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}productImages(e){return this.images.filter(r=>r.product_id==e)}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{console.log(e),this.typesList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getProductCategories(){this.api.GET("product-categories").subscribe({next:e=>{console.log("Products categories",e),this.productCategoryList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}setAttributesName(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrName:""}setAttributesValue(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrValue:""}setProductCategories(e){let r=[],m=[];for(let q=0;q<this.productCategoryList.length;q++)this.productCategoryList[q].product_id==e&&r.push(this.productCategoryList[q].category_id);for(let q=0;q<r.length;q++)try{let nt=this.categoriesList.find(Wt=>Wt.id==r[q]);m.push(nt.name)}catch(nt){return""}return m}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ei.I),t.Y36(Vi.Z),t.Y36(ei.I),t.Y36(nn.r),t.Y36(Te.s),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-export-csv"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ze.NW,5),t.Gf(Me.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:44,vars:6,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",3,"click"],["mat-raised-button","","disabled","",1,"m-1"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","sku"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","categories"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"button",2),t.TgZ(9,"mat-icon"),t._uU(10,"file_upload"),t.qZA(),t._uU(11," Import Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(q){return r.applyFilter(q)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,oc,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(q){return r.announceSortChange(q)}),t.ynx(25,13),t.YNc(26,ac,2,0,"th",14),t.YNc(27,ba,2,1,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,Pl,2,0,"th",14),t.YNc(30,sc,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,os,2,0,"th",14),t.YNc(33,as,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,kl,2,0,"th",14),t.YNc(36,Sl,2,1,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,Nl,2,0,"th",14),t.YNc(39,Ll,2,1,"td",15),t.BQk(),t.YNc(40,br,1,0,"tr",20),t.YNc(41,ss,1,0,"tr",21),t.YNc(42,oo,3,1,"tr",22),t.qZA(),t._UZ(43,"mat-paginator",23),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(22),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,ku)))},directives:[wi.yS,Bt.lW,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ce.O5,Jn.pW,$t.BZ,vr.jt,Me.YE,$t.w1,$t.fO,$t.ge,Me.nU,$t.Dz,$t.ev,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ze.NW],styles:[""]}),s})();function Tn(s,c){1&s&&t._UZ(0,"mat-progress-bar",69)}function Bi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Type "),t.qZA())}function Ui(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," simple "),t.qZA())}function cc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," SKU "),t.qZA())}function lc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function uc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Name "),t.qZA())}function hc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function dc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Published "),t.qZA())}function pc(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 1 "),t.qZA())}function Nu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Is featured? "),t.qZA())}function Lu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Zu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Visibility in catalog"),t.qZA())}function Zl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," visible "),t.qZA())}function ya(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Short description"),t.qZA())}function Du(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.shortDescription," ")}}function Iu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Description"),t.qZA())}function fc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Yo(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Tax status"),t.qZA())}function Mu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"taxable"),t.qZA())}function Ou(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"In stock?"),t.qZA())}function Fu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function gc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Weight (kg)"),t.qZA())}function Eu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function qu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Length (cm)"),t.qZA())}function Dl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function cs(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Width (cm)"),t.qZA())}function Ru(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Bu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Height (cm)"),t.qZA())}function Uu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Jo(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Regular Price"),t.qZA())}function ju(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Hu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Allow customer reviews?"),t.qZA())}function Il(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function xa(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Categories"),t.qZA())}function zu(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setProductCategories(e.id)," ")}}function Yu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Tags"),t.qZA())}function Ju(s,c){1&s&&t._UZ(0,"td",71)}function Vu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Images "),t.qZA())}function ls(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hij("",r.storageUrl+e.path.replace("public/",""),", ")}}function mc(s,c){if(1&s&&(t.TgZ(0,"td",71),t.YNc(1,ls,2,1,"span",72),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.productImages(e.id))}}function Ml(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Parent"),t.qZA())}function _c(s,c){1&s&&t._UZ(0,"td",71)}function vc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 name "),t.qZA())}function Ol(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,0)," ")}}function wa(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 value(s) "),t.qZA())}function bc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,0)," ")}}function Wu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 visible "),t.qZA())}function Gu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Qu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 name "),t.qZA())}function $u(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,1)," ")}}function Re(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 value(s) "),t.qZA())}function us(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,1)," ")}}function di(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 visible "),t.qZA())}function hs(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function yc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 name "),t.qZA())}function Aa(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,2)," ")}}function Vo(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 value(s) "),t.qZA())}function ds(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,2)," ")}}function qr(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 visible "),t.qZA())}function xc(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function ps(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 name "),t.qZA())}function Ca(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,3)," ")}}function Wi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 value(s) "),t.qZA())}function Gi(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,3)," ")}}function Qi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 visible "),t.qZA())}function $i(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function wc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 name "),t.qZA())}function Fl(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,4)," ")}}function Ac(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 value(s) "),t.qZA())}function El(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,4)," ")}}function ql(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 visible "),t.qZA())}function fs(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Rl(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 name "),t.qZA())}function yr(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,5)," ")}}function gs(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 value(s) "),t.qZA())}function Cc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,5)," ")}}function ao(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 visible "),t.qZA())}function so(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Tc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 name "),t.qZA())}function Wo(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,6)," ")}}function Pc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 value(s) "),t.qZA())}function xr(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,6)," ")}}function Rr(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 visible "),t.qZA())}function Fe(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ci(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 name "),t.qZA())}function ms(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,7)," ")}}function Br(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 value(s) "),t.qZA())}function co(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,7)," ")}}function Ye(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 visible "),t.qZA())}function wr(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function sn(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 name "),t.qZA())}function kc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,8)," ")}}function Vn(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 value(s)"),t.qZA())}function Bl(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,8)," ")}}function Ul(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 visible "),t.qZA())}function jl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Si(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 name "),t.qZA())}function Ni(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,5)," ")}}function Li(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 value(s) "),t.qZA())}function Hl(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,9)," ")}}function zl(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 visible "),t.qZA())}function _s(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ta(s,c){1&s&&t._UZ(0,"tr",73)}function Yl(s,c){1&s&&t._UZ(0,"tr",74)}function Jl(s,c){if(1&s&&(t.TgZ(0,"tr",75),t.TgZ(1,"td",76),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Vl=function(){return[10,25,100]};let Wl=(()=>{class s extends an._k{constructor(e,r,m,y,q,nt,Wt,he){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=y,this.api=q,this._snackBar=nt,this._liveAnnouncer=Wt,this.info=he,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.displayedColumns=["type","sku","name","published","featured","visibility","shortDescription","description","tax","inStock","weight","width","height","price","reviews","categories","tags","images","parent","attr1Name","attr1Value","attr2Name","attr2Value","attr3Name","attr3Value","attr4Name","attr4Value","attr5Name","attr5Value","attr6Name","attr6Value","attr7Name","attr7Value","attr8Name","attr8Value","attr9Name","attr9Value","attr10Name","attr10Value"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(ke=>{this.loggedIn=ke})}ngOnInit(){console.log("EXPORT"),this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getImages(),this.getProductCategories(),this.getAllCategories(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log(e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("Categories",e),this.categoriesList=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getImages(){this.productsLoader=!0,this.api.GET("images").subscribe({next:e=>{console.log(e),this.images=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}productImages(e){return this.images.filter(r=>r.product_id==e)}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{console.log(e),this.typesList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getProductCategories(){this.api.GET("product-categories").subscribe({next:e=>{console.log("Products categories",e),this.productCategoryList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}setAttributesName(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrName:""}setAttributesValue(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrValue:""}setProductCategories(e){let r=[],m=[];for(let q=0;q<this.productCategoryList.length;q++)this.productCategoryList[q].product_id==e&&r.push(this.productCategoryList[q].category_id);for(let q=0;q<r.length;q++)try{let nt=this.categoriesList.find(Wt=>Wt.id==r[q]);m.push(nt.name)}catch(nt){return""}return m}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ei.I),t.Y36(Vi.Z),t.Y36(ei.I),t.Y36(nn.r),t.Y36(Te.s),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-export"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ze.NW,5),t.Gf(Me.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:179,vars:6,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",3,"click"],["mat-raised-button","","disabled","",1,"m-1"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","published"],["matColumnDef","featured"],["matColumnDef","visibility"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","tax"],["matColumnDef","inStock"],["matColumnDef","weight"],["matColumnDef","length"],["matColumnDef","width"],["matColumnDef","height"],["matColumnDef","price"],["matColumnDef","reviews"],["matColumnDef","categories"],["matColumnDef","tags"],["matColumnDef","images"],["matColumnDef","parent"],["matColumnDef","attr1Name"],["matColumnDef","attr1Value"],["matColumnDef","attr1Visible"],["matColumnDef","attr2Name"],["matColumnDef","attr2Value"],["matColumnDef","attr2Visible"],["matColumnDef","attr3Name"],["matColumnDef","attr3Value"],["matColumnDef","attr3Visible"],["matColumnDef","attr4Name"],["matColumnDef","attr4Value"],["matColumnDef","attr4Visible"],["matColumnDef","attr5Name"],["matColumnDef","attr5Value"],["matColumnDef","attr5Visible"],["matColumnDef","attr6Name"],["matColumnDef","attr6Value"],["matColumnDef","attr6Visible"],["matColumnDef","attr7Name"],["matColumnDef","attr7Value"],["matColumnDef","attr7Visible"],["matColumnDef","attr8Name"],["matColumnDef","attr8Value"],["matColumnDef","attr8Visible"],["matColumnDef","attr9Name"],["matColumnDef","attr9Value"],["matColumnDef","attr9Visible"],["matColumnDef","attr10Name"],["matColumnDef","attr10Value"],["matColumnDef","attr10Visible"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"button",2),t.TgZ(9,"mat-icon"),t._uU(10,"file_upload"),t.qZA(),t._uU(11," Import Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(q){return r.applyFilter(q)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,Tn,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(q){return r.announceSortChange(q)}),t.ynx(25,13),t.YNc(26,Bi,2,0,"th",14),t.YNc(27,Ui,2,0,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,cc,2,0,"th",14),t.YNc(30,lc,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,uc,2,0,"th",14),t.YNc(33,hc,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,dc,2,0,"th",14),t.YNc(36,pc,2,0,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,Nu,2,0,"th",14),t.YNc(39,Lu,2,0,"td",15),t.BQk(),t.ynx(40,20),t.YNc(41,Zu,2,0,"th",14),t.YNc(42,Zl,2,0,"td",15),t.BQk(),t.ynx(43,21),t.YNc(44,ya,2,0,"th",14),t.YNc(45,Du,2,1,"td",15),t.BQk(),t.ynx(46,22),t.YNc(47,Iu,2,0,"th",14),t.YNc(48,fc,2,1,"td",15),t.BQk(),t.ynx(49,23),t.YNc(50,Yo,2,0,"th",14),t.YNc(51,Mu,2,0,"td",15),t.BQk(),t.ynx(52,24),t.YNc(53,Ou,2,0,"th",14),t.YNc(54,Fu,2,0,"td",15),t.BQk(),t.ynx(55,25),t.YNc(56,gc,2,0,"th",14),t.YNc(57,Eu,2,0,"td",15),t.BQk(),t.ynx(58,26),t.YNc(59,qu,2,0,"th",14),t.YNc(60,Dl,2,0,"td",15),t.BQk(),t.ynx(61,27),t.YNc(62,cs,2,0,"th",14),t.YNc(63,Ru,2,0,"td",15),t.BQk(),t.ynx(64,28),t.YNc(65,Bu,2,0,"th",14),t.YNc(66,Uu,2,0,"td",15),t.BQk(),t.ynx(67,29),t.YNc(68,Jo,2,0,"th",14),t.YNc(69,ju,2,0,"td",15),t.BQk(),t.ynx(70,30),t.YNc(71,Hu,2,0,"th",14),t.YNc(72,Il,2,0,"td",15),t.BQk(),t.ynx(73,31),t.YNc(74,xa,2,0,"th",14),t.YNc(75,zu,2,1,"td",15),t.BQk(),t.ynx(76,32),t.YNc(77,Yu,2,0,"th",14),t.YNc(78,Ju,1,0,"td",15),t.BQk(),t.ynx(79,33),t.YNc(80,Vu,2,0,"th",14),t.YNc(81,mc,2,1,"td",15),t.BQk(),t.ynx(82,34),t.YNc(83,Ml,2,0,"th",14),t.YNc(84,_c,1,0,"td",15),t.BQk(),t.ynx(85,35),t.YNc(86,vc,2,0,"th",14),t.YNc(87,Ol,2,1,"td",15),t.BQk(),t.ynx(88,36),t.YNc(89,wa,2,0,"th",14),t.YNc(90,bc,2,1,"td",15),t.BQk(),t.ynx(91,37),t.YNc(92,Wu,2,0,"th",14),t.YNc(93,Gu,2,0,"td",15),t.BQk(),t.ynx(94,38),t.YNc(95,Qu,2,0,"th",14),t.YNc(96,$u,2,1,"td",15),t.BQk(),t.ynx(97,39),t.YNc(98,Re,2,0,"th",14),t.YNc(99,us,2,1,"td",15),t.BQk(),t.ynx(100,40),t.YNc(101,di,2,0,"th",14),t.YNc(102,hs,2,0,"td",15),t.BQk(),t.ynx(103,41),t.YNc(104,yc,2,0,"th",14),t.YNc(105,Aa,2,1,"td",15),t.BQk(),t.ynx(106,42),t.YNc(107,Vo,2,0,"th",14),t.YNc(108,ds,2,1,"td",15),t.BQk(),t.ynx(109,43),t.YNc(110,qr,2,0,"th",14),t.YNc(111,xc,2,0,"td",15),t.BQk(),t.ynx(112,44),t.YNc(113,ps,2,0,"th",14),t.YNc(114,Ca,2,1,"td",15),t.BQk(),t.ynx(115,45),t.YNc(116,Wi,2,0,"th",14),t.YNc(117,Gi,2,1,"td",15),t.BQk(),t.ynx(118,46),t.YNc(119,Qi,2,0,"th",14),t.YNc(120,$i,2,0,"td",15),t.BQk(),t.ynx(121,47),t.YNc(122,wc,2,0,"th",14),t.YNc(123,Fl,2,1,"td",15),t.BQk(),t.ynx(124,48),t.YNc(125,Ac,2,0,"th",14),t.YNc(126,El,2,1,"td",15),t.BQk(),t.ynx(127,49),t.YNc(128,ql,2,0,"th",14),t.YNc(129,fs,2,0,"td",15),t.BQk(),t.ynx(130,50),t.YNc(131,Rl,2,0,"th",14),t.YNc(132,yr,2,1,"td",15),t.BQk(),t.ynx(133,51),t.YNc(134,gs,2,0,"th",14),t.YNc(135,Cc,2,1,"td",15),t.BQk(),t.ynx(136,52),t.YNc(137,ao,2,0,"th",14),t.YNc(138,so,2,0,"td",15),t.BQk(),t.ynx(139,53),t.YNc(140,Tc,2,0,"th",14),t.YNc(141,Wo,2,1,"td",15),t.BQk(),t.ynx(142,54),t.YNc(143,Pc,2,0,"th",14),t.YNc(144,xr,2,1,"td",15),t.BQk(),t.ynx(145,55),t.YNc(146,Rr,2,0,"th",14),t.YNc(147,Fe,2,0,"td",15),t.BQk(),t.ynx(148,56),t.YNc(149,Ci,2,0,"th",14),t.YNc(150,ms,2,1,"td",15),t.BQk(),t.ynx(151,57),t.YNc(152,Br,2,0,"th",14),t.YNc(153,co,2,1,"td",15),t.BQk(),t.ynx(154,58),t.YNc(155,Ye,2,0,"th",14),t.YNc(156,wr,2,0,"td",15),t.BQk(),t.ynx(157,59),t.YNc(158,sn,2,0,"th",14),t.YNc(159,kc,2,1,"td",15),t.BQk(),t.ynx(160,60),t.YNc(161,Vn,2,0,"th",14),t.YNc(162,Bl,2,1,"td",15),t.BQk(),t.ynx(163,61),t.YNc(164,Ul,2,0,"th",14),t.YNc(165,jl,2,0,"td",15),t.BQk(),t.ynx(166,62),t.YNc(167,Si,2,0,"th",14),t.YNc(168,Ni,2,1,"td",15),t.BQk(),t.ynx(169,63),t.YNc(170,Li,2,0,"th",14),t.YNc(171,Hl,2,1,"td",15),t.BQk(),t.ynx(172,64),t.YNc(173,zl,2,0,"th",14),t.YNc(174,_s,2,0,"td",15),t.BQk(),t.YNc(175,Ta,1,0,"tr",65),t.YNc(176,Yl,1,0,"tr",66),t.YNc(177,Jl,3,1,"tr",67),t.qZA(),t._UZ(178,"mat-paginator",68),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(22),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(152),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,Vl)))},directives:[wi.yS,Bt.lW,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ce.O5,Jn.pW,$t.BZ,vr.jt,Me.YE,$t.w1,$t.fO,$t.ge,Me.nU,$t.Dz,$t.ev,Ce.sg,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ze.NW],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 10px;line-break:unset;width:100%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{min-width:800px}.data[_ngcontent-%COMP%]{max-height:500px;overflow:auto}"]}),s})();var vs=ne(655),Pa=ne(659),je=ne(3191),ka=ne(6360),bs=ne(7144);const Pn=["input"],Ur=function(s){return{enterDuration:s}},jr=["*"],Hr=new t.OlP("mat-checkbox-default-options",{providedIn:"root",factory:lo});function lo(){return{color:"accent",clickAction:"check-indeterminate"}}let Ei=0;const uo=lo(),zr={provide:Gt.JU,useExisting:(0,t.Gpc)(()=>_n),multi:!0};class Sa{}const Go=(0,tt.sb)((0,tt.pj)((0,tt.Kr)((0,tt.Id)(class{constructor(s){this._elementRef=s}}))));let _n=(()=>{class s extends Go{constructor(e,r,m,y,q,nt,Wt){super(e),this._changeDetectorRef=r,this._focusMonitor=m,this._ngZone=y,this._animationMode=nt,this._options=Wt,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Ei,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new t.vpe,this.indeterminateChange=new t.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||uo,this.color=this.defaultColor=this._options.color||uo.color,this.tabIndex=parseInt(q)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=(0,je.Ig)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const r=(0,je.Ig)(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=(0,je.Ig)(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=(0,je.Ig)(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let r=this._currentCheckState,m=this._elementRef.nativeElement;if(r!==e&&(this._currentAnimationClass.length>0&&m.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){m.classList.add(this._currentAnimationClass);const y=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{m.classList.remove(y)},1e3)})}}_emitChangeEvent(){const e=new Sa;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var r;const m=null===(r=this._options)||void 0===r?void 0:r.clickAction;e.stopPropagation(),this.disabled||"noop"===m?!this.disabled&&"noop"===m&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==m&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,r){e?this._focusMonitor.focusVia(this._inputElement,e,r):this._inputElement.nativeElement.focus(r)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";let m="";switch(e){case 0:if(1===r)m="unchecked-checked";else{if(3!=r)return"";m="unchecked-indeterminate"}break;case 2:m=1===r?"unchecked-checked":"unchecked-indeterminate";break;case 1:m=2===r?"checked-unchecked":"checked-indeterminate";break;case 3:m=1===r?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${m}`}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Ii.tE),t.Y36(t.R0b),t.$8M("tabindex"),t.Y36(ka.Qb,8),t.Y36(Hr,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-checkbox"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Pn,5),t.Gf(tt.wG,5)),2&e){let m;t.iGM(m=t.CRH())&&(r._inputElement=m.first),t.iGM(m=t.CRH())&&(r.ripple=m.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,r){2&e&&(t.Ikx("id",r.id),t.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),t.ekj("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[t._Bn([zr]),t.qOj],ngContentSelectors:jr,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1),t.TgZ(2,"span",2),t.TgZ(3,"input",3,4),t.NdJ("change",function(y){return r._onInteractionEvent(y)})("click",function(y){return r._onInputClick(y)}),t.qZA(),t.TgZ(5,"span",5),t._UZ(6,"span",6),t.qZA(),t._UZ(7,"span",7),t.TgZ(8,"span",8),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA(),t.kcU(),t._UZ(11,"span",11),t.qZA(),t.qZA(),t.TgZ(12,"span",12,13),t.NdJ("cdkObserveContent",function(){return r._onLabelTextChange()}),t.TgZ(14,"span",14),t._uU(15,"\xa0"),t.qZA(),t.Hsn(16),t.qZA(),t.qZA()),2&e){const m=t.MAs(1),y=t.MAs(13);t.uIk("for",r.inputId),t.xp6(2),t.ekj("mat-checkbox-inner-container-no-side-margin",!y.textContent||!y.textContent.trim()),t.xp6(1),t.Q6J("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),t.uIk("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),t.xp6(2),t.Q6J("matRippleTrigger",m)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",t.VKq(19,Ur,"NoopAnimations"===r._animationMode?0:150))}},directives:[tt.wG,bs.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),s})(),Sc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})(),Nc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[tt.si,tt.BQ,bs.Q8,Sc],tt.BQ,Sc]}),s})();function Lc(s,c){1&s&&(t.TgZ(0,"button",41),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function Zc(s,c){if(1&s&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Dc(s,c){1&s&&t._UZ(0,"mat-progress-bar",43)}function ys(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," ID "),t.qZA())}function Ic(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function Gl(s,c){1&s&&t._UZ(0,"th",44)}function xs(s,c){if(1&s&&(t.TgZ(0,"td",45),t._UZ(1,"img",46),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hYB("src","",r.storageUrl,"files/",e.sku,"/47/upload47.png",t.LSH)}}function Mc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," SKU "),t.qZA())}function Ql(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function Oc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Name "),t.qZA())}function Fc(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function $l(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Brand "),t.qZA())}function Ec(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("",e.brand," ")}}function Kl(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Description "),t.qZA())}function Xl(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Na(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Active "),t.qZA())}function qc(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().iconClick(m.sku+" is active")}),t.TgZ(1,"mat-icon",50),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Rc(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",51),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function ws(s,c){if(1&s&&(t.TgZ(0,"td",45),t.YNc(1,qc,3,0,"span",48),t.YNc(2,Rc,3,0,"span",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function ho(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," In Development "),t.qZA())}function La(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().iconClick(m.sku+" is in development")}),t.TgZ(1,"mat-icon",52),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Bc(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",51),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Uc(s,c){if(1&s&&(t.TgZ(0,"td",45),t.YNc(1,La,3,0,"span",48),t.YNc(2,Bc,3,0,"span",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function jc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," EOL "),t.qZA())}function tu(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().iconClick(m.sku+" is in end of life")}),t.TgZ(1,"mat-icon",53),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function eu(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",51),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Hc(s,c){if(1&s&&(t.TgZ(0,"td",45),t.YNc(1,tu,3,0,"span",48),t.YNc(2,eu,3,0,"span",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function As(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Updated "),t.qZA())}function kn(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function zc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Created "),t.qZA())}function Sn(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Ar(s,c){1&s&&t._UZ(0,"th",44)}function iu(s,c){if(1&s&&(t.TgZ(0,"td",45),t.TgZ(1,"button",54),t._uU(2," View Details "),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.sku,"")}}function nu(s,c){1&s&&t._UZ(0,"tr",55)}function Wn(s,c){1&s&&t._UZ(0,"tr",56)}function ru(s,c){if(1&s&&(t.TgZ(0,"tr",57),t.TgZ(1,"td",58),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(24);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Yc=function(){return[10,25,50,100]};class Yr extends an._k{constructor(c,e,r,m,y,q,nt,Wt,he){super(),this.navbar=c,this.sideNav=e,this.topNav=r,this.treeNav=m,this.api=y,this.route=q,this._snackBar=nt,this._liveAnnouncer=Wt,this.info=he,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllCategories()}ngAfterViewInit(){this.route.params.subscribe(c=>{this.urlParam=c.brand,this.brand=this.urlParam.toUpperCase(),this.getAllTypes()})}applyFilter(c){this.dataSource.filter=c.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(c){this.productsLoader=!0,this.api.GET(`products-by-brand/${c}`).subscribe({next:e=>{console.log("Products",e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}openSnackBar(c,e){this._snackBar.open(c,e)}announceSortChange(c){this._liveAnnouncer.announce(c.direction?`Sorted ${c.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:c=>{for(let e=0;e<c.length;e++)c[e].name.toLocaleLowerCase()==this.brand.toLocaleLowerCase()&&(console.log("Found type id",c[e].id),this.typeId=c[e].id,this.getAllProducts(this.typeId))},error:c=>{console.log(c)}})}getBrandName(c){let e=0;return e=parseInt(c)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(c){return console.log("Role check"),!!this.info.role(c)}iconClick(c){this.openSnackBar(c,"\u{1f609}")}filePath(c){return c.substring(7)}showDates(c){this.displayDates?this.displayedColumns=["id","thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"]}filterStatuses(c){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?r=>1==r.is_in_development&&1==r.is_active:this.activeProducts&&this.eolProducts?r=>1==r.is_active&&1==r.is_eol:this.developmentProducts&&this.eolProducts?r=>1==r.is_in_development&&1==r.is_eol:this.activeProducts?r=>1==r.is_active:this.developmentProducts?r=>1==r.is_in_development:r=>1==r.is_eol),this.table(e)}filterByCategory(c){console.log(c),this.api.GET(`products-by-category/${c.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:c=>{this.categoriesList=c},error:c=>{alert(c)}})}table(c){this.dataSource=new $t.by(c),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}Yr.\u0275fac=function(c){return new(c||Yr)(t.Y36(ei.I),t.Y36(Vi.Z),t.Y36(ei.I),t.Y36(nn.r),t.Y36(Te.s),t.Y36(wi.gz),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C))},Yr.\u0275cmp=t.Xpm({type:Yr,selectors:[["app-list-products"]],viewQuery:function(c,e){if(1&c&&(t.Gf(Ze.NW,5),t.Gf(Me.YE,5)),2&c){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first),t.iGM(r=t.CRH())&&(e.sort=r.first)}},features:[t.qOj],decls:92,vars:14,consts:[["routerLink","../../"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","",1,"m-1",2,"width","100%",3,"click"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='http://127.0.0.1:8000/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(c,e){if(1&c){const r=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",0),t._uU(3,"Products"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.YNc(7,Lc,4,0,"button",3),t.qZA(),t.TgZ(8,"div",2),t.TgZ(9,"button",4),t.NdJ("click",function(){return t.CHM(r),t.MAs(50).exportTable("csv",{fileName:"products_system"})}),t.TgZ(10,"mat-icon"),t._uU(11,"download_file"),t.qZA(),t._uU(12," Export CSV "),t.qZA(),t.qZA(),t.TgZ(13,"div",2),t.TgZ(14,"button",5),t.TgZ(15,"mat-icon"),t._uU(16,"wordpress"),t.qZA(),t._uU(17," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Filter"),t.qZA(),t.TgZ(23,"input",8,9),t.NdJ("keyup",function(y){return e.applyFilter(y)}),t.qZA(),t.TgZ(25,"mat-icon",10),t._uU(26,"filter_list"),t.qZA(),t.qZA(),t.TgZ(27,"mat-form-field",11),t.TgZ(28,"mat-label"),t._uU(29,"Categories"),t.qZA(),t.TgZ(30,"mat-select",12),t.NdJ("selectionChange",function(y){return e.filterByCategory(y)}),t.YNc(31,Zc,2,2,"mat-option",13),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"span",15),t.TgZ(34,"mat-checkbox",16),t.NdJ("ngModelChange",function(y){return e.displayDates=y})("change",function(y){return e.showDates(y)}),t._uU(35,"More info"),t.qZA(),t.qZA(),t.TgZ(36,"span",15),t.TgZ(37,"mat-checkbox",17),t.NdJ("ngModelChange",function(y){return e.eolProducts=y})("change",function(y){return e.filterStatuses(y)}),t._uU(38,"EOL"),t.qZA(),t.qZA(),t.TgZ(39,"span",15),t.TgZ(40,"mat-checkbox",17),t.NdJ("ngModelChange",function(y){return e.developmentProducts=y})("change",function(y){return e.filterStatuses(y)}),t._uU(41,"In Development"),t.qZA(),t.qZA(),t.TgZ(42,"span",15),t.TgZ(43,"mat-checkbox",17),t.NdJ("ngModelChange",function(y){return e.activeProducts=y})("change",function(y){return e.filterStatuses(y)}),t._uU(44,"Active"),t.qZA(),t.qZA(),t.TgZ(45,"span",15),t.TgZ(46,"mat-checkbox",17),t.NdJ("ngModelChange",function(y){return e.allProducts=y})("change",function(y){return e.filterStatuses(y)}),t._uU(47,"All"),t.qZA(),t.qZA(),t.YNc(48,Dc,1,0,"mat-progress-bar",18),t.TgZ(49,"table",19,20),t.NdJ("matSortChange",function(y){return e.announceSortChange(y)}),t.ynx(51,21),t.YNc(52,ys,2,0,"th",22),t.YNc(53,Ic,2,1,"td",23),t.BQk(),t.ynx(54,24),t.YNc(55,Gl,1,0,"th",22),t.YNc(56,xs,2,2,"td",23),t.BQk(),t.ynx(57,25),t.YNc(58,Mc,2,0,"th",22),t.YNc(59,Ql,2,2,"td",26),t.BQk(),t.ynx(60,27),t.YNc(61,Oc,2,0,"th",22),t.YNc(62,Fc,2,2,"td",26),t.BQk(),t.ynx(63,28),t.YNc(64,$l,2,0,"th",22),t.YNc(65,Ec,2,1,"td",23),t.BQk(),t.ynx(66,29),t.YNc(67,Kl,2,0,"th",22),t.YNc(68,Xl,2,1,"td",23),t.BQk(),t.ynx(69,30),t.YNc(70,Na,2,0,"th",22),t.YNc(71,ws,3,2,"td",23),t.BQk(),t.ynx(72,31),t.YNc(73,ho,2,0,"th",22),t.YNc(74,Uc,3,2,"td",23),t.BQk(),t.ynx(75,32),t.YNc(76,jc,2,0,"th",22),t.YNc(77,Hc,3,2,"td",23),t.BQk(),t.ynx(78,33),t.YNc(79,As,2,0,"th",22),t.YNc(80,kn,3,3,"td",23),t.BQk(),t.ynx(81,34),t.YNc(82,zc,2,0,"th",22),t.YNc(83,Sn,3,3,"td",23),t.BQk(),t.ynx(84,35),t.YNc(85,Ar,1,0,"th",22),t.YNc(86,iu,3,1,"td",23),t.BQk(),t.YNc(87,nu,1,0,"tr",36),t.YNc(88,Wn,1,0,"tr",37),t.YNc(89,ru,3,1,"tr",38),t.qZA(),t._UZ(90,"mat-paginator",39),t.qZA(),t.qZA(),t._UZ(91,"div",40),t.qZA(),t.qZA()}2&c&&(t.xp6(4),t.hij(" / Brand / ",e.brand," "),t.xp6(3),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(13,Yc)))},directives:[wi.yS,Ce.O5,Bt.lW,wi.rH,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ct.gD,Ce.sg,tt.ey,_n,Gt.JJ,Gt.On,Jn.pW,$t.BZ,vr.jt,Me.YE,$t.w1,$t.fO,$t.ge,Me.nU,$t.Dz,$t.ev,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ze.NW],pipes:[Ce.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,vs.gn)([(0,Pa.bH)()],Yr.prototype,"blockUI",void 0);var Jr=ne(520),cn=ne(925),ui=ne(7579),po=ne(727),ou=ne(4986),au=ne(5963),Jc=ne(6406),Vc=ne(8306),Gn=ne(6451),Vr=ne(2722),fo=ne(8675),Wc=ne(4004),ar=ne(5698),a=ne(8505),i=ne(3900),o=ne(393),l=ne(226);function d(s,c,e){for(let r in c)if(c.hasOwnProperty(r)){const m=c[r];m?s.setProperty(r,m,(null==e?void 0:e.has(r))?"important":""):s.removeProperty(r)}return s}function h(s,c){const e=c?"":"none";d(s.style,{"touch-action":c?"":"none","-webkit-user-drag":c?"":"none","-webkit-tap-highlight-color":c?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function f(s,c,e){d(s.style,{position:c?"":"fixed",top:c?"":"0",opacity:c?"":"0",left:c?"":"-999em"},e)}function _(s,c){return c&&"none"!=c?s+" "+c:s}function v(s){const c=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*c}function T(s,c){return s.getPropertyValue(c).split(",").map(r=>r.trim())}function N(s){const c=s.getBoundingClientRect();return{top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height,x:c.x,y:c.y}}function Z(s,c,e){const{top:r,bottom:m,left:y,right:q}=s;return e>=r&&e<=m&&c>=y&&c<=q}function x(s,c,e){s.top+=c,s.bottom=s.top+s.height,s.left+=e,s.right=s.left+s.width}function R(s,c,e,r){const{top:m,right:y,bottom:q,left:nt,width:Wt,height:he}=s,ke=Wt*c,n=he*c;return r>m-n&&r<q+n&&e>nt-ke&&e<y+ke}class M{constructor(c){this._document=c,this.positions=new Map}clear(){this.positions.clear()}cache(c){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),c.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:N(e)})})}handleScroll(c){const e=(0,cn.sA)(c),r=this.positions.get(e);if(!r)return null;const m=r.scrollPosition;let y,q;if(e===this._document){const he=this.getViewportScrollPosition();y=he.top,q=he.left}else y=e.scrollTop,q=e.scrollLeft;const nt=m.top-y,Wt=m.left-q;return this.positions.forEach((he,ke)=>{he.clientRect&&e!==ke&&e.contains(ke)&&x(he.clientRect,nt,Wt)}),m.top=y,m.left=q,{top:nt,left:Wt}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function H(s){const c=s.cloneNode(!0),e=c.querySelectorAll("[id]"),r=s.nodeName.toLowerCase();c.removeAttribute("id");for(let m=0;m<e.length;m++)e[m].removeAttribute("id");return"canvas"===r?lt(s,c):("input"===r||"select"===r||"textarea"===r)&&X(s,c),I("canvas",s,c,lt),I("input, textarea, select",s,c,X),c}function I(s,c,e,r){const m=c.querySelectorAll(s);if(m.length){const y=e.querySelectorAll(s);for(let q=0;q<m.length;q++)r(m[q],y[q])}}let B=0;function X(s,c){"file"!==c.type&&(c.value=s.value),"radio"===c.type&&c.name&&(c.name=`mat-clone-${c.name}-${B++}`)}function lt(s,c){const e=c.getContext("2d");if(e)try{e.drawImage(s,0,0)}catch(r){}}const At=(0,cn.i$)({passive:!0}),Yt=(0,cn.i$)({passive:!1}),J=new Set(["position"]);class qt{constructor(c,e,r,m,y,q){this._config=e,this._document=r,this._ngZone=m,this._viewportRuler=y,this._dragDropRegistry=q,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ui.x,this._pointerMoveSubscription=po.w0.EMPTY,this._pointerUpSubscription=po.w0.EMPTY,this._scrollSubscription=po.w0.EMPTY,this._resizeSubscription=po.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ui.x,this.started=new ui.x,this.released=new ui.x,this.ended=new ui.x,this.entered=new ui.x,this.exited=new ui.x,this.dropped=new ui.x,this.moved=this._moveEvents,this._pointerDown=nt=>{if(this.beforeStarted.next(),this._handles.length){const Wt=this._getTargetHandle(nt);Wt&&!this._disabledHandles.has(Wt)&&!this.disabled&&this._initializeDragSequence(Wt,nt)}else this.disabled||this._initializeDragSequence(this._rootElement,nt)},this._pointerMove=nt=>{const Wt=this._getPointerPositionOnPage(nt);if(!this._hasStartedDragging){if(Math.abs(Wt.x-this._pickupPositionOnPage.x)+Math.abs(Wt.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const g=Date.now()>=this._dragStartTime+this._getDragStartDelay(nt),b=this._dropContainer;if(!g)return void this._endDragSequence(nt);(!b||!b.isDragging()&&!b.isReceiving())&&(nt.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(nt)))}return}nt.preventDefault();const he=this._getConstrainedPointerPosition(Wt);if(this._hasMoved=!0,this._lastKnownPointerPosition=Wt,this._updatePointerDirectionDelta(he),this._dropContainer)this._updateActiveDropContainer(he,Wt);else{const ke=this._activeTransform;ke.x=he.x-this._pickupPositionOnPage.x+this._passiveTransform.x,ke.y=he.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(ke.x,ke.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:he,event:nt,distance:this._getDragDistance(he),delta:this._pointerDirectionDelta})})},this._pointerUp=nt=>{this._endDragSequence(nt)},this._nativeDragStart=nt=>{if(this._handles.length){const Wt=this._getTargetHandle(nt);Wt&&!this._disabledHandles.has(Wt)&&!this.disabled&&nt.preventDefault()}else this.disabled||nt.preventDefault()},this.withRootElement(c).withParent(e.parentDragRef||null),this._parentPositions=new M(r),q.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(c){const e=(0,je.Ig)(c);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>h(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(c){this._handles=c.map(r=>(0,je.fI)(r)),this._handles.forEach(r=>h(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(c){return this._previewTemplate=c,this}withPlaceholderTemplate(c){return this._placeholderTemplate=c,this}withRootElement(c){const e=(0,je.fI)(c);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Yt),e.addEventListener("touchstart",this._pointerDown,At),e.addEventListener("dragstart",this._nativeDragStart,Yt)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(c){return this._boundaryElement=c?(0,je.fI)(c):null,this._resizeSubscription.unsubscribe(),c&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(c){return this._parentDragRef=c,this}dispose(){var c,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(c=this._rootElement)||void 0===c||c.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(c){!this._disabledHandles.has(c)&&this._handles.indexOf(c)>-1&&(this._disabledHandles.add(c),h(c,!0))}enableHandle(c){this._disabledHandles.has(c)&&(this._disabledHandles.delete(c),h(c,this.disabled))}withDirection(c){return this._direction=c,this}_withDropContainer(c){this._dropContainer=c}getFreeDragPosition(){const c=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:c.x,y:c.y}}setFreeDragPosition(c){return this._activeTransform={x:0,y:0},this._passiveTransform.x=c.x,this._passiveTransform.y=c.y,this._dropContainer||this._applyRootElementTransform(c.x,c.y),this}withPreviewContainer(c){return this._previewContainer=c,this}_sortFromLastPointerPosition(){const c=this._lastKnownPointerPosition;c&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(c),c)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var c,e;null===(c=this._preview)||void 0===c||c.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var c,e;null===(c=this._placeholder)||void 0===c||c.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(c){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(c),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(c);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(c){O(c)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,m=r.parentNode,y=this._placeholder=this._createPlaceholderElement(),q=this._anchor=this._anchor||this._document.createComment(""),nt=this._getShadowRoot();m.insertBefore(q,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),f(r,!1,J),this._document.body.appendChild(m.replaceChild(y,r)),this._getPreviewInsertionPoint(m,nt).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(c,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),m=O(e),y=!m&&0!==e.button,q=this._rootElement,nt=(0,cn.sA)(e),Wt=!m&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),he=m?(0,Ii.yG)(e):(0,Ii.X6)(e);if(nt&&nt.draggable&&"mousedown"===e.type&&e.preventDefault(),r||y||Wt||he)return;if(this._handles.length){const u=q.style;this._rootElementTapHighlight=u.webkitTapHighlightColor||"",u.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>this._updateOnScroll(u)),this._boundaryElement&&(this._boundaryRect=N(this._boundaryElement));const ke=this._previewTemplate;this._pickupPositionInElement=ke&&ke.template&&!ke.matchSize?{x:0,y:0}:this._getPointerPositionInElement(c,e);const n=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:n.x,y:n.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(c){f(this._rootElement,!0,J),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),m=this._getPointerPositionOnPage(c),y=this._getDragDistance(m),q=e._isOverContainer(m.x,m.y);this.ended.next({source:this,distance:y,dropPoint:m}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:q,distance:y,dropPoint:m}),e.drop(this,r,this._initialIndex,this._initialContainer,q,y,m),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:c,y:e},{x:r,y:m}){let y=this._initialContainer._getSiblingContainerFromPosition(this,c,e);!y&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(c,e)&&(y=this._initialContainer),y&&y!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=y,this._dropContainer.enter(this,c,e,y===this._initialContainer&&y.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:y,currentIndex:y.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,m),this._dropContainer._sortItem(this,c,e,this._pointerDirectionDelta),this._applyPreviewTransform(c-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const c=this._previewTemplate,e=this.previewClass,r=c?c.template:null;let m;if(r&&c){const y=c.matchSize?this._rootElement.getBoundingClientRect():null,q=c.viewContainer.createEmbeddedView(r,c.context);q.detectChanges(),m=G(q,this._document),this._previewRef=q,c.matchSize?V(m,y):m.style.transform=It(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const y=this._rootElement;m=H(y),V(m,y.getBoundingClientRect()),this._initialTransform&&(m.style.transform=this._initialTransform)}return d(m.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},J),h(m,!1),m.classList.add("cdk-drag-preview"),m.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(y=>m.classList.add(y)):m.classList.add(e)),m}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const c=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(c.left,c.top);const e=function w(s){const c=getComputedStyle(s),e=T(c,"transition-property"),r=e.find(nt=>"transform"===nt||"all"===nt);if(!r)return 0;const m=e.indexOf(r),y=T(c,"transition-duration"),q=T(c,"transition-delay");return v(y[m])+v(q[m])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const m=q=>{var nt;(!q||(0,cn.sA)(q)===this._preview&&"transform"===q.propertyName)&&(null===(nt=this._preview)||void 0===nt||nt.removeEventListener("transitionend",m),r(),clearTimeout(y))},y=setTimeout(m,1.5*e);this._preview.addEventListener("transitionend",m)}))}_createPlaceholderElement(){const c=this._placeholderTemplate,e=c?c.template:null;let r;return e?(this._placeholderRef=c.viewContainer.createEmbeddedView(e,c.context),this._placeholderRef.detectChanges(),r=G(this._placeholderRef,this._document)):r=H(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(c,e){const r=this._rootElement.getBoundingClientRect(),m=c===this._rootElement?null:c,y=m?m.getBoundingClientRect():r,q=O(e)?e.targetTouches[0]:e,nt=this._getViewportScrollPosition();return{x:y.left-r.left+(q.pageX-y.left-nt.left),y:y.top-r.top+(q.pageY-y.top-nt.top)}}_getPointerPositionOnPage(c){const e=this._getViewportScrollPosition(),r=O(c)?c.touches[0]||c.changedTouches[0]||{pageX:0,pageY:0}:c,m=r.pageX-e.left,y=r.pageY-e.top;if(this._ownerSVGElement){const q=this._ownerSVGElement.getScreenCTM();if(q){const nt=this._ownerSVGElement.createSVGPoint();return nt.x=m,nt.y=y,nt.matrixTransform(q.inverse())}}return{x:m,y}}_getConstrainedPointerPosition(c){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:m}=this.constrainPosition?this.constrainPosition(c,this):c;if("x"===this.lockAxis||"x"===e?m=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:y,y:q}=this._pickupPositionInElement,nt=this._boundaryRect,{width:Wt,height:he}=this._getPreviewRect(),ke=nt.top+q,n=nt.bottom-(he-q);r=F(r,nt.left+y,nt.right-(Wt-y)),m=F(m,ke,n)}return{x:r,y:m}}_updatePointerDirectionDelta(c){const{x:e,y:r}=c,m=this._pointerDirectionDelta,y=this._pointerPositionAtLastDirectionChange,q=Math.abs(e-y.x),nt=Math.abs(r-y.y);return q>this._config.pointerDirectionChangeThreshold&&(m.x=e>y.x?1:-1,y.x=e),nt>this._config.pointerDirectionChangeThreshold&&(m.y=r>y.y?1:-1,y.y=r),m}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const c=this._handles.length>0||!this.isDragging();c!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=c,h(this._rootElement,c))}_removeRootElementListeners(c){c.removeEventListener("mousedown",this._pointerDown,Yt),c.removeEventListener("touchstart",this._pointerDown,At),c.removeEventListener("dragstart",this._nativeDragStart,Yt)}_applyRootElementTransform(c,e){const r=It(c,e),m=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=m.transform&&"none"!=m.transform?m.transform:""),m.transform=_(r,this._initialTransform)}_applyPreviewTransform(c,e){var r;const m=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,y=It(c,e);this._preview.style.transform=_(y,m)}_getDragDistance(c){const e=this._pickupPositionOnPage;return e?{x:c.x-e.x,y:c.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:c,y:e}=this._passiveTransform;if(0===c&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),m=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===m.width&&0===m.height)return;const y=r.left-m.left,q=m.right-r.right,nt=r.top-m.top,Wt=m.bottom-r.bottom;r.width>m.width?(y>0&&(c+=y),q>0&&(c-=q)):c=0,r.height>m.height?(nt>0&&(e+=nt),Wt>0&&(e-=Wt)):e=0,(c!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:c})}_getDragStartDelay(c){const e=this.dragStartDelay;return"number"==typeof e?e:O(c)?e.touch:e?e.mouse:0}_updateOnScroll(c){const e=this._parentPositions.handleScroll(c);if(e){const r=(0,cn.sA)(c);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&x(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var c;return(null===(c=this._parentPositions.positions.get(this._document))||void 0===c?void 0:c.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,cn.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(c,e){const r=this._previewContainer||"global";if("parent"===r)return c;if("global"===r){const m=this._document;return e||m.fullscreenElement||m.webkitFullscreenElement||m.mozFullScreenElement||m.msFullscreenElement||m.body}return(0,je.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(c){return this._handles.find(e=>c.target&&(c.target===e||e.contains(c.target)))}}function It(s,c){return`translate3d(${Math.round(s)}px, ${Math.round(c)}px, 0)`}function F(s,c,e){return Math.max(c,Math.min(e,s))}function O(s){return"t"===s.type[0]}function G(s,c){const e=s.rootNodes;if(1===e.length&&e[0].nodeType===c.ELEMENT_NODE)return e[0];const r=c.createElement("div");return e.forEach(m=>r.appendChild(m)),r}function V(s,c){s.style.width=`${c.width}px`,s.style.height=`${c.height}px`,s.style.transform=It(c.left,c.top)}function Pt(s,c,e){const r=pt(c,s.length-1),m=pt(e,s.length-1);if(r===m)return;const y=s[r],q=m<r?-1:1;for(let nt=r;nt!==m;nt+=q)s[nt]=s[nt+q];s[m]=y}function pt(s,c){return Math.max(0,Math.min(c,s))}class pe{constructor(c,e,r,m,y){this._dragDropRegistry=e,this._ngZone=m,this._viewportRuler=y,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ui.x,this.entered=new ui.x,this.exited=new ui.x,this.dropped=new ui.x,this.sorted=new ui.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=po.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ui.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function su(s=0,c=ou.z){return s<0&&(s=0),(0,au.H)(s,s,c)}(0,Jc.Z).pipe((0,Vr.R)(this._stopScrollTimers)).subscribe(()=>{const q=this._scrollNode,nt=this.autoScrollStep;1===this._verticalScrollDirection?q.scrollBy(0,-nt):2===this._verticalScrollDirection&&q.scrollBy(0,nt),1===this._horizontalScrollDirection?q.scrollBy(-nt,0):2===this._horizontalScrollDirection&&q.scrollBy(nt,0)})},this.element=(0,je.fI)(c),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new M(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(c,e,r,m){let y;this._draggingStarted(),null==m?(y=this.sortingDisabled?this._draggables.indexOf(c):-1,-1===y&&(y=this._getItemIndexFromPointerPosition(c,e,r))):y=m;const q=this._activeDraggables,nt=q.indexOf(c),Wt=c.getPlaceholderElement();let he=q[y];if(he===c&&(he=q[y+1]),!he&&(null==y||-1===y||y<q.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(he=q[0]),nt>-1&&q.splice(nt,1),he&&!this._dragDropRegistry.isDragging(he)){const ke=he.getRootElement();ke.parentElement.insertBefore(Wt,ke),q.splice(y,0,c)}else(0,je.fI)(this.element).appendChild(Wt),q.push(c);Wt.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:c,container:this,currentIndex:this.getItemIndex(c)})}exit(c){this._reset(),this.exited.next({item:c,container:this})}drop(c,e,r,m,y,q,nt){this._reset(),this.dropped.next({item:c,currentIndex:e,previousIndex:r,container:this,previousContainer:m,isPointerOverContainer:y,distance:q,dropPoint:nt})}withItems(c){const e=this._draggables;return this._draggables=c,c.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(m=>m.isDragging()).every(m=>-1===c.indexOf(m))?this._reset():this._cacheItems()),this}withDirection(c){return this._direction=c,this}connectedTo(c){return this._siblings=c.slice(),this}withOrientation(c){return this._orientation=c,this}withScrollableParents(c){const e=(0,je.fI)(this.element);return this._scrollableElements=-1===c.indexOf(e)?[e,...c]:c.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(c){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===c):this._draggables.indexOf(c)}isReceiving(){return this._activeSiblings.size>0}_sortItem(c,e,r,m){if(this.sortingDisabled||!this._clientRect||!R(this._clientRect,.05,e,r))return;const y=this._itemPositions,q=this._getItemIndexFromPointerPosition(c,e,r,m);if(-1===q&&y.length>0)return;const nt="horizontal"===this._orientation,Wt=y.findIndex(P=>P.drag===c),he=y[q],n=he.clientRect,u=Wt>q?1:-1,g=this._getItemOffsetPx(y[Wt].clientRect,n,u),b=this._getSiblingOffsetPx(Wt,y,u),A=y.slice();Pt(y,Wt,q),this.sorted.next({previousIndex:Wt,currentIndex:q,container:this,item:c}),y.forEach((P,k)=>{if(A[k]===P)return;const L=P.drag===c,D=L?g:b,E=L?c.getPlaceholderElement():P.drag.getRootElement();P.offset+=D,nt?(E.style.transform=_(`translate3d(${Math.round(P.offset)}px, 0, 0)`,P.initialTransform),x(P.clientRect,0,D)):(E.style.transform=_(`translate3d(0, ${Math.round(P.offset)}px, 0)`,P.initialTransform),x(P.clientRect,D,0))}),this._previousSwap.overlaps=Z(n,e,r),this._previousSwap.drag=he.drag,this._previousSwap.delta=nt?m.x:m.y}_startScrollingIfNecessary(c,e){if(this.autoScrollDisabled)return;let r,m=0,y=0;if(this._parentPositions.positions.forEach((q,nt)=>{nt===this._document||!q.clientRect||r||R(q.clientRect,.05,c,e)&&([m,y]=function z(s,c,e,r){const m=S(c,r),y=j(c,e);let q=0,nt=0;if(m){const Wt=s.scrollTop;1===m?Wt>0&&(q=1):s.scrollHeight-Wt>s.clientHeight&&(q=2)}if(y){const Wt=s.scrollLeft;1===y?Wt>0&&(nt=1):s.scrollWidth-Wt>s.clientWidth&&(nt=2)}return[q,nt]}(nt,q.clientRect,c,e),(m||y)&&(r=nt))}),!m&&!y){const{width:q,height:nt}=this._viewportRuler.getViewportSize(),Wt={width:q,height:nt,top:0,right:q,bottom:nt,left:0};m=S(Wt,e),y=j(Wt,c),r=window}r&&(m!==this._verticalScrollDirection||y!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=m,this._horizontalScrollDirection=y,this._scrollNode=r,(m||y)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const c=(0,je.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=c.msScrollSnapType||c.scrollSnapType||"",c.scrollSnapType=c.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const c=(0,je.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(c).clientRect}_cacheItemPositions(){const c="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:N(r)}}).sort((e,r)=>c?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const c=(0,je.fI)(this.element).style;c.scrollSnapType=c.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var r;const m=e.getRootElement();if(m){const y=null===(r=this._itemPositions.find(q=>q.drag===e))||void 0===r?void 0:r.initialTransform;m.style.transform=y||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(c,e,r){const m="horizontal"===this._orientation,y=e[c].clientRect,q=e[c+-1*r];let nt=y[m?"width":"height"]*r;if(q){const Wt=m?"left":"top",he=m?"right":"bottom";-1===r?nt-=q.clientRect[Wt]-y[he]:nt+=y[Wt]-q.clientRect[he]}return nt}_getItemOffsetPx(c,e,r){const m="horizontal"===this._orientation;let y=m?e.left-c.left:e.top-c.top;return-1===r&&(y+=m?e.width-c.width:e.height-c.height),y}_shouldEnterAsFirstChild(c,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,m="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const q=r[r.length-1].clientRect;return m?c>=q.right:e>=q.bottom}{const q=r[0].clientRect;return m?c<=q.left:e<=q.top}}_getItemIndexFromPointerPosition(c,e,r,m){const y="horizontal"===this._orientation,q=this._itemPositions.findIndex(({drag:nt,clientRect:Wt})=>{if(nt===c)return!1;if(m){const he=y?m.x:m.y;if(nt===this._previousSwap.drag&&this._previousSwap.overlaps&&he===this._previousSwap.delta)return!1}return y?e>=Math.floor(Wt.left)&&e<Math.floor(Wt.right):r>=Math.floor(Wt.top)&&r<Math.floor(Wt.bottom)});return-1!==q&&this.sortPredicate(q,c,this)?q:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(c,e){return null!=this._clientRect&&Z(this._clientRect,c,e)}_getSiblingContainerFromPosition(c,e,r){return this._siblings.find(m=>m._canReceive(c,e,r))}_canReceive(c,e,r){if(!this._clientRect||!Z(this._clientRect,e,r)||!this.enterPredicate(c,this))return!1;const m=this._getShadowRoot().elementFromPoint(e,r);if(!m)return!1;const y=(0,je.fI)(this.element);return m===y||y.contains(m)}_startReceiving(c,e){const r=this._activeSiblings;!r.has(c)&&e.every(m=>this.enterPredicate(m,this)||this._draggables.indexOf(m)>-1)&&(r.add(c),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(c){this._activeSiblings.delete(c),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(c=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(c);e&&(this._itemPositions.forEach(({clientRect:r})=>{x(r,e.top,e.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const c=(0,cn.kV)((0,je.fI)(this.element));this._cachedShadowRoot=c||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const c=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,c))}}function S(s,c){const{top:e,bottom:r,height:m}=s,y=.05*m;return c>=e-y&&c<=e+y?1:c>=r-y&&c<=r+y?2:0}function j(s,c){const{left:e,right:r,width:m}=s,y=.05*m;return c>=e-y&&c<=e+y?1:c>=r-y&&c<=r+y?2:0}const Q=(0,cn.i$)({passive:!1,capture:!0});let ot=(()=>{class s{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=m=>m.isDragging(),this.pointerMove=new ui.x,this.pointerUp=new ui.x,this.scroll=new ui.x,this._preventDefaultWhileDragging=m=>{this._activeDragInstances.length>0&&m.preventDefault()},this._persistentTouchmoveListener=m=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&m.preventDefault(),this.pointerMove.next(m))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Q)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Q)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const m=r.type.startsWith("touch");this._globalListeners.set(m?"touchend":"mouseup",{handler:y=>this.pointerUp.next(y),options:!0}).set("scroll",{handler:y=>this.scroll.next(y),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Q}),m||this._globalListeners.set("mousemove",{handler:y=>this.pointerMove.next(y),options:Q}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((y,q)=>{this._document.addEventListener(q,y.handler,y.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new Vc.y(m=>this._ngZone.runOutsideAngular(()=>{const q=nt=>{this._activeDragInstances.length&&m.next(nt)};return e.addEventListener("scroll",q,!0),()=>{e.removeEventListener("scroll",q,!0)}}))),(0,Gn.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(t.R0b),t.LFG(Ce.K0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let vt=(()=>{class s{constructor(e,r,m,y){this._document=e,this._ngZone=r,this._viewportRuler=m,this._dragDropRegistry=y}createDrag(e,r=mt){return new qt(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new pe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(Ce.K0),t.LFG(t.R0b),t.LFG(o.rL),t.LFG(ot))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xt=new t.OlP("CDK_DRAG_PARENT"),oe=new t.OlP("CdkDropListGroup"),fe=new t.OlP("CDK_DRAG_CONFIG");let Be=0;const Dt=new t.OlP("CdkDropList");let Y=(()=>{class s{constructor(e,r,m,y,q,nt,Wt){this.element=e,this._changeDetectorRef=m,this._scrollDispatcher=y,this._dir=q,this._group=nt,this._destroyed=new ui.x,this.connectedTo=[],this.id="cdk-drop-list-"+Be++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(e),this._dropListRef.data=this,Wt&&this._assignDefaults(Wt),this._dropListRef.enterPredicate=(he,ke)=>this.enterPredicate(he.data,ke.data),this._dropListRef.sortPredicate=(he,ke,n)=>this.sortPredicate(he,ke.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),s._dropLists.push(this),nt&&nt._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,je.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=s._dropLists.indexOf(this);e>-1&&s._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,fo.O)(this._dir.value),(0,Vr.R)(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{const r=(0,je.Eq)(this.connectedTo).map(m=>"string"==typeof m?s._dropLists.find(q=>q.id===m):m);if(this._group&&this._group._items.forEach(m=>{-1===r.indexOf(m)&&r.push(m)}),!this._scrollableParentsResolved){const m=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(y=>y.getElementRef().nativeElement);this._dropListRef.withScrollableParents(m),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,je.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,je.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,je.su)(this.autoScrollStep,2),e.connectedTo(r.filter(m=>m&&m!==this).map(m=>m._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:r,draggingDisabled:m,sortingDisabled:y,listAutoScrollDisabled:q,listOrientation:nt}=e;this.disabled=null!=m&&m,this.sortingDisabled=null!=y&&y,this.autoScrollDisabled=null!=q&&q,this.orientation=nt||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return s._dropLists=[],s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(vt),t.Y36(t.sBO),t.Y36(o.mF),t.Y36(l.Is,8),t.Y36(oe,12),t.Y36(fe,8))},s.\u0275dir=t.lG2({type:s,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){2&e&&(t.uIk("id",r.id),t.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:oe,useValue:void 0},{provide:Dt,useExisting:s}])]}),s})();const Je=new t.OlP("CdkDragHandle"),ee=new t.OlP("CdkDragPlaceholder"),ge=new t.OlP("CdkDragPreview");let He=(()=>{class s{constructor(e,r,m,y,q,nt,Wt,he,ke,n,u){this.element=e,this.dropContainer=r,this._ngZone=y,this._viewContainerRef=q,this._dir=Wt,this._changeDetectorRef=ke,this._selfHandle=n,this._parentDrag=u,this._destroyed=new ui.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new Vc.y(g=>{const b=this._dragRef.moved.pipe((0,Wc.U)(A=>({source:this,pointerPosition:A.pointerPosition,event:A.event,delta:A.delta,distance:A.distance}))).subscribe(g);return()=>{b.unsubscribe()}}),this._dragRef=he.createDrag(e,{dragStartThreshold:nt&&null!=nt.dragStartThreshold?nt.dragStartThreshold:5,pointerDirectionChangeThreshold:nt&&null!=nt.pointerDirectionChangeThreshold?nt.pointerDirectionChangeThreshold:5,zIndex:null==nt?void 0:nt.zIndex}),this._dragRef.data=this,s._dragInstances.push(this),nt&&this._assignDefaults(nt),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,je.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ar.q)(1),(0,Vr.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,m=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),m&&!m.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=s._dragInstances.indexOf(this);e>-1&&s._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const r=this.element.nativeElement;let m=r;this.rootElementSelector&&(m=void 0!==r.closest?r.closest(this.rootElementSelector):null===(e=r.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(m||r)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,je.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,m=this.dragStartDelay,y=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,q=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof m&&m?m:(0,je.su)(m),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(y).withPreviewTemplate(q).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe((0,ar.q)(1)).subscribe(()=>{var r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let m=this.element.nativeElement.parentElement;for(;m;){if(m.classList.contains("cdk-drag")){e.withParent((null===(r=s._dragInstances.find(y=>y.element.nativeElement===m))||void 0===r?void 0:r._dragRef)||null);break}m=m.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:m,constrainPosition:y,previewClass:q,boundaryElement:nt,draggingDisabled:Wt,rootElementSelector:he,previewContainer:ke}=e;this.disabled=null!=Wt&&Wt,this.dragStartDelay=m||0,r&&(this.lockAxis=r),y&&(this.constrainPosition=y),q&&(this.previewClass=q),nt&&(this.boundaryElement=nt),he&&(this.rootElementSelector=he),ke&&(this.previewContainer=ke)}_setupHandlesListener(){this._handles.changes.pipe((0,fo.O)(this._handles),(0,a.b)(e=>{const r=e.filter(m=>m._parentDrag===this).map(m=>m.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,i.w)(e=>(0,Gn.T)(...e.map(r=>r._stateChanges.pipe((0,fo.O)(r))))),(0,Vr.R)(this._destroyed)).subscribe(e=>{const r=this._dragRef,m=e.element.nativeElement;e.disabled?r.disableHandle(m):r.enableHandle(m)})}}return s._dragInstances=[],s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Dt,12),t.Y36(Ce.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(fe,8),t.Y36(l.Is,8),t.Y36(vt),t.Y36(t.sBO),t.Y36(Je,10),t.Y36(xt,12))},s.\u0275dir=t.lG2({type:s,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,m){if(1&e&&(t.Suo(m,ge,5),t.Suo(m,ee,5),t.Suo(m,Je,5)),2&e){let y;t.iGM(y=t.CRH())&&(r._previewTemplate=y.first),t.iGM(y=t.CRH())&&(r._placeholderTemplate=y.first),t.iGM(y=t.CRH())&&(r._handles=y)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&t.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:xt,useExisting:s}]),t.TTD]}),s})(),Ge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[vt],imports:[o.ZD]}),s})(),Ke=(()=>{class s{transform(e,r){let m=[];for(let y=0;y<e.length;y++)e[y].grouping==r&&m.push(e[y]);return m}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"typeGroup",type:s,pure:!0}),s})();function ri(s,c){1&s&&(t.TgZ(0,"div",68),t._uU(1,"Enter a valid SKU"),t.qZA())}function hi(s,c){1&s&&(t.TgZ(0,"div",69),t._uU(1,"\u2714"),t.qZA())}function Ue(s,c){if(1&s&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Xe(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(7).checkedItem(y.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e.name)}}function me(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(6).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Xe,3,1,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(6);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function Ki(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(5).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,me,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(5);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function oi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(4).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Ki,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function Nn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(3).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,oi,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function pi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(2).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Nn,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function xi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",72),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw().checkedItem(y.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,pi,6,5,"li",35),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw();t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Qn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(2,"Save Categories"),t.qZA(),t.qZA()}}function si(s,c){1&s&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"mat-icon"),t._uU(3,"warning"),t.qZA(),t._uU(4," Please save product first."),t.qZA(),t.TgZ(5,"button",74),t._uU(6,"Save Categories"),t.qZA(),t.qZA())}function Wr(s,c){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.attrName)}}function Ti(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"div",75),t.TgZ(2,"mat-grid-list",76),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",77),t.TgZ(5,"mat-label"),t._uU(6,"Attribute Name"),t.qZA(),t._UZ(7,"input",78),t.qZA(),t.qZA(),t.TgZ(8,"mat-grid-tile"),t.TgZ(9,"mat-form-field",77),t.TgZ(10,"mat-label"),t._uU(11,"Attribute Value"),t.qZA(),t._UZ(12,"input",79),t.qZA(),t.qZA(),t._UZ(13,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function Ln(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"button",80),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveAttributes("new")}),t._uU(3),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(3),t.Oqu(e.saveAttrBtnText)}}function sr(s,c){if(1&s&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Pi(s,c){if(1&s&&(t.TgZ(0,"option",70),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ve(s,c){1&s&&(t.TgZ(0,"div",81),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function ci(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function Gr(s,c){if(1&s&&(t.TgZ(0,"div",82),t.YNc(1,ci,3,1,"ul",41),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Ji(s,c){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function $n(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",86),t.NdJ("onSelectionChange",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().updateFileType(m.id,m.type_id)}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Kn(s,c){if(1&s&&(t.TgZ(0,"div",83),t.TgZ(1,"div",1),t.TgZ(2,"div",51),t._UZ(3,"img",84),t.qZA(),t.TgZ(4,"div",59),t.TgZ(5,"mat-form-field",8),t.TgZ(6,"mat-label"),t._uU(7,"Image Type"),t.qZA(),t.TgZ(8,"mat-select"),t.YNc(9,$n,2,2,"mat-option",85),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(3),t.s9C("alt",e.path),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,3,r.typesList,"Image"))}}function Ee(s,c){if(1&s&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.s9C("alt",e.path),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH)}}function Zn(s,c){1&s&&(t.TgZ(0,"div",81),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Xn(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function ln(s,c){if(1&s&&(t.TgZ(0,"div",82),t.YNc(1,Xn,3,1,"ul",41),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function qi(s,c){1&s&&(t.TgZ(0,"button",89),t._uU(1," Done "),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA(),t.qZA())}let Mi=(()=>{class s{constructor(e,r,m,y,q){this.navbar=e,this.api=r,this.formBuilder=m,this._snackBar=y,this.info=q,this.productsList=[],this.categoriesList=[],this.selectedCategories=[],this.typesList=[],this.displayedColumns=["id","sku","name","brand","description"],this.panelOpenState=!1,this.panelOpenStateVariations=!1,this.categoriesLoader=!1,this.typesLoader=!1,this.parent=!1,this.frontImage=!1,this.newProductId=0,this.newProductSKU="",this.newProductName="",this.shortLink="",this.loading=!1,this.files=[],this.images=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.focusType="47",this.newProductCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save and Continue",this.disableSaveAttrBtn=!1,this.activeTabIndex=0,this.nextBtn=!1,this.prevBtn=!1,this.doneBtn=!1,this.savedFiles=[],this.skuPattern="^[a-zA-Z0-9_-]{4,12}$",this.invalidSku=!0}ngOnInit(){this.info.auth(),this.attrCount=0,this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.getAllTypes(),this.getAllCategories(),window.addEventListener("beforeunload",function(e){return e.returnValue="","o/"}),this.newProductForm=this.formBuilder.group({sku:["",[Gt.kI.required,Gt.kI.pattern(this.skuPattern)]],name:["",Gt.kI.required],brand_type_id:["",Gt.kI.required],description:["",Gt.kI.required],short_description:["",Gt.kI.required],parent_id:[0,Gt.kI.required],is_eol:[0,Gt.kI.required],is_in_development:[0,Gt.kI.required],is_active:[0,Gt.kI.required]}),this.newProductFormPackaging=this.formBuilder.group({weight:["",Gt.kI.required],length:["",Gt.kI.required],width:["",Gt.kI.required],height:["",Gt.kI.required],packaging_type_id:["",Gt.kI.required],product_id:[this.newProductId,Gt.kI.required]}),this.newProductFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])})}get attributes(){return this.newProductFormAttributes.get("attributes")}get sku(){return this.newProductForm.get("sku")}setParent(){this.parent=!0,console.log(this.parent)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllCategories(){this.categoriesLoader=!0,this.api.GET("categories").subscribe({next:e=>{this.categoriesLoader=!1,this.categoriesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getAllTypes(){this.categoriesLoader=!0,this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.typesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}saveProduct(){this.api.POST("products",this.newProductForm.value).subscribe({next:e=>{this.newProductId=e.id,this.newProductSKU=e.sku,this.newProductName=e.name,this.newProductFormPackaging.patchValue({product_id:e.id}),this.info.activity("Added new product",this.newProductId),this.openSnackBar(e.name+" Added \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}saveCategories(){const e=this.selectedCategories;if(e.length>0){for(let r=0;r<e.length;r++)this.api.POST("product-categories",{product_id:this.newProductId,category_id:e[r]}).subscribe({next:m=>{this.prevBtn=!0,this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:m=>{this.openSnackBar("\u{1f622} "+m.message,"Okay")}});this.nextTab()}this.openSnackBar("Please choose categories","Okay")}saveAttributes(e){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let r=this.newProductFormAttributes.getRawValue();this.api.POST(`products/update-attributes/${this.newProductId}`,r).subscribe({next:m=>{console.log(m),this.saveAttrBtnText="Attributes Saved",this.openSnackBar("Attributes Saved","Okay"),this.nextBtn=!0,this.nextTab()},error:m=>{this.openSnackBar(m.message,"Okay")}})}savePackaging(){this.api.POST("packaging",this.newProductFormPackaging.value).subscribe({next:e=>{this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}returnTypeName(e){return this.typesList[e-=1].name}onChange(e){this.files=e.target.files,console.log(this.files);for(let r=0;r<this.files.length;r++)this.files[r].size>2e6&&this.messages.push("\u{1f6ab} "+this.files[r].name+" is too large!")}onUpload(e){if(this.loading=!this.loading,console.log("Files being uploaded: ",this.files.length),this.files.length>0)for(let r=0;r<this.files.length;r++)console.log("Uploading file "+this.files[r].name),this.api.upload("uploading-file-api",{file:this.files[r],name:this.files[r].name,product_id:this.newProductId,product_sku:this.newProductSKU,type_id:e}).subscribe(m=>{"object"==typeof m&&(this.shortLink=m.link,this.loading=!1),m.type===Jr.dt.UploadProgress?(this.uploadProgress=Math.round(100*m.loaded/m.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`):m instanceof Jr.Zn&&(this.messages.push(this.files[r].name+" ploaded the file successfully."),this.info.activity(`Added ${this.files.length} files`,this.newProductId)),this.getFiles()},m=>{this.uploadProgress=0,this.messages.push(this.files[r].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}setFocusType(e){this.focusType=e.target.value}openSnackBar(e,r){this._snackBar.open(e,r)}getProductCategories(){this.api.GET(`product-categories/search/${this.newProductId}`).subscribe({next:e=>{for(let r=0;r<e.length;r++){let m=JSON.parse(e[r].attributes);this.getParents(e[r].parent);for(let y=0;y<m.length;y++)if(-1===this.attributes.value.findIndex(nt=>nt.attrName===m[y].attrName)){const nt=this.formBuilder.group({attrName:[m[y].attrName,Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(nt),this.attrCount=this.attrCount+1}}},error:e=>{console.log(e)}})}getParents(e){this.api.GET(`categories/get-parents/${e}`).subscribe({next:r=>{console.log("From parents",r);for(let m=0;m<r.length;m++){let y=JSON.parse(r[m].attributes);for(let q=0;q<y.length;q++)if(-1===this.attributes.value.findIndex(Wt=>Wt.attrName===y[q].attrName)){const Wt=this.formBuilder.group({attrName:[y[q].attrName,Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(Wt),this.attrCount=this.attrCount+1}}},error:r=>{console.log(r)}})}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}nextTab(){this.activeTabIndex=(this.activeTabIndex+1)%6,this.doneBtn=this.activeTabIndex>4,2==this.activeTabIndex&&(this.nextBtn=!1)}previousTab(){this.activeTabIndex=(this.activeTabIndex-1)%6}done(){location.reload()}getFiles(){this.api.GET(`product-files/${this.newProductId}`).subscribe({next:e=>{this.savedFiles=e,this.getProductImageOrder()},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.newProductId}`).subscribe({next:e=>{if(e.length>0){const r=JSON.parse(e[0].order_list);let m=[];for(let y=0;y<r.length;y++){const q=r[y],nt=this.savedFiles.find(Wt=>Wt.id==q);m.push(nt)}this.savedFiles=m}},error:e=>{console.log(e)}})}drop(e){Pt(this.savedFiles,e.previousIndex,e.currentIndex);let r=[];for(let y=0;y<this.savedFiles.length;y++)r.push(this.savedFiles[y].id);const m=JSON.stringify(r);this.api.POST("image-order/",{product_id:this.newProductId,order_list:m}).subscribe({next:y=>{console.log(y),this.info.activity("Rearranged images",this.newProductId)},error:y=>{console.log(y)}})}updateFileType(e,r){this.api.POST(`product-files/update-fileType/${e}`,{type_id:r}).subscribe({next:m=>{console.log(m),this.info.activity("Updated file type",this.newProductId)},error:m=>{console.log(m)}})}filePath(e){return e.substring(7)}checkSku(e){var r;let m=null===(r=this.newProductForm.get("sku"))||void 0===r?void 0:r.status;this.invalidSku="invalid"==(null==m?void 0:m.toLocaleLowerCase())}checkedItem(e){const r=this.selectedCategories.indexOf(e);r<0?this.selectedCategories.push(e):this.selectedCategories.splice(r,1),console.log(this.selectedCategories)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ei.I),t.Y36(Te.s),t.Y36(Gt.qu),t.Y36(Rt.ux),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-new-product"]],decls:181,vars:45,consts:[["routerLink","/"],[1,"row"],[1,"col-md-9"],[3,"selectedIndex","selectedIndexChange"],["label","1. General"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"col-md-6"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Product Code / SKU",3,"keyup"],["sku",""],["matSuffix",""],["class","invalid",4,"ngIf"],["class","valid",4,"ngIf"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[1,"m-3"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],["type","submit","mat-raised-button","","type","submit","color","primary",3,"disabled","click"],["label","2. Select Categories"],[1,"row","form-border"],[1,"col-md-6",2,"background-color","rgb(241, 241, 241)"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],[4,"ngIf"],["disabled","","label","3. Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],[4,"ngFor","ngForIn"],["formArrayName","attributes"],[4,"ngFor","ngForOf"],["disabled","","label","4. Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],["type","hidden","formControlName","product_id"],["disabled","","label","5. Upload Files"],[1,"col-md-4"],[1,"form-control",3,"change"],["type","file","multiple","",1,"form-control",3,"change"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[1,"col-md-8"],["disabled","","label","6. Upload Media"],[1,"col-md-3"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box","cdkDrag","",4,"ngFor","ngForOf"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-4","form-border"],["mat-raised-button","","type","button","class","switch-tab","color","primary","routerLink","/",4,"ngIf"],["mat-raised-button","","type","button","color","basic",1,"switch-tab",3,"disabled","click"],[1,"invalid"],[1,"valid"],[3,"value"],[1,"categories-list"],[3,"click"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","","disabled",""],[3,"formGroupName"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required","","readonly",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[1,"container"],[1,"message"],["cdkDrag","",1,"file-box"],["width","304","height","236",1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],[1,"col-md-2"],["width","140","height","160",1,"tile-img",3,"alt","src"],["mat-raised-button","","type","button","color","primary","routerLink","/",1,"switch-tab"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Add New Product"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"mat-card"),t.TgZ(7,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(y){return r.activeTabIndex=y}),t.TgZ(8,"mat-tab",4),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t.TgZ(11,"div",1),t.TgZ(12,"div",7),t.TgZ(13,"mat-form-field",8),t.TgZ(14,"mat-label"),t._uU(15,"SKU"),t.qZA(),t.TgZ(16,"input",9,10),t.NdJ("keyup",function(y){return r.checkSku(y)}),t.qZA(),t.TgZ(18,"mat-icon",11),t._uU(19,"qr_code_2"),t.qZA(),t.YNc(20,ri,2,0,"div",12),t.YNc(21,hi,2,0,"div",13),t.qZA(),t.TgZ(22,"mat-form-field",8),t.TgZ(23,"mat-label"),t._uU(24,"Product Name"),t.qZA(),t._UZ(25,"input",14,15),t.TgZ(27,"mat-icon",11),t._uU(28,"create"),t.qZA(),t.qZA(),t.TgZ(29,"mat-form-field",8),t.TgZ(30,"mat-label"),t._uU(31,"Product Brand"),t.qZA(),t.TgZ(32,"mat-select",16,17),t.YNc(34,Ue,2,2,"mat-option",18),t.ALo(35,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",8),t.TgZ(37,"mat-label"),t._uU(38,"Short Description"),t.qZA(),t._UZ(39,"textarea",19,20),t.qZA(),t.TgZ(41,"mat-form-field",8),t.TgZ(42,"mat-label"),t._uU(43,"Description"),t.qZA(),t._UZ(44,"textarea",21,22),t.qZA(),t.qZA(),t.TgZ(46,"div",7),t.TgZ(47,"div",23),t.TgZ(48,"mat-checkbox",24,25),t._uU(50,"Is in development"),t.qZA(),t._UZ(51,"br"),t.TgZ(52,"mat-checkbox",26,27),t._uU(54,"Is EOL"),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"mat-checkbox",28,29),t._uU(58,"Is Active"),t.qZA(),t._UZ(59,"hr"),t.TgZ(60,"button",30),t.NdJ("click",function(){return r.saveProduct()}),t._uU(61,"Save New Product"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"mat-tab",31),t.TgZ(63,"div",6),t.TgZ(64,"form"),t.TgZ(65,"div",32),t.TgZ(66,"div",33),t.TgZ(67,"section",34),t.TgZ(68,"ul"),t.YNc(69,xi,8,5,"li",35),t.ALo(70,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",7),t.YNc(72,Qn,3,0,"div",36),t.YNc(73,si,7,0,"div",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"mat-tab",37),t.TgZ(75,"div",38),t.TgZ(76,"ul"),t.YNc(77,Wr,2,1,"li",39),t.qZA(),t.TgZ(78,"form",5),t.ynx(79,40),t.YNc(80,Ti,14,1,"ng-container",41),t.BQk(),t.YNc(81,Ln,4,1,"div",36),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"mat-tab",42),t.TgZ(83,"form",5),t.TgZ(84,"div",6),t.TgZ(85,"div",32),t.TgZ(86,"div",7),t.TgZ(87,"mat-form-field",43),t.TgZ(88,"mat-label"),t._uU(89,"Choose Packaging Type:"),t.qZA(),t.TgZ(90,"mat-select",44),t.YNc(91,sr,2,2,"mat-option",18),t.ALo(92,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(93,"mat-form-field",43),t.TgZ(94,"mat-label"),t._uU(95,"Weight (KG)"),t.qZA(),t._UZ(96,"input",45),t.TgZ(97,"mat-icon",11),t._uU(98,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(99,"mat-form-field",43),t.TgZ(100,"mat-label"),t._uU(101,"Dimensions(cm): Length"),t.qZA(),t._UZ(102,"input",46),t.TgZ(103,"mat-icon",11),t._uU(104,"design_services"),t.qZA(),t.qZA(),t.TgZ(105,"mat-form-field",43),t.TgZ(106,"mat-label"),t._uU(107,"Dimensions(cm): Width"),t.qZA(),t._UZ(108,"input",47),t.TgZ(109,"mat-icon",11),t._uU(110,"design_services"),t.qZA(),t.qZA(),t.TgZ(111,"mat-form-field",43),t.TgZ(112,"mat-label"),t._uU(113,"Dimensions(cm): Height"),t.qZA(),t._UZ(114,"input",48),t.TgZ(115,"mat-icon",11),t._uU(116,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",7),t.TgZ(118,"div",23),t._UZ(119,"input",49),t.TgZ(120,"button",30),t.NdJ("click",function(){return r.savePackaging()}),t._uU(121,"Save Packaging"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(122,"mat-tab",50),t.TgZ(123,"div",6),t.TgZ(124,"div",1),t.TgZ(125,"div",51),t.TgZ(126,"select",52),t.NdJ("change",function(y){return r.setFocusType(y)}),t.YNc(127,Pi,2,2,"option",18),t.ALo(128,"typeGroup"),t.qZA(),t._UZ(129,"br"),t.TgZ(130,"input",53),t.NdJ("change",function(y){return r.onChange(y)}),t.qZA(),t._UZ(131,"br"),t.TgZ(132,"button",54),t.NdJ("click",function(){return r.onUpload("55")}),t._uU(133,"Upload File"),t.qZA(),t._UZ(134,"hr"),t.YNc(135,Ve,3,0,"div",55),t.TgZ(136,"div",56),t._UZ(137,"div",57),t.qZA(),t.YNc(138,Gr,2,1,"div",58),t.qZA(),t.TgZ(139,"div",59),t.TgZ(140,"ul"),t.YNc(141,Ji,2,1,"li",41),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(142,"mat-tab",60),t.TgZ(143,"div",6),t.TgZ(144,"div",1),t.TgZ(145,"div",61),t.TgZ(146,"div",62),t.NdJ("cdkDropListDropped",function(y){return r.drop(y)}),t.YNc(147,Kn,11,6,"div",63),t.qZA(),t.qZA(),t.TgZ(148,"div",2),t.TgZ(149,"div",1),t.YNc(150,Ee,2,2,"div",64),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(151,"mat-card"),t.TgZ(152,"div",1),t.TgZ(153,"div",65),t.TgZ(154,"input",53),t.NdJ("change",function(y){return r.onChange(y)}),t.qZA(),t._UZ(155,"br"),t.TgZ(156,"button",54),t.NdJ("click",function(){return r.onUpload("47")}),t._uU(157,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(158,"div",59),t.YNc(159,Zn,3,0,"div",55),t.TgZ(160,"div",56),t._UZ(161,"div",57),t.qZA(),t.YNc(162,ln,2,1,"div",58),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(163,"div"),t.YNc(164,qi,4,0,"button",66),t.TgZ(165,"button",67),t.NdJ("click",function(){return r.nextTab()}),t._uU(166," Next "),t.TgZ(167,"mat-icon"),t._uU(168,"arrow_circle_right"),t.qZA(),t.qZA(),t.TgZ(169,"button",67),t.NdJ("click",function(){return r.previousTab()}),t.TgZ(170,"mat-icon"),t._uU(171,"arrow_circle_left"),t.qZA(),t._uU(172," Back "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(173,"div",61),t.TgZ(174,"mat-card"),t.TgZ(175,"h2"),t.TgZ(176,"strong"),t._uU(177),t.qZA(),t._uU(178," | "),t.TgZ(179,"small"),t._uU(180),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("selectedIndex",r.activeTabIndex),t.xp6(2),t.Q6J("formGroup",r.newProductForm),t.xp6(11),t.Q6J("ngIf",r.invalidSku),t.xp6(1),t.Q6J("ngIf",!r.invalidSku),t.xp6(13),t.Q6J("ngForOf",t.xi3(35,33,r.typesList,"Brand")),t.xp6(26),t.Q6J("disabled",!r.newProductForm.dirty||r.invalidSku),t.xp6(9),t.Q6J("ngForOf",t.xi3(70,36,r.categoriesList,"0")),t.xp6(3),t.Q6J("ngIf",0!=r.newProductId),t.xp6(1),t.Q6J("ngIf",0==r.newProductId),t.xp6(4),t.Q6J("ngForIn",r.attributesFields),t.xp6(1),t.Q6J("formGroup",r.newProductFormAttributes),t.xp6(2),t.Q6J("ngForOf",r.attributes.controls),t.xp6(1),t.Q6J("ngIf",r.attrCount>0),t.xp6(2),t.Q6J("formGroup",r.newProductFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(92,39,r.typesList,"Packaging")),t.xp6(29),t.Q6J("disabled",!r.newProductFormPackaging.dirty),t.xp6(7),t.Q6J("ngForOf",t.xi3(128,42,r.typesList,"File")),t.xp6(8),t.Q6J("ngIf",r.loading),t.xp6(2),t.Akn(r.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",r.messages.length),t.xp6(3),t.Q6J("ngForOf",r.savedFiles),t.xp6(6),t.Q6J("ngForOf",r.savedFiles),t.xp6(3),t.Q6J("ngForOf",r.savedFiles),t.xp6(9),t.Q6J("ngIf",r.loading),t.xp6(2),t.Akn(r.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",r.messages.length),t.xp6(2),t.Q6J("ngIf",r.doneBtn),t.xp6(1),t.Q6J("disabled",!r.nextBtn),t.xp6(4),t.Q6J("disabled",!r.nextBtn),t.xp6(8),t.hij(" ",r.newProductName,""),t.xp6(3),t.Oqu(r.newProductSKU))},directives:[wi.yS,xe.a8,Ot.SP,Ot.uX,Gt._Y,Gt.JL,Gt.sg,gt.KE,gt.hX,Ht.Nt,Gt.Fj,Gt.JJ,Gt.u,_t.Hw,gt.R9,Ce.O5,Ct.gD,Ce.sg,tt.ey,_n,Bt.lW,Gt.F,Gt.CE,Gt.x0,et.Il,et.DX,Gt.Q7,Gt.YN,Gt.Kr,Y,He,wi.rH],pipes:[Ke,st],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.switch-tab[_ngcontent-%COMP%]{margin-left:2rem;float:right;margin-top:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:green}"]}),s})();function pn(s,c){1&s&&(t.TgZ(0,"div",2),t.TgZ(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA())}function go(s,c){1&s&&(t.TgZ(0,"button",44),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function cr(s,c){if(1&s&&(t.TgZ(0,"mat-option",45),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Dn(s,c){1&s&&t._UZ(0,"mat-progress-bar",3)}function In(s,c){1&s&&t._UZ(0,"th",46)}function Mn(s,c){if(1&s&&(t.TgZ(0,"td",47),t._UZ(1,"img",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/api/store/",e.clean_sku,"",t.LSH)}}function tr(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," SKU "),t.qZA())}function vn(s,c){if(1&s&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function er(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," Name "),t.qZA())}function Qr(s,c){if(1&s&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function mo(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," Brand "),t.qZA())}function _o(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"td",50),t.NdJ("click",function(){const y=t.CHM(e).$implicit,q=t.oxw(2);return q.selectBrand(q.getBrandName(y.brand_type_id))}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hij(" ",r.getBrandName(e.brand_type_id)," ")}}function vo(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," Description "),t.qZA())}function bo(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Za(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," Active "),t.qZA())}function Cs(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is active")}),t.TgZ(1,"mat-icon",53),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Ts(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",54),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function yo(s,c){if(1&s&&(t.TgZ(0,"td",47),t.YNc(1,Cs,3,0,"span",51),t.YNc(2,Ts,3,0,"span",51),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Da(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," In Development "),t.qZA())}function Ps(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is in development")}),t.TgZ(1,"mat-icon",55),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function $o(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",54),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function ks(s,c){if(1&s&&(t.TgZ(0,"td",47),t.YNc(1,Ps,3,0,"span",51),t.YNc(2,$o,3,0,"span",51),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Ia(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," EOL "),t.qZA())}function Ss(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is in end of life")}),t.TgZ(1,"mat-icon",56),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function xo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",54),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Ns(s,c){if(1&s&&(t.TgZ(0,"td",47),t.YNc(1,Ss,3,0,"span",51),t.YNc(2,xo,3,0,"span",51),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function Zi(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," Updated "),t.qZA())}function Ma(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Oa(s,c){1&s&&(t.TgZ(0,"th",46),t._uU(1," Created "),t.qZA())}function Fa(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Ko(s,c){1&s&&t._UZ(0,"th",46)}function Ls(s,c){if(1&s&&(t.TgZ(0,"td",47),t.TgZ(1,"button",57),t._uU(2," View Details "),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function On(s,c){1&s&&t._UZ(0,"tr",58)}function wo(s,c){1&s&&t._UZ(0,"tr",59)}function un(s,c){if(1&s&&(t.TgZ(0,"tr",60),t.TgZ(1,"td",61),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(22);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Xo=function(){return[10,25,50,100]};function Ea(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.YNc(5,go,4,0,"button",6),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"button",7),t.NdJ("click",function(){return t.CHM(e),t.MAs(48).exportTable("csv",{fileName:"products_system"})}),t.TgZ(8,"mat-icon"),t._uU(9,"download_file"),t.qZA(),t._uU(10," Export CSV "),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"button",8),t.TgZ(13,"mat-icon"),t._uU(14,"wordpress"),t.qZA(),t._uU(15," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",9),t.TgZ(18,"mat-form-field",10),t.TgZ(19,"mat-label"),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"input",11,12),t.NdJ("keyup",function(m){return t.CHM(e),t.oxw().applyFilter(m)}),t.qZA(),t.TgZ(23,"mat-icon",13),t._uU(24,"filter_list"),t.qZA(),t.qZA(),t.TgZ(25,"mat-form-field",14),t.TgZ(26,"mat-label"),t._uU(27,"Categories"),t.qZA(),t.TgZ(28,"mat-select",15),t.NdJ("selectionChange",function(m){return t.CHM(e),t.oxw().filterByCategory(m)}),t.YNc(29,cr,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(30,"div",17),t.TgZ(31,"span",18),t.TgZ(32,"mat-checkbox",19),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().displayDates=m})("change",function(m){return t.CHM(e),t.oxw().showDates(m)}),t._uU(33,"More info"),t.qZA(),t.qZA(),t.TgZ(34,"span",18),t.TgZ(35,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().eolProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(36,"EOL"),t.qZA(),t.qZA(),t.TgZ(37,"span",18),t.TgZ(38,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().developmentProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(39,"In Development"),t.qZA(),t.qZA(),t.TgZ(40,"span",18),t.TgZ(41,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().activeProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(42,"Active"),t.qZA(),t.qZA(),t.TgZ(43,"span",18),t.TgZ(44,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().allProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(45,"All"),t.qZA(),t.qZA(),t.YNc(46,Dn,1,0,"mat-progress-bar",21),t.TgZ(47,"table",22,23),t.NdJ("matSortChange",function(m){return t.CHM(e),t.oxw().announceSortChange(m)}),t.ynx(49,24),t.YNc(50,In,1,0,"th",25),t.YNc(51,Mn,2,1,"td",26),t.BQk(),t.ynx(52,27),t.YNc(53,tr,2,0,"th",25),t.YNc(54,vn,2,2,"td",28),t.BQk(),t.ynx(55,29),t.YNc(56,er,2,0,"th",25),t.YNc(57,Qr,2,2,"td",28),t.BQk(),t.ynx(58,30),t.YNc(59,mo,2,0,"th",25),t.YNc(60,_o,2,1,"td",31),t.BQk(),t.ynx(61,32),t.YNc(62,vo,2,0,"th",25),t.YNc(63,bo,2,1,"td",26),t.BQk(),t.ynx(64,33),t.YNc(65,Za,2,0,"th",25),t.YNc(66,yo,3,2,"td",26),t.BQk(),t.ynx(67,34),t.YNc(68,Da,2,0,"th",25),t.YNc(69,ks,3,2,"td",26),t.BQk(),t.ynx(70,35),t.YNc(71,Ia,2,0,"th",25),t.YNc(72,Ns,3,2,"td",26),t.BQk(),t.ynx(73,36),t.YNc(74,Zi,2,0,"th",25),t.YNc(75,Ma,3,3,"td",26),t.BQk(),t.ynx(76,37),t.YNc(77,Oa,2,0,"th",25),t.YNc(78,Fa,3,3,"td",26),t.BQk(),t.ynx(79,38),t.YNc(80,Ko,1,0,"th",25),t.YNc(81,Ls,3,1,"td",26),t.BQk(),t.YNc(82,On,1,0,"tr",39),t.YNc(83,wo,1,0,"tr",40),t.YNc(84,un,3,1,"tr",41),t.qZA(),t._UZ(85,"mat-paginator",42),t.qZA(),t.qZA(),t._UZ(86,"div",43),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(35),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(12,Xo))}}class Cr extends an._k{constructor(c,e,r,m,y,q,nt,Wt,he){super(),this.navbar=c,this.sideNav=e,this.topNav=r,this.treeNav=m,this.api=y,this._snackBar=q,this._liveAnnouncer=nt,this.info=Wt,this.router=he,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.info.isUserLoggedIn.subscribe(ke=>{this.loggedIn=ke})}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),console.log(Date.now()),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.info.auth(),console.log("isUserLoggedIn:",this.loggedIn)}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(c){this.dataSource.filter=c.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){let c="products-verified";this.viewAllProductsRole&&(c="products"),this.blockUI.start("Loading products.."),this.productsLoader=!0,this.api.GET(c).subscribe({next:e=>{console.log("Products: ",e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.blockUI.stop()},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}openSnackBar(c,e){this._snackBar.open(c,e,{duration:2e3})}announceSortChange(c){this._liveAnnouncer.announce(c.direction?`Sorted ${c.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:c=>{console.log(c),this.typesList=c},error:c=>{this.openSnackBar("Failed to communicate with the server: "+c.message,"Okay")}})}getBrandName(c){let e=0;return e=parseInt(c)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(c){return console.log("Role check"),!!this.info.role(c)}iconClick(c){this.openSnackBar(c,"\u{1f609}")}filePath(c){return c.substring(7)}showDates(c){this.displayDates?this.displayedColumns=["thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["thumbnail","sku","name","brand","description","view"]}selectBrand(c){this.router.navigate(["/brand",c.toLowerCase()])}filterStatuses(c){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?r=>1==r.is_in_development&&1==r.is_active:this.activeProducts&&this.eolProducts?r=>1==r.is_active&&1==r.is_eol:this.developmentProducts&&this.eolProducts?r=>1==r.is_in_development&&1==r.is_eol:this.activeProducts?r=>1==r.is_active:this.developmentProducts?r=>1==r.is_in_development:r=>1==r.is_eol),this.table(e)}filterByCategory(c){console.log(c),this.api.GET(`products-by-category/${c.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:c=>{this.categoriesList=c},error:c=>{alert(c)}})}table(c){this.dataSource=new $t.by(c),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}Cr.\u0275fac=function(c){return new(c||Cr)(t.Y36(ei.I),t.Y36(Vi.Z),t.Y36(ei.I),t.Y36(nn.r),t.Y36(Te.s),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C),t.Y36(wi.F0))},Cr.\u0275cmp=t.Xpm({type:Cr,selectors:[["app-products-home"]],viewQuery:function(c,e){if(1&c&&(t.Gf(Ze.NW,5),t.Gf(Me.YE,5)),2&c){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first),t.iGM(r=t.CRH())&&(e.sort=r.first)}},features:[t.qOj],decls:2,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","",1,"m-1",2,"width","100%",3,"click"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","thumbnail"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='http://127.0.0.1:8000/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(c,e){1&c&&(t.YNc(0,pn,4,0,"div",0),t.YNc(1,Ea,87,13,"div",1)),2&c&&(t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},directives:[Ce.O5,Jn.pW,Bt.lW,wi.rH,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ct.gD,Ce.sg,tt.ey,_n,Gt.JJ,Gt.On,$t.BZ,vr.jt,Me.YE,$t.w1,$t.fO,$t.ge,Me.nU,$t.Dz,$t.ev,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ze.NW],pipes:[Ce.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,vs.gn)([(0,Pa.bH)()],Cr.prototype,"blockUI",void 0);var qa=ne(4327),Zs=ne(3583),Ra=ne(2983),Ds=ne.n(Ra),fn=ne(9776),Fn=ne(7429),Ba=ne(9770),Ua=ne(9646),rn=ne(9300),ti=ne(1777),mi=ne(1159);function ja(s,c){}class ji{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Is={dialogContainer:(0,ti.X$)("dialogContainer",[(0,ti.SB)("void, exit",(0,ti.oB)({opacity:0,transform:"scale(0.7)"})),(0,ti.SB)("enter",(0,ti.oB)({transform:"none"})),(0,ti.eR)("* => enter",(0,ti.ru)([(0,ti.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ti.oB)({transform:"none",opacity:1})),(0,ti.IO)("@*",(0,ti.pV)(),{optional:!0})])),(0,ti.eR)("* => void, * => exit",(0,ti.ru)([(0,ti.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ti.oB)({opacity:0})),(0,ti.IO)("@*",(0,ti.pV)(),{optional:!0})]))])};let ze=(()=>{class s extends Fn.en{constructor(e,r,m,y,q,nt,Wt,he){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=m,this._config=q,this._interactivityChecker=nt,this._ngZone=Wt,this._focusMonitor=he,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=ke=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(ke)),this._ariaLabelledBy=q.ariaLabelledBy||null,this._document=y}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,cn.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const m=()=>{e.removeEventListener("blur",m),e.removeEventListener("mousedown",m),e.removeAttribute("tabindex")};e.addEventListener("blur",m),e.addEventListener("mousedown",m)})),e.focus(r)}_focusByCssSelector(e,r){let m=this._elementRef.nativeElement.querySelector(e);m&&this._forceFocus(m,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=(0,cn.ht)(),m=this._elementRef.nativeElement;(!r||r===this._document.body||r===m||m.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=(0,cn.ht)();return e===r||e.contains(r)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Ii.qV),t.Y36(t.sBO),t.Y36(Ce.K0,8),t.Y36(ji),t.Y36(Ii.ic),t.Y36(t.R0b),t.Y36(Ii.tE))},s.\u0275dir=t.lG2({type:s,viewQuery:function(e,r){if(1&e&&t.Gf(Fn.Pl,7),2&e){let m;t.iGM(m=t.CRH())&&(r._portalOutlet=m.first)}},features:[t.qOj]}),s})(),Os=(()=>{class s extends ze{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return s.\u0275fac=function(){let c;return function(r){return(c||(c=t.n5z(s)))(r||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&t.WFA("@dialogContainer.start",function(y){return r._onAnimationStart(y)})("@dialogContainer.done",function(y){return r._onAnimationDone(y)}),2&e&&(t.Ikx("id",r._id),t.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),t.d8E("@dialogContainer",r._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&t.YNc(0,ja,0,0,"ng-template",0)},directives:[Fn.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Is.dialogContainer]}}),s})(),Fs=0;class ir{constructor(c,e,r="mat-dialog-"+Fs++){this._overlayRef=c,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ui.x,this._afterClosed=new ui.x,this._beforeClosed=new ui.x,this._state=0,e._id=r,e._animationStateChanged.pipe((0,rn.h)(m=>"opened"===m.state),(0,ar.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,rn.h)(m=>"closed"===m.state),(0,ar.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),c.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),c.keydownEvents().pipe((0,rn.h)(m=>m.keyCode===mi.hY&&!this.disableClose&&!(0,mi.Vb)(m))).subscribe(m=>{m.preventDefault(),ta(this,"keyboard")}),c.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ta(this,"mouse")})}close(c){this._result=c,this._containerInstance._animationStateChanged.pipe((0,rn.h)(e=>"closing"===e.state),(0,ar.q)(1)).subscribe(e=>{this._beforeClosed.next(c),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(c){let e=this._getPositionStrategy();return c&&(c.left||c.right)?c.left?e.left(c.left):e.right(c.right):e.centerHorizontally(),c&&(c.top||c.bottom)?c.top?e.top(c.top):e.bottom(c.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(c="",e=""){return this._overlayRef.updateSize({width:c,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(c){return this._overlayRef.addPanelClass(c),this}removePanelClass(c){return this._overlayRef.removePanelClass(c),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ta(s,c,e){return void 0!==s._containerInstance&&(s._containerInstance._closeInteractionType=c),s.close(e)}const Ha=new t.OlP("MatDialogData"),Ao=new t.OlP("mat-dialog-default-options"),Co=new t.OlP("mat-dialog-scroll-strategy"),qs={provide:Co,deps:[fn.aV],useFactory:function Es(s){return()=>s.scrollStrategies.block()}};let ea=(()=>{class s{constructor(e,r,m,y,q,nt,Wt,he,ke,n){this._overlay=e,this._injector=r,this._defaultOptions=m,this._parentDialog=y,this._overlayContainer=q,this._dialogRefConstructor=Wt,this._dialogContainerType=he,this._dialogDataToken=ke,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ui.x,this._afterOpenedAtThisLevel=new ui.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ba.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,fo.O)(void 0))),this._scrollStrategy=nt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){r=function Pr(s,c){return Object.assign(Object.assign({},c),s)}(r,this._defaultOptions||new ji),r.id&&this.getDialogById(r.id);const m=this._createOverlay(r),y=this._attachDialogContainer(m,r),q=this._attachDialogContent(e,y,m,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(q),q.afterClosed().subscribe(()=>this._removeOpenDialog(q)),this.afterOpened.next(q),y._initializeWithAttachedContent(),q}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new fn.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const y=t.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:ji,useValue:r}]}),q=new Fn.C5(this._dialogContainerType,r.viewContainerRef,y,r.componentFactoryResolver);return e.attach(q).instance}_attachDialogContent(e,r,m,y){const q=new this._dialogRefConstructor(m,r,y.id);if(e instanceof t.Rgc)r.attachTemplatePortal(new Fn.UE(e,null,{$implicit:y.data,dialogRef:q}));else{const nt=this._createInjector(y,q,r),Wt=r.attachComponentPortal(new Fn.C5(e,y.viewContainerRef,nt,y.componentFactoryResolver));q.componentInstance=Wt.instance}return q.updateSize(y.width,y.height).updatePosition(y.position),q}_createInjector(e,r,m){const y=e&&e.viewContainerRef&&e.viewContainerRef.injector,q=[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!y||!y.get(l.Is,null,t.XFs.Optional))&&q.push({provide:l.Is,useValue:{value:e.direction,change:(0,Ua.of)()}}),t.zs3.create({parent:y||this._injector,providers:q})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((m,y)=>{m?y.setAttribute("aria-hidden",m):y.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let m=r.length-1;m>-1;m--){let y=r[m];y!==e&&"SCRIPT"!==y.nodeName&&"STYLE"!==y.nodeName&&!y.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(y,y.getAttribute("aria-hidden")),y.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return s.\u0275fac=function(e){t.$Z()},s.\u0275dir=t.lG2({type:s}),s})(),Tr=(()=>{class s extends ea{constructor(e,r,m,y,q,nt,Wt,he){super(e,r,y,nt,Wt,q,ir,Os,Ha,he)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(fn.aV),t.LFG(t.zs3),t.LFG(Ce.Ye,8),t.LFG(Ao,8),t.LFG(Co),t.LFG(s,12),t.LFG(fn.Xj),t.LFG(ka.Qb,8))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),Ya=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[Tr,qs],imports:[[fn.U8,Fn.eL,tt.BQ],tt.BQ]}),s})();var kr=ne(4623),lr=ne(449);const Sr=["*"],ur=new t.OlP("MatChipRemove"),bn=new t.OlP("MatChipAvatar"),Po=new t.OlP("MatChipTrailingIcon");class $r{constructor(c){this._elementRef=c}}const Us=(0,tt.sb)((0,tt.pj)((0,tt.Kr)($r),"primary"),-1);let Nr=(()=>{class s extends Us{constructor(e,r,m,y,q,nt,Wt,he){super(e),this._ngZone=r,this._changeDetectorRef=q,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new ui.x,this._onBlur=new ui.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=nt.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new tt.IR(this,r,this._chipRippleTarget,m),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=y||{},this._animationsDisabled="NoopAnimations"===Wt,this.tabIndex=null!=he&&parseInt(he)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const r=(0,je.Ig)(e);r!==this._selected&&(this._selected=r,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,je.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,je.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,je.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",r=this._elementRef.nativeElement;r.hasAttribute(e)||r.tagName.toLowerCase()===e?r.classList.add(e):r.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case mi.yY:case mi.ZH:this.remove(),e.preventDefault();break;case mi.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,ar.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(cn.t4),t.Y36(tt.Y2,8),t.Y36(t.sBO),t.Y36(Ce.K0),t.Y36(ka.Qb,8),t.$8M("tabindex"))},s.\u0275dir=t.lG2({type:s,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,m){if(1&e&&(t.Suo(m,bn,5),t.Suo(m,Po,5),t.Suo(m,ur,5)),2&e){let y;t.iGM(y=t.CRH())&&(r.avatar=y.first),t.iGM(y=t.CRH())&&(r.trailingIcon=y.first),t.iGM(y=t.CRH())&&(r.removeIcon=y.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,r){1&e&&t.NdJ("click",function(y){return r._handleClick(y)})("keydown",function(y){return r._handleKeydown(y)})("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(t.uIk("tabindex",r.disabled?null:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString())("aria-selected",r.ariaSelected),t.ekj("mat-chip-selected",r.selected)("mat-chip-with-avatar",r.avatar)("mat-chip-with-trailing-icon",r.trailingIcon||r.removeIcon)("mat-chip-disabled",r.disabled)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),s})();const ra=new t.OlP("mat-chips-default-options"),aa=(0,tt.FD)(class{constructor(s,c,e,r){this._defaultErrorStateMatcher=s,this._parentForm=c,this._parentFormGroup=e,this.ngControl=r}});let Ja=0;class Hs{constructor(c,e){this.source=c,this.value=e}}let Kr=(()=>{class s extends aa{constructor(e,r,m,y,q,nt,Wt){super(nt,y,q,Wt),this._elementRef=e,this._changeDetectorRef=r,this._dir=m,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new ui.x,this._uid="mat-chip-list-"+Ja++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(he,ke)=>he===ke,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,r;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,je.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,r,m,y;return null!==(y=null!==(e=this._required)&&void 0!==e?e:null===(m=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===m?void 0:m.hasValidator(Gt.kI.required))&&void 0!==y&&y}set required(e){this._required=(0,je.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,je.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,je.Ig)(e),this.chips&&this.chips.forEach(r=>r.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,Gn.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,Gn.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,Gn.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,Gn.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new Ii.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,Vr.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,Vr.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,fo.O)(null),(0,Vr.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new lr.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const r=e.target;r&&r.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,r=!0){if(this._clearSelection(),this.chips.forEach(m=>m.deselect()),Array.isArray(e))e.forEach(m=>this._selectValue(m,r)),this._sortValues();else{const m=this._selectValue(e,r);m&&r&&this._keyManager.setActiveItem(m)}}_selectValue(e,r=!0){const m=this.chips.find(y=>null!=y.value&&this._compareWith(y.value,e));return m&&(r?m.selectViaInteraction():m.select(),this._selectionModel.select(m)),m}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(r=>{r!==e&&r.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let r=null;r=Array.isArray(this.selected)?this.selected.map(m=>m.value):this.selected?this.selected.value:e,this._value=r,this.change.emit(new Hs(this,r)),this.valueChange.emit(r),this._onChange(r),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(r=>{!this._selectionModel.isSelected(r)&&r.selected&&r.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&this._keyManager.updateActiveItem(r),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const r=e.chip,m=this.chips.toArray().indexOf(e.chip);this._isValidIndex(m)&&r._hasFocus&&(this._lastDestroyedChipIndex=m)})}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-chip"))return!0;r=r.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(l.Is,8),t.Y36(Gt.F,8),t.Y36(Gt.sg,8),t.Y36(tt.rD),t.Y36(Gt.a5,10))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-chip-list"]],contentQueries:function(e,r,m){if(1&e&&t.Suo(m,Nr,5),2&e){let y;t.iGM(y=t.CRH())&&(r.chips=y)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,r){1&e&&t.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(y){return r._keydown(y)}),2&e&&(t.Ikx("id",r._uid),t.uIk("tabindex",r.disabled?null:r._tabIndex)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-multiselectable",r.multiple)("role",r.role)("aria-orientation",r.ariaOrientation),t.ekj("mat-chip-list-disabled",r.disabled)("mat-chip-list-invalid",r.errorState)("mat-chip-list-required",r.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:gt.Eo,useExisting:s}]),t.qOj],ngContentSelectors:Sr,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),s})(),sa=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[tt.rD,{provide:ra,useValue:{separatorKeyCodes:[mi.K5]}}],imports:[[tt.BQ]]}),s})();var hr=ne(7544),Lo=ne(773);const p=["pdfContent"];function C(s,c){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",1),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function U(s,c){if(1&s&&(t.TgZ(0,"mat-option",87),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function W(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateProduct()}),t._uU(1,"Save Changes"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productForm.dirty)}}function at(s,c){if(1&s&&(t.TgZ(0,"mat-option",87),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Nt(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"div",89),t.TgZ(2,"mat-form-field",11),t.TgZ(3,"mat-label"),t._uU(4,"Product Region"),t.qZA(),t.TgZ(5,"mat-select",90,91),t.YNc(7,at,2,2,"mat-option",18),t.ALo(8,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&s){const e=c.index,r=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(6),t.Q6J("ngForOf",t.xi3(8,2,r.typesList,"Region"))}}function Kt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateRegion()}),t._uU(1,"Save Region"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.regionsForm.dirty)}}function _e(s,c){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",89),t.TgZ(2,"mat-form-field",11),t.TgZ(3,"mat-label"),t._uU(4,"Shoutout"),t.qZA(),t._UZ(5,"input",93),t.TgZ(6,"mat-icon",94),t.NdJ("click",function(){const y=t.CHM(e).index;return t.oxw(2).removeShoutout(y)}),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function De(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateShoutout()}),t._uU(1,"Save Changes"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.shoutoutsForm.dirty)}}function We(s,c){if(1&s&&(t.TgZ(0,"li"),t.TgZ(1,"span"),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.hij("",e.attribute_key," "),t.xp6(1),t.hij(": ",e.attribute_value,"")}}function Qe(s,c){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"ul"),t.YNc(2,We,4,2,"li",36),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.pdsAttributes)}}function ii(s,c){1&s&&(t.TgZ(0,"div"),t.TgZ(1,"i"),t._uU(2,"please wait..."),t.qZA(),t.qZA())}function Ai(s,c){if(1&s&&(t.TgZ(0,"div",95),t.TgZ(1,"a",96),t._UZ(2,"img",97),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=c.index;t.xp6(1),t.MGl("href","https://images.smdtechnologies.co.za/uploads/",e[r].filename,"",t.LSH),t.xp6(1),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e[r].filename,"",t.LSH)}}function ki(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(8).checkedItem(y.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(8);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name)}}function Oi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(7).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,ki,3,2,"li",49),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(7);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function Xi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(6).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Oi,6,6,"li",49),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(6);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function Hi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(5).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Xi,6,6,"li",49),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(5);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function En(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(4).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Hi,6,6,"li",49),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(4);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function gn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(3).checkedItem(y.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,En,6,6,"li",49),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(3);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function dr(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",98),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",99),t.NdJ("click",function(){const y=t.CHM(e).$implicit;return t.oxw(2).checkedItem(y.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,gn,6,6,"li",49),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,3,r.categoriesList,e.id))}}function Va(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"div",89),t.TgZ(2,"mat-grid-list",100),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",101),t._UZ(5,"input",102),t.qZA(),t.qZA(),t.TgZ(6,"mat-grid-tile"),t.TgZ(7,"mat-form-field",101),t._UZ(8,"input",103),t.qZA(),t.qZA(),t._UZ(9,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function ca(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateAttributes()}),t._uU(1),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productFormAttributes.dirty),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function la(s,c){if(1&s&&(t.TgZ(0,"mat-option",87),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Zo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updatePackaging()}),t._uU(1,"Save Packaging"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productFormPackaging.dirty)}}function ua(s,c){if(1&s&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ha(s,c){if(1&s&&(t.TgZ(0,"mat-list-option",115),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Do(s,c){1&s&&(t.TgZ(0,"div",116),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function hn(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function Io(s,c){if(1&s&&(t.TgZ(0,"div",117),t.YNc(1,hn,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Mo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",104),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).setFocusType(m)}),t.YNc(4,ua,2,2,"option",18),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"label"),t._uU(8,"Document Expiry Date:"),t.qZA(),t.TgZ(9,"input",105),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw(2).expiry_date=m}),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"input",106),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-selection-list",107,108),t.YNc(15,ha,2,1,"mat-list-option",109),t.ALo(16,"typeGroup"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"button",110),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadDocument("55","document")}),t._uU(19,"Upload File"),t.qZA(),t._UZ(20,"hr"),t.YNc(21,Do,3,0,"div",111),t.TgZ(22,"div",112),t._UZ(23,"div",113),t.qZA(),t.YNc(24,Io,2,1,"div",114),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,7,e.typesList,"File")),t.xp6(5),t.Q6J("ngModel",e.expiry_date),t.xp6(6),t.Q6J("ngForOf",t.xi3(16,10,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function Oo(s,c){1&s&&(t.TgZ(0,"div",118),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function da(s,c){1&s&&(t.TgZ(0,"span"),t._uU(1,"\u26a0"),t.qZA())}function dn(s,c){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,da,2,0,"span",0),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,4,e.created_at)),t.xp6(3),t.Q6J("ngIf",r.today>e.expiry_date),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.expiry_date)," ")}}function zs(s,c){if(1&s&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pa(s,c){if(1&s&&(t.TgZ(0,"mat-list-option",115),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Wa(s,c){1&s&&(t.TgZ(0,"div",116),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function qn(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function fa(s,c){if(1&s&&(t.TgZ(0,"div",117),t.YNc(1,qn,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Ys(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",104),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).setFocusType(m)}),t.YNc(4,zs,2,2,"option",18),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"input",106),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-selection-list",107,108),t.YNc(11,pa,2,1,"mat-list-option",109),t.ALo(12,"typeGroup"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"button",110),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadDocument("62","document")}),t._uU(15,"Upload Briefing File"),t.qZA(),t._UZ(16,"hr"),t.YNc(17,Wa,3,0,"div",111),t.TgZ(18,"div",112),t._UZ(19,"div",113),t.qZA(),t.YNc(20,fa,2,1,"div",114),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,6,e.typesList,"Briefing File")),t.xp6(7),t.Q6J("ngForOf",t.xi3(12,9,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function Js(s,c){1&s&&(t.TgZ(0,"div",118),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload briefing files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function Lr(s,c){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,2,e.created_at))}}function yn(s,c){if(1&s&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function Rn(s,c){if(1&s&&(t.TgZ(0,"div",73),t.TgZ(1,"mat-card",119),t.TgZ(2,"div",120),t._UZ(3,"img",121),t.qZA(),t.TgZ(4,"mat-card-content"),t.TgZ(5,"mat-chip-list",122),t.YNc(6,yn,2,1,"mat-chip",36),t.ALo(7,"typeGroup"),t.qZA(),t.qZA(),t._UZ(8,"mat-card-actions",123),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=c.index,m=t.oxw(2);t.xp6(3),t.MGl("src","https://images.smdtechnologies.co.za/uploads/",e[r].filename,"",t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,m.typesList,"Image Type"))}}function Zr(s,c){1&s&&(t.TgZ(0,"mat-chip",132),t._uU(1,"Primary"),t.qZA())}function nr(s,c){if(1&s&&t._UZ(0,"span",133),2&s){const e=t.oxw().index;t.s9C("matBadge",e+1)}}function pr(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",134),t.NdJ("onSelectionChange",function(){const y=t.CHM(e).$implicit,q=t.oxw().$implicit;return t.oxw(3).updateFileType(q.id,y.id)}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Fo(s,c){if(1&s&&(t.TgZ(0,"div",126),t.TgZ(1,"div",127),t.TgZ(2,"div",10),t.TgZ(3,"mat-chip-list"),t.YNc(4,Zr,2,0,"mat-chip",128),t.qZA(),t.YNc(5,nr,1,1,"span",129),t._UZ(6,"img",130),t.qZA(),t.TgZ(7,"div",40),t.TgZ(8,"mat-form-field",11),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select"),t.YNc(12,pr,2,2,"mat-option",131),t.ALo(13,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=c.index,m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",0==r),t.xp6(1),t.Q6J("ngIf",r>0),t.xp6(1),t.s9C("alt",e.path),t.s9C("src",m.storageUrl+m.filePath(e.path),t.LSH),t.xp6(4),t.Oqu(m.returnTypeName(e.type_id)),t.xp6(2),t.Q6J("ngForOf",t.xi3(13,6,m.typesList,"Image"))}}function Bn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",124),t.NdJ("cdkDropListDropped",function(m){return t.CHM(e),t.oxw(2).drop(m)}),t.YNc(1,Fo,14,9,"div",125),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.mediaFiles)}}function Eo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-chip",138),t.NdJ("click",function(){const y=t.CHM(e).$implicit,q=t.oxw().$implicit,nt=t.oxw(2);return nt.downloadURI("storage/"+nt.filePath(q.path),y.id,q.name,q)}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function ga(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-card-actions",123),t.TgZ(1,"button",139),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).hideFile(m.id)}),t.TgZ(2,"mat-icon"),t._uU(3,"hide_image"),t.qZA(),t.qZA(),t._uU(4,"\xa0 "),t.TgZ(5,"button",139),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).deleteFile(m.id)}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA()}}function Dr(s,c){if(1&s&&(t.TgZ(0,"div",73),t.TgZ(1,"mat-card",119),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-subtitle"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",120),t._UZ(6,"img",135),t.qZA(),t.TgZ(7,"mat-card-content"),t.TgZ(8,"mat-chip-list",122),t.YNc(9,Eo,2,1,"mat-chip",136),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.YNc(11,ga,8,0,"mat-card-actions",137),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(4),t.Oqu(r.returnTypeName(e.type_id)),t.xp6(2),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,4,r.typesList,"Image Type")),t.xp6(2),t.Q6J("ngIf",r.uploadRole)}}function Un(s,c){1&s&&(t.TgZ(0,"div",116),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function fr(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function Xr(s,c){if(1&s&&(t.TgZ(0,"div",117),t.YNc(1,fr,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function qo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",140),t.TgZ(2,"input",106),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"button",110),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onUpload("47","image")}),t._uU(5,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(6,"div",40),t.YNc(7,Un,3,0,"div",111),t.TgZ(8,"div",112),t._UZ(9,"div",113),t.qZA(),t.YNc(10,Xr,2,1,"div",114),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(7),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function to(s,c){1&s&&(t.TgZ(0,"div",9),t.TgZ(1,"div",141),t.TgZ(2,"div",118),t.TgZ(3,"p"),t._uU(4,"You do not have permissions to upload media"),t.qZA(),t.TgZ(5,"mat-icon"),t._uU(6,"hide_image"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Ir(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function ma(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function xn(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function gr(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function _i(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function vi(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Di(s,c){1&s&&(t.TgZ(0,"span"),t._uU(1,"\xa0loading..."),t.qZA())}function Ri(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function mr(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Mr(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Ro(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Ga(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",2),t._uU(3,"Products "),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-card",5),t.TgZ(8,"mat-tab-group"),t.TgZ(9,"mat-tab",6),t.TgZ(10,"form",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t.TgZ(14,"mat-card"),t.TgZ(15,"strong"),t._uU(16,"General Details"),t.qZA(),t._UZ(17,"br"),t._UZ(18,"br"),t.TgZ(19,"mat-form-field",11),t.TgZ(20,"mat-label"),t._uU(21,"SKU"),t.qZA(),t._UZ(22,"input",12,13),t.qZA(),t.TgZ(24,"mat-form-field",11),t.TgZ(25,"mat-label"),t._uU(26,"Product Name"),t.qZA(),t._UZ(27,"input",14,15),t.qZA(),t.TgZ(29,"mat-form-field",11),t.TgZ(30,"mat-label"),t._uU(31,"Product Brand"),t.qZA(),t.TgZ(32,"mat-select",16,17),t.YNc(34,U,2,2,"mat-option",18),t.ALo(35,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",11),t.TgZ(37,"mat-label"),t._uU(38,"Family Grouping"),t.qZA(),t._UZ(39,"input",19,20),t.qZA(),t.TgZ(41,"strong"),t._uU(42,"Description"),t.qZA(),t._UZ(43,"br"),t._UZ(44,"br"),t.TgZ(45,"mat-form-field",11),t.TgZ(46,"mat-label"),t._uU(47,"Short Description"),t.qZA(),t._UZ(48,"textarea",21,22),t.qZA(),t.TgZ(50,"mat-form-field",11),t.TgZ(51,"mat-label"),t._uU(52,"Description"),t.qZA(),t._UZ(53,"textarea",23,24),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"div",25),t.TgZ(57,"mat-checkbox",26,27),t._uU(59,"Is In Development"),t.qZA(),t._UZ(60,"br"),t.TgZ(61,"mat-checkbox",28,29),t._uU(63,"Is EOL"),t.qZA(),t._UZ(64,"br"),t.TgZ(65,"mat-checkbox",30,31),t._uU(67,"Is Active"),t.qZA(),t._UZ(68,"hr"),t.TgZ(69,"mat-checkbox",32,33),t._uU(71,"Verified"),t.qZA(),t._UZ(72,"hr"),t.YNc(73,W,2,1,"button",34),t.qZA(),t.qZA(),t._UZ(74,"br"),t.TgZ(75,"mat-card"),t.TgZ(76,"strong"),t._uU(77,"Regions "),t.qZA(),t._uU(78,"\u{1f310}"),t._UZ(79,"br"),t._UZ(80,"br"),t.TgZ(81,"form",7),t.ynx(82,35),t.YNc(83,Nt,9,5,"ng-container",36),t.BQk(),t.TgZ(84,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRegion()}),t._uU(85," Add Region "),t.qZA(),t.YNc(86,Kt,2,1,"button",38),t.qZA(),t.qZA(),t._UZ(87,"br"),t.TgZ(88,"mat-card"),t.TgZ(89,"strong"),t._uU(90,"Shout Outs"),t.qZA(),t._UZ(91,"br"),t._UZ(92,"br"),t.TgZ(93,"form",7),t.ynx(94,39),t.YNc(95,_e,8,1,"ng-container",36),t.BQk(),t.TgZ(96,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().addShoutout()}),t._uU(97," Add Shout Out "),t.qZA(),t.YNc(98,De,2,1,"button",38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(99,"div",40),t.TgZ(100,"mat-card"),t.TgZ(101,"strong"),t._uU(102,"PDS Attributes"),t.qZA(),t._UZ(103,"br"),t._UZ(104,"br"),t.YNc(105,Qe,3,1,"div",0),t.YNc(106,ii,3,0,"div",0),t.qZA(),t.TgZ(107,"mat-card",41),t.TgZ(108,"div",9),t.YNc(109,Ai,3,2,"div",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(110,"mat-tab",43),t.TgZ(111,"div",44),t.TgZ(112,"mat-card",45),t.TgZ(113,"form"),t.TgZ(114,"div",46),t.TgZ(115,"div",47),t.TgZ(116,"section",48),t.TgZ(117,"ul"),t.YNc(118,dr,8,6,"li",49),t.ALo(119,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(120,"div",47),t.TgZ(121,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(122,"Save Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(123,"mat-tab",51),t.TgZ(124,"div",52),t.TgZ(125,"mat-card",45),t.TgZ(126,"form",7),t.ynx(127,53),t.YNc(128,Va,10,1,"ng-container",36),t.BQk(),t.TgZ(129,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(130,"mat-icon"),t._uU(131,"add_circle_outline"),t.qZA(),t._uU(132," Add Attribute "),t.qZA(),t.YNc(133,ca,2,2,"button",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(134,"mat-tab",55),t.TgZ(135,"mat-card",45),t.TgZ(136,"form",7),t.TgZ(137,"div",44),t.TgZ(138,"div",46),t.TgZ(139,"div",47),t.TgZ(140,"mat-form-field",56),t.TgZ(141,"mat-label"),t._uU(142,"Choose Packaging Type:"),t.qZA(),t.TgZ(143,"mat-select",57),t.YNc(144,la,2,2,"mat-option",18),t.ALo(145,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(146,"mat-form-field",56),t.TgZ(147,"mat-label"),t._uU(148,"Weight (KG)"),t.qZA(),t._UZ(149,"input",58),t.TgZ(150,"mat-icon",59),t._uU(151,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(152,"mat-form-field",56),t.TgZ(153,"mat-label"),t._uU(154,"Dimensions(cm): Length"),t.qZA(),t._UZ(155,"input",60),t.TgZ(156,"mat-icon",59),t._uU(157,"design_services"),t.qZA(),t.qZA(),t.TgZ(158,"mat-form-field",56),t.TgZ(159,"mat-label"),t._uU(160,"Dimensions(cm): Width"),t.qZA(),t._UZ(161,"input",61),t.TgZ(162,"mat-icon",59),t._uU(163,"design_services"),t.qZA(),t.qZA(),t.TgZ(164,"mat-form-field",56),t.TgZ(165,"mat-label"),t._uU(166,"Dimensions(cm): Height"),t.qZA(),t._UZ(167,"input",62),t.TgZ(168,"mat-icon",59),t._uU(169,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(170,"div",47),t.TgZ(171,"div",63),t.YNc(172,Zo,2,1,"button",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(173,"mat-tab",64),t.TgZ(174,"div",44),t.TgZ(175,"div",9),t.TgZ(176,"div",10),t.TgZ(177,"mat-card",45),t.YNc(178,Mo,25,13,"div",0),t.YNc(179,Oo,5,0,"div",65),t.qZA(),t.qZA(),t.TgZ(180,"div",40),t.TgZ(181,"mat-card",45),t.TgZ(182,"table",66),t.TgZ(183,"thead"),t.TgZ(184,"tr",67),t.TgZ(185,"th"),t._uU(186,"Document"),t.qZA(),t.TgZ(187,"th"),t._uU(188,"Uploaded"),t.qZA(),t.TgZ(189,"th"),t._uU(190,"Expiry Date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(191,"tbody"),t.YNc(192,dn,10,8,"tr",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(193,"mat-tab",68),t.TgZ(194,"div",44),t.TgZ(195,"div",9),t.TgZ(196,"div",10),t.TgZ(197,"mat-card",45),t.YNc(198,Ys,21,12,"div",0),t.YNc(199,Js,5,0,"div",65),t.qZA(),t.qZA(),t.TgZ(200,"div",40),t.TgZ(201,"mat-card",45),t.TgZ(202,"table",66),t.TgZ(203,"thead"),t.TgZ(204,"tr",67),t.TgZ(205,"th"),t._uU(206,"Document"),t.qZA(),t.TgZ(207,"th"),t._uU(208,"Uploaded"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(209,"tbody"),t.YNc(210,Lr,6,4,"tr",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(211,"mat-tab",69),t.TgZ(212,"div",44),t.TgZ(213,"mat-tab-group"),t.TgZ(214,"mat-tab",70),t.TgZ(215,"div",44),t.TgZ(216,"div",9),t.YNc(217,Rn,9,5,"div",71),t.qZA(),t.qZA(),t.qZA(),t.TgZ(218,"mat-tab",72),t.TgZ(219,"div",9),t.TgZ(220,"div",73),t.YNc(221,Bn,2,1,"div",74),t.qZA(),t.TgZ(222,"div",75),t.TgZ(223,"div",9),t.YNc(224,Dr,12,7,"div",71),t.qZA(),t.qZA(),t.qZA(),t.TgZ(225,"mat-card"),t.YNc(226,qo,11,4,"div",76),t.YNc(227,to,7,0,"div",76),t.qZA(),t.qZA(),t.TgZ(228,"mat-tab",77),t._UZ(229,"div",44),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(230,"div",78),t.TgZ(231,"div",79),t.TgZ(232,"mat-card"),t.TgZ(233,"mat-card-content"),t.TgZ(234,"mat-grid-list",80),t.TgZ(235,"mat-grid-tile",81),t._UZ(236,"mat-progress-spinner",82),t.qZA(),t.qZA(),t._UZ(237,"br"),t.TgZ(238,"h3",83),t._uU(239),t.qZA(),t._UZ(240,"hr"),t.TgZ(241,"mat-list",84),t.TgZ(242,"mat-list-item",85),t.TgZ(243,"mat-icon"),t._uU(244,"check_circle"),t.qZA(),t._uU(245," General Details "),t.qZA(),t.TgZ(246,"mat-list-item",85),t.YNc(247,Ir,2,0,"mat-icon",0),t.YNc(248,ma,2,0,"mat-icon",0),t._uU(249," Categories "),t.qZA(),t.TgZ(250,"mat-list-item",85),t.YNc(251,xn,2,0,"mat-icon",0),t.YNc(252,gr,2,0,"mat-icon",0),t._uU(253," Attributes "),t.qZA(),t.TgZ(254,"mat-list-item",85),t.YNc(255,_i,2,0,"mat-icon",0),t.YNc(256,vi,2,0,"mat-icon",0),t._uU(257," Packaging "),t.YNc(258,Di,2,0,"span",0),t.qZA(),t.TgZ(259,"mat-list-item",85),t.YNc(260,Ri,2,0,"mat-icon",0),t.YNc(261,mr,2,0,"mat-icon",0),t._uU(262),t.qZA(),t.TgZ(263,"mat-list-item",85),t.YNc(264,Mr,2,0,"mat-icon",0),t.YNc(265,Ro,2,0,"mat-icon",0),t._uU(266),t.qZA(),t.qZA(),t.qZA(),t.TgZ(267,"div",83),t.TgZ(268,"button",86),t.NdJ("click",function(){return t.CHM(e),t.oxw().SavePDF()}),t._uU(269,"Export PDF"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(4),t.hij(" / Product Details / ",e.productName," "),t.xp6(6),t.Q6J("formGroup",e.productForm),t.xp6(24),t.Q6J("ngForOf",t.xi3(35,48,e.typesList,"Brand")),t.xp6(39),t.Q6J("ngIf",e.editRole),t.xp6(8),t.Q6J("formGroup",e.regionsForm),t.xp6(2),t.Q6J("ngForOf",e.regions.controls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(7),t.Q6J("formGroup",e.shoutoutsForm),t.xp6(2),t.Q6J("ngForOf",e.shoutouts.controls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(7),t.Q6J("ngIf",!e.loadingPdsAttributes),t.xp6(1),t.Q6J("ngIf",e.loadingPdsAttributes),t.xp6(3),t.Q6J("ngForOf",e.imageServerFiles),t.xp6(9),t.Q6J("ngForOf",t.xi3(119,51,e.categoriesList,"0")),t.xp6(8),t.Q6J("formGroup",e.productFormAttributes),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls),t.xp6(5),t.Q6J("ngIf",e.editRole),t.xp6(3),t.Q6J("formGroup",e.productFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(145,54,e.typesList,"Packaging")),t.xp6(28),t.Q6J("ngIf",e.editRole),t.xp6(6),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(13),t.Q6J("ngForOf",e.documentFiles),t.xp6(6),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(11),t.Q6J("ngForOf",e.documentFiles),t.xp6(7),t.Q6J("ngForOf",e.imageServerFiles),t.xp6(4),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(3),t.Q6J("ngForOf",e.mediaFiles),t.xp6(2),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(9),t.Q6J("color",e.progressPercentage()>50?"primary":"warn")("mode",e.progressMode)("value",e.progressPercentage()),t.xp6(3),t.hij("",e.progressPercentage(),"% Complete"),t.xp6(8),t.Q6J("ngIf",e.categoriesList.length<1),t.xp6(1),t.Q6J("ngIf",e.categoriesList.length>0),t.xp6(3),t.Q6J("ngIf",e.attributes.length<1),t.xp6(1),t.Q6J("ngIf",e.attributes.length>0),t.xp6(3),t.Q6J("ngIf",e.packagingCount<1),t.xp6(1),t.Q6J("ngIf",e.packagingCount>0),t.xp6(2),t.Q6J("ngIf",e.packagingLoading),t.xp6(2),t.Q6J("ngIf",e.documentFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.documentFiles.length>0),t.xp6(1),t.hij(" Documents (",e.documentFiles.length,") "),t.xp6(2),t.Q6J("ngIf",e.mediaFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(1),t.hij(" Images (",e.mediaFiles.length,") ")}}function Kc(s,c){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you beleave this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",142),t._uU(9,"Report Issue"),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function Xc(s,c){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,Kc,10,1,"div",0),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}const tl=[{path:"",component:Cr},{path:":sku",component:(()=>{class s{constructor(e,r,m,y,q,nt,Wt,he,ke,n){this.navbar=e,this.treeNav=r,this.api=m,this._snackBar=y,this.route=q,this.router=nt,this.formBuilder=Wt,this.info=he,this.dialog=ke,this.http=n,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.imageServerFiles=[],this.documentFiles=[],this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save Changes",this.disableSaveAttrBtn=!1,this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.categoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.requiredField=!1,this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllTypes(),this.getAllCategories(),this.productForm=this.formBuilder.group({sku:["0",Gt.kI.required],name:["0",Gt.kI.required],brand_type_id:["0",Gt.kI.required],description:["0",Gt.kI.required],short_description:["0",Gt.kI.required],parent_id:["0"],is_eol:[0,Gt.kI.required],is_in_development:[0,Gt.kI.required],is_active:[0,Gt.kI.required],verified:[0,Gt.kI.required],family_grouping:[""]}),this.productFormPackaging=this.formBuilder.group({weight:[""],length:[""],width:[""],height:[""],packaging_type_id:["",Gt.kI.required],product_id:[""]}),this.productFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])}),this.shoutoutsForm=this.formBuilder.group({shoutouts:this.formBuilder.array([])}),this.regionsForm=this.formBuilder.group({regions:this.formBuilder.array([])}),("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"])}get attributes(){return this.productFormAttributes.get("attributes")}get shoutouts(){return this.shoutoutsForm.get("shoutouts")}get regions(){return this.regionsForm.get("regions")}getAllCategories(){this.categoriesLoader=!0,this.api.GET("categories").subscribe({next:e=>{console.log("Categories List: ",e),this.categoriesLoader=!1,this.categoriesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getDetails(e){this.productsLoader=!0,this.api.GET(`products/${e}`).subscribe({next:r=>{if(this.productsLoader=!1,r.length>0){this.detailProgress++,this.product=r[0],this.productName=this.product.name,this.id=this.product.id,this.media(),this.documents(),this.getProductCategories(),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.imageserver(e),this.productForm=this.formBuilder.group({sku:[{value:this.product.sku,disabled:!0},Gt.kI.required],name:[this.product.name,Gt.kI.required],brand_type_id:[this.product.brand_type_id,Gt.kI.required],description:[this.product.description,Gt.kI.required],short_description:[this.product.short_description,Gt.kI.required],is_in_development:[this.product.is_in_development],is_active:[this.product.is_active],is_eol:[this.product.is_eol],verified:[this.product.verified],family_grouping:[this.product.family_grouping]});const m=JSON.parse(this.product.shoutout);for(let q=0;q<m.length;q++){const nt=this.formBuilder.group({shoutoutField:[m[q],Gt.kI.required]});this.shoutouts.push(nt)}let y=[];if(y=JSON.parse(this.product.attributes),null!==y)for(let q=0;q<y.length;q++){const Wt=Object.keys(y[q])[0],ke=this.formBuilder.group({attrName:[Wt,Gt.kI.required],attrValue:[y[q][Wt],Gt.kI.required]});this.attributes.push(ke)}}},error:r=>{this.openSnackBar("Failed to connect to the server: "+r.message,"Okay"),this.productsLoader=!1}})}getProductCategories(){this.api.GET(`product-categories/search/${this.id}`).subscribe({next:e=>{if(this.productCategories=e,e.length>0){this.detailProgress++;for(let r=0;r<e.length;r++){let m=JSON.parse(e[r].attributes);if(0!=e[r].parent){let y=this.categoriesList.find(nt=>nt.id==e[r].parent),q=[];q=JSON.parse(null==y?void 0:y.attributes);for(let nt=0;nt<q.length;nt++){const Wt=this.formBuilder.group({attrName:[q[nt],Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(Wt),this.attrCount=this.attrCount+1}}if(null!==m)for(let y=0;y<m.length;y++)if(-1===this.attributes.value.findIndex(nt=>nt.attrName===m[y])){const nt=this.formBuilder.group({attrName:[m[y],Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(nt),this.attrCount=this.attrCount+1}}}},error:e=>{console.log(e)}})}getAllTypes(){this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.typesList=e},error:e=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.api.GET(`packaging/search/${e}`).subscribe({next:r=>{r.length>0&&(this.detailProgress++,this.packaging=r,this.packagingCount=this.packaging.length,this.productFormPackaging=this.formBuilder.group({length:[r[0].height],width:[r[0].width],height:[r[0].height],weight:[r[0].weight],packaging_type_id:[r[0].packaging_type_id],product_id:[this.id]})),this.packagingLoading=!1},error:r=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+r.message,"Okay")}})}onChange(e){this.files=e.target.files;for(let r=0;r<this.files.length;r++)this.files[r].size>2e6&&this.messages.push("\u{1f6ab} "+this.files[r].name+" is too large!")}onUpload(e,r){if(this.loading=!this.loading,console.log("This is a function that uplaods files"),this.files.length>0)for(let m=0;m<this.files.length;m++)this.api.upload("upload-media",{file:this.files[m],name:this.files[m].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:r,permissions:this.filePermissions}).subscribe(y=>{if("object"==typeof y&&(this.loading=!1),y.type===Jr.dt.UploadProgress)this.uploadProgress=Math.round(100*y.loaded/y.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(y instanceof Jr.Zn){const q=this.files[m].name+" ploaded the file successfully.";this.info.activity("Added new product",this.product.id),this.messages.push(q)}this.media()},y=>{this.uploadProgress=0,this.messages.push(this.files[m].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}uploadDocument(e,r){if(console.log("exp: ",this.expiry_date),this.loading=!this.loading,this.files.length>0)for(let m=0;m<this.files.length;m++)this.api.upload("upload-document",{file:this.files[m],name:this.files[m].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:r,permissions:this.filePermissions,expiry_date:this.expiry_date}).subscribe(y=>{if("object"==typeof y&&(this.loading=!1),y.type===Jr.dt.UploadProgress)this.uploadProgress=Math.round(100*y.loaded/y.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(y instanceof Jr.Zn){const q=this.files[m].name+" ploaded the file successfully.";this.info.activity("Added new product",this.product.id),this.messages.push(q)}this.documents()},y=>{this.uploadProgress=0,this.messages.push(this.files[m].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}openSnackBar(e,r){this._snackBar.open(e,r,{duration:4e3})}media(){this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e,console.log("Saved files: ",e),this.getProductImageOrder())},error:e=>{console.log(e)}})}documents(){this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.id}`).subscribe({next:e=>{if(e.length>0){const r=JSON.parse(e[0].order_list);let m=[];for(let y=0;y<r.length;y++){const q=r[y],nt=this.mediaFiles.find(Wt=>Wt.id==q);m.push(nt)}this.mediaFiles=m}this.mediaFiles=this.mediaFiles},error:e=>{console.log(e)}})}getProductRegions(e){console.log("getting regions"),this.api.GET(`product-regions/${e}`).subscribe({next:r=>{if(console.log(r),this.productRegionList=r,null!==r)for(let m=0;m<r.length;m++){const y=this.formBuilder.group({regionField:[r[m].region_id,Gt.kI.required]});this.regions.push(y)}},error:r=>{console.log(r)}})}updateFileType(e,r){this.api.POST(`product-files/update-fileType/${e}`,{type_id:r}).subscribe({next:m=>{this.info.activity("Updated file type",this.product.id),this.media(),this.documents()},error:m=>{console.log(m)}})}setFocusType(e){this.focusType=e.target.value}updateProduct(){this.api.POST(`products/update/${this.id}`,this.productForm.value).subscribe({next:e=>{this.progressPercentage(),this.info.activity("Updated product",this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updatePackaging(){this.productFormPackaging.patchValue({product_id:this.id}),this.api.POST(`packaging/update/${this.id}`,this.productFormPackaging.value).subscribe({next:e=>{this.info.activity("Updated product packaging details",this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.getPackaging(this.id)},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updateShoutout(){const e=this.shoutoutsForm.value.shoutouts,r=e.length;let m=[];console.log(e),console.log(r);for(let y=0;y<r;y++)m.push(this.shoutoutsForm.value.shoutouts[y].shoutoutField);this.api.POST(`products/update-shoutout/${this.id}`,m).subscribe({next:y=>{console.log(y),this.info.activity("Updated product shoutout",this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:y=>{this.openSnackBar("\u{1f622} "+y.message,"Okay")}})}updateRegion(){for(let e=0;e<this.regionsForm.value.regions.length;e++)this.api.POST("product-regions",{product_id:this.id,region_id:this.regionsForm.value.regions[e].regionField}).subscribe({next:r=>{console.log(r),this.getProductRegions(this.id),this.openSnackBar("Region Updated \u{1f603}","Okay")},error:r=>{console.log(r)}})}filePath(e){return e.substring(7)}returnTypeName(e){return this.typesList[e-=1].name}returnTypeGroup(e){return this.typesList[e-=1].grouping}drop(e){Pt(this.mediaFiles,e.previousIndex,e.currentIndex);let r=[];for(let y=0;y<this.mediaFiles.length;y++)r.push(this.mediaFiles[y].id);const m=JSON.stringify(r);this.api.POST("image-order/",{product_id:this.id,order_list:m}).subscribe({next:y=>{console.log(y)},error:y=>{console.log(y)}})}updateAttributes(){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let e=this.productFormAttributes.getRawValue(),r=[];for(let y=0;y<e.attributes.length;y++)this.attrKey=r[e.attributes[y].attrName],r[e.attributes[y].attrName]=e.attributes[y].attrValue,this.api.POST(`products/update-attributes/${this.id}`,[{key:e.attributes[y].attrValue}]).subscribe({next:q=>{console.log(q),this.saveAttrBtnText="Save Changes",this.openSnackBar("Attributes Saved","Okay"),this.info.activity("Updated product attributes",this.product.id)},error:q=>{this.saveAttrBtnText="Failed, try again.",this.openSnackBar(q.message,"Okay")}})}deleteFile(e){this.api.GET(`delete-file/${e}`).subscribe({next:r=>{r.length>0&&console.log("delete: ",r)},error:r=>{console.log(r)}})}hideFile(e){this.api.GET(`hide-file/${e}`).subscribe({next:r=>{r.length>0&&(console.log("delete: ",r),console.log("This is for hiding the file or image from the view on the ui"))},error:r=>{console.log(r)}})}progressPercentage(){return Math.round(((this.categoriesList.length>0?1:0)+(this.attributes.length>0?1:0)+(this.packagingCount>0?1:0)+(this.documentFiles.length>0?1:0)+(this.mediaFiles.length>0||this.imageServerFiles.length>0?1:0)+(this.productForm.value.brand_type_id?1:0)+(this.product.is_in_development>0||this.product.is_eol>0||this.product.is_active>0?1:0)+(this.product.verified?1:0))/8*100)}addNewAttribute(){const e=this.formBuilder.group({attrName:[],attrValue:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}addShoutout(){const e=this.formBuilder.group({shoutoutField:[]});console.log("Is shoutouts an array? ",Array.isArray(this.shoutouts)),this.shoutouts.push(e)}removeShoutout(e){this.shoutouts.removeAt(e),this.shoutoutsForm.markAsDirty()}addRegion(){const e=this.formBuilder.group({regionField:[]});this.regions.push(e)}removeRegion(e){this.regions.removeAt(e),this.regionsForm.markAsDirty()}checkCategories(e){this.catFromProductTbl.find(m=>m.name==e);for(let m=0;m<this.productCategories.length;m++)if(e==this.productCategories[m].name)return!0;return!1}checkedItem(e){const r=this.selectedCategories.indexOf(e);r<0?this.selectedCategories.push(e):this.selectedCategories.splice(r,1),console.log(this.selectedCategories)}saveCategories(){const e=this.selectedCategories;if(e.length>0)for(let r=0;r<e.length;r++)this.api.POST("product-categories",{product_id:this.id,category_id:e[r]}).subscribe({next:m=>{this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:m=>{this.openSnackBar("\u{1f622} "+m.message,"Okay")}});this.openSnackBar("Please choose categories","Okay")}setPermission(e){return console.log(e),!0}getPdsAttributes(e){this.api.GET(`pds-attributes/${e}`).subscribe({next:r=>{console.log("PDS Attributes",r),this.pdsAttributes=r,this.loadingPdsAttributes=!1},error:r=>{console.log(r),this.loadingPdsAttributes=!1}})}SavePDF(){console.log(this.productForm.value);let e=[];1==this.productForm.value.is_in_development&&e.push("Active "),1==this.productForm.value.is_eol&&e.push(" End of Life "),1==this.productForm.value.is_in_development&&e.push(" In Development ");const r=new Zs.default;r.text(this.productName,10,10),Ds()(r,{body:[["Product Code",":",this.sku],["Short Description",":",this.productForm.value.short_description],["Description",":",this.productForm.value.description],["Status",":",e],["Categories",":",e]]}),r.save(this.sku+".pdf")}imageserver(e){this.api.IMAGESERVER(e).subscribe({next:r=>{console.log("iles: ",r);for(let m=1;m<10&&r[m];m++)this.imageServerFiles.push(r[m]);console.log("imgFiles: ",this.imageServerFiles)},error:r=>{console.log(r)}})}downloadURI(e,r,m,y){this.api.download("download-file-api",e,this.product.id,this.product.sku,y.type_id,y.path.replace("public/","storage/"),r).subscribe(nt=>{const Wt=new Blob([nt],{type:"application/octet-stream"});qa.saveAs(Wt,m)},nt=>{console.log(nt)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ei.I),t.Y36(nn.r),t.Y36(Te.s),t.Y36(Rt.ux),t.Y36(wi.gz),t.Y36(wi.F0),t.Y36(Gt.qu),t.Y36(se.C),t.Y36(Tr),t.Y36(Jr.eN))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-single-product"]],viewQuery:function(e,r){if(1&e&&t.Gf(p,5),2&e){let m;t.iGM(m=t.CRH())&&(r.content=m.first)}},decls:3,vars:3,consts:[[4,"ngIf"],["color","accent","mode","indeterminate"],["routerLink","/"],["id","pdfContent",1,"row"],[1,"col-md-10"],[2,"background","#EFEFEF"],["label","Product Details"],[3,"formGroup"],[1,"mt-5",2,"overflow","hidden !important"],[1,"row"],[1,"col-md-4"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Enter Product SKU"],["sku",""],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","family_grouping","placeholder","Enter Product Family Grouping"],["family_grouping",""],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[2,"padding-left","1rem"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],["formControlName","verified"],["verified",""],["mat-raised-button","","type","submit","color","primary",3,"disabled","click",4,"ngIf"],["formArrayName","regions"],[4,"ngFor","ngForOf"],["mat-raised-button","","type","button",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem;",3,"disabled","click",4,"ngIf"],["formArrayName","shoutouts"],[1,"col-md-8"],[2,"margin-top","30px !important"],["class","col-md-3 p-3",4,"ngFor","ngForOf"],["label","Categories"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[2,"background-color","rgb(255, 255, 255)"],[1,"row","form-border"],[1,"col-md-6"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"click"],["label","Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem",3,"click"],["label","Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],[1,"m-3"],["label","Files"],["class","upload-role",4,"ngIf"],[1,"table"],[2,"list-style","none"],["label","Briefing Files"],["label","Media"],["label","Image Server"],["class","col-md-3",4,"ngFor","ngForOf"],["label","Images"],[1,"col-md-3"],["cdkDropList","","class","file-list",3,"cdkDropListDropped",4,"ngIf"],[1,"col-md-9"],["class","row",4,"ngIf"],["label","Videos"],[1,"col-md-2"],[1,"text-muted"],["cols","3","rowHeight","100px"],["colspan","3"],[3,"color","mode","value"],[2,"text-align","center"],["role","list"],["role","listitem"],["mat-raised-button","","color","primary","disabled","",3,"click"],[3,"value"],["mat-raised-button","","type","submit","color","primary",3,"disabled","click"],[3,"formGroupName"],["matInput","","formControlName","regionField"],["regionField",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"],["matInput","","id","shoutoutField","type","text","formControlName","shoutoutField","placeholder","Enter Shoutout","required",""],["matSuffix","",3,"click"],[1,"col-md-3","p-3"],["target","_blank","download","myimage",3,"href"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","100","alt","Photo",3,"src"],[1,"categories-list"],[3,"checked","click"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],[1,"form-control",3,"change"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","file","multiple","",1,"form-control",3,"change"],[2,"background-color","rgb(247, 247, 247)"],["permissions",""],["style","height: 25px;",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[2,"height","25px"],[1,"container"],[1,"message"],[1,"upload-role"],[2,"max-width","280px","margin-bottom","2rem","background-color","rgb(254, 254, 254)"],[2,"height","120px","width","130px","overflow","hidden"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","alt","Photo",3,"src"],["aria-label","Fish selection"],[1,"img-action"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box",4,"ngFor","ngForOf"],[1,"file-box"],["cdkDrag","",1,"row"],["color","accent","selected","",4,"ngIf"],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge",4,"ngIf"],[1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["color","accent","selected",""],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],[3,"value","onSelectionChange"],["mat-card-image","","alt","Photo",3,"src"],[3,"click",4,"ngFor","ngForOf"],["class","img-action",4,"ngIf"],[3,"click"],["mat-mini-fab","","color","basic",3,"click"],[1,"col-md-4","form-border"],[1,"col-md-12"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,r){1&e&&(t.YNc(0,C,4,1,"div",0),t.YNc(1,Ga,270,57,"div",0),t.YNc(2,Xc,2,1,"div",0)),2&e&&(t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("ngIf",r.product),t.xp6(1),t.Q6J("ngIf",!r.product))},directives:[Ce.O5,Jn.pW,wi.yS,xe.a8,Ot.SP,Ot.uX,Gt._Y,Gt.JL,Gt.sg,gt.KE,gt.hX,Ht.Nt,Gt.Fj,Gt.JJ,Gt.u,Ct.gD,Ce.sg,tt.ey,_n,Bt.lW,Gt.CE,Gt.x0,Gt.Q7,_t.Hw,gt.R9,xe.G2,Gt.F,et.Il,et.DX,Gt.YN,Gt.Kr,Gt.On,kr.Ub,kr.vS,xe.dn,Kr,Nr,xe.hq,Y,He,hr.k,xe.dk,xe.$j,Lo.Ou,kr.i$,kr.Tg],pipes:[Ke,st,Ce.uU],styles:[".image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}"]}),s})()},{path:"brand/:brand",component:Yr},{path:"add/new",component:Mi},{path:"categories/manage",component:Oe},{path:"products/export",component:Wl},{path:"products/export-csv",component:Su}];let el=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[wi.Bz.forChild(tl)],wi.Bz]}),s})(),Qa=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})(),pu=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Ce.ez,tt.BQ,Qa,Fn.eL]]}),s})();var cl=ne(2181);ne(4968),ne(1005);const dl={provide:new t.OlP("mat-autocomplete-scroll-strategy"),deps:[fn.aV],useFactory:function hl(s){return()=>s.scrollStrategies.reposition()}};let tc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[dl],imports:[[fn.U8,tt.Ng,tt.BQ,Ce.ez],o.ZD,tt.Ng,tt.BQ]}),s})();var fl=ne(4594),_u=ne(7238);let gl=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Ce.ez,el,sa,gt.lN,$t.p0,Ze.TU,_t.Ps,kr.ie,Ht.c,gt.lN,Gt.u5,Gt.UX,Bt.ot,Ot.Nh,Ct.LD,xe.QW,Ya,Rt.ZX,pu,Lo.Cq,Jn.Cv,Me.JX,vr.JB,cl.Tx,Nc,tc,fl.g0,Ge,et.N6,hr.g,Nc,_u.AV]]}),s})()},4327:function(va,ro){var wi;void 0!==(wi=function(){"use strict";function t(Ot,Lt,_t){var gt=new XMLHttpRequest;gt.open("GET",Ot),gt.responseType="blob",gt.onload=function(){xe(gt.response,Lt,_t)},gt.onerror=function(){console.error("could not download file")},gt.send()}function ei(Ot){var Lt=new XMLHttpRequest;Lt.open("HEAD",Ot,!1);try{Lt.send()}catch(_t){}return 200<=Lt.status&&299>=Lt.status}function Te(Ot){try{Ot.dispatchEvent(new MouseEvent("click"))}catch(_t){var Lt=document.createEvent("MouseEvents");Lt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ot.dispatchEvent(Lt)}}var Rt="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,se=Rt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),xe=Rt.saveAs||("object"!=typeof window||window!==Rt?function(){}:"download"in HTMLAnchorElement.prototype&&!se?function(Ot,Lt,_t){var gt=Rt.URL||Rt.webkitURL,Ht=document.createElement("a");Ht.download=Lt=Lt||Ot.name||"download",Ht.rel="noopener","string"==typeof Ot?(Ht.href=Ot,Ht.origin===location.origin?Te(Ht):ei(Ht.href)?t(Ot,Lt,_t):Te(Ht,Ht.target="_blank")):(Ht.href=gt.createObjectURL(Ot),setTimeout(function(){gt.revokeObjectURL(Ht.href)},4e4),setTimeout(function(){Te(Ht)},0))}:"msSaveOrOpenBlob"in navigator?function(Ot,Lt,_t){if(Lt=Lt||Ot.name||"download","string"!=typeof Ot)navigator.msSaveOrOpenBlob(function Gt(Ot,Lt){return void 0===Lt?Lt={autoBom:!1}:"object"!=typeof Lt&&(console.warn("Deprecated: Expected third argument to be a object"),Lt={autoBom:!Lt}),Lt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ot.type)?new Blob(["\ufeff",Ot],{type:Ot.type}):Ot}(Ot,_t),Lt);else if(ei(Ot))t(Ot,Lt,_t);else{var gt=document.createElement("a");gt.href=Ot,gt.target="_blank",setTimeout(function(){Te(gt)})}}:function(Ot,Lt,_t,gt){if((gt=gt||open("","_blank"))&&(gt.document.title=gt.document.body.innerText="downloading..."),"string"==typeof Ot)return t(Ot,Lt,_t);var Ht="application/octet-stream"===Ot.type,Bt=/constructor/i.test(Rt.HTMLElement)||Rt.safari,Ct=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ct||Ht&&Bt||se)&&"undefined"!=typeof FileReader){var tt=new FileReader;tt.onloadend=function(){var ct=tt.result;ct=Ct?ct:ct.replace(/^data:[^;]*;/,"data:attachment/file;"),gt?gt.location.href=ct:location=ct,gt=null},tt.readAsDataURL(Ot)}else{var et=Rt.URL||Rt.webkitURL,st=et.createObjectURL(Ot);gt?gt.location=st:location.href=st,gt=null,setTimeout(function(){et.revokeObjectURL(st)},4e4)}});Rt.saveAs=xe.saveAs=xe,va.exports=xe}.apply(ro,[]))&&(va.exports=wi)},2983:function(va,ro,ne){var Ce;void 0!==this||window,va.exports=(Ce=function(){try{return ne(3583)}catch(Rt){}}(),function(){"use strict";var wi={662:function(Te,Rt){var Lt,se=this&&this.__extends||(Lt=function(_t,gt){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ht,Bt){Ht.__proto__=Bt}||function(Ht,Bt){for(var Ct in Bt)Object.prototype.hasOwnProperty.call(Bt,Ct)&&(Ht[Ct]=Bt[Ct])})(_t,gt)},function(_t,gt){if("function"!=typeof gt&&null!==gt)throw new TypeError("Class extends value "+String(gt)+" is not a constructor or null");function Ht(){this.constructor=_t}Lt(_t,gt),_t.prototype=null===gt?Object.create(gt):(Ht.prototype=gt.prototype,new Ht)});Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.CellHookData=Rt.HookData=void 0;var xe=function Lt(_t,gt,Ht){this.table=gt,this.pageNumber=gt.pageNumber,this.pageCount=this.pageNumber,this.settings=gt.settings,this.cursor=Ht,this.doc=_t.getDocument()};Rt.HookData=xe;var Ot=function(Lt){function _t(gt,Ht,Bt,Ct,tt,et){var st=Lt.call(this,gt,Ht,et)||this;return st.cell=Bt,st.row=Ct,st.column=tt,st.section=Ct.section,st}return se(_t,Lt),_t}(xe);Rt.CellHookData=Ot},790:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0});var xe=se(148),Ot=se(938),Lt=se(323),_t=se(587),gt=se(49),Ht=se(858);Rt.default=function Bt(Ct){Ct.API.autoTable=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var st;1===tt.length?st=tt[0]:(console.error("Use of deprecated autoTable initiation"),(st=tt[2]||{}).columns=tt[0],st.body=tt[1]);var ct=(0,_t.parseInput)(this,st),bt=(0,Ht.createTable)(this,ct);return(0,gt.drawTable)(this,bt),this},Ct.API.lastAutoTable=!1,Ct.API.previousAutoTable=!1,Ct.API.autoTable.previous=!1,Ct.API.autoTableText=function(tt,et,st,ct){(0,Ot.default)(tt,et,st,ct,this)},Ct.API.autoTableSetDefaults=function(tt){return Lt.DocHandler.setDefaults(tt,this),this},Ct.autoTableSetDefaults=function(tt,et){Lt.DocHandler.setDefaults(tt,et)},Ct.API.autoTableHtmlToJson=function(tt,et){if(void 0===et&&(et=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var st=new Lt.DocHandler(this),ct=(0,xe.parseHtml)(st,tt,window,et,!1),yt=ct.body;return{columns:ct.head[0].map(function(Zt){return Zt.content}),rows:yt,data:yt}},Ct.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var tt=this.lastAutoTable;return tt&&tt.finalY?tt.finalY:0},Ct.API.autoTableAddPageContent=function(tt){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),Ct.API.autoTable.globalDefaults||(Ct.API.autoTable.globalDefaults={}),Ct.API.autoTable.globalDefaults.addPageContent=tt,this},Ct.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},938:function(Te,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function se(xe,Ot,Lt,_t,gt){_t=_t||{};var Bt=gt.internal.scaleFactor,Ct=gt.internal.getFontSize()/Bt,et="",st=1;if(("middle"===_t.valign||"bottom"===_t.valign||"center"===_t.halign||"right"===_t.halign)&&(st=(et="string"==typeof xe?xe.split(/\r\n|\r|\n/g):xe).length||1),Lt+=Ct*(2-1.15),"middle"===_t.valign?Lt-=st/2*Ct*1.15:"bottom"===_t.valign&&(Lt-=st*Ct*1.15),"center"===_t.halign||"right"===_t.halign){var ct=Ct;if("center"===_t.halign&&(ct*=.5),et&&st>=1){for(var bt=0;bt<et.length;bt++)gt.text(et[bt],Ot-gt.getStringUnitWidth(et[bt])*ct,Lt),Lt+=1.15*Ct;return gt}Ot-=gt.getStringUnitWidth(xe)*ct}return"justify"===_t.halign?gt.text(xe,Ot,Lt,{maxWidth:_t.maxWidth||100,align:"justify"}):gt.text(xe,Ot,Lt),gt}},200:function(Te,Rt){function Ot(_t,gt){var Ht=_t>0,Bt=gt||0===gt;return Ht&&Bt?"DF":Ht?"S":Bt?"F":null}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseSpacing=Rt.getFillStyle=Rt.addTableBorder=Rt.getStringWidth=void 0,Rt.getStringWidth=function se(_t,gt,Ht){return Ht.applyStyles(gt,!0),(Array.isArray(_t)?_t:[_t]).map(function(tt){return Ht.getTextWidth(tt)}).reduce(function(tt,et){return Math.max(tt,et)},0)},Rt.addTableBorder=function xe(_t,gt,Ht,Bt){var Ct=gt.settings.tableLineWidth;_t.applyStyles({lineWidth:Ct,lineColor:gt.settings.tableLineColor});var et=Ot(Ct,!1);et&&_t.rect(Ht.x,Ht.y,gt.getWidth(_t.pageSize().width),Bt.y-Ht.y,et)},Rt.getFillStyle=Ot,Rt.parseSpacing=function Lt(_t,gt){var Ht,Bt,Ct,tt;if(_t=_t||gt,Array.isArray(_t)){if(_t.length>=4)return{top:_t[0],right:_t[1],bottom:_t[2],left:_t[3]};if(3===_t.length)return{top:_t[0],right:_t[1],bottom:_t[2],left:_t[1]};if(2===_t.length)return{top:_t[0],right:_t[1],bottom:_t[0],left:_t[1]};_t=1===_t.length?_t[0]:gt}return"object"==typeof _t?("number"==typeof _t.vertical&&(_t.top=_t.vertical,_t.bottom=_t.vertical),"number"==typeof _t.horizontal&&(_t.right=_t.horizontal,_t.left=_t.horizontal),{left:null!==(Ht=_t.left)&&void 0!==Ht?Ht:gt,top:null!==(Bt=_t.top)&&void 0!==Bt?Bt:gt,right:null!==(Ct=_t.right)&&void 0!==Ct?Ct:gt,bottom:null!==(tt=_t.bottom)&&void 0!==tt?tt:gt}):("number"!=typeof _t&&(_t=gt),{top:_t,right:_t,bottom:_t,left:_t})}},913:function(Te,Rt){var _t,se=this&&this.__extends||(_t=function(gt,Ht){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,Ct){Bt.__proto__=Ct}||function(Bt,Ct){for(var tt in Ct)Object.prototype.hasOwnProperty.call(Ct,tt)&&(Bt[tt]=Ct[tt])})(gt,Ht)},function(gt,Ht){if("function"!=typeof Ht&&null!==Ht)throw new TypeError("Class extends value "+String(Ht)+" is not a constructor or null");function Bt(){this.constructor=gt}_t(gt,Ht),gt.prototype=null===Ht?Object.create(Ht):(Bt.prototype=Ht.prototype,new Bt)});Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getTheme=Rt.defaultStyles=Rt.HtmlRowInput=Rt.FONT_ROW_RATIO=void 0,Rt.FONT_ROW_RATIO=1.15;var xe=function(_t){function gt(Ht){var Bt=_t.call(this)||this;return Bt._element=Ht,Bt}return se(gt,_t),gt}(Array);Rt.HtmlRowInput=xe,Rt.defaultStyles=function Ot(_t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/_t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},Rt.getTheme=function Lt(_t){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[_t]}},259:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseCss=void 0;var xe=se(200);function _t(Bt,Ct){var tt=gt(Bt,Ct);if(!tt)return null;var et=tt.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!et||!Array.isArray(et))return null;var st=[parseInt(et[1]),parseInt(et[2]),parseInt(et[3])];return 0===parseInt(et[4])||isNaN(st[0])||isNaN(st[1])||isNaN(st[2])?null:st}function gt(Bt,Ct){var tt=Ct(Bt);return"rgba(0, 0, 0, 0)"===tt||"transparent"===tt||"initial"===tt||"inherit"===tt?null==Bt.parentElement?null:gt(Bt.parentElement,Ct):tt}Rt.parseCss=function Ot(Bt,Ct,tt,et,st){var ct={},bt=96/72,yt=_t(Ct,function(Ut){return st.getComputedStyle(Ut).backgroundColor});null!=yt&&(ct.fillColor=yt);var kt=_t(Ct,function(Ut){return st.getComputedStyle(Ut).color});null!=kt&&(ct.textColor=kt);var Zt=_t(Ct,function(Ut){return st.getComputedStyle(Ut).borderTopColor});null!=Zt&&(ct.lineColor=Zt);var zt=function Ht(Bt,Ct){var tt=[Bt.paddingTop,Bt.paddingRight,Bt.paddingBottom,Bt.paddingLeft],et=96/(72/Ct),st=(parseInt(Bt.lineHeight)-parseInt(Bt.fontSize))/Ct/2,ct=tt.map(function(yt){return parseInt(yt||"0")/et}),bt=(0,xe.parseSpacing)(ct,0);return st>bt.top&&(bt.top=st),st>bt.bottom&&(bt.bottom=st),bt}(et,tt);zt&&(ct.cellPadding=zt);var Xt=parseInt(et.borderTopWidth||"");(Xt=Xt/bt/tt)&&(ct.lineWidth=Xt);var te=["left","right","center","justify"];-1!==te.indexOf(et.textAlign)&&(ct.halign=et.textAlign),-1!==(te=["middle","bottom","top"]).indexOf(et.verticalAlign)&&(ct.valign=et.verticalAlign);var ft=parseInt(et.fontSize||"");isNaN(ft)||(ct.fontSize=ft/bt);var we=function Lt(Bt){var Ct="";return("bold"===Bt.fontWeight||"bolder"===Bt.fontWeight||parseInt(Bt.fontWeight)>=700)&&(Ct="bold"),("italic"===Bt.fontStyle||"oblique"===Bt.fontStyle)&&(Ct+="italic"),Ct}(et);we&&(ct.fontStyle=we);var Ie=(et.fontFamily||"").toLowerCase();return-1!==Bt.indexOf(Ie)&&(ct.font=Ie),ct}},323:function(Te,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.DocHandler=void 0;var se={},xe=function(){function Ot(Lt){this.jsPDFDocument=Lt,this.userStyles={textColor:Lt.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Lt.internal.getFontSize(),fontStyle:Lt.internal.getFont().fontStyle,font:Lt.internal.getFont().fontName}}return Ot.setDefaults=function(Lt,_t){void 0===_t&&(_t=null),_t?_t.__autoTableDocumentDefaults=Lt:se=Lt},Ot.unifyColor=function(Lt){return Array.isArray(Lt)?Lt:"number"==typeof Lt?[Lt,Lt,Lt]:"string"==typeof Lt?[Lt]:null},Ot.prototype.applyStyles=function(Lt,_t){var gt,Ht,Bt;void 0===_t&&(_t=!1),Lt.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Lt.fontStyle);var Ct=this.jsPDFDocument.internal.getFont(),tt=Ct.fontStyle,et=Ct.fontName;if(Lt.font&&(et=Lt.font),Lt.fontStyle){tt=Lt.fontStyle;var st=this.getFontList()[et];st&&-1===st.indexOf(tt)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(st[0]),tt=st[0])}if(this.jsPDFDocument.setFont(et,tt),Lt.fontSize&&this.jsPDFDocument.setFontSize(Lt.fontSize),!_t){var ct=Ot.unifyColor(Lt.fillColor);ct&&(gt=this.jsPDFDocument).setFillColor.apply(gt,ct),(ct=Ot.unifyColor(Lt.textColor))&&(Ht=this.jsPDFDocument).setTextColor.apply(Ht,ct),(ct=Ot.unifyColor(Lt.lineColor))&&(Bt=this.jsPDFDocument).setDrawColor.apply(Bt,ct),"number"==typeof Lt.lineWidth&&this.jsPDFDocument.setLineWidth(Lt.lineWidth)}},Ot.prototype.splitTextToSize=function(Lt,_t,gt){return this.jsPDFDocument.splitTextToSize(Lt,_t,gt)},Ot.prototype.rect=function(Lt,_t,gt,Ht,Bt){return this.jsPDFDocument.rect(Lt,_t,gt,Ht,Bt)},Ot.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ot.prototype.getTextWidth=function(Lt){return this.jsPDFDocument.getTextWidth(Lt)},Ot.prototype.getDocument=function(){return this.jsPDFDocument},Ot.prototype.setPage=function(Lt){this.jsPDFDocument.setPage(Lt)},Ot.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ot.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ot.prototype.getGlobalOptions=function(){return se||{}},Ot.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ot.prototype.pageSize=function(){var Lt=this.jsPDFDocument.internal.pageSize;return null==Lt.width&&(Lt={width:Lt.getWidth(),height:Lt.getHeight()}),Lt},Ot.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ot.prototype.pageNumber=function(){var Lt=this.jsPDFDocument.internal.getCurrentPageInfo();return Lt?Lt.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ot}();Rt.DocHandler=xe},148:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseHtml=void 0;var xe=se(259),Ot=se(913);function _t(Ht,Bt,Ct,tt,et,st){for(var ct=new Ot.HtmlRowInput(tt),bt=0;bt<tt.cells.length;bt++){var yt=tt.cells[bt],kt=Ct.getComputedStyle(yt);if(et||"none"!==kt.display){var Zt=void 0;st&&(Zt=(0,xe.parseCss)(Ht,yt,Bt,kt,Ct)),ct.push({rowSpan:yt.rowSpan,colSpan:yt.colSpan,styles:Zt,_element:yt,content:gt(yt)})}}var zt=Ct.getComputedStyle(tt);if(ct.length>0&&(et||"none"!==zt.display))return ct}function gt(Ht){var Bt=Ht.cloneNode(!0);return Bt.innerHTML=Bt.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Bt.innerHTML=Bt.innerHTML.split(/\<br.*?\>/).map(function(Ct){return Ct.trim()}).join("\n"),Bt.innerText||Bt.textContent||""}Rt.parseHtml=function Lt(Ht,Bt,Ct,tt,et){var st,ct,bt;void 0===tt&&(tt=!1),void 0===et&&(et=!1),bt="string"==typeof Bt?Ct.document.querySelector(Bt):Bt;var yt=Object.keys(Ht.getFontList()),kt=Ht.scaleFactor(),Zt=[],zt=[],Xt=[];if(!bt)return console.error("Html table could not be found with input: ",Bt),{head:Zt,body:zt,foot:Xt};for(var te=0;te<bt.rows.length;te++){var ft=bt.rows[te],we=null===(ct=null===(st=null==ft?void 0:ft.parentElement)||void 0===st?void 0:st.tagName)||void 0===ct?void 0:ct.toLowerCase(),Ie=_t(yt,kt,Ct,ft,tt,et);!Ie||("thead"===we?Zt.push(Ie):"tfoot"===we?Xt.push(Ie):zt.push(Ie))}return{head:Zt,body:zt,foot:Xt}}},587:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseInput=void 0;var xe=se(148),Ot=se(360),Lt=se(200),_t=se(323),gt=se(291);function ct(bt,yt,kt){var Zt=bt[0]||yt[0]||kt[0]||[],zt=[];return Object.keys(Zt).filter(function(Xt){return"_element"!==Xt}).forEach(function(Xt){var ft,te=1;"object"==typeof(ft=Array.isArray(Zt)?Zt[parseInt(Xt)]:Zt[Xt])&&!Array.isArray(ft)&&(te=(null==ft?void 0:ft.colSpan)||1);for(var we=0;we<te;we++){var Ie;Ie=Array.isArray(Zt)?zt.length:Xt+(we>0?"_".concat(we):""),zt.push({dataKey:Ie})}}),zt}Rt.parseInput=function Ht(bt,yt){var kt=new _t.DocHandler(bt),Zt=kt.getDocumentOptions(),zt=kt.getGlobalOptions();(0,gt.default)(kt,zt,Zt,yt);var te,Xt=(0,Ot.assign)({},zt,Zt,yt);"undefined"!=typeof window&&(te=window);var ft=function Bt(bt,yt,kt){for(var Zt={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},zt=function(we){if("columnStyles"===we)Zt.columnStyles=(0,Ot.assign)({},bt[we],yt[we],kt[we]);else{var ae=[bt,yt,kt].map(function(Se){return Se[we]||{}});Zt[we]=(0,Ot.assign)({},ae[0],ae[1],ae[2])}},Xt=0,te=Object.keys(Zt);Xt<te.length;Xt++)zt(te[Xt]);return Zt}(zt,Zt,yt),we=function Ct(bt,yt,kt){for(var zt={didParseCell:[],willDrawCell:[],didDrawCell:[],didDrawPage:[]},Xt=0,te=[bt,yt,kt];Xt<te.length;Xt++){var ft=te[Xt];ft.didParseCell&&zt.didParseCell.push(ft.didParseCell),ft.willDrawCell&&zt.willDrawCell.push(ft.willDrawCell),ft.didDrawCell&&zt.didDrawCell.push(ft.didDrawCell),ft.didDrawPage&&zt.didDrawPage.push(ft.didDrawPage)}return zt}(zt,Zt,yt),Ie=function tt(bt,yt){var kt,Zt,zt,Xt,te,ft,we,Ie,Ut,Tt,ie,ye,Ne,ae=(0,Lt.parseSpacing)(yt.margin,40/bt.scaleFactor()),Se=null!==(kt=function et(bt,yt){var kt=bt.getLastAutoTable(),Zt=bt.scaleFactor(),zt=bt.pageNumber(),Xt=!1;return kt&&kt.startPageNumber&&(Xt=kt.startPageNumber+kt.pageNumber-1===zt),"number"==typeof yt?yt:null!=yt&&!1!==yt||!Xt||null==(null==kt?void 0:kt.finalY)?null:kt.finalY+20/Zt}(bt,yt.startY))&&void 0!==kt?kt:ae.top;ye=!0===yt.showFoot?"everyPage":!1===yt.showFoot?"never":null!==(Zt=yt.showFoot)&&void 0!==Zt?Zt:"everyPage",Ne=!0===yt.showHead?"everyPage":!1===yt.showHead?"never":null!==(zt=yt.showHead)&&void 0!==zt?zt:"everyPage";var Oe=null!==(Xt=yt.useCss)&&void 0!==Xt&&Xt,$t=null!==(te=yt.horizontalPageBreakRepeat)&&void 0!==te?te:null;return{includeHiddenHtml:null!==(ft=yt.includeHiddenHtml)&&void 0!==ft&&ft,useCss:Oe,theme:yt.theme||(Oe?"plain":"striped"),startY:Se,margin:ae,pageBreak:null!==(we=yt.pageBreak)&&void 0!==we?we:"auto",rowPageBreak:null!==(Ie=yt.rowPageBreak)&&void 0!==Ie?Ie:"auto",tableWidth:null!==(Ut=yt.tableWidth)&&void 0!==Ut?Ut:"auto",showHead:Ne,showFoot:ye,tableLineWidth:null!==(Tt=yt.tableLineWidth)&&void 0!==Tt?Tt:0,tableLineColor:null!==(ie=yt.tableLineColor)&&void 0!==ie?ie:200,horizontalPageBreak:!!yt.horizontalPageBreak,horizontalPageBreakRepeat:$t}}(kt,Xt),Ut=function st(bt,yt,kt){var Zt=yt.head||[],zt=yt.body||[],Xt=yt.foot||[];if(yt.html)if(kt){var ft=(0,xe.parseHtml)(bt,yt.html,kt,yt.includeHiddenHtml,yt.useCss)||{};Zt=ft.head||Zt,zt=ft.body||Zt,Xt=ft.foot||Zt}else console.error("Cannot parse html in non browser environment");return{columns:yt.columns||ct(Zt,zt,Xt),head:Zt,body:zt,foot:Xt}}(kt,Xt,te);return{id:yt.tableId,content:Ut,hooks:we,styles:ft,settings:Ie}}},291:function(Te,Rt){function xe(Ot){Ot.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),Ot.minCellHeight||(Ot.minCellHeight=Ot.rowHeight)):Ot.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),Ot.cellWidth||(Ot.cellWidth=Ot.columnWidth))}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function se(Ot,Lt,_t,gt){for(var Ht=function(et){et&&"object"!=typeof et&&console.error("The options parameter should be of type object, is: "+typeof et),void 0!==et.extendWidth&&(et.tableWidth=et.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==et.margins&&(void 0===et.margin&&(et.margin=et.margins),console.error("Use of deprecated option: margins, use margin instead.")),et.startY&&"number"!=typeof et.startY&&(console.error("Invalid value for startY option",et.startY),delete et.startY),!et.didDrawPage&&(et.afterPageContent||et.beforePageContent||et.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),et.didDrawPage=function(Xt){Ot.applyStyles(Ot.userStyles),et.beforePageContent&&et.beforePageContent(Xt),Ot.applyStyles(Ot.userStyles),et.afterPageContent&&et.afterPageContent(Xt),Ot.applyStyles(Ot.userStyles),et.afterPageAdd&&Xt.pageNumber>1&&Xt.afterPageAdd(Xt),Ot.applyStyles(Ot.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Xt){et[Xt]&&console.error('The "'.concat(Xt,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Xt){var te=Xt[0],ft=Xt[1];et[ft]&&(console.error("Use of deprecated option ".concat(ft,". Use ").concat(te," instead")),et[te]=et[ft])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Xt){var te="string"==typeof Xt?Xt:Xt[0],ft="string"==typeof Xt?Xt:Xt[1];void 0!==et[te]&&(void 0===et.styles[ft]&&(et.styles[ft]=et[te]),console.error("Use of deprecated option: "+te+", use the style "+ft+" instead."))});for(var st=0,ct=["styles","bodyStyles","headStyles","footStyles"];st<ct.length;st++)xe(et[ct[st]]||{});for(var yt=et.columnStyles||{},kt=0,Zt=Object.keys(yt);kt<Zt.length;kt++)xe(yt[Zt[kt]]||{})},Bt=0,Ct=[Lt,_t,gt];Bt<Ct.length;Bt++)Ht(Ct[Bt])}},287:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.Column=Rt.Cell=Rt.Row=Rt.Table=void 0;var xe=se(913),Ot=se(662),Lt=se(200),_t=function(){function Ct(tt,et){this.pageNumber=1,this.pageCount=1,this.id=tt.id,this.settings=tt.settings,this.styles=tt.styles,this.hooks=tt.hooks,this.columns=et.columns,this.head=et.head,this.body=et.body,this.foot=et.foot}return Ct.prototype.getHeadHeight=function(tt){return this.head.reduce(function(et,st){return et+st.getMaxCellHeight(tt)},0)},Ct.prototype.getFootHeight=function(tt){return this.foot.reduce(function(et,st){return et+st.getMaxCellHeight(tt)},0)},Ct.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ct.prototype.callCellHooks=function(tt,et,st,ct,bt,yt){for(var kt=0,Zt=et;kt<Zt.length;kt++){var te=!1===(0,Zt[kt])(new Ot.CellHookData(tt,this,st,ct,bt,yt));if(st.text=Array.isArray(st.text)?st.text:[st.text],te)return!1}return!0},Ct.prototype.callEndPageHooks=function(tt,et){tt.applyStyles(tt.userStyles);for(var st=0,ct=this.hooks.didDrawPage;st<ct.length;st++)(0,ct[st])(new Ot.HookData(tt,this,et))},Ct.prototype.getWidth=function(tt){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(ct,bt){return ct+bt.wrappedWidth},0);var st=this.settings.margin;return tt-st.left-st.right},Ct}();Rt.Table=_t;var gt=function(){function Ct(tt,et,st,ct,bt){void 0===bt&&(bt=!1),this.height=0,this.raw=tt,tt instanceof xe.HtmlRowInput&&(this.raw=tt._element,this.element=tt._element),this.index=et,this.section=st,this.cells=ct,this.spansMultiplePages=bt}return Ct.prototype.getMaxCellHeight=function(tt){var et=this;return tt.reduce(function(st,ct){var bt;return Math.max(st,(null===(bt=et.cells[ct.index])||void 0===bt?void 0:bt.height)||0)},0)},Ct.prototype.hasRowSpan=function(tt){var et=this;return tt.filter(function(st){var ct=et.cells[st.index];return!!ct&&ct.rowSpan>1}).length>0},Ct.prototype.canEntireRowFit=function(tt,et){return this.getMaxCellHeight(et)<=tt},Ct.prototype.getMinimumRowHeight=function(tt,et){var st=this;return tt.reduce(function(ct,bt){var yt=st.cells[bt.index];if(!yt)return 0;var kt=yt.styles.fontSize/et.scaleFactor()*xe.FONT_ROW_RATIO,zt=yt.padding("vertical")+kt;return zt>ct?zt:ct},0)},Ct}();Rt.Row=gt;var Ht=function(){function Ct(tt,et,st){var ct,bt;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=et,this.section=st,this.raw=tt;var yt=tt;null==tt||"object"!=typeof tt||Array.isArray(tt)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=tt.rowSpan||1,this.colSpan=tt.colSpan||1,yt=null!==(bt=null!==(ct=tt.content)&&void 0!==ct?ct:tt.title)&&void 0!==bt?bt:tt,tt._element&&(this.raw=tt._element)),this.text=(null!=yt?""+yt:"").split(/\r\n|\r|\n/g)}return Ct.prototype.getTextPos=function(){var tt,st;if("top"===this.styles.valign)tt=this.y+this.padding("top");else if("bottom"===this.styles.valign)tt=this.y+this.height-this.padding("bottom");else{var et=this.height-this.padding("vertical");tt=this.y+et/2+this.padding("top")}if("right"===this.styles.halign)st=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var ct=this.width-this.padding("horizontal");st=this.x+ct/2+this.padding("left")}else st=this.x+this.padding("left");return{x:st,y:tt}},Ct.prototype.getContentHeight=function(tt){var ct=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/tt*xe.FONT_ROW_RATIO)+this.padding("vertical");return Math.max(ct,this.styles.minCellHeight)},Ct.prototype.padding=function(tt){var et=(0,Lt.parseSpacing)(this.styles.cellPadding,0);return"vertical"===tt?et.top+et.bottom:"horizontal"===tt?et.left+et.right:et[tt]},Ct}();Rt.Cell=Ht;var Bt=function(){function Ct(tt,et,st){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=tt,this.raw=et,this.index=st}return Ct.prototype.getMaxCustomCellWidth=function(tt){for(var et=0,st=0,ct=tt.allRows();st<ct.length;st++){var yt=ct[st].cells[this.index];yt&&"number"==typeof yt.styles.cellWidth&&(et=Math.max(et,yt.styles.cellWidth))}return et},Ct}();Rt.Column=Bt},360:function(Te,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.assign=void 0,Rt.assign=function se(xe,Ot,Lt,_t,gt){if(null==xe)throw new TypeError("Cannot convert undefined or null to object");for(var Ht=Object(xe),Bt=1;Bt<arguments.length;Bt++){var Ct=arguments[Bt];if(null!=Ct)for(var tt in Ct)Object.prototype.hasOwnProperty.call(Ct,tt)&&(Ht[tt]=Ct[tt])}return Ht}},858:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.createTable=void 0;var xe=se(323),Ot=se(287),Lt=se(189),_t=se(913),gt=se(360);function Ct(bt,yt,kt,Zt,zt,Xt){var te={};return yt.map(function(we,Ie){for(var Ut=0,Tt={},ie=0,ae=0,Se=0,ye=kt;Se<ye.length;Se++){var Ne=ye[Se];if(null==te[Ne.index]||0===te[Ne.index].left)if(0===ae){var Oe,Ze={};"object"==typeof(Oe=Array.isArray(we)?we[Ne.index-ie-Ut]:we[Ne.dataKey])&&!Array.isArray(Oe)&&(Ze=(null==Oe?void 0:Oe.styles)||{});var Me=ct(bt,Ne,Ie,zt,Zt,Xt,Ze),$t=new Ot.Cell(Oe,Me,bt);Tt[Ne.dataKey]=$t,Tt[Ne.index]=$t,te[Ne.index]={left:$t.rowSpan-1,times:ae=$t.colSpan-1}}else ae--,ie++;else te[Ne.index].left--,ae=te[Ne.index].times,Ut++}return new Ot.Row(we,Ie,bt,Tt)})}function tt(bt,yt){var kt={};return bt.forEach(function(Zt){if(null!=Zt.raw){var zt=function et(bt,yt){if("head"===bt){if("object"==typeof yt)return yt.header||yt.title||null;if("string"==typeof yt||"number"==typeof yt)return yt}else if("foot"===bt&&"object"==typeof yt)return yt.footer;return null}(yt,Zt.raw);null!=zt&&(kt[Zt.dataKey]=zt)}}),Object.keys(kt).length>0?kt:null}function ct(bt,yt,kt,Zt,zt,Xt,te){var we,ft=(0,_t.getTheme)(Zt);"head"===bt?we=zt.headStyles:"body"===bt?we=zt.bodyStyles:"foot"===bt&&(we=zt.footStyles);var Ie=(0,gt.assign)({},ft.table,ft[bt],zt.styles,we),Tt="body"===bt&&(zt.columnStyles[yt.dataKey]||zt.columnStyles[yt.index])||{},ie="body"===bt&&kt%2==0?(0,gt.assign)({},ft.alternateRow,zt.alternateRowStyles):{},ae=(0,_t.defaultStyles)(Xt),Se=(0,gt.assign)({},ae,Ie,ie,Tt);return(0,gt.assign)(Se,te)}Rt.createTable=function Ht(bt,yt){var kt=new xe.DocHandler(bt),Zt=function Bt(bt,yt){var zt,kt=bt.content,Zt=function st(bt){return bt.map(function(yt,kt){var Zt,zt,Xt;return Xt="object"==typeof yt&&null!==(zt=null!==(Zt=yt.dataKey)&&void 0!==Zt?Zt:yt.key)&&void 0!==zt?zt:kt,new Ot.Column(Xt,yt,kt)})}(kt.columns);0===kt.head.length&&(zt=tt(Zt,"head"))&&kt.head.push(zt),0===kt.foot.length&&(zt=tt(Zt,"foot"))&&kt.foot.push(zt);var Xt=bt.settings.theme,te=bt.styles;return{columns:Zt,head:Ct("head",kt.head,Zt,te,Xt,yt),body:Ct("body",kt.body,Zt,te,Xt,yt),foot:Ct("foot",kt.foot,Zt,te,Xt,yt)}}(yt,kt.scaleFactor()),zt=new Ot.Table(yt,Zt);return(0,Lt.calculateWidths)(kt,zt),kt.applyStyles(kt.userStyles),zt}},49:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.addPage=Rt.drawTable=void 0;var xe=se(913),Ot=se(200),Lt=se(287),_t=se(323),gt=se(360),Ht=se(938),Bt=se(435);function bt(Ut,Tt,ie){var ae=Ut.styles.fontSize/ie.scaleFactor()*xe.FONT_ROW_RATIO,Se=Ut.padding("vertical"),ye=Math.floor((Tt-Se)/ae);return Math.max(0,ye)}function Zt(Ut,Tt,ie,ae,Se,ye,Ne){var Oe=function ft(Ut,Tt,ie,ae){var Se=Tt.settings.margin.bottom,ye=Tt.settings.showFoot;return("everyPage"===ye||"lastPage"===ye&&ie)&&(Se+=Tt.getFootHeight(Tt.columns)),Ut.pageSize().height-ae.y-Se}(Ut,Tt,ae,ye);if(ie.canEntireRowFit(Oe,Ne))zt(Ut,Tt,ie,ye,Ne);else if(function kt(Ut,Tt,ie,ae){var Se=Ut.pageSize().height,ye=ae.settings.margin,Oe=Se-(ye.top+ye.bottom);"body"===Tt.section&&(Oe-=ae.getHeadHeight(ae.columns)+ae.getFootHeight(ae.columns));var Ze=Tt.getMinimumRowHeight(ae.columns,Ut),Me=Ze<ie;if(Ze>Oe)return console.error("Will not be able to print row ".concat(Tt.index," correctly since it's minimum height is larger than page height")),!0;if(!Me)return!1;var $t=Tt.hasRowSpan(ae.columns);return Tt.getMaxCellHeight(ae.columns)>Oe?($t&&console.error("The content of row ".concat(Tt.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!($t||"avoid"===ae.settings.rowPageBreak)}(Ut,ie,Oe,Tt)){var Ze=function yt(Ut,Tt,ie,ae){var Se={};Ut.spansMultiplePages=!0,Ut.height=0;for(var ye=0,Ne=0,Oe=ie.columns;Ne<Oe.length;Ne++)if(Me=Ut.cells[(Ze=Oe[Ne]).index]){Array.isArray(Me.text)||(Me.text=[Me.text]);var $t=new Lt.Cell(Me.raw,Me.styles,Me.section);($t=(0,gt.assign)($t,Me)).text=[];var an=bt(Me,Tt,ae);Me.text.length>an&&($t.text=Me.text.splice(an,Me.text.length));var Vi=ae.scaleFactor();Me.contentHeight=Me.getContentHeight(Vi),Me.contentHeight>=Tt&&(Me.contentHeight=Tt,$t.styles.minCellHeight-=Tt),Me.contentHeight>Ut.height&&(Ut.height=Me.contentHeight),$t.contentHeight=$t.getContentHeight(Vi),$t.contentHeight>ye&&(ye=$t.contentHeight),Se[Ze.index]=$t}var nn=new Lt.Row(Ut.raw,-1,Ut.section,Se,!0);nn.height=ye;for(var Ii=0,Jn=ie.columns;Ii<Jn.length;Ii++){var Ze,Me;($t=nn.cells[(Ze=Jn[Ii]).index])&&($t.height=nn.height),(Me=Ut.cells[Ze.index])&&(Me.height=Ut.height)}return nn}(ie,Oe,Tt,Ut);zt(Ut,Tt,ie,ye,Ne),we(Ut,Tt,Se,ye,Ne),Zt(Ut,Tt,Ze,ae,Se,ye,Ne)}else we(Ut,Tt,Se,ye,Ne),Zt(Ut,Tt,ie,ae,Se,ye,Ne)}function zt(Ut,Tt,ie,ae,Se){ae.x=Tt.settings.margin.left;for(var ye=0,Ne=Se;ye<Ne.length;ye++){var Oe=Ne[ye],Ze=ie.cells[Oe.index];if(Ze)if(Ut.applyStyles(Ze.styles),Ze.x=ae.x,Ze.y=ae.y,!1!==Tt.callCellHooks(Ut,Tt.hooks.willDrawCell,Ze,ie,Oe,ae)){Xt(Ut,Ze,ae);var $t=Ze.getTextPos();(0,Ht.default)(Ze.text,$t.x,$t.y,{halign:Ze.styles.halign,valign:Ze.styles.valign,maxWidth:Math.ceil(Ze.width-Ze.padding("left")-Ze.padding("right"))},Ut.getDocument()),Tt.callCellHooks(Ut,Tt.hooks.didDrawCell,Ze,ie,Oe,ae),ae.x+=Oe.width}else ae.x+=Oe.width;else ae.x+=Oe.width}ae.y+=ie.height}function Xt(Ut,Tt,ie){var ae=Tt.styles;if(Ut.getDocument().setFillColor(Ut.getDocument().getFillColor()),"number"==typeof ae.lineWidth){var Se=(0,Ot.getFillStyle)(ae.lineWidth,ae.fillColor);Se&&Ut.rect(Tt.x,ie.y,Tt.width,Tt.height,Se)}else if("object"==typeof ae.lineWidth){Ut.rect(Tt.x,ie.y,Tt.width,Tt.height,"F");var ye=Object.keys(ae.lineWidth),Ne=ae.lineWidth;ye.map(function(Oe){var Ze=(0,Ot.getFillStyle)(Ne[Oe],ae.fillColor);!function te(Ut,Tt,ie,ae,Se,ye){var Ne,Oe,Ze,Me;switch(ae){case"top":Ne=ie.x,Oe=ie.y,Ze=ie.x+Tt.width,Me=ie.y;break;case"left":Ne=ie.x,Oe=ie.y,Ze=ie.x,Me=ie.y+Tt.height;break;case"right":Ne=ie.x+Tt.width,Oe=ie.y,Ze=ie.x+Tt.width,Me=ie.y+Tt.height;break;default:Ne=ie.x,Oe=ie.y+Tt.height-ye,Ze=ie.x+Tt.width,Me=ie.y+Tt.height-ye}Ut.getDocument().setLineWidth(ye),Ut.getDocument().line(Ne,Oe,Ze,Me,Se)}(Ut,Tt,ie,Oe,Ze||"S",Ne[Oe])})}}function we(Ut,Tt,ie,ae,Se){void 0===Se&&(Se=[]),Ut.applyStyles(Ut.userStyles),"everyPage"===Tt.settings.showFoot&&Tt.foot.forEach(function(Ne){return zt(Ut,Tt,Ne,ae,Se)}),Tt.callEndPageHooks(Ut,ae);var ye=Tt.settings.margin;(0,Ot.addTableBorder)(Ut,Tt,ie,ae),Ie(Ut),Tt.pageNumber++,Tt.pageCount++,ae.x=ye.left,ae.y=ye.top,ie.y=ye.top,"everyPage"===Tt.settings.showHead&&Tt.head.forEach(function(Ne){return zt(Ut,Tt,Ne,ae,Se)})}function Ie(Ut){var Tt=Ut.pageNumber();Ut.setPage(Tt+1),Ut.pageNumber()===Tt&&Ut.addPage()}Rt.drawTable=function Ct(Ut,Tt){var ie=Tt.settings,ae=ie.startY,Se=ie.margin,ye={x:Se.left,y:ae},Ne=Tt.getHeadHeight(Tt.columns)+Tt.getFootHeight(Tt.columns),Oe=ae+Se.bottom+Ne;"avoid"===ie.pageBreak&&(Oe+=Tt.allRows().reduce(function(Vi,nn){return Vi+nn.height},0));var $t=new _t.DocHandler(Ut);("always"===ie.pageBreak||null!=ie.startY&&Oe>$t.pageSize().height)&&(Ie($t),ye.y=Se.top);var an=(0,gt.assign)({},ye);Tt.startPageNumber=$t.pageNumber(),!0===ie.horizontalPageBreak?function tt(Ut,Tt,ie,ae){Bt.default.calculateAllColumnsCanFitInPage(Ut,Tt).map(function(ye,Ne){Ut.applyStyles(Ut.userStyles),Ne>0?we(Ut,Tt,ie,ae,ye.columns):function et(Ut,Tt,ie,ae){var Se=Tt.settings;Ut.applyStyles(Ut.userStyles),("firstPage"===Se.showHead||"everyPage"===Se.showHead)&&Tt.head.forEach(function(ye){return zt(Ut,Tt,ye,ie,ae)})}(Ut,Tt,ae,ye.columns),function st(Ut,Tt,ie,ae,Se){Ut.applyStyles(Ut.userStyles),Tt.body.forEach(function(ye,Ne){Zt(Ut,Tt,ye,Ne===Tt.body.length-1,ie,ae,Se)})}(Ut,Tt,ie,ae,ye.columns),function ct(Ut,Tt,ie,ae){var Se=Tt.settings;Ut.applyStyles(Ut.userStyles),("lastPage"===Se.showFoot||"everyPage"===Se.showFoot)&&Tt.foot.forEach(function(ye){return zt(Ut,Tt,ye,ie,ae)})}(Ut,Tt,ae,ye.columns)})}($t,Tt,an,ye):($t.applyStyles($t.userStyles),("firstPage"===ie.showHead||"everyPage"===ie.showHead)&&Tt.head.forEach(function(Vi){return zt($t,Tt,Vi,ye,Tt.columns)}),$t.applyStyles($t.userStyles),Tt.body.forEach(function(Vi,nn){Zt($t,Tt,Vi,nn===Tt.body.length-1,an,ye,Tt.columns)}),$t.applyStyles($t.userStyles),("lastPage"===ie.showFoot||"everyPage"===ie.showFoot)&&Tt.foot.forEach(function(Vi){return zt($t,Tt,Vi,ye,Tt.columns)})),(0,Ot.addTableBorder)($t,Tt,an,ye),Tt.callEndPageHooks($t,ye),Tt.finalY=ye.y,Ut.lastAutoTable=Tt,Ut.previousAutoTable=Tt,Ut.autoTable&&(Ut.autoTable.previous=Tt),$t.applyStyles($t.userStyles)},Rt.addPage=we},435:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0});var xe=se(200),Ot=function(gt,Ht){var Bt=(0,xe.parseSpacing)(Ht.settings.margin,0);return gt.pageSize().width-(Bt.left+Bt.right)},Lt=function(gt,Ht,Bt){void 0===Bt&&(Bt={});var tt=Ot(gt,Ht),et=Ht.settings.horizontalPageBreakRepeat,st=null,ct=[],bt=[],yt=Ht.columns.length,kt=Bt&&Bt.start?Bt.start:0;for(null!=et&&(st=Ht.columns.find(function(zt){return zt.dataKey===et||zt.index===et}))&&(ct.push(st.index),bt.push(Ht.columns[st.index]),tt-=st.wrappedWidth);kt<yt;)if((null==st?void 0:st.index)!==kt){var Zt=Ht.columns[kt].wrappedWidth;if(tt<Zt){(0===kt||kt===Bt.start)&&(ct.push(kt),bt.push(Ht.columns[kt]));break}ct.push(kt),bt.push(Ht.columns[kt]),tt-=Zt,kt++}else kt++;return{colIndexes:ct,columns:bt,lastIndex:kt}};Rt.default={getColumnsCanFitInPage:Lt,calculateAllColumnsCanFitInPage:function(gt,Ht){for(var Bt=[],Ct=0,tt=Ht.columns.length;Ct<tt;){var et=Lt(gt,Ht,{start:0===Ct?0:Ct});et&&et.columns&&et.columns.length?(Ct=et.lastIndex,Bt.push(et)):Ct++}return Bt},getPageAvailableWidth:Ot}},189:function(Te,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.ellipsize=Rt.resizeColumns=Rt.calculateWidths=void 0;var xe=se(200),Ot=se(435);function gt(st,ct,bt){for(var yt=ct,kt=st.reduce(function(Tt,ie){return Tt+ie.wrappedWidth},0),Zt=0;Zt<st.length;Zt++){var zt=st[Zt],ft=zt.width+yt*(zt.wrappedWidth/kt),we=bt(zt),Ie=ft<we?we:ft;ct-=Ie-zt.width,zt.width=Ie}if(ct=Math.round(1e10*ct)/1e10){var Ut=st.filter(function(Tt){return!(ct<0)||Tt.width>bt(Tt)});Ut.length&&(ct=gt(Ut,ct,bt))}return ct}function tt(st,ct,bt,yt,kt){return st.map(function(Zt){return function et(st,ct,bt,yt,kt){var Zt=1e4*yt.scaleFactor();if((ct=Math.ceil(ct*Zt)/Zt)>=(0,xe.getStringWidth)(st,bt,yt))return st;for(;ct<(0,xe.getStringWidth)(st+kt,bt,yt)&&!(st.length<=1);)st=st.substring(0,st.length-1);return st.trim()+kt}(Zt,ct,bt,yt,kt)})}Rt.calculateWidths=function Lt(st,ct){!function _t(st,ct){var bt=st.scaleFactor(),yt=ct.settings.horizontalPageBreak,kt=Ot.default.getPageAvailableWidth(st,ct);ct.allRows().forEach(function(Zt){for(var zt=0,Xt=ct.columns;zt<Xt.length;zt++){var te=Xt[zt],ft=Zt.cells[te.index];if(ft){ct.callCellHooks(st,ct.hooks.didParseCell,ft,Zt,te,null);var Ie=ft.padding("horizontal");ft.contentWidth=(0,xe.getStringWidth)(ft.text,ft.styles,st)+Ie;var Ut=(0,xe.getStringWidth)(ft.text.join(" ").split(/\s+/),ft.styles,st);ft.minReadableWidth=Ut+ft.padding("horizontal"),"number"==typeof ft.styles.cellWidth?(ft.minWidth=ft.styles.cellWidth,ft.wrappedWidth=ft.styles.cellWidth):"wrap"===ft.styles.cellWidth||!0===yt?ft.contentWidth>kt?(ft.minWidth=kt,ft.wrappedWidth=kt):(ft.minWidth=ft.contentWidth,ft.wrappedWidth=ft.contentWidth):(ft.minWidth=ft.styles.minCellWidth||10/bt,ft.wrappedWidth=ft.contentWidth,ft.minWidth>ft.wrappedWidth&&(ft.wrappedWidth=ft.minWidth))}}}),ct.allRows().forEach(function(Zt){for(var zt=0,Xt=ct.columns;zt<Xt.length;zt++){var te=Xt[zt],ft=Zt.cells[te.index];if(ft&&1===ft.colSpan)te.wrappedWidth=Math.max(te.wrappedWidth,ft.wrappedWidth),te.minWidth=Math.max(te.minWidth,ft.minWidth),te.minReadableWidth=Math.max(te.minReadableWidth,ft.minReadableWidth);else{var we=ct.styles.columnStyles[te.dataKey]||ct.styles.columnStyles[te.index]||{},Ie=we.cellWidth||we.minCellWidth;Ie&&"number"==typeof Ie&&(te.minWidth=Ie,te.wrappedWidth=Ie)}ft&&(ft.colSpan>1&&!te.minWidth&&(te.minWidth=ft.minWidth),ft.colSpan>1&&!te.wrappedWidth&&(te.wrappedWidth=ft.minWidth))}})}(st,ct);var bt=[],yt=0;ct.columns.forEach(function(Zt){var zt=Zt.getMaxCustomCellWidth(ct);zt?Zt.width=zt:(Zt.width=Zt.wrappedWidth,bt.push(Zt)),yt+=Zt.width});var kt=ct.getWidth(st.pageSize().width)-yt;kt&&(kt=gt(bt,kt,function(Zt){return Math.max(Zt.minReadableWidth,Zt.minWidth)})),kt&&(kt=gt(bt,kt,function(Zt){return Zt.minWidth})),kt=Math.abs(kt),!ct.settings.horizontalPageBreak&&kt>.1/st.scaleFactor()&&(kt=kt<1?kt:Math.round(kt),console.error("Of the table content, ".concat(kt," units width could not fit page"))),function Bt(st){for(var ct=st.allRows(),bt=0;bt<ct.length;bt++)for(var yt=ct[bt],kt=null,Zt=0,zt=0,Xt=0;Xt<st.columns.length;Xt++){var te=st.columns[Xt];if((zt-=1)>1&&st.columns[Xt+1])Zt+=te.width,delete yt.cells[te.index];else if(kt){var ft=kt;delete yt.cells[te.index],kt=null,ft.width=te.width+Zt}else{if(!(ft=yt.cells[te.index]))continue;if(zt=ft.colSpan,Zt=0,ft.colSpan>1){kt=ft,Zt+=te.width;continue}ft.width=te.width+Zt}}}(ct),function Ct(st,ct){for(var bt={count:0,height:0},yt=0,kt=st.allRows();yt<kt.length;yt++){for(var Zt=kt[yt],zt=0,Xt=st.columns;zt<Xt.length;zt++){var ft=Zt.cells[Xt[zt].index];if(ft){ct.applyStyles(ft.styles,!0);var we=ft.width-ft.padding("horizontal");"linebreak"===ft.styles.overflow?ft.text=ct.splitTextToSize(ft.text,we+1/ct.scaleFactor(),{fontSize:ft.styles.fontSize}):"ellipsize"===ft.styles.overflow?ft.text=tt(ft.text,we,ft.styles,ct,"..."):"hidden"===ft.styles.overflow?ft.text=tt(ft.text,we,ft.styles,ct,""):"function"==typeof ft.styles.overflow&&(ft.text=ft.styles.overflow(ft.text,we)),ft.contentHeight=ft.getContentHeight(ct.scaleFactor());var Ie=ft.contentHeight/ft.rowSpan;ft.rowSpan>1&&bt.count*bt.height<Ie*ft.rowSpan?bt={height:Ie,count:ft.rowSpan}:bt&&bt.count>0&&bt.height>Ie&&(Ie=bt.height),Ie>Zt.height&&(Zt.height=Ie)}}bt.count--}}(ct,st),function Ht(st){for(var ct={},bt=1,yt=st.allRows(),kt=0;kt<yt.length;kt++)for(var Zt=yt[kt],zt=0,Xt=st.columns;zt<Xt.length;zt++){var te=Xt[zt],ft=ct[te.index];if(bt>1)bt--,delete Zt.cells[te.index];else if(ft)ft.cell.height+=Zt.height,bt=ft.cell.colSpan,delete Zt.cells[te.index],ft.left--,ft.left<=1&&delete ct[te.index];else{var we=Zt.cells[te.index];if(!we)continue;if(we.height=Zt.height,we.rowSpan>1){var Ie=yt.length-kt;ct[te.index]={cell:we,left:we.rowSpan>Ie?Ie:we.rowSpan,row:Zt}}}}}(ct)},Rt.resizeColumns=gt,Rt.ellipsize=tt},84:function(Te){if(void 0===Ce){var Rt=new Error("Cannot find module 'undefined'");throw Rt.code="MODULE_NOT_FOUND",Rt}Te.exports=Ce}},Gt={};function t(Te){var Rt=Gt[Te];if(void 0!==Rt)return Rt.exports;var se=Gt[Te]={exports:{}};return wi[Te].call(se.exports,se,se.exports,t),se.exports}var ei={};return function(){var Te=ei;Object.defineProperty(Te,"__esModule",{value:!0}),Te.Cell=Te.Column=Te.Row=Te.Table=Te.CellHookData=Te.__drawTable=Te.__createTable=Te.applyPlugin=void 0;var Rt=t(790),se=t(587),xe=t(49),Ot=t(858),Lt=t(287);Object.defineProperty(Te,"Table",{enumerable:!0,get:function(){return Lt.Table}});var _t=t(662);Object.defineProperty(Te,"CellHookData",{enumerable:!0,get:function(){return _t.CellHookData}});var gt=t(287);function Ht(st){(0,Rt.default)(st)}Object.defineProperty(Te,"Cell",{enumerable:!0,get:function(){return gt.Cell}}),Object.defineProperty(Te,"Column",{enumerable:!0,get:function(){return gt.Column}}),Object.defineProperty(Te,"Row",{enumerable:!0,get:function(){return gt.Row}}),Te.applyPlugin=Ht,Te.default=function Bt(st,ct){var bt=(0,se.parseInput)(st,ct),yt=(0,Ot.createTable)(st,bt);(0,xe.drawTable)(st,yt)},Te.__createTable=function Ct(st,ct){var bt=(0,se.parseInput)(st,ct);return(0,Ot.createTable)(st,bt)},Te.__drawTable=function tt(st,ct){(0,xe.drawTable)(st,ct)};try{var et=t(84);et.jsPDF&&(et=et.jsPDF),Ht(et)}catch(st){}}(),ei}())},3583:(va,ro,ne)=>{"use strict";function Ce(a){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}ne.r(ro),ne.d(ro,{AcroForm:()=>Nc,AcroFormAppearance:()=>Ae,AcroFormButton:()=>Ei,AcroFormCheckBox:()=>Go,AcroFormChoiceField:()=>Ur,AcroFormComboBox:()=>Hr,AcroFormEditBox:()=>lo,AcroFormListBox:()=>jr,AcroFormPasswordField:()=>Qo,AcroFormPushButton:()=>uo,AcroFormRadioButton:()=>zr,AcroFormTextField:()=>_n,GState:()=>Wo,ShadingPattern:()=>xr,TilingPattern:()=>Rr,default:()=>ar,jsPDF:()=>Fe});var t=Uint8Array,ei=Uint16Array,Te=Uint32Array,Rt=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),se=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xe=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ot=function(a,i){for(var o=new ei(31),l=0;l<31;++l)o[l]=i+=1<<a[l-1];var d=new Te(o[30]);for(l=1;l<30;++l)for(var h=o[l];h<o[l+1];++h)d[h]=h-o[l]<<5|l;return[o,d]},Lt=Ot(Rt,2),_t=Lt[0],gt=Lt[1];_t[28]=258,gt[258]=28;for(var Ht=Ot(se,0),Bt=Ht[0],Ct=Ht[1],tt=new ei(32768),et=0;et<32768;++et){var st=(43690&et)>>>1|(21845&et)<<1;tt[et]=((65280&(st=(61680&(st=(52428&st)>>>2|(13107&st)<<2))>>>4|(3855&st)<<4))>>>8|(255&st)<<8)>>>1}var ct=function(a,i,o){for(var l=a.length,d=0,h=new ei(i);d<l;++d)++h[a[d]-1];var _,f=new ei(i);for(d=0;d<i;++d)f[d]=f[d-1]+h[d-1]<<1;if(o){_=new ei(1<<i);var v=15-i;for(d=0;d<l;++d)if(a[d])for(var w=d<<4|a[d],T=i-a[d],N=f[a[d]-1]++<<T,Z=N|(1<<T)-1;N<=Z;++N)_[tt[N]>>>v]=w}else for(_=new ei(l),d=0;d<l;++d)_[d]=tt[f[a[d]-1]++]>>>15-a[d];return _},bt=new t(288);for(et=0;et<144;++et)bt[et]=8;for(et=144;et<256;++et)bt[et]=9;for(et=256;et<280;++et)bt[et]=7;for(et=280;et<288;++et)bt[et]=8;var yt=new t(32);for(et=0;et<32;++et)yt[et]=5;var kt=ct(bt,9,0),Zt=ct(bt,9,1),zt=ct(yt,5,0),Xt=ct(yt,5,1),te=function(a){for(var i=a[0],o=1;o<a.length;++o)a[o]>i&&(i=a[o]);return i},ft=function(a,i,o){var l=i/8>>0;return(a[l]|a[l+1]<<8)>>>(7&i)&o},we=function(a,i){var o=i/8>>0;return(a[o]|a[o+1]<<8|a[o+2]<<16)>>>(7&i)},Ie=function(a){return(a/8>>0)+(7&a&&1)},Ut=function(a,i,o){(null==i||i<0)&&(i=0),(null==o||o>a.length)&&(o=a.length);var l=new(a instanceof ei?ei:a instanceof Te?Te:t)(o-i);return l.set(a.subarray(i,o)),l},ie=function(a,i,o){var l=i/8>>0;a[l]|=o<<=7&i,a[l+1]|=o>>>8},ae=function(a,i,o){var l=i/8>>0;a[l]|=o<<=7&i,a[l+1]|=o>>>8,a[l+2]|=o>>>16},Se=function(a,i){for(var o=[],l=0;l<a.length;++l)a[l]&&o.push({s:l,f:a[l]});var d=o.length,h=o.slice();if(!d)return[new t(0),0];if(1==d){var f=new t(o[0].s+1);return f[o[0].s]=1,[f,1]}o.sort(function(At,Yt){return At.f-Yt.f}),o.push({s:-1,f:25001});var _=o[0],v=o[1],w=0,T=1,N=2;for(o[0]={s:-1,f:_.f+v.f,l:_,r:v};T!=d-1;)_=o[o[w].f<o[N].f?w++:N++],v=o[w!=T&&o[w].f<o[N].f?w++:N++],o[T++]={s:-1,f:_.f+v.f,l:_,r:v};var Z=h[0].s;for(l=1;l<d;++l)h[l].s>Z&&(Z=h[l].s);var x=new ei(Z+1),R=ye(o[T-1],x,0);if(R>i){l=0;var M=0,H=R-i,I=1<<H;for(h.sort(function(Yt,dt){return x[dt.s]-x[Yt.s]||Yt.f-dt.f});l<d;++l){var B=h[l].s;if(!(x[B]>i))break;M+=I-(1<<R-x[B]),x[B]=i}for(M>>>=H;M>0;){var X=h[l].s;x[X]<i?M-=1<<i-x[X]++-1:++l}for(;l>=0&&M;--l){var lt=h[l].s;x[lt]==i&&(--x[lt],++M)}R=i}return[new t(x),R]},ye=function(a,i,o){return-1==a.s?Math.max(ye(a.l,i,o+1),ye(a.r,i,o+1)):i[a.s]=o},Ne=function(a){for(var i=a.length;i&&!a[--i];);for(var o=new ei(++i),l=0,d=a[0],h=1,f=function(v){o[l++]=v},_=1;_<=i;++_)if(a[_]==d&&_!=i)++h;else{if(!d&&h>2){for(;h>138;h-=138)f(32754);h>2&&(f(h>10?h-11<<5|28690:h-3<<5|12305),h=0)}else if(h>3){for(f(d),--h;h>6;h-=6)f(8304);h>2&&(f(h-3<<5|8208),h=0)}for(;h--;)f(d);h=1,d=a[_]}return[o.subarray(0,l),i]},Oe=function(a,i){for(var o=0,l=0;l<i.length;++l)o+=a[l]*i[l];return o},Ze=function(a,i,o){var l=o.length,d=Ie(i+2);a[d]=255&l,a[d+1]=l>>>8,a[d+2]=255^a[d],a[d+3]=255^a[d+1];for(var h=0;h<l;++h)a[d+h+4]=o[h];return 8*(d+4+l)},Me=function(a,i,o,l,d,h,f,_,v,w,T){ie(i,T++,o),++d[256];for(var N=Se(d,15),Z=N[0],x=N[1],R=Se(h,15),M=R[0],H=R[1],I=Ne(Z),B=I[0],X=I[1],lt=Ne(M),At=lt[0],Yt=lt[1],dt=new ei(19),J=0;J<B.length;++J)dt[31&B[J]]++;for(J=0;J<At.length;++J)dt[31&At[J]]++;for(var qt=Se(dt,7),It=qt[0],F=qt[1],O=19;O>4&&!It[xe[O-1]];--O);var wt,Ft,pt,Et,G=w+5<<3,V=Oe(d,bt)+Oe(h,yt)+f,Pt=Oe(d,Z)+Oe(h,M)+f+14+3*O+Oe(dt,It)+(2*dt[16]+3*dt[17]+7*dt[18]);if(G<=V&&G<=Pt)return Ze(i,T,a.subarray(v,v+w));if(ie(i,T,1+(Pt<V)),T+=2,Pt<V){wt=ct(Z,x,0),Ft=Z,pt=ct(M,H,0),Et=M;var Mt=ct(It,F,0);for(ie(i,T,X-257),ie(i,T+5,Yt-1),ie(i,T+10,O-4),T+=14,J=0;J<O;++J)ie(i,T+3*J,It[xe[J]]);T+=3*O;for(var pe=[B,At],S=0;S<2;++S){var j=pe[S];for(J=0;J<j.length;++J)ie(i,T,Mt[z=31&j[J]]),T+=It[z],z>15&&(ie(i,T,j[J]>>>5&127),T+=j[J]>>>12)}}else wt=kt,Ft=bt,pt=zt,Et=yt;for(J=0;J<_;++J)if(l[J]>255){var z;ae(i,T,wt[257+(z=l[J]>>>18&31)]),T+=Ft[z+257],z>7&&(ie(i,T,l[J]>>>23&31),T+=Rt[z]);var Q=31&l[J];ae(i,T,pt[Q]),T+=Et[Q],Q>3&&(ae(i,T,l[J]>>>5&8191),T+=se[Q])}else ae(i,T,wt[l[J]]),T+=Ft[l[J]];return ae(i,T,wt[256]),T+Ft[256]},$t=new Te([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),an=new t(0),vr=function(a,i,o,l,d){return function(a,i,o,l,d,h){var f=a.length,_=new t(l+f+5*(1+Math.floor(f/7e3))+d),v=_.subarray(l,_.length-d),w=0;if(!i||f<8)for(var T=0;T<=f;T+=65535){var N=T+65535;N<f?w=Ze(v,w,a.subarray(T,N)):(v[T]=h,w=Ze(v,w,a.subarray(T,f)))}else{for(var Z=$t[i-1],x=Z>>>13,R=8191&Z,M=(1<<o)-1,H=new ei(32768),I=new ei(M+1),B=Math.ceil(o/3),X=2*B,lt=function(Be){return(a[Be]^a[Be+1]<<B^a[Be+2]<<X)&M},At=new Te(25e3),Yt=new ei(288),dt=new ei(32),J=0,qt=0,It=(T=0,0),F=0,O=0;T<f;++T){var G=lt(T),V=32767&T,Pt=I[G];if(H[V]=Pt,I[G]=V,F<=T){var wt=f-T;if((J>7e3||It>24576)&&wt>423){w=Me(a,v,0,At,Yt,dt,qt,It,O,T-O,w),It=J=qt=0,O=T;for(var Ft=0;Ft<286;++Ft)Yt[Ft]=0;for(Ft=0;Ft<30;++Ft)dt[Ft]=0}var pt=2,Et=0,Mt=R,pe=V-Pt&32767;if(wt>2&&G==lt(T-pe))for(var S=Math.min(x,wt)-1,j=Math.min(32767,T),z=Math.min(258,wt);pe<=j&&--Mt&&V!=Pt;){if(a[T+pt]==a[T+pt-pe]){for(var Q=0;Q<z&&a[T+Q]==a[T+Q-pe];++Q);if(Q>pt){if(pt=Q,Et=pe,Q>S)break;var ot=Math.min(pe,Q-2),mt=0;for(Ft=0;Ft<ot;++Ft){var vt=T-pe+Ft+32768&32767,oe=vt-H[vt]+32768&32767;oe>mt&&(mt=oe,Pt=vt)}}}pe+=(V=Pt)-(Pt=H[V])+32768&32767}if(Et){At[It++]=268435456|gt[pt]<<18|Ct[Et];var re=31&gt[pt],fe=31&Ct[Et];qt+=Rt[re]+se[fe],++Yt[257+re],++dt[fe],F=T+pt,++J}else At[It++]=a[T],++Yt[a[T]]}}w=Me(a,v,h,At,Yt,dt,qt,It,O,T-O,w),h||(w=Ze(v,w,an))}return Ut(_,0,l+Ie(w)+d)}(a,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+i.mem,o,l,!d)};function Jo(a,i){void 0===i&&(i={});var o=function(){var a=1,i=0;return{p:function(o){for(var l=a,d=i,h=o.length,f=0;f!=h;){for(var _=Math.min(f+5552,h);f<_;++f)d+=l+=o[f];l%=65521,d%=65521}a=l,i=d},d:function(){return(a>>>8<<16|(255&i)<<8|i>>>8)+2*((255&a)<<23)}}}();o.p(a);var l=vr(a,i,2,4);return function(a,i){var o=i.level,l=0==o?0:o<6?1:9==o?3:2;a[0]=120,a[1]=l<<6|(l?32-2*l:1)}(l,i),function(a,i,o){for(;o;++i)a[i]=o,o>>>=8}(l,l.length-4,o.d()),l}function xa(a,i){return function(a,i,o){var l=a.length,d=!i||o,h=!o||o.i;o||(o={}),i||(i=new t(3*l));var f=function(ot){var mt=i.length;if(ot>mt){var vt=new t(Math.max(2*mt,ot));vt.set(i),i=vt}},_=o.f||0,v=o.p||0,w=o.b||0,T=o.l,N=o.d,Z=o.m,x=o.n,R=8*l;do{if(!T){o.f=_=ft(a,v,1);var M=ft(a,v+1,3);if(v+=3,!M){var I=a[(H=Ie(v)+4)-4]|a[H-3]<<8,B=H+I;if(B>l){if(h)throw"unexpected EOF";break}d&&f(w+I),i.set(a.subarray(H,B),w),o.b=w+=I,o.p=v=8*B;continue}if(1==M)T=Zt,N=Xt,Z=9,x=5;else{if(2!=M)throw"invalid block type";var X=ft(a,v,31)+257,lt=ft(a,v+10,15)+4,At=X+ft(a,v+5,31)+1;v+=14;for(var Yt=new t(At),dt=new t(19),J=0;J<lt;++J)dt[xe[J]]=ft(a,v+3*J,7);v+=3*lt;var qt=te(dt),It=(1<<qt)-1;if(!h&&v+At*(qt+7)>R)break;var F=ct(dt,qt,1);for(J=0;J<At;){var H,O=F[ft(a,v,It)];if(v+=15&O,(H=O>>>4)<16)Yt[J++]=H;else{var G=0,V=0;for(16==H?(V=3+ft(a,v,3),v+=2,G=Yt[J-1]):17==H?(V=3+ft(a,v,7),v+=3):18==H&&(V=11+ft(a,v,127),v+=7);V--;)Yt[J++]=G}}var Pt=Yt.subarray(0,X),wt=Yt.subarray(X);Z=te(Pt),x=te(wt),T=ct(Pt,Z,1),N=ct(wt,x,1)}if(v>R)throw"unexpected EOF"}d&&f(w+131072);for(var Ft=(1<<Z)-1,pt=(1<<x)-1,Et=Z+x+18;h||v+Et<R;){var Mt=(G=T[we(a,v)&Ft])>>>4;if((v+=15&G)>R)throw"unexpected EOF";if(!G)throw"invalid length/literal";if(Mt<256)i[w++]=Mt;else{if(256==Mt){T=null;break}var pe=Mt-254;Mt>264&&(pe=ft(a,v,(1<<(S=Rt[J=Mt-257]))-1)+_t[J],v+=S);var j=N[we(a,v)&pt],z=j>>>4;if(!j)throw"invalid distance";if(v+=15&j,wt=Bt[z],z>3){var S=se[z];wt+=we(a,v)&(1<<S)-1,v+=S}if(v>R)throw"unexpected EOF";d&&f(w+131072);for(var Q=w+pe;w<Q;w+=4)i[w]=i[w-wt],i[w+1]=i[w+1-wt],i[w+2]=i[w+2-wt],i[w+3]=i[w+3-wt];w=Q}}o.l=T,o.p=v,o.b=w,T&&(_=1,o.m=Z,o.d=N,o.n=x)}while(!_);return w==i.length?i:Ut(i,0,w)}((function(a){if(8!=(15&a[0])||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(32&a[1])throw"invalid zlib data: preset dictionaries not supported"}(a),a.subarray(2,-4)),i)}var Re=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function us(){Re.console&&"function"==typeof Re.console.log&&Re.console.log.apply(Re.console,arguments)}var di={log:us,warn:function(a){Re.console&&("function"==typeof Re.console.warn?Re.console.warn.apply(Re.console,arguments):us.call(null,arguments))},error:function(a){Re.console&&("function"==typeof Re.console.error?Re.console.error.apply(Re.console,arguments):us(a))}};function hs(a,i,o){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){qr(l.response,i,o)},l.onerror=function(){di.error("could not download file")},l.send()}function yc(a){var i=new XMLHttpRequest;i.open("HEAD",a,!1);try{i.send()}catch(o){}return i.status>=200&&i.status<=299}function Aa(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(o){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}}var Vo,ds,qr=Re.saveAs||("object"!==("undefined"==typeof window?"undefined":Ce(window))||window!==Re?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(a,i,o){var l=Re.URL||Re.webkitURL,d=document.createElement("a");d.download=i=i||a.name||"download",d.rel="noopener","string"==typeof a?(d.href=a,d.origin!==location.origin?yc(d.href)?hs(a,i,o):Aa(d,d.target="_blank"):Aa(d)):(d.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){Aa(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,i,o){if(i=i||a.name||"download","string"==typeof a)if(yc(a))hs(a,i,o);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){Aa(l)})}else navigator.msSaveOrOpenBlob((d=a,void 0===(h=o)?h={autoBom:!1}:"object"!==Ce(h)&&(di.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob([String.fromCharCode(65279),d],{type:d.type}):d),i);var d,h}:function(a,i,o,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof a)return hs(a,i,o);var d="application/octet-stream"===a.type,h=/constructor/i.test(Re.HTMLElement)||Re.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&h)&&"object"===("undefined"==typeof FileReader?"undefined":Ce(FileReader))){var _=new FileReader;_.onloadend=function(){var T=_.result;T=f?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=T:location=T,l=null},_.readAsDataURL(a)}else{var v=Re.URL||Re.webkitURL,w=v.createObjectURL(a);l?l.location=w:location.href=w,l=null,setTimeout(function(){v.revokeObjectURL(w)},4e4)}});function xc(a){var i;a=a||"",this.ok=!1,"#"==a.charAt(0)&&(a=a.substr(1,6)),a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[a=(a=a.replace(/ /g,"")).toLowerCase()]||a;for(var o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_){return[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_){return[parseInt(_[1],16),parseInt(_[2],16),parseInt(_[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_){return[parseInt(_[1]+_[1],16),parseInt(_[2]+_[2],16),parseInt(_[3]+_[3],16)]}}],l=0;l<o.length;l++){var h=o[l].process,f=o[l].re.exec(a);f&&(i=h(f),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var _=this.r.toString(16),v=this.g.toString(16),w=this.b.toString(16);return 1==_.length&&(_="0"+_),1==v.length&&(v="0"+v),1==w.length&&(w="0"+w),"#"+_+v+w}}function ps(a,i){var o=a[0],l=a[1],d=a[2],h=a[3];o=Wi(o,l,d,h,i[0],7,-680876936),h=Wi(h,o,l,d,i[1],12,-389564586),d=Wi(d,h,o,l,i[2],17,606105819),l=Wi(l,d,h,o,i[3],22,-1044525330),o=Wi(o,l,d,h,i[4],7,-176418897),h=Wi(h,o,l,d,i[5],12,1200080426),d=Wi(d,h,o,l,i[6],17,-1473231341),l=Wi(l,d,h,o,i[7],22,-45705983),o=Wi(o,l,d,h,i[8],7,1770035416),h=Wi(h,o,l,d,i[9],12,-1958414417),d=Wi(d,h,o,l,i[10],17,-42063),l=Wi(l,d,h,o,i[11],22,-1990404162),o=Wi(o,l,d,h,i[12],7,1804603682),h=Wi(h,o,l,d,i[13],12,-40341101),d=Wi(d,h,o,l,i[14],17,-1502002290),o=Gi(o,l=Wi(l,d,h,o,i[15],22,1236535329),d,h,i[1],5,-165796510),h=Gi(h,o,l,d,i[6],9,-1069501632),d=Gi(d,h,o,l,i[11],14,643717713),l=Gi(l,d,h,o,i[0],20,-373897302),o=Gi(o,l,d,h,i[5],5,-701558691),h=Gi(h,o,l,d,i[10],9,38016083),d=Gi(d,h,o,l,i[15],14,-660478335),l=Gi(l,d,h,o,i[4],20,-405537848),o=Gi(o,l,d,h,i[9],5,568446438),h=Gi(h,o,l,d,i[14],9,-1019803690),d=Gi(d,h,o,l,i[3],14,-187363961),l=Gi(l,d,h,o,i[8],20,1163531501),o=Gi(o,l,d,h,i[13],5,-1444681467),h=Gi(h,o,l,d,i[2],9,-51403784),d=Gi(d,h,o,l,i[7],14,1735328473),o=Qi(o,l=Gi(l,d,h,o,i[12],20,-1926607734),d,h,i[5],4,-378558),h=Qi(h,o,l,d,i[8],11,-2022574463),d=Qi(d,h,o,l,i[11],16,1839030562),l=Qi(l,d,h,o,i[14],23,-35309556),o=Qi(o,l,d,h,i[1],4,-1530992060),h=Qi(h,o,l,d,i[4],11,1272893353),d=Qi(d,h,o,l,i[7],16,-155497632),l=Qi(l,d,h,o,i[10],23,-1094730640),o=Qi(o,l,d,h,i[13],4,681279174),h=Qi(h,o,l,d,i[0],11,-358537222),d=Qi(d,h,o,l,i[3],16,-722521979),l=Qi(l,d,h,o,i[6],23,76029189),o=Qi(o,l,d,h,i[9],4,-640364487),h=Qi(h,o,l,d,i[12],11,-421815835),d=Qi(d,h,o,l,i[15],16,530742520),o=$i(o,l=Qi(l,d,h,o,i[2],23,-995338651),d,h,i[0],6,-198630844),h=$i(h,o,l,d,i[7],10,1126891415),d=$i(d,h,o,l,i[14],15,-1416354905),l=$i(l,d,h,o,i[5],21,-57434055),o=$i(o,l,d,h,i[12],6,1700485571),h=$i(h,o,l,d,i[3],10,-1894986606),d=$i(d,h,o,l,i[10],15,-1051523),l=$i(l,d,h,o,i[1],21,-2054922799),o=$i(o,l,d,h,i[8],6,1873313359),h=$i(h,o,l,d,i[15],10,-30611744),d=$i(d,h,o,l,i[6],15,-1560198380),l=$i(l,d,h,o,i[13],21,1309151649),o=$i(o,l,d,h,i[4],6,-145523070),h=$i(h,o,l,d,i[11],10,-1120210379),d=$i(d,h,o,l,i[2],15,718787259),l=$i(l,d,h,o,i[9],21,-343485551),a[0]=yr(o,a[0]),a[1]=yr(l,a[1]),a[2]=yr(d,a[2]),a[3]=yr(h,a[3])}function Ca(a,i,o,l,d,h){return i=yr(yr(i,a),yr(l,h)),yr(i<<d|i>>>32-d,o)}function Wi(a,i,o,l,d,h,f){return Ca(i&o|~i&l,a,i,d,h,f)}function Gi(a,i,o,l,d,h,f){return Ca(i&l|o&~l,a,i,d,h,f)}function Qi(a,i,o,l,d,h,f){return Ca(i^o^l,a,i,d,h,f)}function $i(a,i,o,l,d,h,f){return Ca(o^(i|~l),a,i,d,h,f)}function wc(a){var i,o=a.length,l=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=a.length;i+=64)ps(l,Fl(a.substring(i-64,i)));a=a.substring(i-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<a.length;i++)d[i>>2]|=a.charCodeAt(i)<<(i%4<<3);if(d[i>>2]|=128<<(i%4<<3),i>55)for(ps(l,d),i=0;i<16;i++)d[i]=0;return d[14]=8*o,ps(l,d),l}function Fl(a){var i,o=[];for(i=0;i<64;i+=4)o[i>>2]=a.charCodeAt(i)+(a.charCodeAt(i+1)<<8)+(a.charCodeAt(i+2)<<16)+(a.charCodeAt(i+3)<<24);return o}Vo=Re.atob.bind(Re),ds=Re.btoa.bind(Re);var Ac="0123456789abcdef".split("");function El(a){for(var i="",o=0;o<4;o++)i+=Ac[a>>8*o+4&15]+Ac[a>>8*o&15];return i}function ql(a){return String.fromCharCode((255&a)>>0,(65280&a)>>8,(16711680&a)>>16,(4278190080&a)>>24)}function fs(a){return wc(a).map(ql).join("")}var Rl="5d41402abc4b2a76b9719d911017c592"!=function(a){for(var i=0;i<a.length;i++)a[i]=El(a[i]);return a.join("")}(wc("hello"));function yr(a,i){if(Rl){var o=(65535&a)+(65535&i);return(a>>16)+(i>>16)+(o>>16)<<16|65535&o}return a+i&4294967295}function gs(a,i){var o,l,d;if(a!==o){for(var f=(d=a,new Array(1+(256/a.length>>0)+1).join(d)),_=[],v=0;v<256;v++)_[v]=v;var w=0;for(v=0;v<256;v++){var T=_[v];w=(w+T+f.charCodeAt(v))%256,_[v]=_[w],_[w]=T}o=a,l=_}else _=l;var N=i.length,Z=0,x=0,R="";for(v=0;v<N;v++)x=(x+(T=_[Z=(Z+1)%256]))%256,_[Z]=_[x],_[x]=T,f=_[(_[Z]+_[x])%256],R+=String.fromCharCode(i.charCodeAt(v)^f);return R}var Cc={print:4,modify:8,copy:16,"annot-forms":32};function ao(a,i,o,l){this.v=1,this.r=2;var d=192;a.forEach(function(_){if(void 0!==Cc.perm)throw new Error("Invalid permission: "+_);d+=Cc[_]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var h=(i+this.padding).substr(0,32),f=(o+this.padding).substr(0,32);this.O=this.processOwnerPassword(h,f),this.P=-(1+(255^d)),this.encryptionKey=fs(h+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=gs(this.encryptionKey,this.padding)}function so(a){if(/[^\u0000-\u00ff]/.test(a))throw new Error("Invalid PDF Name Object: "+a+", Only accept ASCII characters.");for(var i="",o=a.length,l=0;l<o;l++){var d=a.charCodeAt(l);i+=d<33||35===d||37===d||40===d||41===d||47===d||60===d||62===d||91===d||93===d||123===d||125===d||d>126?"#"+("0"+d.toString(16)).slice(-2):a[l]}return i}function Tc(a){if("object"!==Ce(a))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(o,l,d){if(d=d||!1,"string"!=typeof o||"function"!=typeof l||"boolean"!=typeof d)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(o)||(i[o]={});var h=Math.random().toString(35);return i[o][h]=[l,!!d],h},this.unsubscribe=function(o){for(var l in i)if(i[l][o])return delete i[l][o],0===Object.keys(i[l]).length&&delete i[l],!0;return!1},this.publish=function(o){if(i.hasOwnProperty(o)){var l=Array.prototype.slice.call(arguments,1),d=[];for(var h in i[o]){var f=i[o][h];try{f[0].apply(a,l)}catch(_){Re.console&&di.error("jsPDF PubSub Error",_.message,_)}f[1]&&d.push(h)}d.length&&d.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Wo(a){if(!(this instanceof Wo))return new Wo(a);var i="opacity,stroke-opacity".split(",");for(var o in a)a.hasOwnProperty(o)&&i.indexOf(o)>=0&&(this[o]=a[o]);this.id="",this.objectNumber=-1}function Pc(a,i){this.gState=a,this.matrix=i,this.id="",this.objectNumber=-1}function xr(a,i,o,l,d){if(!(this instanceof xr))return new xr(a,i,o,l,d);this.type="axial"===a?2:3,this.coords=i,this.colors=o,Pc.call(this,l,d)}function Rr(a,i,o,l,d){if(!(this instanceof Rr))return new Rr(a,i,o,l,d);this.boundingBox=a,this.xStep=i,this.yStep=o,this.stream="",this.cloneIndex=0,Pc.call(this,l,d)}function Fe(a){var i,o="string"==typeof arguments[0]?arguments[0]:"p",l=arguments[1],d=arguments[2],h=arguments[3],f=[],_=1,v=16,w="S",T=null;"object"===Ce(a=a||{})&&(o=a.orientation,l=a.unit||l,d=a.format||d,h=a.compress||a.compressPdf||h,null!==(T=a.encryption||null)&&(T.userPassword=T.userPassword||"",T.ownerPassword=T.ownerPassword||"",T.userPermissions=T.userPermissions||[]),_="number"==typeof a.userUnit?Math.abs(a.userUnit):1,void 0!==a.precision&&(i=a.precision),void 0!==a.floatPrecision&&(v=a.floatPrecision),w=a.defaultPathOperation||"S"),f=a.filters||(!0===h?["FlateEncode"]:f),l=l||"mm",o=(""+(o||"P")).toLowerCase();var N=a.putOnlyUsedFonts||!1,Z={},x={internal:{},__private__:{}};x.__private__.PubSub=Tc;var R="1.3",M=x.__private__.getPdfVersion=function(){return R};x.__private__.setPdfVersion=function(p){R=p};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return H};var I=x.__private__.getPageFormat=function(p){return H[p]};d=d||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},X=B.COMPAT;function lt(){this.saveGraphicsState(),Y(new Ee(me,0,0,-me,0,hr()*me).toString()+" cm"),this.setFontSize(this.getFontSize()/me),w="n",X=B.ADVANCED}function At(){this.restoreGraphicsState(),w="S",X=B.COMPAT}var Yt=x.__private__.combineFontStyleAndFontWeight=function(p,C){if("bold"==p&&"normal"==C||"bold"==p&&400==C||"normal"==p&&"italic"==C||"bold"==p&&"italic"==C)throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(p=400==C||"normal"===C?"italic"===p?"italic":"normal":700!=C&&"bold"!==C||"normal"!==p?(700==C?"bold":C)+""+p:"bold"),p};x.advancedAPI=function(p){var C=X===B.COMPAT;return C&&lt.call(this),"function"!=typeof p||(p(this),C&&At.call(this)),this},x.compatAPI=function(p){var C=X===B.ADVANCED;return C&&At.call(this),"function"!=typeof p||(p(this),C&&lt.call(this)),this},x.isAdvancedAPI=function(){return X===B.ADVANCED};var dt,J=function(p){if(X!==B.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},qt=x.roundToPrecision=x.__private__.roundToPrecision=function(p,C){var U=i||C;if(isNaN(p)||isNaN(U))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(U).replace(/0+$/,"")};dt=x.hpf=x.__private__.hpf="number"==typeof v?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,v)}:"smart"===v?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,16)};var It=x.f2=x.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return qt(p,2)},F=x.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return qt(p,3)},O=x.scale=x.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return X===B.COMPAT?p*me:X===B.ADVANCED?p:void 0},G=function(p){return X===B.COMPAT?hr()-p:X===B.ADVANCED?p:void 0},V=function(p){return O(G(p))};x.__private__.setPrecision=x.setPrecision=function(p){"number"==typeof parseInt(p,10)&&(i=parseInt(p,10))};var Pt,wt="00000000000000000000000000000000",Ft=x.__private__.getFileId=function(){return wt},pt=x.__private__.setFileId=function(p){return wt=void 0!==p&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():wt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==T&&(ji=new ao(T.userPermissions,T.userPassword,T.ownerPassword,wt)),wt};x.setFileId=function(p){return pt(p),this},x.getFileId=function(){return Ft()};var Et=x.__private__.convertDateToPDFDate=function(p){var C=p.getTimezoneOffset(),U=C<0?"+":"-",W=Math.floor(Math.abs(C/60)),at=Math.abs(C%60),Nt=[U,z(W),"'",z(at),"'"].join("");return["D:",p.getFullYear(),z(p.getMonth()+1),z(p.getDate()),z(p.getHours()),z(p.getMinutes()),z(p.getSeconds()),Nt].join("")},Mt=x.__private__.convertPDFDateToDate=function(p){var C=parseInt(p.substr(2,4),10),U=parseInt(p.substr(6,2),10)-1,W=parseInt(p.substr(8,2),10),at=parseInt(p.substr(10,2),10),Nt=parseInt(p.substr(12,2),10),Kt=parseInt(p.substr(14,2),10);return new Date(C,U,W,at,Nt,Kt,0)},pe=x.__private__.setCreationDate=function(p){var C;if(void 0===p&&(p=new Date),p instanceof Date)C=Et(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=p}return Pt=C},S=x.__private__.getCreationDate=function(p){var C=Pt;return"jsDate"===p&&(C=Mt(Pt)),C};x.setCreationDate=function(p){return pe(p),this},x.getCreationDate=function(p){return S(p)};var j,z=x.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},Q=x.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},ot=0,mt=[],vt=[],xt=0,oe=[],re=[],fe=!1,ve=vt,Be=function(){ot=0,xt=0,vt=[],mt=[],oe=[],cr=Mi(),Dn=Mi()};x.__private__.setCustomOutputDestination=function(p){fe=!0,ve=p};var Dt=function(p){fe||(ve=p)};x.__private__.resetCustomOutputDestination=function(){fe=!1,ve=vt};var Y=x.__private__.out=function(p){return p=p.toString(),xt+=p.length+1,ve.push(p),ve},Je=x.__private__.write=function(p){return Y(1===arguments.length?p.toString():Array.prototype.join.call(arguments," "))},Pe=x.__private__.getArrayBuffer=function(p){for(var C=p.length,U=new ArrayBuffer(C),W=new Uint8Array(U);C--;)W[C]=p.charCodeAt(C);return U},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return ee};var ce=a.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(p){return ce=X===B.ADVANCED?p/me:p,this};var ge,ue=x.__private__.getFontSize=x.getFontSize=function(){return X===B.COMPAT?ce:ce*me},Le=a.R2L||!1;x.__private__.setR2L=x.setR2L=function(p){return Le=p,this},x.__private__.getR2L=x.getR2L=function(){return Le};var He,Ge=x.__private__.setZoomMode=function(p){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))ge=p;else if(isNaN(p)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(p))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');ge=p}else ge=parseInt(p,10)};x.__private__.getZoomMode=function(){return ge};var Ke,ri=x.__private__.setPageMode=function(p){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');He=p};x.__private__.getPageMode=function(){return He};var hi=x.__private__.setLayoutMode=function(p){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Ke=p};x.__private__.getLayoutMode=function(){return Ke},x.__private__.setDisplayMode=x.setDisplayMode=function(p,C,U){return Ge(p),hi(C),ri(U),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(p){if(-1===Object.keys(Ue).indexOf(p))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[p]},x.__private__.getDocumentProperties=function(){return Ue},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(p){for(var C in Ue)Ue.hasOwnProperty(C)&&p[C]&&(Ue[C]=p[C]);return this},x.__private__.setDocumentProperty=function(p,C){if(-1===Object.keys(Ue).indexOf(p))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[p]=C};var Xe,me,Ki,oi,Nn,pi={},xi={},Qn=[],si={},Wr={},Ti={},Ln={},sr=null,Pi=0,Ve=[],ci=new Tc(x),Gr=a.hotfixes||[],Ji={},$n={},Kn=[],Ee=function p(C,U,W,at,Nt,Kt){if(!(this instanceof p))return new p(C,U,W,at,Nt,Kt);isNaN(C)&&(C=1),isNaN(U)&&(U=0),isNaN(W)&&(W=0),isNaN(at)&&(at=1),isNaN(Nt)&&(Nt=0),isNaN(Kt)&&(Kt=0),this._matrix=[C,U,W,at,Nt,Kt]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(dt).join(p)},Ee.prototype.multiply=function(p){return new Ee(p.sx*this.sx+p.shy*this.shx,p.sx*this.shy+p.shy*this.sy,p.shx*this.sx+p.sy*this.shx,p.shx*this.shy+p.sy*this.sy,p.tx*this.sx+p.ty*this.shx+this.tx,p.tx*this.shy+p.ty*this.sy+this.ty)},Ee.prototype.decompose=function(){var p=this.sx,C=this.shy,U=this.shx,W=this.sy,at=this.tx,Nt=this.ty,Kt=Math.sqrt(p*p+C*C),_e=(p/=Kt)*U+(C/=Kt)*W;U-=p*_e,W-=C*_e;var De=Math.sqrt(U*U+W*W);return _e/=De,p*(W/=De)<C*(U/=De)&&(p=-p,C=-C,_e=-_e,Kt=-Kt),{scale:new Ee(Kt,0,0,De,0,0),translate:new Ee(1,0,0,1,at,Nt),rotate:new Ee(p,C,-C,p,0,0),skew:new Ee(1,0,_e,1,0,0)}},Ee.prototype.toString=function(p){return this.join(" ")},Ee.prototype.inversed=function(){var p=this.sx,C=this.shy,U=this.shx,W=this.sy,at=this.tx,Nt=this.ty,Kt=1/(p*W-C*U),_e=W*Kt,De=-C*Kt,We=-U*Kt,Qe=p*Kt;return new Ee(_e,De,We,Qe,-_e*at-We*Nt,-De*at-Qe*Nt)},Ee.prototype.applyToPoint=function(p){return new So(p.x*this.sx+p.y*this.shx+this.tx,p.x*this.shy+p.y*this.sy+this.ty)},Ee.prototype.applyToRectangle=function(p){var C=this.applyToPoint(p),U=this.applyToPoint(new So(p.x+p.w,p.y+p.h));return new oa(C.x,C.y,U.x-C.x,U.y-C.y)},Ee.prototype.clone=function(){return new Ee(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},x.Matrix=Ee;var Zn=x.matrixMult=function(p,C){return C.multiply(p)},Xn=new Ee(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Xn;var ln=function(p,C){if(!Wr[p]){var U=(C instanceof xr?"Sh":"P")+(Object.keys(si).length+1).toString(10);C.id=U,Wr[p]=U,si[U]=C,ci.publish("addPattern",C)}};x.ShadingPattern=xr,x.TilingPattern=Rr,x.addShadingPattern=function(p,C){return J("addShadingPattern()"),ln(p,C),this},x.beginTilingPattern=function(p){J("beginTilingPattern()"),Ja(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},x.endTilingPattern=function(p,C){J("endTilingPattern()"),C.stream=re[j].join("\n"),ln(p,C),ci.publish("endTilingPattern",C),Kn.pop().restore()};var qi=x.__private__.newObject=function(){var p=Mi();return pn(p,!0),p},Mi=x.__private__.newObjectDeferred=function(){return ot++,mt[ot]=function(){return xt},ot},pn=function(p,C){return C="boolean"==typeof C&&C,mt[p]=xt,C&&Y(p+" 0 obj"),p},go=x.__private__.newAdditionalObject=function(){var p={objId:Mi(),content:""};return oe.push(p),p},cr=Mi(),Dn=Mi(),In=x.__private__.decodeColorString=function(p){var C=p.split(" ");if(2!==C.length||"g"!==C[1]&&"G"!==C[1])5===C.length&&("k"===C[4]||"K"===C[4])&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var U=parseFloat(C[0]);C=[U,U,U,"r"]}for(var W="#",at=0;at<3;at++)W+=("0"+Math.floor(255*parseFloat(C[at])).toString(16)).slice(-2);return W},Mn=x.__private__.encodeColorString=function(p){var C;"string"==typeof p&&(p={ch1:p});var U=p.ch1,W=p.ch2,at=p.ch3,Nt=p.ch4,Kt="draw"===p.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof U&&"#"!==U.charAt(0)){var _e=new xc(U);if(_e.ok)U=_e.toHex();else if(!/^\d*\.?\d*$/.test(U))throw new Error('Invalid color "'+U+'" passed to jsPDF.encodeColorString.')}if("string"==typeof U&&/^#[0-9A-Fa-f]{3}$/.test(U)&&(U="#"+U[1]+U[1]+U[2]+U[2]+U[3]+U[3]),"string"==typeof U&&/^#[0-9A-Fa-f]{6}$/.test(U)){var De=parseInt(U.substr(1),16);U=De>>16&255,W=De>>8&255,at=255&De}if(void 0===W||void 0===Nt&&U===W&&W===at)C="string"==typeof U?U+" "+Kt[0]:2===p.precision?It(U/255)+" "+Kt[0]:F(U/255)+" "+Kt[0];else if(void 0===Nt||"object"===Ce(Nt)){if(Nt&&!isNaN(Nt.a)&&0===Nt.a)return["1.","1.","1.",Kt[1]].join(" ");C="string"==typeof U?[U,W,at,Kt[1]].join(" "):2===p.precision?[It(U/255),It(W/255),It(at/255),Kt[1]].join(" "):[F(U/255),F(W/255),F(at/255),Kt[1]].join(" ")}else C="string"==typeof U?[U,W,at,Nt,Kt[2]].join(" "):2===p.precision?[It(U),It(W),It(at),It(Nt),Kt[2]].join(" "):[F(U),F(W),F(at),F(Nt),Kt[2]].join(" ");return C},tr=x.__private__.getFilters=function(){return f},vn=x.__private__.putStream=function(p){var C=(p=p||{}).data||"",U=p.filters||tr(),W=p.alreadyAppliedFilters||[],at=p.addLength1||!1,Nt=C.length,Kt=p.objectId,_e=function(Xi){return Xi};if(null!==T&&void 0===Kt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==T&&(_e=ji.encryptor(Kt,0));var De={};!0===U&&(U=["FlateEncode"]);var We=p.additionalKeyValues||[],Qe=(De=void 0!==Fe.API.processDataByFilters?Fe.API.processDataByFilters(C,U):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(W)?W.join(" "):W.toString());if(0!==De.data.length&&(We.push({key:"Length",value:De.data.length}),!0===at&&We.push({key:"Length1",value:Nt})),0!=Qe.length)if(Qe.split("/").length-1==1)We.push({key:"Filter",value:Qe});else{We.push({key:"Filter",value:"["+Qe+"]"});for(var ii=0;ii<We.length;ii+=1)if("DecodeParms"===We[ii].key){for(var Ai=[],ki=0;ki<De.reverseChain.split("/").length-1;ki+=1)Ai.push("null");Ai.push(We[ii].value),We[ii].value="["+Ai.join(" ")+"]"}}Y("<<");for(var Oi=0;Oi<We.length;Oi++)Y("/"+We[Oi].key+" "+We[Oi].value);Y(">>"),0!==De.data.length&&(Y("stream"),Y(_e(De.data)),Y("endstream"))},er=x.__private__.putPage=function(p){var C=p.number,U=p.data,W=p.objId,at=p.contentsObjId;pn(W,!0),Y("<</Type /Page"),Y("/Parent "+p.rootDictionaryObjId+" 0 R"),Y("/Resources "+p.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(dt(p.mediaBox.bottomLeftX))+" "+parseFloat(dt(p.mediaBox.bottomLeftY))+" "+dt(p.mediaBox.topRightX)+" "+dt(p.mediaBox.topRightY)+"]"),null!==p.cropBox&&Y("/CropBox ["+dt(p.cropBox.bottomLeftX)+" "+dt(p.cropBox.bottomLeftY)+" "+dt(p.cropBox.topRightX)+" "+dt(p.cropBox.topRightY)+"]"),null!==p.bleedBox&&Y("/BleedBox ["+dt(p.bleedBox.bottomLeftX)+" "+dt(p.bleedBox.bottomLeftY)+" "+dt(p.bleedBox.topRightX)+" "+dt(p.bleedBox.topRightY)+"]"),null!==p.trimBox&&Y("/TrimBox ["+dt(p.trimBox.bottomLeftX)+" "+dt(p.trimBox.bottomLeftY)+" "+dt(p.trimBox.topRightX)+" "+dt(p.trimBox.topRightY)+"]"),null!==p.artBox&&Y("/ArtBox ["+dt(p.artBox.bottomLeftX)+" "+dt(p.artBox.bottomLeftY)+" "+dt(p.artBox.topRightX)+" "+dt(p.artBox.topRightY)+"]"),"number"==typeof p.userUnit&&1!==p.userUnit&&Y("/UserUnit "+p.userUnit),ci.publish("putPage",{objId:W,pageContext:Ve[C],pageNumber:C,page:U}),Y("/Contents "+at+" 0 R"),Y(">>"),Y("endobj");var Nt=U.join("\n");return X===B.ADVANCED&&(Nt+="\nQ"),pn(at,!0),vn({data:Nt,filters:tr(),objectId:at}),Y("endobj"),W},Qr=x.__private__.putPages=function(){var p,C,U=[];for(p=1;p<=Pi;p++)Ve[p].objId=Mi(),Ve[p].contentsObjId=Mi();for(p=1;p<=Pi;p++)U.push(er({number:p,data:re[p],objId:Ve[p].objId,contentsObjId:Ve[p].contentsObjId,mediaBox:Ve[p].mediaBox,cropBox:Ve[p].cropBox,bleedBox:Ve[p].bleedBox,trimBox:Ve[p].trimBox,artBox:Ve[p].artBox,userUnit:Ve[p].userUnit,rootDictionaryObjId:cr,resourceDictionaryObjId:Dn}));pn(cr,!0),Y("<</Type /Pages");var W="/Kids [";for(C=0;C<Pi;C++)W+=U[C]+" 0 R ";Y(W+"]"),Y("/Count "+Pi),Y(">>"),Y("endobj"),ci.publish("postPutPages")},mo=function(p){ci.publish("putFont",{font:p,out:Y,newObject:qi,putStream:vn}),!0!==p.isAlreadyPutted&&(p.objectNumber=qi(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+so(p.postScriptName)),Y("/Subtype /Type1"),"string"==typeof p.encoding&&Y("/Encoding /"+p.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},_o=function(){for(var p in pi)pi.hasOwnProperty(p)&&(!1===N||!0===N&&Z.hasOwnProperty(p))&&mo(pi[p])},vo=function(p){p.objectNumber=qi();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[dt(p.x),dt(p.y),dt(p.x+p.width),dt(p.y+p.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var U=p.pages[1].join("\n");vn({data:U,additionalKeyValues:C,objectId:p.objectNumber}),Y("endobj")},bo=function(){for(var p in Ji)Ji.hasOwnProperty(p)&&vo(Ji[p])},Za=function(p,C){var U,W=[],at=1/(C-1);for(U=0;U<1;U+=at)W.push(U);W.push(1),0!=p[0].offset&&p.unshift({offset:0,color:p[0].color}),1!=p[p.length-1].offset&&p.push({offset:1,color:p[p.length-1].color});for(var _e="",De=0,We=0;We<W.length;We++){for(U=W[We];U>p[De+1].offset;)De++;var Qe=p[De].offset,ii=(U-Qe)/(p[De+1].offset-Qe),Ai=p[De].color,ki=p[De+1].color;_e+=Q(Math.round((1-ii)*Ai[0]+ii*ki[0]).toString(16))+Q(Math.round((1-ii)*Ai[1]+ii*ki[1]).toString(16))+Q(Math.round((1-ii)*Ai[2]+ii*ki[2]).toString(16))}return _e.trim()},Cs=function(p,C){C||(C=21);var U=qi(),W=Za(p.colors,C),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+C+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vn({data:W,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:U}),Y("endobj"),p.objectNumber=qi(),Y("<< /ShadingType "+p.type),Y("/ColorSpace /DeviceRGB");var Nt="/Coords ["+dt(parseFloat(p.coords[0]))+" "+dt(parseFloat(p.coords[1]))+" ";Nt+=2===p.type?dt(parseFloat(p.coords[2]))+" "+dt(parseFloat(p.coords[3])):dt(parseFloat(p.coords[2]))+" "+dt(parseFloat(p.coords[3]))+" "+dt(parseFloat(p.coords[4]))+" "+dt(parseFloat(p.coords[5])),Y(Nt+="]"),p.matrix&&Y("/Matrix ["+p.matrix.toString()+"]"),Y("/Function "+U+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ts=function(p,C){var U=Mi(),W=qi();C.push({resourcesOid:U,objectOid:W}),p.objectNumber=W;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+p.boundingBox.map(dt).join(" ")+"]"}),at.push({key:"XStep",value:dt(p.xStep)}),at.push({key:"YStep",value:dt(p.yStep)}),at.push({key:"Resources",value:U+" 0 R"}),p.matrix&&at.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),vn({data:p.stream,additionalKeyValues:at,objectId:p.objectNumber}),Y("endobj")},yo=function(p){var C;for(C in si)si.hasOwnProperty(C)&&(si[C]instanceof xr?Cs(si[C]):si[C]instanceof Rr&&Ts(si[C],p))},Da=function(p){for(var C in p.objectNumber=qi(),Y("<<"),p)switch(C){case"opacity":Y("/ca "+It(p[C]));break;case"stroke-opacity":Y("/CA "+It(p[C]))}Y(">>"),Y("endobj")},Ps=function(){var p;for(p in Ti)Ti.hasOwnProperty(p)&&Da(Ti[p])},$o=function(){for(var p in Y("/XObject <<"),Ji)Ji.hasOwnProperty(p)&&Ji[p].objectNumber>=0&&Y("/"+p+" "+Ji[p].objectNumber+" 0 R");ci.publish("putXobjectDict"),Y(">>")},ks=function(){ji.oid=qi(),Y("<<"),Y("/Filter /Standard"),Y("/V "+ji.v),Y("/R "+ji.r),Y("/U <"+ji.toHexString(ji.U)+">"),Y("/O <"+ji.toHexString(ji.O)+">"),Y("/P "+ji.P),Y(">>"),Y("endobj")},Ia=function(){for(var p in Y("/Font <<"),pi)pi.hasOwnProperty(p)&&(!1===N||!0===N&&Z.hasOwnProperty(p))&&Y("/"+p+" "+pi[p].objectNumber+" 0 R");Y(">>")},Ss=function(){if(Object.keys(si).length>0){for(var p in Y("/Shading <<"),si)si.hasOwnProperty(p)&&si[p]instanceof xr&&si[p].objectNumber>=0&&Y("/"+p+" "+si[p].objectNumber+" 0 R");ci.publish("putShadingPatternDict"),Y(">>")}},xo=function(p){if(Object.keys(si).length>0){for(var C in Y("/Pattern <<"),si)si.hasOwnProperty(C)&&si[C]instanceof x.TilingPattern&&si[C].objectNumber>=0&&si[C].objectNumber<p&&Y("/"+C+" "+si[C].objectNumber+" 0 R");ci.publish("putTilingPatternDict"),Y(">>")}},Ns=function(){if(Object.keys(Ti).length>0){var p;for(p in Y("/ExtGState <<"),Ti)Ti.hasOwnProperty(p)&&Ti[p].objectNumber>=0&&Y("/"+p+" "+Ti[p].objectNumber+" 0 R");ci.publish("putGStateDict"),Y(">>")}},Zi=function(p){pn(p.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ia(),Ss(),xo(p.objectOid),Ns(),$o(),Y(">>"),Y("endobj")},Ma=function(){var p=[];_o(),Ps(),bo(),yo(p),ci.publish("putResources"),p.forEach(Zi),Zi({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),ci.publish("postPutResources")},Oa=function(){ci.publish("putAdditionalObjects");for(var p=0;p<oe.length;p++){var C=oe[p];pn(C.objId,!0),Y(C.content),Y("endobj")}ci.publish("postPutAdditionalObjects")},Fa=function(p){xi[p.fontName]=xi[p.fontName]||{},xi[p.fontName][p.fontStyle]=p.id},Ko=function(p,C,U,W,at){var Nt={id:"F"+(Object.keys(pi).length+1).toString(10),postScriptName:p,fontName:C,fontStyle:U,encoding:W,isStandardFont:at||!1,metadata:{}};return ci.publish("addFont",{font:Nt,instance:this}),pi[Nt.id]=Nt,Fa(Nt),Nt.id},Ls=function(p){for(var C=0,U=ee.length;C<U;C++){var W=Ko.call(this,p[C][0],p[C][1],p[C][2],ee[C][3],!0);!1===N&&(Z[W]=!0);var at=p[C][0].split("-");Fa({id:W,fontName:at[0],fontStyle:at[1]||""})}ci.publish("addFonts",{fonts:pi,dictionary:xi})},On=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(W){var C=W.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var U="Error in function "+C.split("\n")[0].split("<")[0]+": "+W.message;if(!Re.console)throw new Error(U);Re.console.error(U,W),Re.alert&&alert(U)}},p.foo.bar=p,p.foo},wo=function(p,C){var U,W,at,Nt,Kt,_e,De,We,Qe;if(at=(C=C||{}).sourceEncoding||"Unicode",Kt=C.outputEncoding,(C.autoencode||Kt)&&pi[Xe].metadata&&pi[Xe].metadata[at]&&pi[Xe].metadata[at].encoding&&(Nt=pi[Xe].metadata[at].encoding,!Kt&&pi[Xe].encoding&&(Kt=pi[Xe].encoding),!Kt&&Nt.codePages&&(Kt=Nt.codePages[0]),"string"==typeof Kt&&(Kt=Nt[Kt]),Kt)){for(De=!1,_e=[],U=0,W=p.length;U<W;U++)(We=Kt[p.charCodeAt(U)])?_e.push(String.fromCharCode(We)):_e.push(p[U]),_e[U].charCodeAt(0)>>8&&(De=!0);p=_e.join("")}for(U=p.length;void 0===De&&0!==U;)p.charCodeAt(U-1)>>8&&(De=!0),U--;if(!De)return p;for(_e=C.noBOM?[]:[254,255],U=0,W=p.length;U<W;U++){if((Qe=(We=p.charCodeAt(U))>>8)>>8)throw new Error("Character at position "+U+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_e.push(Qe),_e.push(We-(Qe<<8))}return String.fromCharCode.apply(void 0,_e)},un=x.__private__.pdfEscape=x.pdfEscape=function(p,C){return wo(p,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xo=x.__private__.beginPage=function(p){re[++Pi]=[],Ve[Pi]={objId:0,contentsObjId:0,userUnit:Number(_),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},qa(Pi),Dt(re[j])},Ea=function(p,C){var U,W,at;switch(o=C||o,"string"==typeof p&&(U=I(p.toLowerCase()),Array.isArray(U)&&(W=U[0],at=U[1])),Array.isArray(p)&&(W=p[0]*me,at=p[1]*me),isNaN(W)&&(W=d[0],at=d[1]),(W>14400||at>14400)&&(di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),W=Math.min(14400,W),at=Math.min(14400,at)),d=[W,at],o.substr(0,1)){case"l":at>W&&(d=[at,W]);break;case"p":W>at&&(d=[at,W])}Xo(d),Rs(za),Y(bn),0!==Nr&&Y(Nr+" J"),0!==na&&Y(na+" j"),ci.publish("addPage",{pageNumber:Pi})},Cr=function(p){p>0&&p<=Pi&&(re.splice(p,1),Ve.splice(p,1),Pi--,j>Pi&&(j=Pi),this.setPage(j))},qa=function(p){p>0&&p<=Pi&&(j=p)},Zs=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return re.length-1},Ra=function(p,C,U){var W,at=void 0;return U=U||{},C=void 0!==C?C:pi[Xe].fontStyle,W=(p=void 0!==p?p:pi[Xe].fontName).toLowerCase(),void 0!==xi[W]&&void 0!==xi[W][C]?at=xi[W][C]:void 0!==xi[p]&&void 0!==xi[p][C]?at=xi[p][C]:!1===U.disableWarning&&di.warn("Unable to look up font label for font '"+p+"', '"+C+"'. Refer to getFontList() for available fonts."),at||U.noFallback||null==(at=xi.times[C])&&(at=xi.times.normal),at},Ds=x.__private__.putInfo=function(){var p=qi(),C=function(W){return W};for(var U in null!==T&&(C=ji.encryptor(p,0)),Y("<<"),Y("/Producer ("+un(C("jsPDF "+Fe.version))+")"),Ue)Ue.hasOwnProperty(U)&&Ue[U]&&Y("/"+U.substr(0,1).toUpperCase()+U.substr(1)+" ("+un(C(Ue[U]))+")");Y("/CreationDate ("+un(C(Pt))+")"),Y(">>"),Y("endobj")},fn=x.__private__.putCatalog=function(p){var C=(p=p||{}).rootDictionaryObjId||cr;switch(qi(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+C+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var U=""+ge;"%"===U.substr(U.length-1)&&(ge=parseInt(ge)/100),"number"==typeof ge&&Y("/OpenAction [3 0 R /XYZ null null "+It(ge)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}He&&Y("/PageMode /"+He),ci.publish("putCatalog"),Y(">>"),Y("endobj")},Fn=x.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ot+1)),Y("/Root "+ot+" 0 R"),Y("/Info "+(ot-1)+" 0 R"),null!==T&&Y("/Encrypt "+ji.oid+" 0 R"),Y("/ID [ <"+wt+"> <"+wt+"> ]"),Y(">>")},Ba=x.__private__.putHeader=function(){Y("%PDF-"+R),Y("%\xba\xdf\xac\xe0")},Ua=x.__private__.putXRef=function(){var p="0000000000";Y("xref"),Y("0 "+(ot+1)),Y("0000000000 65535 f ");for(var C=1;C<=ot;C++)Y("function"==typeof mt[C]?(p+mt[C]()).slice(-10)+" 00000 n ":void 0!==mt[C]?(p+mt[C]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},rn=x.__private__.buildDocument=function(){Be(),Dt(vt),ci.publish("buildDocument"),Ba(),Qr(),Oa(),Ma(),null!==T&&ks(),Ds(),fn();var p=xt;return Ua(),Fn(),Y("startxref"),Y(""+p),Y("%%EOF"),Dt(re[j]),vt.join("\n")},ti=x.__private__.getBlob=function(p){return new Blob([Pe(p)],{type:"application/pdf"})},mi=x.output=x.__private__.output=On(function(p,C){switch("string"==typeof(C=C||{})?C={filename:C}:C.filename=C.filename||"generated.pdf",p){case void 0:return rn();case"save":x.save(C.filename);break;case"arraybuffer":return Pe(rn());case"blob":return ti(rn());case"bloburi":case"bloburl":if(void 0!==Re.URL&&"function"==typeof Re.URL.createObjectURL)return Re.URL&&Re.URL.createObjectURL(ti(rn()))||void 0;di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var U="",W=rn();try{U=ds(W)}catch(ki){U=ds(unescape(encodeURIComponent(W)))}return"data:application/pdf;filename="+C.filename+";base64,"+U;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Re)){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(at=C.pdfObjectUrl,Nt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",_e=Re.open();return null!==_e&&_e.document.write(Kt),_e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Re)){var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',We=Re.open();if(null!==We){We.document.write(De);var Qe=this;We.document.documentElement.querySelector("#pdfViewer").onload=function(){We.document.title=C.filename,We.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qe.output("bloburl"))}}return We}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Re))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Ai=Re.open();if(null!==Ai&&(Ai.document.write(ii),Ai.document.title=C.filename),Ai||"undefined"==typeof safari)return Ai;break;case"datauri":case"dataurl":return Re.document.location.href=this.output("datauristring",C);default:return null}}),ja=function(p){return!0===Array.isArray(Gr)&&Gr.indexOf(p)>-1};switch(l){case"pt":me=1;break;case"mm":me=72/25.4;break;case"cm":me=72/2.54;break;case"in":me=72;break;case"px":me=1==ja("px_scaling")?.75:96/72;break;case"pc":case"em":me=12;break;case"ex":me=6;break;default:if("number"!=typeof l)throw new Error("Invalid unit: "+l);me=l}var ji=null;pe(),pt();var Is=function(p){return null!==T?ji.encryptor(p,0):function(C){return C}},Ms=x.__private__.getPageInfo=x.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ve[p].objId,pageNumber:p,pageContext:Ve[p]}},ze=x.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in Ve)if(Ve[C].objId===p)break;return Ms(C)},Os=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ve[j].objId,pageNumber:j,pageContext:Ve[j]}};x.addPage=function(){return Ea.apply(this,arguments),this},x.setPage=function(){return qa.apply(this,arguments),Dt.call(this,re[j]),this},x.insertPage=function(p){return this.addPage(),this.movePage(j,p),this},x.movePage=function(p,C){var U,W;if(p>C){U=re[p],W=Ve[p];for(var at=p;at>C;at--)re[at]=re[at-1],Ve[at]=Ve[at-1];re[C]=U,Ve[C]=W,this.setPage(C)}else if(p<C){U=re[p],W=Ve[p];for(var Nt=p;Nt<C;Nt++)re[Nt]=re[Nt+1],Ve[Nt]=Ve[Nt+1];re[C]=U,Ve[C]=W,this.setPage(C)}return this},x.deletePage=function(){return Cr.apply(this,arguments),this},x.__private__.text=x.text=function(p,C,U,W,at){var Nt,Kt,_e,De,We,Qe,ii,Ai,ki,Oi=(W=W||{}).scope||this;if("number"==typeof p&&"number"==typeof C&&("string"==typeof U||Array.isArray(U))){var Xi=U;U=C,C=p,p=Xi}if(arguments[3]instanceof Ee?(J("The transform parameter of text() with a Matrix value"),ki=at):(_e=arguments[4],De=arguments[5],"object"===Ce(ii=arguments[3])&&null!==ii||("string"==typeof _e&&(De=_e,_e=null),"string"==typeof ii&&(De=ii,ii=null),"number"==typeof ii&&(_e=ii,ii=null),W={flags:ii,angle:_e,align:De})),isNaN(C)||isNaN(U)||null==p)throw new Error("Invalid arguments passed to jsPDF.text");if(0===p.length)return Oi;var Hi="",En=!1,gn="number"==typeof W.lineHeightFactor?W.lineHeightFactor:To,dr=Oi.internal.scaleFactor;function Va(_i){return _i=_i.split("\t").join(Array(W.TabLen||9).join(" ")),un(_i,ii)}function ca(_i){for(var vi,Di=_i.concat(),Ri=[],mr=Di.length;mr--;)"string"==typeof(vi=Di.shift())?Ri.push(vi):Array.isArray(_i)&&(1===vi.length||void 0===vi[1]&&void 0===vi[2])?Ri.push(vi[0]):Ri.push([vi[0],vi[1],vi[2]]);return Ri}function la(_i,vi){var Di;if("string"==typeof _i)Di=vi(_i)[0];else if(Array.isArray(_i)){for(var Ri,mr,Mr=_i.concat(),Ro=[],Ga=Mr.length;Ga--;)"string"==typeof(Ri=Mr.shift())?Ro.push(vi(Ri)[0]):Array.isArray(Ri)&&"string"==typeof Ri[0]&&(mr=vi(Ri[0],Ri[1],Ri[2]),Ro.push([mr[0],mr[1],mr[2]]));Di=Ro}return Di}var Zo=!1,ua=!0;if("string"==typeof p)Zo=!0;else if(Array.isArray(p)){var ha=p.concat();Kt=[];for(var Do,hn=ha.length;hn--;)("string"!=typeof(Do=ha.shift())||Array.isArray(Do)&&"string"!=typeof Do[0])&&(ua=!1);Zo=ua}if(!1===Zo)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');"string"==typeof p&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var Io=ce/Oi.internal.scaleFactor,Mo=Io*(gn-1);switch(W.baseline){case"bottom":U-=Mo;break;case"top":U+=Io-Mo;break;case"hanging":U+=Io-2*Mo;break;case"middle":U+=Io/2-Mo}if((Qe=W.maxWidth||0)>0&&("string"==typeof p?p=Oi.splitTextToSize(p,Qe):"[object Array]"===Object.prototype.toString.call(p)&&(p=p.reduce(function(_i,vi){return _i.concat(Oi.splitTextToSize(vi,Qe))},[]))),ci.publish("preProcessText",Nt={text:p,x:C,y:U,options:W,mutex:{pdfEscape:un,activeFontKey:Xe,fonts:pi,activeFontSize:ce}}),p=Nt.text,_e=(W=Nt.options).angle,ki instanceof Ee||!_e||"number"!=typeof _e)_e&&_e instanceof Ee&&(ki=_e);else{_e*=Math.PI/180,0===W.rotationDirection&&(_e=-_e),X===B.ADVANCED&&(_e=-_e);var Oo=Math.cos(_e),da=Math.sin(_e);ki=new Ee(Oo,da,-da,Oo,0,0)}X!==B.ADVANCED||ki||(ki=Xn),void 0!==(We=W.charSpace||ko)&&(Hi+=dt(O(We))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Ai=W.horizontalScale)&&(Hi+=dt(100*Ai)+" Tz\n");var dn=-1,zs=void 0!==W.renderingMode?W.renderingMode:W.stroke,pa=Oi.internal.getCurrentPageInfo().pageContext;switch(zs){case 0:case!1:case"fill":dn=0;break;case 1:case!0:case"stroke":dn=1;break;case 2:case"fillThenStroke":dn=2;break;case 3:case"invisible":dn=3;break;case 4:case"fillAndAddForClipping":dn=4;break;case 5:case"strokeAndAddPathForClipping":dn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":dn=6;break;case 7:case"addToPathForClipping":dn=7}var Wa=void 0!==pa.usedRenderingMode?pa.usedRenderingMode:-1;-1!==dn?Hi+=dn+" Tr\n":-1!==Wa&&(Hi+="0 Tr\n"),-1!==dn&&(pa.usedRenderingMode=dn),De=W.align||"left";var qn,fa=ce*gn,Ys=Oi.internal.pageSize.getWidth(),Js=pi[Xe];We=W.charSpace||ko,Qe=W.maxWidth||0,ii=Object.assign({autoencode:!0,noBOM:!0},W.flags);var Lr=[];if("[object Array]"===Object.prototype.toString.call(p)){var yn;Kt=ca(p),"left"!==De&&(qn=Kt.map(function(_i){return Oi.getStringUnitWidth(_i,{font:Js,charSpace:We,fontSize:ce,doKerning:!1})*ce/dr}));var Rn,Zr=0;if("right"===De){C-=qn[0],p=[],hn=Kt.length;for(var nr=0;nr<hn;nr++)0===nr?(Rn=lr(C),yn=Sr(U)):(Rn=O(Zr-qn[nr]),yn=-fa),p.push([Kt[nr],Rn,yn]),Zr=qn[nr]}else if("center"===De){C-=qn[0]/2,p=[],hn=Kt.length;for(var pr=0;pr<hn;pr++)0===pr?(Rn=lr(C),yn=Sr(U)):(Rn=O((Zr-qn[pr])/2),yn=-fa),p.push([Kt[pr],Rn,yn]),Zr=qn[pr]}else if("left"===De){p=[],hn=Kt.length;for(var Fo=0;Fo<hn;Fo++)p.push(Kt[Fo])}else{if("justify"!==De)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');p=[],hn=Kt.length,Qe=0!==Qe?Qe:Ys;for(var Bn=0;Bn<hn;Bn++)yn=0===Bn?Sr(U):-fa,Rn=0===Bn?lr(C):0,Lr.push(Bn<hn-1?dt(O((Qe-qn[Bn])/(Kt[Bn].split(" ").length-1))):0),p.push([Kt[Bn],Rn,yn])}}var Eo="boolean"==typeof W.R2L?W.R2L:Le;!0===Eo&&(p=la(p,function(_i,vi,Di){return[_i.split("").reverse().join(""),vi,Di]})),ci.publish("postProcessText",Nt={text:p,x:C,y:U,options:W,mutex:{pdfEscape:un,activeFontKey:Xe,fonts:pi,activeFontSize:ce}}),p=Nt.text,En=Nt.mutex.isHex||!1;var ga=pi[Xe].encoding;"WinAnsiEncoding"!==ga&&"StandardEncoding"!==ga||(p=la(p,function(_i,vi,Di){return[Va(_i),vi,Di]})),Kt=ca(p),p=[];for(var Dr,Un,fr,Xr=0,qo=1,to=Array.isArray(Kt[0])?qo:Xr,Ir="",ma=function(_i,vi,Di){var Ri="";return Di instanceof Ee?(Di="number"==typeof W.angle?Zn(Di,new Ee(1,0,0,1,_i,vi)):Zn(new Ee(1,0,0,1,_i,vi),Di),X===B.ADVANCED&&(Di=Zn(new Ee(1,0,0,-1,0,0),Di)),Ri=Di.join(" ")+" Tm\n"):Ri=dt(_i)+" "+dt(vi)+" Td\n",Ri},xn=0;xn<Kt.length;xn++){switch(Ir="",to){case qo:fr=(En?"<":"(")+Kt[xn][0]+(En?">":")"),Dr=parseFloat(Kt[xn][1]),Un=parseFloat(Kt[xn][2]);break;case Xr:fr=(En?"<":"(")+Kt[xn]+(En?">":")"),Dr=lr(C),Un=Sr(U)}void 0!==Lr&&void 0!==Lr[xn]&&(Ir=Lr[xn]+" Tw\n"),0===xn?p.push(Ir+ma(Dr,Un,ki)+fr):to===Xr?p.push(Ir+fr):to===qo&&p.push(Ir+ma(Dr,Un,ki)+fr)}p=p.join(to===Xr?" Tj\nT* ":" Tj\n"),p+=" Tj\n";var gr="BT\n/";return gr+=Xe+" "+ce+" Tf\n",gr+=dt(ce*gn)+" TL\n",gr+=$r+"\n",gr+=Hi,gr+=p,Y(gr+="ET"),Z[Xe]=!0,Oi};var Fs=x.__private__.clip=x.clip=function(p){return Y("evenodd"===p?"W*":"W"),this};x.clipEvenOdd=function(){return Fs("evenodd")},x.__private__.discardPath=x.discardPath=function(){return Y("n"),this};var ir=x.__private__.isValidStyle=function(p){var C=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)&&(C=!0),C};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(p){return ir(p)&&(w=p),this};var ta=x.__private__.getStyle=x.getStyle=function(p){var C=w;switch(p){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=p}return C},Ha=x.close=function(){return Y("h"),this};x.stroke=function(){return Y("S"),this},x.fill=function(p){return Ao("f",p),this},x.fillEvenOdd=function(p){return Ao("f*",p),this},x.fillStroke=function(p){return Ao("B",p),this},x.fillStrokeEvenOdd=function(p){return Ao("B*",p),this};var Ao=function(p,C){"object"===Ce(C)?Es(C,p):Y(p)},Co=function(p){null===p||X===B.ADVANCED&&void 0===p||(p=ta(p),Y(p))};function Gc(p,C,U,W,at){var Nt=new Rr(C||this.boundingBox,U||this.xStep,W||this.yStep,this.gState,at||this.matrix);Nt.stream=this.stream;var Kt=p+"$$"+this.cloneIndex+++"$$";return ln(Kt,Nt),Nt}var Es=function(p,C){var U=Wr[p.key],W=si[U];if(W instanceof xr)Y("q"),Y(qs(C)),W.gState&&x.setGState(W.gState),Y(p.matrix.toString()+" cm"),Y("/"+U+" sh"),Y("Q");else if(W instanceof Rr){var at=new Ee(1,0,0,-1,0,hr());p.matrix&&(at=at.multiply(p.matrix||Xn),U=Gc.call(W,p.key,p.boundingBox,p.xStep,p.yStep,at).id),Y("q"),Y("/Pattern cs"),Y("/"+U+" scn"),W.gState&&x.setGState(W.gState),Y(C),Y("Q")}},qs=function(p){switch(p){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ea=x.moveTo=function(p,C){return Y(dt(O(p))+" "+dt(V(C))+" m"),this},Tr=x.lineTo=function(p,C){return Y(dt(O(p))+" "+dt(V(C))+" l"),this},Pr=x.curveTo=function(p,C,U,W,at,Nt){return Y([dt(O(p)),dt(V(C)),dt(O(U)),dt(V(W)),dt(O(at)),dt(V(Nt)),"c"].join(" ")),this};x.__private__.line=x.line=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!ir(at))throw new Error("Invalid arguments passed to jsPDF.line");return X===B.COMPAT?this.lines([[U-p,W-C]],p,C,[1,1],at||"S"):this.lines([[U-p,W-C]],p,C,[1,1]).stroke()},x.__private__.lines=x.lines=function(p,C,U,W,at,Nt){var Kt,_e,De,We,Qe,Xi,Hi,En;if("number"==typeof p&&(En=U,U=C,C=p,p=En),W=W||[1,1],Nt=Nt||!1,isNaN(C)||isNaN(U)||!Array.isArray(p)||!Array.isArray(W)||!ir(at)||"boolean"!=typeof Nt)throw new Error("Invalid arguments passed to jsPDF.lines");for(ea(C,U),Kt=W[0],_e=W[1],We=p.length,Xi=C,Hi=U,De=0;De<We;De++)2===(Qe=p[De]).length?Tr(Xi=Qe[0]*Kt+Xi,Hi=Qe[1]*_e+Hi):Pr(Qe[0]*Kt+Xi,Qe[1]*_e+Hi,Qe[2]*Kt+Xi,Qe[3]*_e+Hi,Xi=Qe[4]*Kt+Xi,Hi=Qe[5]*_e+Hi);return Nt&&Ha(),Co(at),this},x.path=function(p){for(var C=0;C<p.length;C++){var U=p[C],W=U.c;switch(U.op){case"m":ea(W[0],W[1]);break;case"l":Tr(W[0],W[1]);break;case"c":Pr.apply(this,W);break;case"h":Ha()}}return this},x.__private__.rect=x.rect=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!ir(at))throw new Error("Invalid arguments passed to jsPDF.rect");return X===B.COMPAT&&(W=-W),Y([dt(O(p)),dt(V(C)),dt(O(U)),dt(O(W)),"re"].join(" ")),Co(at),this},x.__private__.triangle=x.triangle=function(p,C,U,W,at,Nt,Kt){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(at)||isNaN(Nt)||!ir(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[U-p,W-C],[at-U,Nt-W],[p-at,C-Nt]],p,C,[1,1],Kt,!0),this},x.__private__.roundedRect=x.roundedRect=function(p,C,U,W,at,Nt,Kt){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(at)||isNaN(Nt)||!ir(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _e=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*U),Nt=Math.min(Nt,.5*W),this.lines([[U-2*at,0],[at*_e,0,at,Nt-Nt*_e,at,Nt],[0,W-2*Nt],[0,Nt*_e,-at*_e,Nt,-at,Nt],[2*at-U,0],[-at*_e,0,-at,-Nt*_e,-at,-Nt],[0,2*Nt-W],[0,-Nt*_e,at*_e,-Nt,at,-Nt]],p+at,C,[1,1],Kt,!0),this},x.__private__.ellipse=x.ellipse=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!ir(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*U,Kt=4/3*(Math.SQRT2-1)*W;return ea(p+U,C),Pr(p+U,C-Kt,p+Nt,C-W,p,C-W),Pr(p-Nt,C-W,p-U,C-Kt,p-U,C),Pr(p-U,C+Kt,p-Nt,C+W,p,C+W),Pr(p+Nt,C+W,p+U,C+Kt,p+U,C),Co(at),this},x.__private__.circle=x.circle=function(p,C,U,W){if(isNaN(p)||isNaN(C)||isNaN(U)||!ir(W))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,C,U,U,W)},x.setFont=function(p,C,U){return U&&(C=Yt(C,U)),Xe=Ra(p,C,{disableWarning:!1}),this};var Qc=x.__private__.getFont=x.getFont=function(){return pi[Ra.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var p,C,U={};for(p in xi)if(xi.hasOwnProperty(p))for(C in U[p]=[],xi[p])xi[p].hasOwnProperty(C)&&U[p].push(C);return U},x.addFont=function(p,C,U,W,at){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Nt.indexOf(arguments[3])?at=arguments[3]:arguments[3]&&-1==Nt.indexOf(arguments[3])&&(U=Yt(U,W)),Ko.call(this,p,C,U,at=at||"Identity-H")};var To,za=a.lineWidth||.200025,ia=x.__private__.getLineWidth=x.getLineWidth=function(){return za},Rs=x.__private__.setLineWidth=x.setLineWidth=function(p){return za=p,Y(dt(O(p))+" w"),this};x.__private__.setLineDash=Fe.API.setLineDash=Fe.API.setLineDashPattern=function(p,C){if(p=p||[],C=C||0,isNaN(C)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(U){return dt(O(U))}).join(" "),C=dt(O(C)),Y("["+p+"] "+C+" d"),this};var Bs=x.__private__.getLineHeight=x.getLineHeight=function(){return ce*To};x.__private__.getLineHeight=x.getLineHeight=function(){return ce*To};var Ya=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(p){return"number"==typeof(p=p||1.15)&&(To=p),this},kr=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return To};Ya(a.lineHeight);var lr=x.__private__.getHorizontalCoordinate=function(p){return O(p)},Sr=x.__private__.getVerticalCoordinate=function(p){return X===B.ADVANCED?p:Ve[j].mediaBox.topRightY-Ve[j].mediaBox.bottomLeftY-O(p)},$c=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(p){return dt(lr(p))},ur=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(p){return dt(Sr(p))},bn=a.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return In(bn)},x.__private__.setStrokeColor=x.setDrawColor=function(p,C,U,W){return bn=Mn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"draw",precision:2}),Y(bn),this};var Po=a.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return In(Po)},x.__private__.setFillColor=x.setFillColor=function(p,C,U,W){return Po=Mn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"fill",precision:2}),Y(Po),this};var $r=a.textColor||"0 g",Us=x.__private__.getTextColor=x.getTextColor=function(){return In($r)};x.__private__.setTextColor=x.setTextColor=function(p,C,U,W){return $r=Mn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"text",precision:3}),this};var ko=a.charSpace,js=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(ko||0)};x.__private__.setCharSpace=x.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ko=p,this};var Nr=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(p){var C=x.CapJoinStyles[p];if(void 0===C)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nr=C,Y(C+" J"),this};var na=0;x.__private__.setLineJoin=x.setLineJoin=function(p){var C=x.CapJoinStyles[p];if(void 0===C)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=C,Y(C+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(dt(O(p))+" M"),this},x.GState=Wo,x.setGState=function(p){(p="string"==typeof p?Ti[Ln[p]]:ra(null,p)).equals(sr)||(Y("/"+p.id+" gs"),sr=p)};var ra=function(p,C){if(!p||!Ln[p]){var U=!1;for(var W in Ti)if(Ti.hasOwnProperty(W)&&Ti[W].equals(C)){U=!0;break}if(U)C=Ti[W];else{var at="GS"+(Object.keys(Ti).length+1).toString(10);Ti[at]=C,C.id=at}return p&&(Ln[p]=C.id),ci.publish("addGState",C),C}};x.addGState=function(p,C){return ra(p,C),this},x.saveGraphicsState=function(){return Y("q"),Qn.push({key:Xe,size:ce,color:$r}),this},x.restoreGraphicsState=function(){Y("Q");var p=Qn.pop();return Xe=p.key,ce=p.size,$r=p.color,sr=null,this},x.setCurrentTransformationMatrix=function(p){return Y(p.toString()+" cm"),this},x.comment=function(p){return Y("#"+p),this};var So=function(p,C){var U=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return U},set:function(Nt){isNaN(Nt)||(U=parseFloat(Nt))}});var W=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return W},set:function(Nt){isNaN(Nt)||(W=parseFloat(Nt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Nt){at=Nt.toString()}}),this},oa=function(p,C,U,W){So.call(this,p,C),this.type="rect";var at=U||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Kt){isNaN(Kt)||(at=parseFloat(Kt))}});var Nt=W||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(Kt){isNaN(Kt)||(Nt=parseFloat(Kt))}}),this},aa=function(){this.page=Pi,this.currentPage=j,this.pages=re.slice(0),this.pagesContext=Ve.slice(0),this.x=Ki,this.y=oi,this.matrix=Nn,this.width=No(j),this.height=hr(j),this.outputDestination=ve,this.id="",this.objectNumber=-1};aa.prototype.restore=function(){Pi=this.page,Ve=this.pagesContext,re=this.pages,Ki=this.x,oi=this.y,Nn=this.matrix,sa(j=this.currentPage,this.width),Lo(j,this.height),ve=this.outputDestination};var Ja=function(p,C,U,W,at){Kn.push(new aa),Pi=j=0,re=[],Ki=p,oi=C,Nn=at,Xo([U,W])},Hs=function(p){if($n[p])Kn.pop().restore();else{var C=new aa,U="Xo"+(Object.keys(Ji).length+1).toString(10);C.id=U,$n[p]=U,Ji[U]=C,ci.publish("addFormObject",C),Kn.pop().restore()}};for(var Kr in x.beginFormObject=function(p,C,U,W,at){return Ja(p,C,U,W,at),this},x.endFormObject=function(p){return Hs(p),this},x.doFormObject=function(p,C){var U=Ji[$n[p]];return Y("q"),Y(C.toString()+" cm"),Y("/"+U.id+" Do"),Y("Q"),this},x.getFormObject=function(p){var C=Ji[$n[p]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},x.save=function(p,C){return p=p||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,!1===C.returnPromise?(qr(ti(rn()),p),"function"==typeof qr.unload&&Re.setTimeout&&setTimeout(qr.unload,911),this):new Promise(function(U,W){try{var at=qr(ti(rn()),p);"function"==typeof qr.unload&&Re.setTimeout&&setTimeout(qr.unload,911),U(at)}catch(Nt){W(Nt.message)}})},Fe.API)Fe.API.hasOwnProperty(Kr)&&("events"===Kr&&Fe.API.events.length?function(p,C){var W,at;for(at=C.length-1;-1!==at;at--)p.subscribe.apply(p,[C[at][0]].concat("function"==typeof(W=C[at][1])?[W]:W))}(ci,Fe.API.events):x[Kr]=Fe.API[Kr]);var No=x.getPageWidth=function(p){return(Ve[p=p||j].mediaBox.topRightX-Ve[p].mediaBox.bottomLeftX)/me},sa=x.setPageWidth=function(p,C){Ve[p].mediaBox.topRightX=C*me+Ve[p].mediaBox.bottomLeftX},hr=x.getPageHeight=function(p){return(Ve[p=p||j].mediaBox.topRightY-Ve[p].mediaBox.bottomLeftY)/me},Lo=x.setPageHeight=function(p,C){Ve[p].mediaBox.topRightY=C*me+Ve[p].mediaBox.bottomLeftY};return x.internal={pdfEscape:un,getStyle:ta,getFont:Qc,getFontSize:ue,getCharSpace:js,getTextColor:Us,getLineHeight:Bs,getLineHeightFactor:kr,getLineWidth:ia,write:Je,getHorizontalCoordinate:lr,getVerticalCoordinate:Sr,getCoordinateString:$c,getVerticalCoordinateString:ur,collections:{},newObject:qi,newAdditionalObject:go,newObjectDeferred:Mi,newObjectDeferredBegin:pn,getFilters:tr,putStream:vn,events:ci,scaleFactor:me,pageSize:{getWidth:function(){return No(j)},setWidth:function(p){sa(j,p)},getHeight:function(){return hr(j)},setHeight:function(p){Lo(j,p)}},encryptionOptions:T,encryption:ji,getEncryptor:Is,output:mi,getNumberOfPages:Zs,pages:re,out:Y,f2:It,f3:F,getPageInfo:Ms,getPageInfoByObjId:ze,getCurrentPageInfo:Os,getPDFVersion:M,Point:So,Rectangle:oa,Matrix:Ee,hasHotfix:ja},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return No(j)},set:function(p){sa(j,p)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return hr(j)},set:function(p){Lo(j,p)},enumerable:!0,configurable:!0}),Ls.call(x,ee),Xe="F1",Ea(d,o),ci.publish("initialized"),x}ao.prototype.lsbFirstWord=function(a){return String.fromCharCode(a>>0&255,a>>8&255,a>>16&255,a>>24&255)},ao.prototype.toHexString=function(a){return a.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ao.prototype.hexToBytes=function(a){for(var i=[],o=0;o<a.length;o+=2)i.push(String.fromCharCode(parseInt(a.substr(o,2),16)));return i.join("")},ao.prototype.processOwnerPassword=function(a,i){return gs(fs(i).substr(0,5),a)},ao.prototype.encryptor=function(a,i){var o=fs(this.encryptionKey+String.fromCharCode(255&a,a>>8&255,a>>16&255,255&i,i>>8&255)).substr(0,10);return function(l){return gs(o,l)}},Wo.prototype.equals=function(a){var i,o="id,objectNumber,equals";if(!a||Ce(a)!==Ce(this))return!1;var l=0;for(i in this)if(!(o.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!a.hasOwnProperty(i)||this[i]!==a[i])return!1;l++}for(i in a)a.hasOwnProperty(i)&&o.indexOf(i)<0&&l--;return 0===l},Fe.API={events:[]},Fe.version="2.5.1";var Ci=Fe.API,ms=1,Br=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},co=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ye=function(a){return a.toFixed(2)},wr=function(a){return a.toFixed(5)};Ci.__acroform__={};var sn=function(a,i){a.prototype=Object.create(i.prototype),a.prototype.constructor=a},kc=function(a){return a*ms},Vn=function(a){var i=new ka,o=Ae.internal.getHeight(a)||0,l=Ae.internal.getWidth(a)||0;return i.BBox=[0,0,Number(Ye(l)),Number(Ye(o))],i},Bl=Ci.__acroform__.setBit=function(a,i){if(a=a||0,i=i||0,isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return a|1<<i},Ul=Ci.__acroform__.clearBit=function(a,i){if(a=a||0,i=i||0,isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return a&~(1<<i)},jl=Ci.__acroform__.getBit=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(a&1<<i)?0:1},Si=Ci.__acroform__.getBitForPdf=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jl(a,i-1)},Ni=Ci.__acroform__.setBitForPdf=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bl(a,i-1)},Li=Ci.__acroform__.clearBitForPdf=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ul(a,i-1)},Hl=Ci.__acroform__.calculateCoordinates=function(a,i){var o=i.internal.getHorizontalCoordinate,l=i.internal.getVerticalCoordinate,d=a[0],h=a[1],f=a[2],_=a[3],v={};return v.lowerLeft_X=o(d)||0,v.lowerLeft_Y=l(h+_)||0,v.upperRight_X=o(d+f)||0,v.upperRight_Y=l(h)||0,[Number(Ye(v.lowerLeft_X)),Number(Ye(v.lowerLeft_Y)),Number(Ye(v.upperRight_X)),Number(Ye(v.upperRight_Y))]},zl=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var i=[],l=_s(a,a._V||a.DV),d=a.scope.internal.getFont(a.fontName,a.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(a.scope.__private__.encodeColorString(a.color)),i.push("/"+d+" "+Ye(l.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(l.text),i.push("ET"),i.push("Q"),i.push("EMC");var h=Vn(a);return h.scope=a.scope,h.stream=i.join("\n"),h}},_s=function(a,i){var o=0===a.fontSize?a.maxFontSize:a.fontSize,l={text:"",fontSize:""},d=(i=")"==(i="("==i.substr(0,1)?i.substr(1):i).substr(i.length-1)?i.substr(0,i.length-1):i).split(" ");d=d.map(a.multiline?function(F){return F.split("\n")}:function(F){return[F]});var h=o,f=Ae.internal.getHeight(a)||0;f=f<0?-f:f;var F,_=Ae.internal.getWidth(a)||0;_=_<0?-_:_,h++;t:for(;h>0;){i="",h--;var w,T,N=Ta("3",a,h).height,Z=a.multiline?f-h:(f-N)/2,x=Z+=2,R=0,M=0,H=0;if(h<=0){i="(...) Tj\n",i+="% Width of Text: "+Ta(i,a,h=12).width+", FieldWidth:"+_+"\n";break}for(var I="",B=0,X=0;X<d.length;X++)if(d.hasOwnProperty(X)){var lt=!1;if(1!==d[X].length&&H!==d[X].length-1){if((N+2)*(B+2)+2>f)continue t;I+=d[X][H],lt=!0,M=X,X--}else{I=" "==(I+=d[X][H]+" ").substr(I.length-1)?I.substr(0,I.length-1):I;var At=parseInt(X),Yt=(F=At)+1<d.length&&Ta(I+" "+d[F+1][0],a,h).width<=_-4,dt=X>=d.length-1;if(Yt&&!dt){I+=" ",H=0;continue}if(Yt||dt){if(dt)M=At;else if(a.multiline&&(N+2)*(B+2)+2>f)continue t}else{if(!a.multiline||(N+2)*(B+2)+2>f)continue t;M=At}}for(var J="",qt=R;qt<=M;qt++){var It=d[qt];if(a.multiline){if(qt===M){J+=It[H]+" ",H=(H+1)%It.length;continue}if(qt===R){J+=It[It.length-1]+" ";continue}}J+=It[0]+" "}switch(J=" "==J.substr(J.length-1)?J.substr(0,J.length-1):J,T=Ta(J,a,h).width,a.textAlign){case"right":w=_-T-2;break;case"center":w=(_-T)/2;break;default:w=2}i+=Ye(w)+" "+Ye(x)+" Td\n",i+="("+Br(J)+") Tj\n",i+=-Ye(w)+" 0 Td\n",x=-(h+2),T=0,R=lt?M:M+1,B++,I=""}break}return l.text=i,l.fontSize=h,l},Ta=function(a,i,o){var l=i.scope.internal.getFont(i.fontName,i.fontStyle),d=i.scope.getStringUnitWidth(a,{font:l,fontSize:parseFloat(o),charSpace:0})*parseFloat(o);return{height:i.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(o),charSpace:0})*parseFloat(o)*1.5,width:d}},Yl={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Jl=function(a,i){var o={type:"reference",object:a};void 0===i.internal.getPageInfo(a.page).pageContext.annotations.find(function(l){return l.type===o.type&&l.object===o.object})&&i.internal.getPageInfo(a.page).pageContext.annotations.push(o)},vs=Ci.__acroform__.arrayToPdfArray=function(a,i,o){var l=function(f){return f};if(Array.isArray(a)){for(var d="[",h=0;h<a.length;h++)switch(0!==h&&(d+=" "),Ce(a[h])){case"boolean":case"number":case"object":d+=a[h].toString();break;case"string":"/"!==a[h].substr(0,1)?(void 0!==i&&o&&(l=o.internal.getEncryptor(i)),d+="("+Br(l(a[h].toString()))+")"):d+=a[h].toString()}return d+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pa=function(a,i,o){var l=function(d){return d};return void 0!==i&&o&&(l=o.internal.getEncryptor(i)),(a=a||"").toString(),"("+Br(l(a))+")"},je=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(a){this._objId=a}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};je.prototype.toString=function(){return this.objId+" 0 R"},je.prototype.putStream=function(){var a=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:a,objectId:this.objId}),this.scope.internal.out("endobj")},je.prototype.getKeyValueListForStream=function(){var a=[],i=Object.getOwnPropertyNames(this).filter(function(h){return"content"!=h&&"appearanceStreamContent"!=h&&"scope"!=h&&"objId"!=h&&"_"!=h.substring(0,1)});for(var o in i)if(!1===Object.getOwnPropertyDescriptor(this,i[o]).configurable){var l=i[o],d=this[l];d&&(Array.isArray(d)?a.push({key:l,value:vs(d,this.objId,this.scope)}):d instanceof je?(d.scope=this.scope,a.push({key:l,value:d.objId+" 0 R"})):"function"!=typeof d&&a.push({key:l,value:d}))}return a};var ka=function(){je.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var a,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(o){a=o.trim()},get:function(){return a||null}})};sn(ka,je);var bs=function(){je.call(this);var a,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(a){var o=function(l){return l};return this.scope&&(o=this.scope.internal.getEncryptor(this.objId)),"("+Br(o(a))+")"}},set:function(o){a=o}})};sn(bs,je);var Pn=function a(){je.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');i=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(i,3))},set:function(I){this.F=!0===Boolean(I)?Ni(i,3):Li(i,3)}});var o=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return o},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');o=I}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==l.length)return l},set:function(I){l=void 0!==I?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(I){l[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(I){l[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(I){l[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(I){l[3]=I}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var h=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!h||h.length<1){if(this instanceof Sa)return;h="FieldObject"+a.FieldNum++}var I=function(B){return B};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Br(I(h))+")"},set:function(I){h=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return h},set:function(I){h=I}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var _="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return _},set:function(I){_=I}});var v=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return v},set:function(I){v=I}});var w=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===w?50/ms:w},set:function(I){w=I}});var T="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return T},set:function(I){T=I}});var N="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!N||this instanceof Sa||this instanceof _n))return Pa(N,this.objId,this.scope)},set:function(I){I=I.toString(),N=I}});var Z=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Z)return this instanceof Ei?Z:Pa(Z,this.objId,this.scope)},set:function(I){I=I.toString(),Z=this instanceof Ei?I:"("===I.substr(0,1)?co(I.substr(1,I.length-2)):co(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ei?co(Z.substr(1,Z.length-1)):Z},set:function(I){I=I.toString(),Z=this instanceof Ei?"/"+I:I}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ei?x:Pa(x,this.objId,this.scope)},set:function(I){I=I.toString(),x=this instanceof Ei?I:"("===I.substr(0,1)?co(I.substr(1,I.length-2)):co(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ei?co(x.substr(1,x.length-1)):x},set:function(I){I=I.toString(),x=this instanceof Ei?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(I){I=Boolean(I),M=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(I){R=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,1))},set:function(I){this.Ff=!0===Boolean(I)?Ni(this.Ff,1):Li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,2))},set:function(I){this.Ff=!0===Boolean(I)?Ni(this.Ff,2):Li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,3))},set:function(I){this.Ff=!0===Boolean(I)?Ni(this.Ff,3):Li(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==H)return H},set:function(I){if(-1===[0,1,2].indexOf(I))throw new Error('Invalid value "'+I+'" for attribute Q supplied.');H=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(H){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:H=2;break;case"center":case 1:H=1;break;default:H=0}}})};sn(Pn,je);var Ur=function(){Pn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(o){a=o}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vs(i,this.objId,this.scope)},set:function(o){var l,d;d=[],"string"==typeof(l=o)&&(d=function(h,f,_){_||(_=1);for(var v,w=[];v=f.exec(h);)w.push(v[_]);return w}(l,/\((.*?)\)/g)),i=d}}),this.getOptions=function(){return i},this.setOptions=function(o){i=o,this.sort&&i.sort()},this.addOption=function(o){o=(o=o||"").toString(),i.push(o),this.sort&&i.sort()},this.removeOption=function(o,l){for(l=l||!1,o=(o=o||"").toString();-1!==i.indexOf(o)&&(i.splice(i.indexOf(o),1),!1!==l););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,18))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,18):Li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,19))},set:function(o){!0===this.combo&&(this.Ff=!0===Boolean(o)?Ni(this.Ff,19):Li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,20))},set:function(o){!0===Boolean(o)?(this.Ff=Ni(this.Ff,20),i.sort()):this.Ff=Li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,22))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,22):Li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,23))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,23):Li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,27))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,27):Li(this.Ff,27)}}),this.hasAppearanceStream=!1};sn(Ur,Pn);var jr=function(){Ur.call(this),this.fontName="helvetica",this.combo=!1};sn(jr,Ur);var Hr=function(){jr.call(this),this.combo=!0};sn(Hr,jr);var lo=function(){Hr.call(this),this.edit=!0};sn(lo,Hr);var Ei=function(){Pn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,15))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,15):Li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,16))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,16):Li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,17))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,17):Li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,26))},set:function(o){this.Ff=!0===Boolean(o)?Ni(this.Ff,26):Li(this.Ff,26)}});var a,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};if(this.scope&&(o=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(i).length){var l,d=[];for(l in d.push("<<"),i)d.push("/"+l+" ("+Br(o(i[l]))+")");return d.push(">>"),d.join("\n")}},set:function(o){"object"===Ce(o)&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){"string"==typeof o&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(o){a="/"+o}})};sn(Ei,Pn);var uo=function(){Ei.call(this),this.pushButton=!0};sn(uo,Ei);var zr=function(){Ei.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(i){a=void 0!==i?i:[]}})};sn(zr,Ei);var Sa=function(){var a,i;Pn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return a},set:function(d){a=d}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(d){i=d}});var o,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var d=function(_){return _};this.scope&&(d=this.scope.internal.getEncryptor(this.objId));var h,f=[];for(h in f.push("<<"),l)f.push("/"+h+" ("+Br(d(l[h]))+")");return f.push(">>"),f.join("\n")},set:function(d){"object"===Ce(d)&&(l=d)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(d){"string"==typeof d&&(l.CA=d)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(d){o="/"+d}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ae.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};sn(Sa,Pn),zr.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a)||!("getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var o=this.Kids[i];o.appearanceStreamContent=a.createAppearanceStream(o.optionName),o.caption=a.getCA()}},zr.prototype.createOption=function(a){var i=new Sa;return i.Parent=this,i.optionName=a,this.Kids.push(i),Sc.call(this.scope,i),i};var Go=function(){Ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ae.CheckBox.createAppearanceStream()};sn(Go,Ei);var _n=function(){Pn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,13))},set:function(i){this.Ff=!0===Boolean(i)?Ni(this.Ff,13):Li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,21))},set:function(i){this.Ff=!0===Boolean(i)?Ni(this.Ff,21):Li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,23))},set:function(i){this.Ff=!0===Boolean(i)?Ni(this.Ff,23):Li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,24))},set:function(i){this.Ff=!0===Boolean(i)?Ni(this.Ff,24):Li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,25))},set:function(i){this.Ff=!0===Boolean(i)?Ni(this.Ff,25):Li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,26))},set:function(i){this.Ff=!0===Boolean(i)?Ni(this.Ff,26):Li(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(i){a=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(i){Number.isInteger(i)&&(a=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};sn(_n,Pn);var Qo=function(){_n.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Si(this.Ff,14))},set:function(a){this.Ff=!0===Boolean(a)?Ni(this.Ff,14):Li(this.Ff,14)}}),this.password=!0};sn(Qo,_n);var Ae={CheckBox:{createAppearanceStream:function(){return{N:{On:Ae.CheckBox.YesNormal},D:{On:Ae.CheckBox.YesPushDown,Off:Ae.CheckBox.OffPushDown}}},YesPushDown:function(a){var i=Vn(a);i.scope=a.scope;var o=[],l=a.scope.internal.getFont(a.fontName,a.fontStyle).id,d=a.scope.__private__.encodeColorString(a.color),h=_s(a,a.caption);return o.push("0.749023 g"),o.push("0 0 "+Ye(Ae.internal.getWidth(a))+" "+Ye(Ae.internal.getHeight(a))+" re"),o.push("f"),o.push("BMC"),o.push("q"),o.push("0 0 1 rg"),o.push("/"+l+" "+Ye(h.fontSize)+" Tf "+d),o.push("BT"),o.push(h.text),o.push("ET"),o.push("Q"),o.push("EMC"),i.stream=o.join("\n"),i},YesNormal:function(a){var i=Vn(a);i.scope=a.scope;var o=a.scope.internal.getFont(a.fontName,a.fontStyle).id,l=a.scope.__private__.encodeColorString(a.color),d=[],h=Ae.internal.getHeight(a),f=Ae.internal.getWidth(a),_=_s(a,a.caption);return d.push("1 g"),d.push("0 0 "+Ye(f)+" "+Ye(h)+" re"),d.push("f"),d.push("q"),d.push("0 0 1 rg"),d.push("0 0 "+Ye(f-1)+" "+Ye(h-1)+" re"),d.push("W"),d.push("n"),d.push("0 g"),d.push("BT"),d.push("/"+o+" "+Ye(_.fontSize)+" Tf "+l),d.push(_.text),d.push("ET"),d.push("Q"),i.stream=d.join("\n"),i},OffPushDown:function(a){var i=Vn(a);i.scope=a.scope;var o=[];return o.push("0.749023 g"),o.push("0 0 "+Ye(Ae.internal.getWidth(a))+" "+Ye(Ae.internal.getHeight(a))+" re"),o.push("f"),i.stream=o.join("\n"),i}},RadioButton:{Circle:{createAppearanceStream:function(a){var i={D:{Off:Ae.RadioButton.Circle.OffPushDown},N:{}};return i.N[a]=Ae.RadioButton.Circle.YesNormal,i.D[a]=Ae.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(a){var i=Vn(a);i.scope=a.scope;var o=[],l=Ae.internal.getWidth(a)<=Ae.internal.getHeight(a)?Ae.internal.getWidth(a)/4:Ae.internal.getHeight(a)/4;l=Number((.9*l).toFixed(5));var h=Number((l*Ae.internal.Bezier_C).toFixed(5));return o.push("q"),o.push("1 0 0 1 "+wr(Ae.internal.getWidth(a)/2)+" "+wr(Ae.internal.getHeight(a)/2)+" cm"),o.push(l+" 0 m"),o.push(l+" "+h+" "+h+" "+l+" 0 "+l+" c"),o.push("-"+h+" "+l+" -"+l+" "+h+" -"+l+" 0 c"),o.push("-"+l+" -"+h+" -"+h+" -"+l+" 0 -"+l+" c"),o.push(h+" -"+l+" "+l+" -"+h+" "+l+" 0 c"),o.push("f"),o.push("Q"),i.stream=o.join("\n"),i},YesPushDown:function(a){var i=Vn(a);i.scope=a.scope;var o=[],l=Ae.internal.getWidth(a)<=Ae.internal.getHeight(a)?Ae.internal.getWidth(a)/4:Ae.internal.getHeight(a)/4;l=Number((.9*l).toFixed(5));var d=Number((2*l).toFixed(5)),h=Number((d*Ae.internal.Bezier_C).toFixed(5)),f=Number((l*Ae.internal.Bezier_C).toFixed(5));return o.push("0.749023 g"),o.push("q"),o.push("1 0 0 1 "+wr(Ae.internal.getWidth(a)/2)+" "+wr(Ae.internal.getHeight(a)/2)+" cm"),o.push(d+" 0 m"),o.push(d+" "+h+" "+h+" "+d+" 0 "+d+" c"),o.push("-"+h+" "+d+" -"+d+" "+h+" -"+d+" 0 c"),o.push("-"+d+" -"+h+" -"+h+" -"+d+" 0 -"+d+" c"),o.push(h+" -"+d+" "+d+" -"+h+" "+d+" 0 c"),o.push("f"),o.push("Q"),o.push("0 g"),o.push("q"),o.push("1 0 0 1 "+wr(Ae.internal.getWidth(a)/2)+" "+wr(Ae.internal.getHeight(a)/2)+" cm"),o.push(l+" 0 m"),o.push(l+" "+f+" "+f+" "+l+" 0 "+l+" c"),o.push("-"+f+" "+l+" -"+l+" "+f+" -"+l+" 0 c"),o.push("-"+l+" -"+f+" -"+f+" -"+l+" 0 -"+l+" c"),o.push(f+" -"+l+" "+l+" -"+f+" "+l+" 0 c"),o.push("f"),o.push("Q"),i.stream=o.join("\n"),i},OffPushDown:function(a){var i=Vn(a);i.scope=a.scope;var o=[],l=Ae.internal.getWidth(a)<=Ae.internal.getHeight(a)?Ae.internal.getWidth(a)/4:Ae.internal.getHeight(a)/4;l=Number((.9*l).toFixed(5));var d=Number((2*l).toFixed(5)),h=Number((d*Ae.internal.Bezier_C).toFixed(5));return o.push("0.749023 g"),o.push("q"),o.push("1 0 0 1 "+wr(Ae.internal.getWidth(a)/2)+" "+wr(Ae.internal.getHeight(a)/2)+" cm"),o.push(d+" 0 m"),o.push(d+" "+h+" "+h+" "+d+" 0 "+d+" c"),o.push("-"+h+" "+d+" -"+d+" "+h+" -"+d+" 0 c"),o.push("-"+d+" -"+h+" -"+h+" -"+d+" 0 -"+d+" c"),o.push(h+" -"+d+" "+d+" -"+h+" "+d+" 0 c"),o.push("f"),o.push("Q"),i.stream=o.join("\n"),i}},Cross:{createAppearanceStream:function(a){var i={D:{Off:Ae.RadioButton.Cross.OffPushDown},N:{}};return i.N[a]=Ae.RadioButton.Cross.YesNormal,i.D[a]=Ae.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(a){var i=Vn(a);i.scope=a.scope;var o=[],l=Ae.internal.calculateCross(a);return o.push("q"),o.push("1 1 "+Ye(Ae.internal.getWidth(a)-2)+" "+Ye(Ae.internal.getHeight(a)-2)+" re"),o.push("W"),o.push("n"),o.push(Ye(l.x1.x)+" "+Ye(l.x1.y)+" m"),o.push(Ye(l.x2.x)+" "+Ye(l.x2.y)+" l"),o.push(Ye(l.x4.x)+" "+Ye(l.x4.y)+" m"),o.push(Ye(l.x3.x)+" "+Ye(l.x3.y)+" l"),o.push("s"),o.push("Q"),i.stream=o.join("\n"),i},YesPushDown:function(a){var i=Vn(a);i.scope=a.scope;var o=Ae.internal.calculateCross(a),l=[];return l.push("0.749023 g"),l.push("0 0 "+Ye(Ae.internal.getWidth(a))+" "+Ye(Ae.internal.getHeight(a))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+Ye(Ae.internal.getWidth(a)-2)+" "+Ye(Ae.internal.getHeight(a)-2)+" re"),l.push("W"),l.push("n"),l.push(Ye(o.x1.x)+" "+Ye(o.x1.y)+" m"),l.push(Ye(o.x2.x)+" "+Ye(o.x2.y)+" l"),l.push(Ye(o.x4.x)+" "+Ye(o.x4.y)+" m"),l.push(Ye(o.x3.x)+" "+Ye(o.x3.y)+" l"),l.push("s"),l.push("Q"),i.stream=l.join("\n"),i},OffPushDown:function(a){var i=Vn(a);i.scope=a.scope;var o=[];return o.push("0.749023 g"),o.push("0 0 "+Ye(Ae.internal.getWidth(a))+" "+Ye(Ae.internal.getHeight(a))+" re"),o.push("f"),i.stream=o.join("\n"),i}}},createDefaultAppearanceStream:function(a){var i=a.scope.internal.getFont(a.fontName,a.fontStyle).id,o=a.scope.__private__.encodeColorString(a.color);return"/"+i+" "+a.fontSize+" Tf "+o}};Ae.internal={Bezier_C:.551915024494,calculateCross:function(a){var i=Ae.internal.getWidth(a),o=Ae.internal.getHeight(a),l=Math.min(i,o);return{x1:{x:(i-l)/2,y:(o-l)/2+l},x2:{x:(i-l)/2+l,y:(o-l)/2},x3:{x:(i-l)/2,y:(o-l)/2},x4:{x:(i-l)/2+l,y:(o-l)/2+l}}}},Ae.internal.getWidth=function(a){var i=0;return"object"===Ce(a)&&(i=kc(a.Rect[2])),i},Ae.internal.getHeight=function(a){var i=0;return"object"===Ce(a)&&(i=kc(a.Rect[3])),i};var Sc=Ci.addField=function(a){if(function(a,i){if(i.scope=a,void 0!==a.internal&&(void 0===a.internal.acroformPlugin||!1===a.internal.acroformPlugin.isInitialized)){if(Pn.FieldNum=0,a.internal.acroformPlugin=JSON.parse(JSON.stringify(Yl)),a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ms=a.internal.scaleFactor,a.internal.acroformPlugin.acroFormDictionaryRoot=new bs,a.internal.acroformPlugin.acroFormDictionaryRoot.scope=a,a.internal.acroformPlugin.acroFormDictionaryRoot._eventID=a.internal.events.subscribe("postPutResources",function(){var o;(o=a).internal.events.unsubscribe(o.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete o.internal.acroformPlugin.acroFormDictionaryRoot._eventID,o.internal.acroformPlugin.printedOut=!0}),a.internal.events.subscribe("buildDocument",function(){!function(o){o.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=o.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var d in l)if(l.hasOwnProperty(d)){var h=l[d];h.objId=void 0,h.hasAnnotation&&Jl(h,o)}}(a)}),a.internal.events.subscribe("putCatalog",function(){!function(o){if(void 0===o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");o.internal.write("/AcroForm "+o.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(a)}),a.internal.events.subscribe("postPutPages",function(o){!function(l,d){var h=!l;for(var f in l||(d.internal.newObjectDeferredBegin(d.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),d.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||d.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(f)){var _=l[f],v=[],w=_.Rect;if(_.Rect&&(_.Rect=Hl(_.Rect,d)),d.internal.newObjectDeferredBegin(_.objId,!0),_.DA=Ae.createDefaultAppearanceStream(_),"object"===Ce(_)&&"function"==typeof _.getKeyValueListForStream&&(v=_.getKeyValueListForStream()),_.Rect=w,_.hasAppearanceStream&&!_.appearanceStreamContent){var T=zl(_);v.push({key:"AP",value:"<</N "+T+">>"}),d.internal.acroformPlugin.xForms.push(T)}if(_.appearanceStreamContent){var N="";for(var Z in _.appearanceStreamContent)if(_.appearanceStreamContent.hasOwnProperty(Z)){var x=_.appearanceStreamContent[Z];if(N+="/"+Z+" ",N+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var f in x)if(x.hasOwnProperty(f)){var R=x[f];"function"==typeof R&&(R=R.call(d,_)),N+="/"+f+" "+R+" ",d.internal.acroformPlugin.xForms.indexOf(R)>=0||d.internal.acroformPlugin.xForms.push(R)}}else"function"==typeof(R=x)&&(R=R.call(d,_)),N+="/"+f+" "+R,d.internal.acroformPlugin.xForms.indexOf(R)>=0||d.internal.acroformPlugin.xForms.push(R);N+=">>"}v.push({key:"AP",value:"<<\n"+N+">>"})}d.internal.putStream({additionalKeyValues:v,objectId:_.objId}),d.internal.out("endobj")}h&&function(a,i){for(var o in a)if(a.hasOwnProperty(o)){var l=o,d=a[o];i.internal.newObjectDeferredBegin(d.objId,!0),"object"===Ce(d)&&"function"==typeof d.putStream&&d.putStream(),delete a[l]}}(d.internal.acroformPlugin.xForms,d)}(o,a)}),a.internal.acroformPlugin.isInitialized=!0}}(this,a),!(a instanceof Pn))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=a).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),a.page=a.scope.internal.getCurrentPageInfo().pageNumber,this};Ci.AcroFormChoiceField=Ur,Ci.AcroFormListBox=jr,Ci.AcroFormComboBox=Hr,Ci.AcroFormEditBox=lo,Ci.AcroFormButton=Ei,Ci.AcroFormPushButton=uo,Ci.AcroFormRadioButton=zr,Ci.AcroFormCheckBox=Go,Ci.AcroFormTextField=_n,Ci.AcroFormPasswordField=Qo,Ci.AcroFormAppearance=Ae,Ci.AcroForm={ChoiceField:Ur,ListBox:jr,ComboBox:Hr,EditBox:lo,Button:Ei,PushButton:uo,RadioButton:zr,CheckBox:Go,TextField:_n,PasswordField:Qo,Appearance:Ae};var a,i,Nc=Fe.AcroForm={ChoiceField:Ur,ListBox:jr,ComboBox:Hr,EditBox:lo,Button:Ei,PushButton:uo,RadioButton:zr,CheckBox:Go,TextField:_n,PasswordField:Qo,Appearance:Ae};function Lc(a){return a.reduce(function(i,o,l){return i[o]=l,i},{})}(function(a){a.__addimage__={};var i="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},l=a.__addimage__.getImageFileTypeByImageData=function(F,O){var G,V,Pt,wt,Ft,pt=i;if("RGBA"===(O=O||i)||void 0!==F.data&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(Yt(F))for(Ft in o)for(Pt=o[Ft],G=0;G<Pt.length;G+=1){for(wt=!0,V=0;V<Pt[G].length;V+=1)if(void 0!==Pt[G][V]&&Pt[G][V]!==F[V]){wt=!1;break}if(!0===wt){pt=Ft;break}}else for(Ft in o)for(Pt=o[Ft],G=0;G<Pt.length;G+=1){for(wt=!0,V=0;V<Pt[G].length;V+=1)if(void 0!==Pt[G][V]&&Pt[G][V]!==F.charCodeAt(V)){wt=!1;break}if(!0===wt){pt=Ft;break}}return pt===i&&O!==i&&(pt=O),pt},d=function F(O){for(var G=this.internal.write,V=this.internal.putStream,Pt=(0,this.internal.getFilters)();-1!==Pt.indexOf("FlateEncode");)Pt.splice(Pt.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var wt=[];if(wt.push({key:"Type",value:"/XObject"}),wt.push({key:"Subtype",value:"/Image"}),wt.push({key:"Width",value:O.width}),wt.push({key:"Height",value:O.height}),O.colorSpace===H.INDEXED?wt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&void 0!==O.sMask?O.objectId+2:O.objectId+1)+" 0 R]"}):(wt.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===H.DEVICE_CMYK&&wt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),wt.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&void 0!==O.decodeParameters&&wt.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var Ft="",pt=0,Et=O.transparency.length;pt<Et;pt++)Ft+=O.transparency[pt]+" "+O.transparency[pt]+" ";wt.push({key:"Mask",value:"["+Ft+"]"})}if(void 0!==O.sMask&&wt.push({key:"SMask",value:O.objectId+1+" 0 R"}),V({data:O.data,additionalKeyValues:wt,alreadyAppliedFilters:void 0!==O.filter?["/"+O.filter]:void 0,objectId:O.objectId}),G("endobj"),"sMask"in O&&void 0!==O.sMask){var S={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:"/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,data:O.sMask};"filter"in O&&(S.filter=O.filter),F.call(this,S)}if(O.colorSpace===H.INDEXED){var j=this.internal.newObject();V({data:J(new Uint8Array(O.palette)),objectId:j}),G("endobj")}},h=function(){var F=this.internal.collections.addImage_images;for(var O in F)d.call(this,F[O])},f=function(){var F,O=this.internal.collections.addImage_images,G=this.internal.write;for(var V in O)G("/I"+(F=O[V]).index,F.objectId,"0","R")},_=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",f))},v=function(){var F=this.internal.collections.addImage_images;return _.call(this),F},w=function(){return Object.keys(this.internal.collections.addImage_images).length},T=function(F){return"function"==typeof a["process"+F.toUpperCase()]},N=function(F){return"object"===Ce(F)&&1===F.nodeType},Z=function(F,O){if("IMG"===F.nodeName&&F.hasAttribute("src")){var G=""+F.getAttribute("src");if(0===G.indexOf("data:image/"))return Vo(unescape(G).split("base64,").pop());var V=a.loadFile(G,!0);if(void 0!==V)return V}if("CANVAS"===F.nodeName){if(0===F.width||0===F.height)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var Pt;switch(O){case"PNG":Pt="image/png";break;case"WEBP":Pt="image/webp";break;default:Pt="image/jpeg"}return Vo(F.toDataURL(Pt,1).split("base64,").pop())}},x=function(F){var O=this.internal.collections.addImage_images;if(O)for(var G in O)if(F===O[G].alias)return O[G]},R=function(F,O,G){return F||O||(F=-96,O=-96),F<0&&(F=-1*G.width*72/F/this.internal.scaleFactor),O<0&&(O=-1*G.height*72/O/this.internal.scaleFactor),0===F&&(F=O*G.width/G.height),0===O&&(O=F*G.height/G.width),[F,O]},M=function(F,O,G,V,Pt,wt){var Ft=R.call(this,G,V,Pt),pt=this.internal.getCoordinateString,Et=this.internal.getVerticalCoordinateString,Mt=v.call(this);if(G=Ft[0],V=Ft[1],Mt[Pt.index]=Pt,wt){wt*=Math.PI/180;var pe=Math.cos(wt),S=Math.sin(wt),j=function(Q){return Q.toFixed(4)},z=[j(pe),j(S),j(-1*S),j(pe),0,0,"cm"]}this.internal.write("q"),wt?(this.internal.write([1,"0","0",1,pt(F),Et(O+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([pt(G),"0","0",pt(V),"0","0","cm"].join(" "))):this.internal.write([pt(G),"0","0",pt(V),pt(F),Et(O+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Pt.index+" Do"),this.internal.write("Q")},H=a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=a.__addimage__.sHashCode=function(F){var O,G,V=0;if("string"==typeof F)for(G=F.length,O=0;O<G;O++)V=(V<<5)-V+F.charCodeAt(O),V|=0;else if(Yt(F))for(G=F.byteLength/2,O=0;O<G;O++)V=(V<<5)-V+F[O],V|=0;return V},X=a.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var O=!0;return 0===F.length&&(O=!1),F.length%4!=0&&(O=!1),!1===/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))&&(O=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))&&(O=!1),O},lt=a.__addimage__.extractImageFromDataUrl=function(F){var O=(F=F||"").split("base64,"),G=null;if(2===O.length){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(V)&&(G={mimeType:V[1],charset:V[2],data:O[1]})}return G},At=a.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};a.__addimage__.isArrayBuffer=function(F){return At()&&F instanceof ArrayBuffer};var Yt=a.__addimage__.isArrayBufferView=function(F){return At()&&"undefined"!=typeof Uint32Array&&(F instanceof Int8Array||F instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},dt=a.__addimage__.binaryStringToUint8Array=function(F){for(var O=F.length,G=new Uint8Array(O),V=0;V<O;V++)G[V]=F.charCodeAt(V);return G},J=a.__addimage__.arrayBufferToBinaryString=function(F){for(var O="",G=Yt(F)?F:new Uint8Array(F),V=0;V<G.length;V+=8192)O+=String.fromCharCode.apply(null,G.subarray(V,V+8192));return O};a.addImage=function(){var F,O,G,V,Pt,wt,Ft,pt,Et;if("number"==typeof arguments[1]?(O=i,G=arguments[1],V=arguments[2],Pt=arguments[3],wt=arguments[4],Ft=arguments[5],pt=arguments[6],Et=arguments[7]):(O=arguments[1],G=arguments[2],V=arguments[3],Pt=arguments[4],wt=arguments[5],Ft=arguments[6],pt=arguments[7],Et=arguments[8]),"object"===Ce(F=arguments[0])&&!N(F)&&"imageData"in F){var Mt=F;F=Mt.imageData,O=Mt.format||O||i,G=Mt.x||G||0,V=Mt.y||V||0,Pt=Mt.w||Mt.width||Pt,wt=Mt.h||Mt.height||wt,Ft=Mt.alias||Ft,pt=Mt.compression||pt,Et=Mt.rotation||Mt.angle||Et}var pe=this.internal.getFilters();if(void 0===pt&&-1!==pe.indexOf("FlateEncode")&&(pt="SLOW"),isNaN(G)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");_.call(this);var S=qt.call(this,F,O,Ft,pt);return M.call(this,G,V,Pt,wt,S,Et),this};var qt=function(F,O,G,V){var Pt,wt,Ft,Et;if("string"==typeof F&&l(F)===i){F=unescape(F);var pt=It(F,!1);(""!==pt||void 0!==(pt=a.loadFile(F,!0)))&&(F=pt)}if(N(F)&&(F=Z(F,O)),O=l(F,O),!T(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if((null==(Ft=G)||0===Ft.length)&&(G="string"==typeof(Et=F)||Yt(Et)?B(Et):Yt(Et.data)?B(Et.data):null),(Pt=x.call(this,G))||(At()&&(F instanceof Uint8Array||"RGBA"===O||(wt=F,F=dt(F))),Pt=this["process"+O.toUpperCase()](F,w.call(this),G,function(Et){return Et&&"string"==typeof Et&&(Et=Et.toUpperCase()),Et in a.image_compression?Et:I.NONE}(V),wt)),!Pt)throw new Error("An unknown error occurred whilst processing the image.");return Pt},It=a.__addimage__.convertBase64ToBinaryString=function(F,O){var G;O="boolean"!=typeof O||O;var V,Pt="";if("string"==typeof F){V=null!==(G=lt(F))?G.data:F;try{Pt=Vo(V)}catch(wt){if(O)throw X(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+wt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Pt};a.getImageProperties=function(F){var O,G,V="";if(N(F)&&(F=Z(F)),"string"==typeof F&&l(F)===i&&(""===(V=It(F,!1))&&(V=a.loadFile(F)||""),F=V),G=l(F),!T(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!At()||F instanceof Uint8Array||(F=dt(F)),!(O=this["process"+G.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=G,O}})(Fe.API),a=Fe.API,i=function(o){if(void 0!==o&&""!=o)return!0},Fe.API.events.push(["addPage",function(o){this.internal.getPageInfo(o.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(o){for(var l,d,h,f=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString,v=this.internal.getPageInfoByObjId(o.objId),w=o.pageContext.annotations,T=!1,N=0;N<w.length&&!T;N++)switch((l=w[N]).type){case"link":(i(l.options.url)||i(l.options.pageNumber))&&(T=!0);break;case"reference":case"text":case"freetext":T=!0}if(0!=T){this.internal.write("/Annots [");for(var Z=0;Z<w.length;Z++){l=w[Z];var x=this.internal.pdfEscape,R=this.internal.getEncryptor(o.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(M.objId),B=l.title||"Note";h="<</Type /Annot /Subtype /Text "+(d="/Rect ["+f(l.bounds.x)+" "+_(l.bounds.y+l.bounds.h)+" "+f(l.bounds.x+l.bounds.w)+" "+_(l.bounds.y)+"] ")+"/Contents ("+x(I(l.contents))+")",h+=" /Popup "+H.objId+" 0 R",h+=" /P "+v.objId+" 0 R",h+=" /T ("+x(I(B))+") >>",M.content=h;var X=M.objId+" 0 R";h="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+f(l.bounds.x+30)+" "+_(l.bounds.y+l.bounds.h)+" "+f(l.bounds.x+l.bounds.w+30)+" "+_(l.bounds.y)+"] ")+" /Parent "+X,l.open&&(h+=" /Open true"),H.content=h+=" >>",this.internal.write(M.objId,"0 R",H.objId,"0 R");break;case"freetext":d="/Rect ["+f(l.bounds.x)+" "+_(l.bounds.y)+" "+f(l.bounds.x+l.bounds.w)+" "+_(l.bounds.y+l.bounds.h)+"] ";var lt=l.color||"#000000";h="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+x(R(l.contents))+")",h+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+lt+")",h+=" /Border [0 0 0]",this.internal.write(h+=" >>");break;case"link":if(l.options.name){var At=this.annotations._nameMap[l.options.name];l.options.pageNumber=At.page,l.options.top=At.y}else l.options.top||(l.options.top=0);if(d="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",h="",l.options.url)h="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+x(R(l.options.url))+") >>";else if(l.options.pageNumber)switch(h="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":h+=" /Fit]";break;case"FitH":h+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,h+=" /FitV "+l.options.left+"]";break;default:var Yt=_(l.options.top);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),h+=" /XYZ "+l.options.left+" "+Yt+" "+l.options.zoom+"]"}""!=h&&this.internal.write(h+=" >>")}}this.internal.write("]")}}]),a.createAnnotation=function(o){var l=this.internal.getCurrentPageInfo();switch(o.type){case"link":this.link(o.bounds.x,o.bounds.y,o.bounds.w,o.bounds.h,o);break;case"text":case"freetext":l.pageContext.annotations.push(o)}},a.link=function(o,l,d,h,f){var _=this.internal.getCurrentPageInfo(),v=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString;_.pageContext.annotations.push({finalBounds:{x:v(o),y:w(l),w:v(o+d),h:w(l+h)},options:f,type:"link"})},a.textWithLink=function(o,l,d,h){var f,_,v=this.getTextWidth(o),w=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==h.maxWidth){var T=this.splitTextToSize(o,_=h.maxWidth).length;f=Math.ceil(w*T)}else _=v,f=w;return this.text(o,l,d,h),"center"===h.align&&(l-=v/2),"right"===h.align&&(l-=v),this.link(l,(d+=.2*w)-w,_,f,h),v},a.getTextWidth=function(o){var l=this.internal.getFontSize();return this.getStringUnitWidth(o)*l/this.internal.scaleFactor},function(a){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},o={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},d=[1570,1571,1573,1575];a.__arabicParser__={};var h=a.__arabicParser__.isInArabicSubstitutionA=function(M){return void 0!==i[M.charCodeAt(0)]},f=a.__arabicParser__.isArabicLetter=function(M){return"string"==typeof M&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},_=a.__arabicParser__.isArabicEndLetter=function(M){return f(M)&&h(M)&&i[M.charCodeAt(0)].length<=2},v=a.__arabicParser__.isArabicAlfLetter=function(M){return f(M)&&d.indexOf(M.charCodeAt(0))>=0};a.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return f(M)&&h(M)&&i[M.charCodeAt(0)].length>=1};var w=a.__arabicParser__.arabicLetterHasFinalForm=function(M){return f(M)&&h(M)&&i[M.charCodeAt(0)].length>=2};a.__arabicParser__.arabicLetterHasInitialForm=function(M){return f(M)&&h(M)&&i[M.charCodeAt(0)].length>=3};var T=a.__arabicParser__.arabicLetterHasMedialForm=function(M){return f(M)&&h(M)&&4==i[M.charCodeAt(0)].length},N=a.__arabicParser__.resolveLigatures=function(M){var H=0,I=o,B="",X=0;for(H=0;H<M.length;H+=1)void 0!==I[M.charCodeAt(H)]?(X++,"number"==typeof(I=I[M.charCodeAt(H)])&&(B+=String.fromCharCode(I),I=o,X=0),H===M.length-1&&(I=o,B+=M.charAt(H-(X-1)),H-=X-1,X=0)):(I=o,B+=M.charAt(H-X),H-=X,X=0);return B};a.__arabicParser__.isArabicDiacritic=function(M){return void 0!==M&&void 0!==l[M.charCodeAt(0)]};var Z=a.__arabicParser__.getCorrectForm=function(M,H,I){return f(M)?!1===h(M)?-1:!w(M)||!f(H)&&!f(I)||!f(I)&&_(H)||_(M)&&!f(H)||_(M)&&v(H)||_(M)&&_(H)?0:T(M)&&f(H)&&!_(H)&&f(I)&&w(I)?3:_(M)||!f(I)?1:2:-1},x=function(M){var H=0,I=0,B=0,X="",lt="",At="",Yt=(M=M||"").split("\\s+"),dt=[];for(H=0;H<Yt.length;H+=1){for(dt.push(""),I=0;I<Yt[H].length;I+=1)lt=Yt[H][I-1],At=Yt[H][I+1],f(X=Yt[H][I])?(B=Z(X,lt,At),dt[H]+=-1!==B?String.fromCharCode(i[X.charCodeAt(0)][B]):X):dt[H]+=X;dt[H]=N(dt[H])}return dt.join(" ")},R=a.__arabicParser__.processArabic=a.processArabic=function(){var M,H="string"==typeof arguments[0]?arguments[0]:arguments[0].text,I=[];if(Array.isArray(H)){var B=0;for(I=[],B=0;B<H.length;B+=1)Array.isArray(H[B])?I.push([x(H[B][0]),H[B][1],H[B][2]]):I.push([x(H[B])]);M=I}else M=x(H);return"string"==typeof arguments[0]?M:(arguments[0].text=M,arguments[0])};a.events.push(["preProcessText",R])}(Fe.API),Fe.API.autoPrint=function(a){var i;return"javascript"===((a=a||{}).variant=a.variant||"non-conform",a.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})),this},function(a){var i=function(){var o=void 0;Object.defineProperty(this,"pdf",{get:function(){return o},set:function(_){o=_}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(_){l=isNaN(_)||!1===Number.isInteger(_)||_<0?150:_,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var d=300;Object.defineProperty(this,"height",{get:function(){return d},set:function(_){d=isNaN(_)||!1===Number.isInteger(_)||_<0?300:_,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=d+1)}});var h=[];Object.defineProperty(this,"childNodes",{get:function(){return h},set:function(_){h=_}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(_){f=_}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(o,l){var d;if("2d"!==(o=o||"2d"))return null;for(d in l)this.pdf.context2d.hasOwnProperty(d)&&(this.pdf.context2d[d]=l[d]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(Fe.API),function(a){var i={left:0,top:0,bottom:0,right:0},o=!1,l=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),d.call(this))},d=function(){this.internal.__cell__.lastCell=new h,this.internal.__cell__.pages=1},h=function(){var v=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return v},set:function(M){v=M}});var w=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var T=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return T},set:function(M){T=M}});var N=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return N},set:function(M){N=M}});var Z=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Z},set:function(M){Z=M}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(M){x=M}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(M){R=M}}),this};h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},h.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},a.setHeaderFunction=function(v){return l.call(this),this.internal.__cell__.headerFunction="function"==typeof v?v:void 0,this},a.getTextDimensions=function(v,w){l.call(this);var T=(w=w||{}).fontSize||this.getFontSize(),N=w.font||this.getFont(),Z=w.scaleFactor||this.internal.scaleFactor,x=0,R=0,M=0,H=this;if(!Array.isArray(v)&&"string"!=typeof v){if("number"!=typeof v)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");v=String(v)}var I=w.maxWidth;I>0?"string"==typeof v?v=this.splitTextToSize(v,I):"[object Array]"===Object.prototype.toString.call(v)&&(v=v.reduce(function(X,lt){return X.concat(H.splitTextToSize(lt,I))},[])):v=Array.isArray(v)?v:[v];for(var B=0;B<v.length;B++)x<(M=this.getStringUnitWidth(v[B],{font:N})*T)&&(x=M);return 0!==x&&(R=v.length),{w:x/=Z,h:Math.max((R*T*this.getLineHeightFactor()-T*(this.getLineHeightFactor()-1))/Z,0)}},a.cellAddPage=function(){l.call(this),this.addPage();var v=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new h(v.left,v.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=a.cell=function(){var v;v=arguments[0]instanceof h?arguments[0]:new h(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),l.call(this);var w=this.internal.__cell__.lastCell,T=this.internal.__cell__.padding,N=this.internal.__cell__.margins||i,Z=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return void 0!==w.lineNumber&&(w.lineNumber===v.lineNumber?(v.x=(w.x||0)+(w.width||0),v.y=w.y||0):w.y+w.height+v.height+N.bottom>this.getPageHeight()?(this.cellAddPage(),v.y=N.top,x&&Z&&(this.printHeaderRow(v.lineNumber,!0),v.y+=Z[0].height)):v.y=w.y+w.height||v.y),void 0!==v.text[0]&&(this.rect(v.x,v.y,v.width,v.height,!0===o?"FD":void 0),"right"===v.align?this.text(v.text,v.x+v.width-T,v.y+T,{align:"right",baseline:"top"}):"center"===v.align?this.text(v.text,v.x+v.width/2,v.y+T,{align:"center",baseline:"top",maxWidth:v.width-T-T}):this.text(v.text,v.x+T,v.y+T,{align:"left",baseline:"top",maxWidth:v.width-T-T})),this.internal.__cell__.lastCell=v,this};a.table=function(v,w,T,N,Z){if(l.call(this),!T)throw new Error("No data for PDF table.");var x,R,M,H,I=[],B=[],X=[],lt={},At={},Yt=[],dt=[],J=(Z=Z||{}).autoSize||!1,qt=!1!==Z.printHeaders,It=Z.css&&void 0!==Z.css["font-size"]?16*Z.css["font-size"]:Z.fontSize||12,F=Z.margins||Object.assign({width:this.getPageWidth()},i),O="number"==typeof Z.padding?Z.padding:3,G=Z.headerBackgroundColor||"#c8c8c8",V=Z.headerTextColor||"#000";if(d.call(this),this.internal.__cell__.printHeaders=qt,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=It,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=V,this.setFontSize(It),null==N)B=I=Object.keys(T[0]),X=I.map(function(){return"left"});else if(Array.isArray(N)&&"object"===Ce(N[0]))for(I=N.map(function(Mt){return Mt.name}),B=N.map(function(Mt){return Mt.prompt||Mt.name||""}),X=N.map(function(Mt){return Mt.align||"left"}),x=0;x<N.length;x+=1)At[N[x].name]=N[x].width*(19.049976/25.4);else Array.isArray(N)&&"string"==typeof N[0]&&(B=I=N,X=I.map(function(){return"left"}));if(J||Array.isArray(N)&&"string"==typeof N[0])for(x=0;x<I.length;x+=1){for(lt[H=I[x]]=T.map(function(Mt){return Mt[H]}),this.setFont(void 0,"bold"),Yt.push(this.getTextDimensions(B[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=lt[H],this.setFont(void 0,"normal"),M=0;M<R.length;M+=1)Yt.push(this.getTextDimensions(R[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);At[H]=Math.max.apply(null,Yt)+O+O,Yt=[]}if(qt){var Pt={};for(x=0;x<I.length;x+=1)Pt[I[x]]={},Pt[I[x]].text=B[x],Pt[I[x]].align=X[x];var wt=_.call(this,Pt,At);dt=I.map(function(Mt){return new h(v,w,At[Mt],wt,Pt[Mt].text,void 0,Pt[Mt].align)}),this.setTableHeaderRow(dt),this.printHeaderRow(1,!1)}var Ft=N.reduce(function(Mt,pe){return Mt[pe.name]=pe.align,Mt},{});for(x=0;x<T.length;x+=1){"rowStart"in Z&&Z.rowStart instanceof Function&&Z.rowStart({row:x,data:T[x]},this);var pt=_.call(this,T[x],At);for(M=0;M<I.length;M+=1){var Et=T[x][I[M]];"cellStart"in Z&&Z.cellStart instanceof Function&&Z.cellStart({row:x,col:M,data:Et},this),f.call(this,new h(v,w,At[I[M]],pt,Et,x+2,Ft[I[M]]))}}return this.internal.__cell__.table_x=v,this.internal.__cell__.table_y=w,this};var _=function(v,w){var T=this.internal.__cell__.padding,N=this.internal.__cell__.table_font_size,Z=this.internal.scaleFactor;return Object.keys(v).map(function(x){var R=v[x];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,w[x]-T-T)},this).map(function(x){return this.getLineHeightFactor()*x.length*N/Z+T+T},this).reduce(function(x,R){return Math.max(x,R)},0)};a.setTableHeaderRow=function(v){l.call(this),this.internal.__cell__.tableHeaderRow=v},a.printHeaderRow=function(v,w){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var T;if(o=!0,"function"==typeof this.internal.__cell__.headerFunction){var N=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new h(N[0],N[1],N[2],N[3],void 0,-1)}this.setFont(void 0,"bold");for(var Z=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){T=this.internal.__cell__.tableHeaderRow[x].clone(),w&&(T.y=this.internal.__cell__.margins.top||0,Z.push(T)),T.lineNumber=v;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,T),this.setTextColor(R)}Z.length>0&&this.setTableHeaderRow(Z),this.setFont(void 0,"normal"),o=!1}}(Fe.API);var Zc={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Dc=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ys=Lc(Dc),Ic=[100,200,300,400,500,600,700,800,900],Gl=Lc(Ic);function xs(a){var h,i=a.family.replace(/"|'/g,"").toLowerCase(),o=Zc[h=(h=a.style)||"normal"]?h:"normal",l=function(h){return h?"number"==typeof h?h>=100&&h<=900&&h%100==0?h:400:/^\d00$/.test(h)?parseInt(h):"bold"===h?700:400:400}(a.weight),d=function(h){return"number"==typeof ys[h=h||"normal"]?h:"normal"}(a.stretch);return{family:i,style:o,weight:l,stretch:d,src:a.src||[],ref:a.ref||{name:i,style:[d,o,l].join(" ")}}}function Mc(a,i,o,l){var d;for(d=o;d>=0&&d<i.length;d+=l)if(a[i[d]])return a[i[d]];for(d=o;d>=0&&d<i.length;d-=l)if(a[i[d]])return a[i[d]]}var Ql={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Oc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fc(a){return[a.stretch,a.style,a.weight,a.family].join(" ")}function Ec(a){return a.trimLeft()}function Kl(a,i){for(var o=0;o<a.length;){if(a.charAt(o)===i)return[a.substring(0,o),a.substring(o+1)];o+=1}return null}function Xl(a){var i=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===i?null:[i[0],a.substring(i[0].length)]}var Na,qc,Rc,ws=["times"];(function(a){var i,o,l,d,h,f,_,v,w,T=function(S){return this.isStrokeTransparent=(S=S||{}).isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=void 0!==S.transform?S.transform.clone():new v,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new f,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new f,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof S.ignoreClearRect||S.ignoreClearRect,this};a.events.push(["initialized",function(){this.context2d=new N(this),i=this.internal.f2,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getHorizontalCoordinate,h=this.internal.getVerticalCoordinate,f=this.internal.Point,_=this.internal.Rectangle,v=this.internal.Matrix,w=new T}]);var N=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=S;Object.defineProperty(this,"pdf",{get:function(){return j}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Dt){z=Boolean(Dt)}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Dt){Q=Boolean(Dt)}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(Dt){isNaN(Dt)||(ot=Dt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(Dt){isNaN(Dt)||(mt=Dt)}}),Object.defineProperty(this,"margin",{get:function(){return w.margin},set:function(Dt){var Y;"number"==typeof Dt?Y=[Dt,Dt,Dt,Dt]:((Y=new Array(4))[0]=Dt[0],Y[1]=Dt.length>=2?Dt[1]:Y[0],Y[2]=Dt.length>=3?Dt[2]:Y[0],Y[3]=Dt.length>=4?Dt[3]:Y[1]),w.margin=Y}});var vt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return vt},set:function(Dt){vt=Dt}});var xt=0;Object.defineProperty(this,"lastBreak",{get:function(){return xt},set:function(Dt){xt=Dt}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(Dt){oe=Dt}}),Object.defineProperty(this,"ctx",{get:function(){return w},set:function(Dt){Dt instanceof T&&(w=Dt)}}),Object.defineProperty(this,"path",{get:function(){return w.path},set:function(Dt){w.path=Dt}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(Dt){re=Dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Dt){var Y;Y=Z(Dt),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=0===Y.a,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Dt){var Y=Z(Dt);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=0===Y.a,this.ctx.strokeOpacity=Y.a,0===Y.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Y.r,Y.g,Y.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Dt){-1!==["butt","round","square"].indexOf(Dt)&&(this.ctx.lineCap=Dt,this.pdf.setLineCap(Dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Dt){isNaN(Dt)||(this.ctx.lineWidth=Dt,this.pdf.setLineWidth(Dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Dt){-1!==["bevel","round","miter"].indexOf(Dt)&&(this.ctx.lineJoin=Dt,this.pdf.setLineJoin(Dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Dt){isNaN(Dt)||(this.ctx.miterLimit=Dt,this.pdf.setMiterLimit(Dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Dt){this.ctx.textBaseline=Dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Dt){-1!==["right","end","center","left","start"].indexOf(Dt)&&(this.ctx.textAlign=Dt)}});var fe=null,Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(Dt){fe=null,Be=Dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Dt){var Y;if(this.ctx.font=Dt,null!==(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Dt))){var Je=Y[1],Pe=Y[3],ee=Y[4],ce=Y[6],ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ee)[2];ee=Math.floor("px"===ge?parseFloat(ee)*this.pdf.internal.scaleFactor:"em"===ge?parseFloat(ee)*this.pdf.getFontSize():parseFloat(ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ee);var ue=function(Ue){var Xe,me,Ki=[],oi=Ue.trim();if(""===oi)return ws;if(oi in Oc)return[Oc[oi]];for(;""!==oi;){switch(me=null,Xe=(oi=Ec(oi)).charAt(0)){case'"':case"'":me=Kl(oi.substring(1),Xe);break;default:me=Xl(oi)}if(null===me||(Ki.push(me[0]),""!==(oi=Ec(me[1]))&&","!==oi.charAt(0)))return ws;oi=oi.replace(/^,/,"")}return Ki}(ce);if(this.fontFaces){var Le=function $l(a,i,o){for(var l=(o=o||{}).defaultFontFamily||"times",d=Object.assign({},Ql,o.genericFontFamilies||{}),h=null,f=null,_=0;_<i.length;++_)if(d[(h=xs(i[_])).family]&&(h.family=d[h.family]),a.hasOwnProperty(h.family)){f=a[h.family];break}if(!(f=f||a[l]))throw new Error("Could not find a font-family for the rule '"+Fc(h)+"' and default family '"+l+"'.");if(f=function(v,w){if(w[v])return w[v];var T=ys[v],Z=Mc(w,Dc,T,T<=ys.normal?-1:1);if(!Z)throw new Error("Could not find a matching font-stretch value for "+v);return Z}(h.stretch,f),f=function(v,w){if(w[v])return w[v];for(var T=Zc[v],N=0;N<T.length;++N)if(w[T[N]])return w[T[N]];throw new Error("Could not find a matching font-style for "+v)}(h.style,f),!(f=function(v,w){if(w[v])return w[v];if(400===v&&w[500])return w[500];if(500===v&&w[400])return w[400];var N=Mc(w,Ic,Gl[v],v<400?-1:1);if(!N)throw new Error("Could not find a matching font-weight for value "+v);return N}(h.weight,f)))throw new Error("Failed to resolve a font for the rule '"+Fc(h)+"'.");return f}(function ve(Dt,Y){if(null===fe){var Je=(Pe=Dt.getFontList(),ee=[],Object.keys(Pe).forEach(function(ce){Pe[ce].forEach(function(ge){var ue=null;switch(ge){case"bold":ue={family:ce,weight:"bold"};break;case"italic":ue={family:ce,style:"italic"};break;case"bolditalic":ue={family:ce,weight:"bold",style:"italic"};break;case"":case"normal":ue={family:ce}}null!==ue&&(ue.ref={name:ce,style:ge},ee.push(ue))})}),ee);fe=function(Pe){for(var ee={},ce=0;ce<Pe.length;++ce){var ge=xs(Pe[ce]),ue=ge.family,Le=ge.stretch,He=ge.style,Ge=ge.weight;ee[ue]=ee[ue]||{},ee[ue][Le]=ee[ue][Le]||{},ee[ue][Le][He]=ee[ue][Le][He]||{},ee[ue][Le][He][Ge]=ge}return ee}(Je.concat(Y))}var Pe,ee;return fe}(this.pdf,this.fontFaces),ue.map(function(Ue){return{family:Ue,stretch:"normal",weight:Pe,style:Je}}));this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var He="";("bold"===Pe||parseInt(Pe,10)>=700||"bold"===Je)&&(He="bold"),"italic"===Je&&(He+="italic"),0===He.length&&(He="normal");for(var Ge="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ri=0;ri<ue.length;ri++){if(void 0!==this.pdf.internal.getFont(ue[ri],He,{noFallback:!0,disableWarning:!0})){Ge=ue[ri];break}if("bolditalic"===He&&void 0!==this.pdf.internal.getFont(ue[ri],"bold",{noFallback:!0,disableWarning:!0}))Ge=ue[ri],He="bold";else if(void 0!==this.pdf.internal.getFont(ue[ri],"normal",{noFallback:!0,disableWarning:!0})){Ge=ue[ri],He="normal";break}}if(""===Ge)for(var hi=0;hi<ue.length;hi++)if(Ke[ue[hi]]){Ge=Ke[ue[hi]];break}this.pdf.setFont(Ge=""===Ge?"Times":Ge,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Dt){this.ctx.globalCompositeOperation=Dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Dt){this.ctx.globalAlpha=Dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Dt){this.ctx.lineDashOffset=Dt,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Dt){this.ctx.lineDash=Dt,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Dt){this.ctx.ignoreClearRect=Boolean(Dt)}})};N.prototype.setLineDash=function(S){this.lineDash=S},N.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},N.prototype.fill=function(){lt.call(this,"fill",!1)},N.prototype.stroke=function(){lt.call(this,"stroke",!1)},N.prototype.beginPath=function(){this.path=[{type:"begin"}]},N.prototype.moveTo=function(S,j){if(isNaN(S)||isNaN(j))throw di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new f(S,j));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new f(S,j)},N.prototype.closePath=function(){var S=new f(0,0),j=0;for(j=this.path.length-1;-1!==j;j--)if("begin"===this.path[j].type&&"object"===Ce(this.path[j+1])&&"number"==typeof this.path[j+1].x){S=new f(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(S.x,S.y)},N.prototype.lineTo=function(S,j){if(isNaN(S)||isNaN(j))throw di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new f(S,j));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new f(z.x,z.y)},N.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),lt.call(this,null,!0)},N.prototype.quadraticCurveTo=function(S,j,z,Q){if(isNaN(z)||isNaN(Q)||isNaN(S)||isNaN(j))throw di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new f(z,Q)),mt=this.ctx.transform.applyToPoint(new f(S,j));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new f(ot.x,ot.y)},N.prototype.bezierCurveTo=function(S,j,z,Q,ot,mt){if(isNaN(ot)||isNaN(mt)||isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q))throw di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var vt=this.ctx.transform.applyToPoint(new f(ot,mt)),xt=this.ctx.transform.applyToPoint(new f(S,j)),oe=this.ctx.transform.applyToPoint(new f(z,Q));this.path.push({type:"bct",x1:xt.x,y1:xt.y,x2:oe.x,y2:oe.y,x:vt.x,y:vt.y}),this.ctx.lastPoint=new f(vt.x,vt.y)},N.prototype.arc=function(S,j,z,Q,ot,mt){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(ot))throw di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=Boolean(mt),!this.ctx.transform.isIdentity){var vt=this.ctx.transform.applyToPoint(new f(S,j));S=vt.x,j=vt.y;var xt=this.ctx.transform.applyToPoint(new f(0,z)),oe=this.ctx.transform.applyToPoint(new f(0,0));z=Math.sqrt(Math.pow(xt.x-oe.x,2)+Math.pow(xt.y-oe.y,2))}Math.abs(ot-Q)>=2*Math.PI&&(Q=0,ot=2*Math.PI),this.path.push({type:"arc",x:S,y:j,radius:z,startAngle:Q,endAngle:ot,counterclockwise:mt})},N.prototype.arcTo=function(S,j,z,Q,ot){throw new Error("arcTo not implemented.")},N.prototype.rect=function(S,j,z,Q){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q))throw di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,j),this.lineTo(S+z,j),this.lineTo(S+z,j+Q),this.lineTo(S,j+Q),this.lineTo(S,j),this.lineTo(S+z,j),this.lineTo(S,j)},N.prototype.fillRect=function(S,j,z,Q){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q))throw di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ot={};"butt"!==this.lineCap&&(ot.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,j,z,Q),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},N.prototype.strokeRect=function(S,j,z,Q){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q))throw di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(S,j,z,Q),this.stroke())},N.prototype.clearRect=function(S,j,z,Q){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q))throw di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,j,z,Q))},N.prototype.save=function(S){S="boolean"!=typeof S||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new T(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},N.prototype.restore=function(S){S="boolean"!=typeof S||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(j),S&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},N.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Z=function(S){var j,z,Q,ot;if(!0===S.isCanvasGradient&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))j=0,z=0,Q=0,ot=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(null!==mt)j=parseInt(mt[1]),z=parseInt(mt[2]),Q=parseInt(mt[3]),ot=1;else if(null!==(mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S)))j=parseInt(mt[1]),z=parseInt(mt[2]),Q=parseInt(mt[3]),ot=parseFloat(mt[4]);else{if(ot=1,"string"==typeof S&&"#"!==S.charAt(0)){var vt=new xc(S);S=vt.ok?vt.toHex():"#000000"}4===S.length?(j=S.substring(1,2),j+=j,z=S.substring(2,3),z+=z,Q=S.substring(3,4),Q+=Q):(j=S.substring(1,3),z=S.substring(3,5),Q=S.substring(5,7)),j=parseInt(j,16),z=parseInt(z,16),Q=parseInt(Q,16)}}return{r:j,g:z,b:Q,a:ot,style:S}},x=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},R=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};N.prototype.fillText=function(S,j,z,Q){if(isNaN(j)||isNaN(z)||"string"!=typeof S)throw di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!x.call(this)){var ot=pt(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;O.call(this,{text:S,x:j,y:z,scale:mt,angle:ot,align:this.textAlign,maxWidth:Q})}},N.prototype.strokeText=function(S,j,z,Q){if(isNaN(j)||isNaN(z)||"string"!=typeof S)throw di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){Q=isNaN(Q)?void 0:Q;var ot=pt(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;O.call(this,{text:S,x:j,y:z,scale:mt,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:Q})}},N.prototype.measureText=function(S){if("string"!=typeof S)throw di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,z=this.pdf.internal.scaleFactor,Q=j.internal.getFontSize(),ot=j.getStringUnitWidth(S)*Q/j.internal.scaleFactor,mt=function(vt){var xt=(vt=vt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xt}}),this};return new mt({width:ot*=Math.round(96*z/72*1e4)/1e4})},N.prototype.scale=function(S,j){if(isNaN(S)||isNaN(j))throw di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new v(S,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},N.prototype.rotate=function(S){if(isNaN(S))throw di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new v(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},N.prototype.translate=function(S,j){if(isNaN(S)||isNaN(j))throw di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new v(1,0,0,1,S,j);this.ctx.transform=this.ctx.transform.multiply(z)},N.prototype.transform=function(S,j,z,Q,ot,mt){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(ot)||isNaN(mt))throw di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var vt=new v(S,j,z,Q,ot,mt);this.ctx.transform=this.ctx.transform.multiply(vt)},N.prototype.setTransform=function(S,j,z,Q,ot,mt){S=isNaN(S)?1:S,j=isNaN(j)?0:j,z=isNaN(z)?0:z,Q=isNaN(Q)?1:Q,ot=isNaN(ot)?0:ot,mt=isNaN(mt)?0:mt,this.ctx.transform=new v(S,j,z,Q,ot,mt)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};N.prototype.drawImage=function(S,j,z,Q,ot,mt,vt,xt,oe){var re=this.pdf.getImageProperties(S),fe=1,ve=1,Be=1,Dt=1;void 0!==Q&&void 0!==xt&&(Be=xt/Q,Dt=oe/ot,fe=re.width/Q*xt/Q,ve=re.height/ot*oe/ot),void 0===mt&&(mt=j,vt=z,j=0,z=0),void 0!==Q&&void 0===xt&&(xt=Q,oe=ot),void 0===Q&&void 0===xt&&(xt=re.width,oe=re.height);for(var Y,Je=this.ctx.transform.decompose(),Pe=pt(Je.rotate.shx),ee=new v,ce=(ee=(ee=(ee=ee.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new _(mt-j*Be,vt-z*Dt,Q*fe,ot*ve)),ge=H.call(this,ce),ue=[],Le=0;Le<ge.length;Le+=1)-1===ue.indexOf(ge[Le])&&ue.push(ge[Le]);if(X(ue),this.autoPaging)for(var He=ue[0],Ge=ue[ue.length-1],Ke=He;Ke<Ge+1;Ke++){this.pdf.setPage(Ke);var ri=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hi=1===Ke?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=1===Ke?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ke-2)*Xe;if(0!==this.ctx.clip_path.length){var Ki=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Y,this.posX+this.margin[3],-me+hi+this.ctx.prevPageLastElemOffset),At.call(this,"fill",!0),this.path=Ki}var oi=JSON.parse(JSON.stringify(ce));oi=B([oi],this.posX+this.margin[3],-me+hi+this.ctx.prevPageLastElemOffset)[0];var Nn=(Ke>He||Ke<Ge)&&M.call(this);Nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ri,Xe,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",oi.x,oi.y,oi.w,oi.h,null,null,Pe),Nn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,Pe)};var H=function(S,j,z){var Q=[];j=j||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":Q.push(Math.floor((S.y+ot)/z)+1);break;case"arc":Q.push(Math.floor((S.y+ot-S.radius)/z)+1),Q.push(Math.floor((S.y+ot+S.radius)/z)+1);break;case"qct":var mt=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);Q.push(Math.floor((mt.y+ot)/z)+1),Q.push(Math.floor((mt.y+mt.h+ot)/z)+1);break;case"bct":var vt=Mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);Q.push(Math.floor((vt.y+ot)/z)+1),Q.push(Math.floor((vt.y+vt.h+ot)/z)+1);break;case"rect":Q.push(Math.floor((S.y+ot)/z)+1),Q.push(Math.floor((S.y+S.h+ot)/z)+1)}for(var xt=0;xt<Q.length;xt+=1)for(;this.pdf.internal.getNumberOfPages()<Q[xt];)I.call(this);return Q},I=function(){var S=this.fillStyle,j=this.strokeStyle,z=this.font,Q=this.lineCap,ot=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=j,this.font=z,this.lineCap=Q,this.lineWidth=ot,this.lineJoin=mt},B=function(S,j,z){for(var Q=0;Q<S.length;Q++)switch(S[Q].type){case"bct":S[Q].x2+=j,S[Q].y2+=z;case"qct":S[Q].x1+=j,S[Q].y1+=z;default:S[Q].x+=j,S[Q].y+=z}return S},X=function(S){return S.sort(function(j,z){return j-z})},lt=function(S,j){for(var z,Q,ot=this.fillStyle,mt=this.strokeStyle,vt=this.lineCap,xt=this.lineWidth,oe=Math.abs(xt*this.ctx.transform.scaleX),re=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),ve=JSON.parse(JSON.stringify(this.path)),Be=[],Dt=0;Dt<ve.length;Dt++)if(void 0!==ve[Dt].x)for(var Y=H.call(this,ve[Dt]),Je=0;Je<Y.length;Je+=1)-1===Be.indexOf(Y[Je])&&Be.push(Y[Je]);for(var Pe=0;Pe<Be.length;Pe++)for(;this.pdf.internal.getNumberOfPages()<Be[Pe];)I.call(this);if(X(Be),this.autoPaging)for(var ee=Be[0],ce=Be[Be.length-1],ge=ee;ge<ce+1;ge++){this.pdf.setPage(ge),this.fillStyle=ot,this.strokeStyle=mt,this.lineCap=vt,this.lineWidth=oe,this.lineJoin=re;var ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=1===ge?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=1===ge?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ge-2)*Ge;if(0!==this.ctx.clip_path.length){var ri=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(z,this.posX+this.margin[3],-Ke+Le+this.ctx.prevPageLastElemOffset),At.call(this,S,!0),this.path=ri}if(Q=JSON.parse(JSON.stringify(fe)),this.path=B(Q,this.posX+this.margin[3],-Ke+Le+this.ctx.prevPageLastElemOffset),!1===j||0===ge){var hi=(ge>ee||ge<ce)&&M.call(this);hi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,Ge,null).clip().discardPath()),At.call(this,S,j),hi&&this.pdf.restoreGraphicsState()}this.lineWidth=xt}else this.lineWidth=oe,At.call(this,S,j),this.lineWidth=xt;this.path=fe},At=function(S,j){if(("stroke"!==S||j||!R.call(this))&&("stroke"===S||j||!x.call(this))){for(var z,Q,ot=[],mt=this.path,vt=0;vt<mt.length;vt++){var xt=mt[vt];switch(xt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:xt,deltas:[],abs:[]});break;case"lt":var oe=ot.length;if(mt[vt-1]&&!isNaN(mt[vt-1].x)&&(z=[xt.x-mt[vt-1].x,xt.y-mt[vt-1].y],oe>0))for(;oe>=0;oe--)if(!0!==ot[oe-1].close&&!0!==ot[oe-1].begin){ot[oe-1].deltas.push(z),ot[oe-1].abs.push(xt);break}break;case"bct":ot[ot.length-1].deltas.push(z=[xt.x1-mt[vt-1].x,xt.y1-mt[vt-1].y,xt.x2-mt[vt-1].x,xt.y2-mt[vt-1].y,xt.x-mt[vt-1].x,xt.y-mt[vt-1].y]);break;case"qct":ot[ot.length-1].deltas.push(z=[mt[vt-1].x+2/3*(xt.x1-mt[vt-1].x)-mt[vt-1].x,mt[vt-1].y+2/3*(xt.y1-mt[vt-1].y)-mt[vt-1].y,xt.x+2/3*(xt.x1-xt.x)-mt[vt-1].x,xt.y+2/3*(xt.y1-xt.y)-mt[vt-1].y,xt.x-mt[vt-1].x,xt.y-mt[vt-1].y]);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(xt)}}Q=j?null:"stroke"===S?"stroke":"fill";for(var Je=!1,Pe=0;Pe<ot.length;Pe++)if(ot[Pe].arc)for(var ee=ot[Pe].abs,ce=0;ce<ee.length;ce++){var ge=ee[ce];"arc"===ge.type?J.call(this,ge.x,ge.y,ge.radius,ge.startAngle,ge.endAngle,ge.counterclockwise,void 0,j,!Je):G.call(this,ge.x,ge.y),Je=!0}else!0===ot[Pe].close?(this.pdf.internal.out("h"),Je=!1):!0!==ot[Pe].begin&&(V.call(this,ot[Pe].deltas,ot[Pe].start.x,ot[Pe].start.y),Je=!0);Q&&qt.call(this,Q),j&&It.call(this)}},Yt=function(S){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-z;case"top":return S+j-z;case"hanging":return S+j-2*z;case"middle":return S+j/2-z;default:return S}},dt=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};N.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(j,z){this.colorStops.push([j,z])},S.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},N.prototype.createPattern=function(){return this.createLinearGradient()},N.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(S,j,z,Q,ot,mt,vt,xt,oe){for(var re=wt.call(this,z,Q,ot,mt),fe=0;fe<re.length;fe++){var ve=re[fe];0===fe&&(oe?F.call(this,ve.x1+S,ve.y1+j):G.call(this,ve.x1+S,ve.y1+j)),Pt.call(this,S,j,ve.x2,ve.y2,ve.x3,ve.y3,ve.x4,ve.y4)}xt?It.call(this):qt.call(this,vt)},qt=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},It=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(S,j){this.pdf.internal.out(o(S)+" "+l(j)+" m")},O=function(S){var j;switch(S.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var z=this.pdf.getTextDimensions(S.text),Q=Yt.call(this,S.y),ot=dt.call(this,Q)-z.h,mt=this.ctx.transform.applyToPoint(new f(S.x,Q)),vt=this.ctx.transform.decompose(),xt=new v;xt=(xt=(xt=xt.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale);for(var oe,re,fe,ve=this.ctx.transform.applyToRectangle(new _(S.x,Q,z.w,z.h)),Be=xt.applyToRectangle(new _(S.x,ot,z.w,z.h)),Dt=H.call(this,Be),Y=[],Je=0;Je<Dt.length;Je+=1)-1===Y.indexOf(Dt[Je])&&Y.push(Dt[Je]);if(X(Y),this.autoPaging)for(var Pe=Y[0],ee=Y[Y.length-1],ce=Pe;ce<ee+1;ce++){this.pdf.setPage(ce);var ge=1===ce?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.margin[2],He=Le-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],Ke=Ge-this.margin[3],ri=1===ce?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ce-2)*He;if(0!==this.ctx.clip_path.length){var hi=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(oe,this.posX+this.margin[3],-1*ri+ge),At.call(this,"fill",!0),this.path=hi}var Ue=B([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-ri+ge+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*S.scale),this.lineWidth=(fe=this.lineWidth)*S.scale);var Xe="text"!==this.autoPaging;if(Xe||Ue.y+Ue.h<=Le){if(Xe||Ue.y>=ge&&Ue.x<=Ge){var me=Xe?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||Ge-Ue.x)[0],Ki=B([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-ri+ge+this.ctx.prevPageLastElemOffset)[0],oi=Xe&&(ce>Pe||ce<ee)&&M.call(this);oi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,He,null).clip().discardPath()),this.pdf.text(me,Ki.x,Ki.y,{angle:S.angle,align:j,renderingMode:S.renderingMode}),oi&&this.pdf.restoreGraphicsState()}}else Ue.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-Ue.y);S.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=fe)}else S.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*S.scale),this.lineWidth=(fe=this.lineWidth)*S.scale),this.pdf.text(S.text,mt.x+this.posX,mt.y+this.posY,{angle:S.angle,align:j,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=fe)},G=function(S,j,z,Q){Q=Q||0,this.pdf.internal.out(o(S+(z=z||0))+" "+l(j+Q)+" l")},V=function(S,j,z){return this.pdf.lines(S,j,z,null,null)},Pt=function(S,j,z,Q,ot,mt,vt,xt){this.pdf.internal.out([i(d(z+S)),i(h(Q+j)),i(d(ot+S)),i(h(mt+j)),i(d(vt+S)),i(h(xt+j)),"c"].join(" "))},wt=function(S,j,z,Q){for(var ot=2*Math.PI,mt=Math.PI/2;j>z;)j-=ot;var vt=Math.abs(z-j);vt<ot&&Q&&(vt=ot-vt);for(var xt=[],oe=Q?-1:1,re=j;vt>1e-5;){var fe=re+oe*Math.min(vt,mt);xt.push(Ft.call(this,S,re,fe)),vt-=Math.abs(fe-re),re=fe}return xt},Ft=function(S,j,z){var Q=(z-j)/2,ot=S*Math.cos(Q),mt=S*Math.sin(Q),vt=ot,xt=-mt,oe=vt*vt+xt*xt,re=oe+vt*ot+xt*mt,fe=4/3*(Math.sqrt(2*oe*re)-re)/(vt*mt-xt*ot),ve=vt-fe*xt,Be=xt+fe*vt,Dt=ve,Y=-Be,Je=Q+j,Pe=Math.cos(Je),ee=Math.sin(Je);return{x1:S*Math.cos(j),y1:S*Math.sin(j),x2:ve*Pe-Be*ee,y2:ve*ee+Be*Pe,x3:Dt*Pe-Y*ee,y3:Dt*ee+Y*Pe,x4:S*Math.cos(z),y4:S*Math.sin(z)}},pt=function(S){return 180*S/Math.PI},Et=function(S,j,z,Q,ot,mt){var vt=S+.5*(z-S),xt=j+.5*(Q-j),oe=ot+.5*(z-ot),re=mt+.5*(Q-mt),fe=Math.min(S,ot,vt,oe),ve=Math.max(S,ot,vt,oe),Be=Math.min(j,mt,xt,re),Dt=Math.max(j,mt,xt,re);return new _(fe,Be,ve-fe,Dt-Be)},Mt=function(S,j,z,Q,ot,mt,vt,xt){var oe,re,fe,ve,Be,Dt,Y,Je,Pe,ee,ce,ge,ue,Le,He=z-S,Ge=Q-j,Ke=ot-z,ri=mt-Q,hi=vt-ot,Ue=xt-mt;for(re=0;re<41;re++)Pe=(Y=(fe=S+(oe=re/40)*He)+oe*((Be=z+oe*Ke)-fe))+oe*(Be+oe*(ot+oe*hi-Be)-Y),ee=(Je=(ve=j+oe*Ge)+oe*((Dt=Q+oe*ri)-ve))+oe*(Dt+oe*(mt+oe*Ue-Dt)-Je),0==re?(ce=Pe,ge=ee,ue=Pe,Le=ee):(ce=Math.min(ce,Pe),ge=Math.min(ge,ee),ue=Math.max(ue,Pe),Le=Math.max(Le,ee));return new _(Math.round(ce),Math.round(ge),Math.round(ue-ce),Math.round(Le-ge))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Fe.API),function(a){var i=function(h){var f,_,v,w,T,N,Z,x,R,M;for(/[^\x00-\xFF]/.test(h),_=[],v=0,w=(h+=f="\0\0\0\0".slice(h.length%4||4)).length;w>v;v+=4)0!==(T=(h.charCodeAt(v)<<24)+(h.charCodeAt(v+1)<<16)+(h.charCodeAt(v+2)<<8)+h.charCodeAt(v+3))?(N=(T=((T=((T=((T=(T-(M=T%85))/85)-(R=T%85))/85)-(x=T%85))/85)-(Z=T%85))/85)%85,_.push(N+33,Z+33,x+33,R+33,M+33)):_.push(122);return function(H,I){for(var B=I;B>0;B--)H.pop()}(_,f.length),String.fromCharCode.apply(String,_)+"~>"},o=function(h){var f,_,v,w,T,N=String,Z="length",x=255,R="charCodeAt",M="slice",H="replace";for(h[M](-2),h=h[M](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),v=[],w=0,T=(h+=f="uuuuu"[M](h[Z]%5||5))[Z];T>w;w+=5)_=52200625*(h[R](w)-33)+614125*(h[R](w+1)-33)+7225*(h[R](w+2)-33)+85*(h[R](w+3)-33)+(h[R](w+4)-33),v.push(x&_>>24,x&_>>16,x&_>>8,x&_);return function(I,B){for(var X=B;X>0;X--)I.pop()}(v,f[Z]),N.fromCharCode.apply(N,v)},l=function(h){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(h=h.replace(/\s/g,"")).indexOf(">")&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),!1===f.test(h))return"";for(var _="",v=0;v<h.length;v+=2)_+=String.fromCharCode("0x"+(h[v]+h[v+1]));return _},d=function(h){for(var f=new Uint8Array(h.length),_=h.length;_--;)f[_]=h.charCodeAt(_);return(f=Jo(f)).reduce(function(v,w){return v+String.fromCharCode(w)},"")};a.processDataByFilters=function(h,f){var _=0,v=h||"",w=[];for("string"==typeof(f=f||[])&&(f=[f]),_=0;_<f.length;_+=1)switch(f[_]){case"ASCII85Decode":case"/ASCII85Decode":v=o(v),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=i(v),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=l(v),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=v.split("").map(function(T){return("0"+T.charCodeAt().toString(16)).slice(-2)}).join("")+">",w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=d(v),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[_]+'" is not implemented')}return{data:v,reverseChain:w.reverse().join(" ")}}}(Fe.API),function(a){a.loadFile=function(i,o,l){return function(d,h,f){h=!1!==h,f="function"==typeof f?f:function(){};var _=void 0;try{_=function(v,w,T){var N=new XMLHttpRequest,Z=0,x=function(R){var M=R.length,H=[],I=String.fromCharCode;for(Z=0;Z<M;Z+=1)H.push(I(255&R.charCodeAt(Z)));return H.join("")};if(N.open("GET",v,!w),N.overrideMimeType("text/plain; charset=x-user-defined"),!1===w&&(N.onload=function(){T(200===N.status?x(this.responseText):void 0)}),N.send(null),w&&200===N.status)return x(N.responseText)}(d,h,f)}catch(v){}return _}(i,o,l)},a.loadImageFile=a.loadFile}(Fe.API),function(a){function i(){return(Re.html2canvas?Promise.resolve(Re.html2canvas):ne.e(159).then(ne.t.bind(ne,4159,23))).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function o(){return(Re.DOMPurify?Promise.resolve(Re.DOMPurify):ne.e(735).then(ne.t.bind(ne,2735,23))).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var l=function(f){var _=Ce(f);return"undefined"===_?"undefined":"string"===_||f instanceof String?"string":"number"===_||f instanceof Number?"number":"function"===_||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&1===f.nodeType?"element":"object"===_?"object":"unknown"},d=function(f,_){var v=document.createElement(f);for(var w in _.className&&(v.className=_.className),_.innerHTML&&_.dompurify&&(v.innerHTML=_.dompurify.sanitize(_.innerHTML)),_.style)v.style[w]=_.style[w];return v},h=function f(_){var v=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),w=f.convert(Promise.resolve(),v);return(w=w.setProgress(1,f,1,[f])).set(_)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(f,_){return f.__proto__=_||h.prototype,f},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(f,_){return this.then(function(){switch(_=_||function(v){switch(l(v)){case"string":return"string";case"element":return"canvas"===v.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(o).then(function(v){return this.set({src:d("div",{innerHTML:f,dompurify:v})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},h.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},_=function v(w,T){for(var N=3===w.nodeType?document.createTextNode(w.nodeValue):w.cloneNode(!1),Z=w.firstChild;Z;Z=Z.nextSibling)!0!==T&&1===Z.nodeType&&"SCRIPT"===Z.nodeName||N.appendChild(v(Z,T));return 1===w.nodeType&&("CANVAS"===w.nodeName?(N.width=w.width,N.height=w.height,N.getContext("2d").drawImage(w,0,0)):"TEXTAREA"!==w.nodeName&&"SELECT"!==w.nodeName||(N.value=w.value),N.addEventListener("load",function(){N.scrollTop=w.scrollTop,N.scrollLeft=w.scrollLeft},!0)),N}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===_.tagName&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=d("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=d("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(_),this.prop.container.firstChild.appendChild(d("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(_){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,_(this.prop.container,v)}).then(function(_){(this.opt.html2canvas.onrendered||function(){})(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(_){var v=this.opt.jsPDF,w=this.opt.fontFaces,T="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:T,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,v.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=w,w)for(var Z=0;Z<w.length;++Z){var x=w[Z],R=x.src.find(function(M){return"truetype"===M.format});R&&v.addFont(R.url,x.ref.name,x.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=0==N.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,v.context2d.save(!0),_(this.prop.container,N)}).then(function(_){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(f,_,v){return"img"===(v=v||"pdf").toLowerCase()||"image"===v.toLowerCase()?this.outputImg(f,_):this.outputPdf(f,_)},h.prototype.outputPdf=function(f,_){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,_)})},h.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},h.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(f){if("object"!==l(f))return this;var _=Object.keys(f||{}).map(function(v){if(v in h.template.prop)return function(){this.prop[v]=f[v]};switch(v){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[v]=f[v]}}},this);return this.then(function(){return this.thenList(_)})},h.prototype.get=function(f,_){return this.then(function(){var v=f in h.template.prop?this.prop[f]:this.opt[f];return _?_(v):v})},h.prototype.setMargin=function(f){return this.then(function(){switch(l(f)){case"number":f=[f,f,f,f];case"array":if(2===f.length&&(f=[f[0],f[1],f[0],f[1]]),4===f.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},h.prototype.setPageSize=function(f){function _(v,w){return Math.floor(v*w/72*96)}return this.then(function(){(f=f||Fe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:_(f.inner.width,f.k),height:_(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},h.prototype.setProgress=function(f,_,v,w){return null!=f&&(this.progress.val=f),null!=_&&(this.progress.state=_),null!=v&&(this.progress.n=v),null!=w&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(f,_,v,w){return this.setProgress(f?this.progress.val+f:null,_||null,v?this.progress.n+v:null,w?this.progress.stack.concat(w):null)},h.prototype.then=function(f,_){var v=this;return this.thenCore(f,_,function(w,T){return v.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(N){return v.updateProgress(null,w),N}).then(w,T).then(function(N){return v.updateProgress(1),N})})},h.prototype.thenCore=function(f,_,v){v=v||Promise.prototype.then,f&&(f=f.bind(this)),_&&(_=_.bind(this));var w=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:h.convert(Object.assign({},this),Promise.prototype),T=v.call(w,f,_);return h.convert(T,this.__proto__)},h.prototype.thenExternal=function(f,_){return Promise.prototype.then.call(this,f,_)},h.prototype.thenList=function(f){var _=this;return f.forEach(function(v){_=_.thenCore(v)}),_},h.prototype.catch=function(f){f&&(f=f.bind(this));var _=Promise.prototype.catch.call(this,f);return h.convert(_,this)},h.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},h.prototype.error=function(f){return this.then(function(){throw new Error(f)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Fe.getPageSize=function(f,_,v){if("object"===Ce(f)){var w=f;f=w.orientation,_=w.unit||_,v=w.format||v}_=_||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var T,N=(""+v).toLowerCase(),Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(_){case"pt":T=1;break;case"mm":T=72/25.4;break;case"cm":T=72/2.54;break;case"in":T=72;break;case"px":T=.75;break;case"pc":case"em":T=12;break;case"ex":T=6;break;default:throw"Invalid unit: "+_}var x,R=0,M=0;if(Z.hasOwnProperty(N))R=Z[N][1]/T,M=Z[N][0]/T;else try{R=v[1],M=v[0]}catch(H){throw new Error("Invalid format: "+v)}if("p"===f||"portrait"===f)f="p",M>R&&(x=M,M=R,R=x);else{if("l"!==f&&"landscape"!==f)throw"Invalid orientation: "+f;f="l",R>M&&(x=M,M=R,R=x)}return{width:M,height:R,unit:_,k:T,orientation:f}},a.html=function(f,_){(_=_||{}).callback=_.callback||function(){},_.html2canvas=_.html2canvas||{},_.html2canvas.canvas=_.html2canvas.canvas||this.canvas,_.jsPDF=_.jsPDF||this,_.fontFaces=_.fontFaces?_.fontFaces.map(xs):null;var v=new h(_);return _.worker?v:v.from(f).doCallback()}}(Fe.API),Fe.API.addJS=function(a){return Rc=a,this.internal.events.subscribe("postPutResources",function(){Na=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Na+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Rc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Na&&void 0!==qc&&this.internal.out("/Names <</JavaScript "+Na+" 0 R>>")}),this},function(a){var i;a.events.push(["postPutResources",function(){var o=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var d=o.outline.render().split(/\r\n/),h=0;h<d.length;h++){var f=d[h],_=l.exec(f);null!=_&&o.internal.newObjectDeferredBegin(_[1],!1),o.internal.write(f)}if(this.outline.createNamedDestinations){var w=this.internal.pages.length,T=[];for(h=0;h<w;h++){var N=o.internal.newObject();T.push(N);var Z=o.internal.getPageInfo(h+1);o.internal.write("<< /D["+Z.objId+" 0 R /XYZ null null null]>> endobj")}var x=o.internal.newObject();for(o.internal.write("<< /Names [ "),h=0;h<T.length;h++)o.internal.write("(page_"+(h+1)+")"+T[h]+" 0 R");o.internal.write(" ] >>","endobj"),i=o.internal.newObject(),o.internal.write("<< /Dests "+x+" 0 R"),o.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),a.events.push(["initialized",function(){var o=this;o.outline={createNamedDestinations:!1,root:{children:[]}},o.outline.add=function(l,d,h){var f={title:d,options:h,children:[]};return null==l&&(l=this.root),l.children.push(f),f},o.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=o,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},o.outline.genIds_r=function(l){l.id=o.internal.newObjectDeferred();for(var d=0;d<l.children.length;d++)this.genIds_r(l.children[d])},o.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},o.outline.renderItems=function(l){for(var d=this.ctx.pdf.internal.getVerticalCoordinateString,h=0;h<l.children.length;h++){var f=l.children[h];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(l)),h>0&&this.line("/Prev "+this.makeRef(l.children[h-1])),h<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[h+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var _=this.count=this.count_r({count:0},f);if(_>0&&this.line("/Count "+_),f.options&&f.options.pageNumber){var v=o.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+v.objId+" 0 R /XYZ 0 "+d(0)+" 0]")}this.objEnd()}for(var w=0;w<l.children.length;w++)this.renderItems(l.children[w])},o.outline.line=function(l){this.ctx.val+=l+"\r\n"},o.outline.makeRef=function(l){return l.id+" 0 R"},o.outline.makeString=function(l){return"("+o.internal.pdfEscape(l)+")"},o.outline.objStart=function(l){this.ctx.val+="\r\n"+l.id+" 0 obj\r\n<<\r\n"},o.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},o.outline.count_r=function(l,d){for(var h=0;h<d.children.length;h++)l.count++,this.count_r(l,d.children[h]);return l.count}}])}(Fe.API),function(a){var i=[192,193,194,195,196,197,198,199];a.processJPEG=function(o,l,d,h,f,_){var v,w=this.decode.DCT_DECODE,T=null;if("string"==typeof o||this.__addimage__.isArrayBuffer(o)||this.__addimage__.isArrayBufferView(o)){switch(o=this.__addimage__.isArrayBuffer(o=f||o)?new Uint8Array(o):o,(v=function(N){for(var Z,x=256*N.charCodeAt(4)+N.charCodeAt(5),R=N.length,M={width:0,height:0,numcomponents:1},H=4;H<R;H+=2){if(-1!==i.indexOf(N.charCodeAt((H+=x)+1))){Z=256*N.charCodeAt(H+5)+N.charCodeAt(H+6),M={width:256*N.charCodeAt(H+7)+N.charCodeAt(H+8),height:Z,numcomponents:N.charCodeAt(H+9)};break}x=256*N.charCodeAt(H+2)+N.charCodeAt(H+3)}return M}(o=this.__addimage__.isArrayBufferView(o)?this.__addimage__.arrayBufferToBinaryString(o):o)).numcomponents){case 1:_=this.color_spaces.DEVICE_GRAY;break;case 4:_=this.color_spaces.DEVICE_CMYK;break;case 3:_=this.color_spaces.DEVICE_RGB}T={data:o,width:v.width,height:v.height,colorSpace:_,bitsPerComponent:8,filter:w,index:l,alias:d}}return T}}(Fe.API);var ho,La,Bc,Uc,jc,tu=function(){var a,i,o;function l(h){var f,v,w,T,N,Z,x,R,M,H,I,B,X;for(this.data=h,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},N=null;;){switch(f=this.readUInt32(),R=function(){var lt,At;for(At=[],lt=0;lt<4;++lt)At.push(String.fromCharCode(this.data[this.pos++]));return At}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":N&&this.animation.frames.push(N),this.pos+=4,N={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},T=this.readUInt16(),w=this.readUInt16()||100,N.delay=1e3*T/w,N.disposeOp=this.data[this.pos++],N.blendOp=this.data[this.pos++],N.data=[];break;case"IDAT":case"fdAT":for("fdAT"===R&&(this.pos+=4,f-=4),h=(null!=N?N.data:void 0)||this.imgData,I=0;0<=f?I<f:I>f;0<=f?++I:--I)h.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(v=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>v)throw new Error("More transparent colors than palette size");if((M=v-this.transparency.indexed.length)>0)for(B=0;0<=M?B<M:B>M;0<=M?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":Z=(H=this.read(f)).indexOf(0),x=String.fromCharCode.apply(String,H.slice(0,Z)),this.text[x]=String.fromCharCode.apply(String,H.slice(Z+1));break;case"IEND":return N&&this.animation.frames.push(N),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(X=this.colorType)||6===X,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}l.prototype.read=function(h){var f,_;for(_=[],f=0;0<=h?f<h:f>h;0<=h?++f:--f)_.push(this.data[this.pos++]);return _},l.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},l.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},l.prototype.decodePixels=function(h){var f=this.pixelBitlength/8,_=new Uint8Array(this.width*this.height*f),v=0,w=this;if(null==h&&(h=this.imgData),0===h.length)return new Uint8Array(0);function T(N,Z,x,R){var M,H,I,B,X,lt,At,Yt,J,qt,It,F,O,G,V,Pt,wt,Ft,pt,Et,Mt=Math.ceil((w.width-N)/x),pe=Math.ceil((w.height-Z)/R),S=w.width==Mt&&w.height==pe;for(O=f*Mt,It=S?_:new Uint8Array(O*pe),lt=h.length,F=0,H=0;F<pe&&v<lt;){switch(h[v++]){case 0:for(B=Pt=0;Pt<O;B=Pt+=1)It[H++]=h[v++];break;case 1:for(B=wt=0;wt<O;B=wt+=1)M=h[v++],X=B<f?0:It[H-f],It[H++]=(M+X)%256;break;case 2:for(B=Ft=0;Ft<O;B=Ft+=1)M=h[v++],I=(B-B%f)/f,It[H++]=((G=F&&It[(F-1)*O+I*f+B%f])+M)%256;break;case 3:for(B=pt=0;pt<O;B=pt+=1)M=h[v++],I=(B-B%f)/f,X=B<f?0:It[H-f],G=F&&It[(F-1)*O+I*f+B%f],It[H++]=(M+Math.floor((X+G)/2))%256;break;case 4:for(B=Et=0;Et<O;B=Et+=1)M=h[v++],I=(B-B%f)/f,0===F?G=V=0:(G=It[(F-1)*O+I*f+B%f],V=I&&It[(F-1)*O+(I-1)*f+B%f]),At=(X=B<f?0:It[H-f])+G-V,Yt=Math.abs(At-X),J=Math.abs(At-G),qt=Math.abs(At-V),It[H++]=(M+(Yt<=J&&Yt<=qt?X:J<=qt?G:V))%256;break;default:throw new Error("Invalid filter algorithm: "+h[v-1])}if(!S){var j=((Z+F*R)*w.width+N)*f,z=F*O;for(B=0;B<Mt;B+=1){for(var Q=0;Q<f;Q+=1)_[j++]=It[z++];j+=(x-1)*f}}F++}}return h=xa(h),1==w.interlaceMethod?(T(0,0,8,8),T(4,0,8,8),T(0,4,4,8),T(2,0,4,4),T(0,2,2,4),T(1,0,2,2),T(0,1,1,2)):T(0,0,1,1),_},l.prototype.decodePalette=function(){var h,f,_,v,w,T,N,Z,x;for(_=this.palette,T=this.transparency.indexed||[],w=new Uint8Array((T.length||0)+_.length),v=0,h=0,f=N=0,Z=_.length;N<Z;f=N+=3)w[v++]=_[f],w[v++]=_[f+1],w[v++]=_[f+2],w[v++]=null!=(x=T[h++])?x:255;return w},l.prototype.copyToImageData=function(h,f){var _,v,w,T,N,Z,x,R,M,H,I;if(v=this.colors,M=null,_=this.hasAlphaChannel,this.palette.length&&(M=null!=(I=this._decodedPalette)?I:this._decodedPalette=this.decodePalette(),v=4,_=!0),R=(w=h.data||h).length,N=M||f,T=Z=0,1===v)for(;T<R;)x=M?4*f[T/4]:Z,H=N[x++],w[T++]=H,w[T++]=H,w[T++]=H,w[T++]=_?N[x++]:255,Z=x;else for(;T<R;)x=M?4*f[T/4]:Z,w[T++]=N[x++],w[T++]=N[x++],w[T++]=N[x++],w[T++]=_?N[x++]:255,Z=x},l.prototype.decode=function(){var h;return h=new Uint8Array(this.width*this.height*4),this.copyToImageData(h,this.decodePixels()),h};var d=function(){if("[object Window]"===Object.prototype.toString.call(Re)){try{i=Re.document.createElement("canvas"),o=i.getContext("2d")}catch(h){return!1}return!0}return!1};return d(),a=function(h){var f;if(!0===d())return o.width=h.width,o.height=h.height,o.clearRect(0,0,h.width,h.height),o.putImageData(h,0,0),(f=new Image).src=i.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},l.prototype.decodeFrames=function(h){var f,_,v,w,T,N,Z,x;if(this.animation){for(x=[],_=T=0,N=(Z=this.animation.frames).length;T<N;_=++T)v=h.createImageData((f=Z[_]).width,f.height),w=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(v,w),f.imageData=v,x.push(f.image=a(v));return x}},l.prototype.renderFrame=function(h,f){var _,v,w;return _=(v=this.animation.frames)[f],w=v[f-1],0===f&&h.clearRect(0,0,this.width,this.height),1===(null!=w?w.disposeOp:void 0)?h.clearRect(w.xOffset,w.yOffset,w.width,w.height):2===(null!=w?w.disposeOp:void 0)&&h.putImageData(w.imageData,w.xOffset,w.yOffset),0===_.blendOp&&h.clearRect(_.xOffset,_.yOffset,_.width,_.height),h.drawImage(_.image,_.xOffset,_.yOffset)},l.prototype.animate=function(h){var f,_,v,w,T,N,Z=this;return _=0,w=(N=this.animation).numFrames,v=N.frames,T=N.numPlays,(f=function(){var x,R;if(x=_++%w,R=v[x],Z.renderFrame(h,x),w>1&&_/w<T)return Z.animation._timeout=setTimeout(f,R.delay)})()},l.prototype.stopAnimation=function(){var h;return clearTimeout(null!=(h=this.animation)?h._timeout:void 0)},l.prototype.render=function(h){var f,_;return h._png&&h._png.stopAnimation(),h._png=this,h.width=this.width,h.height=this.height,f=h.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(_=f.createImageData(this.width,this.height),this.copyToImageData(_,this.decodePixels()),f.putImageData(_,0,0))},l}();function eu(a){var i=0;if(71!==a[i++]||73!==a[i++]||70!==a[i++]||56!==a[i++]||56!=(a[i++]+1&253)||97!==a[i++])throw new Error("Invalid GIF 87a/89a header.");var o=a[i++]|a[i++]<<8,l=a[i++]|a[i++]<<8,d=a[i++],f=1<<1+(7&d);i++,i++;var _=null,v=null;d>>7&&(_=i,v=f,i+=3*f);var w=!0,T=[],N=0,Z=null,x=0,R=null;for(this.width=o,this.height=l;w&&i<a.length;)switch(a[i++]){case 33:switch(a[i++]){case 255:if(11!==a[i]||78==a[i+1]&&69==a[i+2]&&84==a[i+3]&&83==a[i+4]&&67==a[i+5]&&65==a[i+6]&&80==a[i+7]&&69==a[i+8]&&50==a[i+9]&&46==a[i+10]&&48==a[i+11]&&3==a[i+12]&&1==a[i+13]&&0==a[i+16])i+=14,R=a[i++]|a[i++]<<8,i++;else for(i+=12;;){if(!((F=a[i++])>=0))throw Error("Invalid block size");if(0===F)break;i+=F}break;case 249:if(4!==a[i++]||0!==a[i+4])throw new Error("Invalid graphics extension block.");var M=a[i++];N=a[i++]|a[i++]<<8,Z=a[i++],0==(1&M)&&(Z=null),x=M>>2&7,i++;break;case 254:for(;;){if(!((F=a[i++])>=0))throw Error("Invalid block size");if(0===F)break;i+=F}break;default:throw new Error("Unknown graphic control label: 0x"+a[i-1].toString(16))}break;case 44:var H=a[i++]|a[i++]<<8,I=a[i++]|a[i++]<<8,B=a[i++]|a[i++]<<8,X=a[i++]|a[i++]<<8,lt=a[i++],At=lt>>6&1,Yt=1<<1+(7&lt),dt=_,J=v,qt=!1;lt>>7&&(qt=!0,dt=i,J=Yt,i+=3*Yt);var It=i;for(i++;;){var F;if(!((F=a[i++])>=0))throw Error("Invalid block size");if(0===F)break;i+=F}T.push({x:H,y:I,width:B,height:X,has_local_palette:qt,palette_offset:dt,palette_size:J,data_offset:It,data_length:i-It,transparent_index:Z,interlaced:!!At,delay:N,disposal:x});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+a[i-1].toString(16))}this.numFrames=function(){return T.length},this.loopCount=function(){return R},this.frameInfo=function(O){if(O<0||O>=T.length)throw new Error("Frame index out of range.");return T[O]},this.decodeAndBlitFrameBGRA=function(O,G){var V=this.frameInfo(O),Pt=V.width*V.height,wt=new Uint8Array(Pt);Hc(a,V.data_offset,wt,Pt);var Ft=V.palette_offset,pt=V.transparent_index;null===pt&&(pt=256);var Et=V.width,Mt=o-Et,pe=Et,S=4*(V.y*o+V.x),j=4*((V.y+V.height)*o+V.x),z=S,Q=4*Mt;!0===V.interlaced&&(Q+=4*o*7);for(var ot=8,mt=0,vt=wt.length;mt<vt;++mt){var xt=wt[mt];if(0===pe&&(pe=Et,(z+=Q)>=j&&(Q=4*Mt+4*o*(ot-1),z=S+(Et+Mt)*(ot<<1),ot>>=1)),xt===pt)z+=4;else{var oe=a[Ft+3*xt],re=a[Ft+3*xt+1];G[z++]=a[Ft+3*xt+2],G[z++]=re,G[z++]=oe,G[z++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(O,G){var V=this.frameInfo(O),Pt=V.width*V.height,wt=new Uint8Array(Pt);Hc(a,V.data_offset,wt,Pt);var Ft=V.palette_offset,pt=V.transparent_index;null===pt&&(pt=256);var Et=V.width,Mt=o-Et,pe=Et,S=4*(V.y*o+V.x),j=4*((V.y+V.height)*o+V.x),z=S,Q=4*Mt;!0===V.interlaced&&(Q+=4*o*7);for(var ot=8,mt=0,vt=wt.length;mt<vt;++mt){var xt=wt[mt];if(0===pe&&(pe=Et,(z+=Q)>=j&&(Q=4*Mt+4*o*(ot-1),z=S+(Et+Mt)*(ot<<1),ot>>=1)),xt===pt)z+=4;else{var re=a[Ft+3*xt+1],fe=a[Ft+3*xt+2];G[z++]=a[Ft+3*xt],G[z++]=re,G[z++]=fe,G[z++]=255}--pe}}}function Hc(a,i,o,l){for(var d=a[i++],h=1<<d,f=h+1,_=f+1,v=d+1,w=(1<<v)-1,T=0,N=0,Z=0,x=a[i++],R=new Int32Array(4096),M=null;;){for(;T<16&&0!==x;)N|=a[i++]<<T,T+=8,1===x?x=a[i++]:--x;if(T<v)break;var H=N&w;if(N>>=v,T-=v,H!==h){if(H===f)break;for(var I=H<_?H:M,B=0,X=I;X>h;)X=R[X]>>8,++B;var lt=X;if(Z+B+(I!==H?1:0)>l)return void di.log("Warning, gif stream longer than expected.");o[Z++]=lt;var At=Z+=B;for(I!==H&&(o[Z++]=lt),X=I;B--;)o[--At]=255&(X=R[X]),X>>=8;null!==M&&_<4096&&(R[_++]=M<<8|lt,_>=w+1&&v<12&&(++v,w=w<<1|1)),M=H}else _=f+1,w=(1<<(v=d+1))-1,M=null}return Z!==l&&di.log("Warning, gif stream shorter than expected."),o}function As(a){var i,o,l,d,h,f=Math.floor,_=new Array(64),v=new Array(64),w=new Array(64),T=new Array(64),N=new Array(65535),Z=new Array(65535),x=new Array(64),R=new Array(64),M=[],H=0,I=7,B=new Array(64),X=new Array(64),lt=new Array(64),At=new Array(256),Yt=new Array(2048),dt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],qt=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function wt(S,j){for(var z=0,Q=0,ot=new Array,mt=1;mt<=16;mt++){for(var vt=1;vt<=S[mt];vt++)ot[j[Q]]=[],ot[j[Q]][0]=z,ot[j[Q]][1]=mt,Q++,z++;z*=2}return ot}function Ft(S){for(var j=S[0],z=S[1]-1;z>=0;)j&1<<z&&(H|=1<<I),z--,--I<0&&(255==H?(pt(255),pt(0)):pt(H),I=7,H=0)}function pt(S){M.push(S)}function Et(S){pt(S>>8&255),pt(255&S)}function Mt(S,j,z,Q,ot){for(var mt,vt=ot[0],xt=ot[240],oe=function(ee,ce){var ge,ue,Le,He,Ge,Ke,ri,hi,Ue,Xe,me=0;for(Ue=0;Ue<8;++Ue){var Ki=(ge=ee[me])+(hi=ee[me+7]),oi=ge-hi,Nn=(ue=ee[me+1])+(ri=ee[me+6]),pi=ue-ri,xi=(Le=ee[me+2])+(Ke=ee[me+5]),Qn=Le-Ke,si=(He=ee[me+3])+(Ge=ee[me+4]),Wr=He-Ge,Ti=Ki+si,Ln=Ki-si,sr=Nn+xi,Pi=Nn-xi;ee[me]=Ti+sr,ee[me+4]=Ti-sr;var Ve=.707106781*(Pi+Ln);ee[me+2]=Ln+Ve,ee[me+6]=Ln-Ve;var ci=.382683433*((Ti=Wr+Qn)-(Pi=pi+oi)),Gr=.5411961*Ti+ci,Ji=1.306562965*Pi+ci,$n=.707106781*(sr=Qn+pi),Kn=oi+$n,Ee=oi-$n;ee[me+5]=Ee+Gr,ee[me+3]=Ee-Gr,ee[me+1]=Kn+Ji,ee[me+7]=Kn-Ji,me+=8}for(me=0,Ue=0;Ue<8;++Ue){var Zn=(ge=ee[me])+(hi=ee[me+56]),Xn=ge-hi,ln=(ue=ee[me+8])+(ri=ee[me+48]),qi=ue-ri,Mi=(Le=ee[me+16])+(Ke=ee[me+40]),pn=Le-Ke,go=(He=ee[me+24])+(Ge=ee[me+32]),cr=He-Ge,Dn=Zn+go,In=Zn-go,Mn=ln+Mi,tr=ln-Mi;ee[me]=Dn+Mn,ee[me+32]=Dn-Mn;var vn=.707106781*(tr+In);ee[me+16]=In+vn,ee[me+48]=In-vn;var er=.382683433*((Dn=cr+pn)-(tr=qi+Xn)),Qr=.5411961*Dn+er,mo=1.306562965*tr+er,_o=.707106781*(Mn=pn+qi),vo=Xn+_o,bo=Xn-_o;ee[me+40]=bo+Qr,ee[me+24]=bo-Qr,ee[me+8]=vo+mo,ee[me+56]=vo-mo,me++}for(Ue=0;Ue<64;++Ue)x[Ue]=(Xe=ee[Ue]*ce[Ue])>0?Xe+.5|0:Xe-.5|0;return x}(S,j),re=0;re<64;++re)R[dt[re]]=oe[re];var fe=R[0]-z;z=R[0],0==fe?Ft(Q[0]):(Ft(Q[Z[mt=32767+fe]]),Ft(N[mt]));for(var ve=63;ve>0&&0==R[ve];)ve--;if(0==ve)return Ft(vt),z;for(var Be,Dt=1;Dt<=ve;){for(var Y=Dt;0==R[Dt]&&Dt<=ve;)++Dt;var Je=Dt-Y;if(Je>=16){Be=Je>>4;for(var Pe=1;Pe<=Be;++Pe)Ft(xt);Je&=15}Ft(ot[(Je<<4)+Z[mt=32767+R[Dt]]]),Ft(N[mt]),Dt++}return 63!=ve&&Ft(vt),z}function pe(S){S=Math.min(Math.max(S,1),100),h!=S&&(function(j){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ot=f((z[Q]*j+50)/100);ot=Math.min(Math.max(ot,1),255),_[dt[Q]]=ot}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],vt=0;vt<64;vt++){var xt=f((mt[vt]*j+50)/100);xt=Math.min(Math.max(xt,1),255),v[dt[vt]]=xt}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,fe=0;fe<8;fe++)for(var ve=0;ve<8;ve++)w[re]=1/(_[dt[re]]*oe[fe]*oe[ve]*8),T[re]=1/(v[dt[re]]*oe[fe]*oe[ve]*8),re++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),h=S)}this.encode=function(S,j){var ue,Le;j&&pe(j),M=new Array,H=0,I=7,Et(65496),Et(65504),Et(16),pt(74),pt(70),pt(73),pt(70),pt(0),pt(1),pt(1),pt(0),Et(1),Et(1),pt(0),pt(0),function(){Et(65499),Et(132),pt(0);for(var ue=0;ue<64;ue++)pt(_[ue]);pt(1);for(var Le=0;Le<64;Le++)pt(v[Le])}(),ue=S.width,Le=S.height,Et(65472),Et(17),pt(8),Et(Le),Et(ue),pt(3),pt(1),pt(17),pt(0),pt(2),pt(17),pt(1),pt(3),pt(17),pt(1),function(){Et(65476),Et(418),pt(0);for(var ue=0;ue<16;ue++)pt(J[ue+1]);for(var Le=0;Le<=11;Le++)pt(qt[Le]);pt(16);for(var He=0;He<16;He++)pt(It[He+1]);for(var Ge=0;Ge<=161;Ge++)pt(F[Ge]);pt(1);for(var Ke=0;Ke<16;Ke++)pt(O[Ke+1]);for(var ri=0;ri<=11;ri++)pt(G[ri]);pt(17);for(var hi=0;hi<16;hi++)pt(V[hi+1]);for(var Ue=0;Ue<=161;Ue++)pt(Pt[Ue])}(),Et(65498),Et(12),pt(3),pt(1),pt(0),pt(2),pt(17),pt(3),pt(17),pt(0),pt(63),pt(0);var z=0,Q=0,ot=0;H=0,I=7,this.encode.displayName="_encode_";for(var mt,vt,xt,oe,re,fe,ve,Be,Dt,Y=S.data,Pe=S.height,ee=4*S.width,ce=0;ce<Pe;){for(mt=0;mt<ee;){for(re=ee*ce+mt,ve=-1,Be=0,Dt=0;Dt<64;Dt++)fe=re+(Be=Dt>>3)*ee+(ve=4*(7&Dt)),ce+Be>=Pe&&(fe-=ee*(ce+1+Be-Pe)),mt+ve>=ee&&(fe-=mt+ve-ee+4),vt=Y[fe++],xt=Y[fe++],oe=Y[fe++],B[Dt]=(Yt[vt]+Yt[xt+256>>0]+Yt[oe+512>>0]>>16)-128,X[Dt]=(Yt[vt+768>>0]+Yt[xt+1024>>0]+Yt[oe+1280>>0]>>16)-128,lt[Dt]=(Yt[vt+1280>>0]+Yt[xt+1536>>0]+Yt[oe+1792>>0]>>16)-128;z=Mt(B,w,z,i,l),Q=Mt(X,T,Q,o,d),ot=Mt(lt,T,ot,o,d),mt+=32}ce+=8}if(I>=0){var ge=[];ge[1]=I+1,ge[0]=(1<<I+1)-1,Ft(ge)}return Et(65497),new Uint8Array(M)},a=a||50,function(){for(var S=String.fromCharCode,j=0;j<256;j++)At[j]=S(j)}(),i=wt(J,qt),o=wt(O,G),l=wt(It,F),d=wt(V,Pt),function(){for(var S=1,j=2,z=1;z<=15;z++){for(var Q=S;Q<j;Q++)Z[32767+Q]=z,N[32767+Q]=[],N[32767+Q][1]=z,N[32767+Q][0]=Q;for(var ot=-(j-1);ot<=-S;ot++)Z[32767+ot]=z,N[32767+ot]=[],N[32767+ot][1]=z,N[32767+ot][0]=j-1+ot;S<<=1,j<<=1}}(),function(){for(var S=0;S<256;S++)Yt[S]=19595*S,Yt[S+256>>0]=38470*S,Yt[S+512>>0]=7471*S+32768,Yt[S+768>>0]=-11059*S,Yt[S+1024>>0]=-21709*S,Yt[S+1280>>0]=32768*S+8421375,Yt[S+1536>>0]=-27439*S,Yt[S+1792>>0]=-5329*S}(),pe(a)}function kn(a,i){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zc(a){function i(J){if(!J)throw Error("assert :P")}function o(J,qt,It){for(var F=0;4>F;F++)if(J[qt+F]!=It.charCodeAt(F))return!0;return!1}function l(J,qt,It,F,O){for(var G=0;G<O;G++)J[qt+G]=It[F+G]}function d(J,qt,It,F){for(var O=0;O<F;O++)J[qt+O]=It}function h(J){return new Int32Array(J)}function f(J,qt){for(var It=[],F=0;F<J;F++)It.push(new qt);return It}function _(J,qt){var It=[];return function F(O,G,V){for(var Pt=V[G],wt=0;wt<Pt&&(O.push(V.length>G+1?[]:new qt),!(V.length<G+1));wt++)F(O[wt],G+1,V)}(It,0,J),It}var v=function(){var J=this;function qt(n,u){for(var g=1<<u-1>>>0;n&g;)g>>>=1;return g?(n&g-1)+g:n}function It(n,u,g,b,A){i(!(b%g));do{n[u+(b-=g)]=A}while(0<b)}function F(n,u,g,b,A){if(i(2328>=A),512>=A)var P=h(512);else if(null==(P=h(A)))return 0;return function(k,L,D,E,$,ut){var ht,rt,Vt=L,St=1<<D,K=h(16),it=h(16);for(i(0!=$),i(null!=E),i(null!=k),i(0<D),rt=0;rt<$;++rt){if(15<E[rt])return 0;++K[E[rt]]}if(K[0]==$)return 0;for(it[1]=0,ht=1;15>ht;++ht){if(K[ht]>1<<ht)return 0;it[ht+1]=it[ht]+K[ht]}for(rt=0;rt<$;++rt)ht=E[rt],0<E[rt]&&(ut[it[ht]++]=rt);if(1==it[15])return(E=new O).g=0,E.value=ut[0],It(k,Vt,1,St,E),St;var jt,Qt=-1,Jt=St-1,be=0,le=1,qe=1,de=1<<D;for(rt=0,ht=1,$=2;ht<=D;++ht,$<<=1){if(le+=qe<<=1,0>(qe-=K[ht]))return 0;for(;0<K[ht];--K[ht])(E=new O).g=ht,E.value=ut[rt++],It(k,Vt+be,$,de,E),be=qt(be,ht)}for(ht=D+1,$=2;15>=ht;++ht,$<<=1){if(le+=qe<<=1,0>(qe-=K[ht]))return 0;for(;0<K[ht];--K[ht]){if(E=new O,(be&Jt)!=Qt){for(Vt+=de,jt=1<<(Qt=ht)-D;15>Qt&&!(0>=(jt-=K[Qt]));)++Qt,jt<<=1;St+=de=1<<(jt=Qt-D),k[L+(Qt=be&Jt)].g=jt+D,k[L+Qt].value=Vt-L-Qt}E.g=ht-D,E.value=ut[rt++],It(k,Vt+(be>>D),$,de,E),be=qt(be,ht)}}return le!=2*it[15]-1?0:St}(n,u,g,b,A,P)}function O(){this.value=this.g=0}function G(){this.value=this.g=0}function V(){this.G=f(5,O),this.H=h(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(hn,G)}function Pt(n,u,g,b){i(null!=n),i(null!=u),i(2147483648>b),n.Ca=254,n.I=0,n.b=-8,n.Ka=0,n.oa=u,n.pa=g,n.Jd=u,n.Yc=g+b,n.Zc=4<=b?g+b-4+1:g,mt(n)}function wt(n,u){for(var g=0;0<u--;)g|=xt(n,128)<<u;return g}function Ft(n,u){var g=wt(n,u);return vt(n)?-g:g}function pt(n,u,g,b){var A,P=0;for(i(null!=n),i(null!=u),i(4294967288>b),n.Sb=b,n.Ra=0,n.u=0,n.h=0,4<b&&(b=4),A=0;A<b;++A)P+=u[g+A]<<8*A;n.Ra=P,n.bb=b,n.oa=u,n.pa=g}function Et(n){for(;8<=n.u&&n.bb<n.Sb;)n.Ra>>>=8,n.Ra+=n.oa[n.pa+n.bb]<<Oo-8>>>0,++n.bb,n.u-=8;z(n)&&(n.h=1,n.u=0)}function Mt(n,u){if(i(0<=u),!n.h&&u<=Mo){var g=j(n)&Io[u];return n.u+=u,Et(n),g}return n.h=1,n.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(n){return n.Ra>>>(n.u&Oo-1)>>>0}function z(n){return i(n.bb<=n.Sb),n.h||n.bb==n.Sb&&n.u>Oo}function Q(n,u){n.u=u,n.h=z(n)}function ot(n){n.u>=da&&(i(n.u>=da),Et(n))}function mt(n){i(null!=n&&null!=n.oa),n.pa<n.Zc?(n.I=(n.oa[n.pa++]|n.I<<8)>>>0,n.b+=8):(i(null!=n&&null!=n.oa),n.pa<n.Yc?(n.b+=8,n.I=n.oa[n.pa++]|n.I<<8):n.Ka?n.b=0:(n.I<<=8,n.b+=8,n.Ka=1))}function vt(n){return wt(n,1)}function xt(n,u){var g=n.Ca;0>n.b&&mt(n);var b=n.b,A=g*u>>>8,P=(n.I>>>b>A)+0;for(P?(g-=A,n.I-=A+1<<b>>>0):g=A+1,b=g,A=0;256<=b;)A+=8,b>>=8;return n.b-=b=7^A+dn[b],n.Ca=(g<<b)-1,P}function oe(n,u,g){n[u+0]=g>>24&255,n[u+1]=g>>16&255,n[u+2]=g>>8&255,n[u+3]=g>>0&255}function re(n,u){return n[u+0]<<0|n[u+1]<<8}function fe(n,u){return re(n,u)|n[u+2]<<16}function ve(n,u){return re(n,u)|re(n,u+2)<<16}function Be(n,u){var g=1<<u;return i(null!=n),i(0<u),n.X=h(g),null==n.X?0:(n.Mb=32-u,n.Xa=u,1)}function Dt(n,u){i(null!=n),i(null!=u),i(n.Xa==u.Xa),l(u.X,0,n.X,0,1<<u.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function Je(n,u,g,b){i(null!=g),i(null!=b);var A=g[0],P=b[0];return 0==A&&(A=(n*P+u/2)/u),0==P&&(P=(u*A+n/2)/n),0>=A||0>=P?0:(g[0]=A,b[0]=P,1)}function Pe(n,u){return n+(1<<u)-1>>>u}function ee(n,u){return((4278255360&n)+(4278255360&u)>>>0&4278255360)+((16711935&n)+(16711935&u)>>>0&16711935)>>>0}function ce(n,u){J[u]=function(g,b,A,P,k,L,D){var E;for(E=0;E<k;++E){var $=J[n](L[D+E-1],A,P+E);L[D+E]=ee(g[b+E],$)}}}function ge(){this.ud=this.hd=this.jd=0}function ue(n,u){return((4278124286&(n^u))>>>1)+(n&u)>>>0}function Le(n){return 0<=n&&256>n?n:0>n?0:255<n?255:void 0}function He(n,u){return Le(n+(n-u+.5>>1))}function Ge(n,u,g){return Math.abs(u-g)-Math.abs(n-g)}function Ke(n,u,g,b,A,P,k){for(b=P[k-1],g=0;g<A;++g)P[k+g]=b=ee(n[u+g],b)}function ri(n,u,g,b,A){var P;for(P=0;P<g;++P){var k=n[u+P],L=k>>8&255,D=16711935&(D=(D=16711935&k)+((L<<16)+L));b[A+P]=(4278255360&k)+D>>>0}}function hi(n,u){u.jd=n>>0&255,u.hd=n>>8&255,u.ud=n>>16&255}function Ue(n,u,g,b,A,P){var k;for(k=0;k<b;++k){var L=u[g+k],D=L>>>8,E=L,$=255&($=($=L>>>16)+((n.jd<<24>>24)*(D<<24>>24)>>>5));E=255&(E=(E+=(n.hd<<24>>24)*(D<<24>>24)>>>5)+((n.ud<<24>>24)*($<<24>>24)>>>5)),A[P+k]=(4278255360&L)+($<<16)+E}}function Xe(n,u,g,b,A){J[u]=function(P,k,L,D,E,$,ut,ht,rt){for(D=ut;D<ht;++D)for(ut=0;ut<rt;++ut)E[$++]=A(L[b(P[k++])])},J[n]=function(P,k,L,D,E,$,ut){var ht=8>>P.b,rt=P.Ea,Vt=P.K[0],St=P.w;if(8>ht)for(P=(1<<P.b)-1,St=(1<<ht)-1;k<L;++k){var K,it=0;for(K=0;K<rt;++K)K&P||(it=b(D[E++])),$[ut++]=A(Vt[it&St]),it>>=ht}else J["VP8LMapColor"+g](D,E,Vt,St,$,ut,k,L,rt)}}function me(n,u,g,b,A){for(g=u+g;u<g;){var P=n[u++];b[A++]=P>>16&255,b[A++]=P>>8&255,b[A++]=P>>0&255}}function Ki(n,u,g,b,A){for(g=u+g;u<g;){var P=n[u++];b[A++]=P>>16&255,b[A++]=P>>8&255,b[A++]=P>>0&255,b[A++]=P>>24&255}}function oi(n,u,g,b,A){for(g=u+g;u<g;){var P=(k=n[u++])>>16&240|k>>12&15,k=k>>0&240|k>>28&15;b[A++]=P,b[A++]=k}}function Nn(n,u,g,b,A){for(g=u+g;u<g;){var P=(k=n[u++])>>16&248|k>>13&7,k=k>>5&224|k>>3&31;b[A++]=P,b[A++]=k}}function pi(n,u,g,b,A){for(g=u+g;u<g;){var P=n[u++];b[A++]=P>>0&255,b[A++]=P>>8&255,b[A++]=P>>16&255}}function xi(n,u,g,b,A,P){if(0==P)for(g=u+g;u<g;)oe(b,((P=n[u++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),A+=32;else l(b,A,n,u,g)}function Qn(n,u){J[u][0]=J[n+"0"],J[u][1]=J[n+"1"],J[u][2]=J[n+"2"],J[u][3]=J[n+"3"],J[u][4]=J[n+"4"],J[u][5]=J[n+"5"],J[u][6]=J[n+"6"],J[u][7]=J[n+"7"],J[u][8]=J[n+"8"],J[u][9]=J[n+"9"],J[u][10]=J[n+"10"],J[u][11]=J[n+"11"],J[u][12]=J[n+"12"],J[u][13]=J[n+"13"],J[u][14]=J[n+"0"],J[u][15]=J[n+"0"]}function si(n){return n==rl||n==ol||n==$s||n==$a}function Wr(){this.eb=[],this.size=this.A=this.fb=0}function Ti(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ln(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wr,this.f.kb=new Ti,this.sd=null}function sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ve(n){return alert("todo:WebPSamplerProcessPlane"),n.T}function ci(n,u){var g=n.T,b=u.ba.f.RGBA,A=b.eb,P=b.fb+n.ka*b.A,k=Hn[u.ba.S],L=n.y,D=n.O,E=n.f,$=n.N,ut=n.ea,ht=n.W,rt=u.cc,Vt=u.dc,St=u.Mc,K=u.Nc,it=n.ka,jt=n.ka+n.T,Qt=n.U,Jt=Qt+1>>1;for(0==it?k(L,D,null,null,E,$,ut,ht,E,$,ut,ht,A,P,null,null,Qt):(k(u.ec,u.fc,L,D,rt,Vt,St,K,E,$,ut,ht,A,P-b.A,A,P,Qt),++g);it+2<jt;it+=2)k(L,(D+=2*n.fa)-n.fa,L,D,rt=E,Vt=$,St=ut,K=ht,E,$+=n.Rc,ut,ht+=n.Rc,A,(P+=2*b.A)-b.A,A,P,Qt);return D+=n.fa,n.j+jt<n.o?(l(u.ec,u.fc,L,D,Qt),l(u.cc,u.dc,E,$,Jt),l(u.Mc,u.Nc,ut,ht,Jt),g--):1&jt||k(L,D,null,null,E,$,ut,ht,E,$,ut,ht,A,P+b.A,null,null,Qt),g}function Gr(n,u,g){var b=n.F,A=[n.J];if(null!=b){var P=n.U,k=u.ba.S,L=k==Qs||k==$s;u=u.ba.f.RGBA;var D=[0],E=n.ka;D[0]=n.T,n.Kb&&(0==E?--D[0]:(--E,A[0]-=n.width),n.j+n.ka+n.T==n.o&&(D[0]=n.o-n.j-E));var $=u.eb;n=Ga(b,A[0],n.width,P,D,$,(E=u.fb+E*u.A)+(L?0:3),u.A),i(g==D),n&&si(k)&&Mr($,E,L,P,D,u.A)}return 0}function Ji(n){var u=n.ma,g=u.ba.S,b=11>g,A=g==Qa||g==Gs||g==Qs||g==nl||12==g||si(g);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!ua(u.Oa,n,A?11:12))return 0;if(A&&si(g)&&Kt(),n.da)alert("todo:use_scaling");else{if(b){if(u.Ib=Ve,n.Kb){if(u.memory=h(n.U+2*(g=n.U+1>>1)),null==u.memory)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+n.U,u.Mc=u.cc,u.Nc=u.dc+g,u.Ib=ci,Kt()}}else alert("todo:EmitYUV");A&&(u.Jb=Gr,b&&at())}if(b&&!gl){for(n=0;256>n;++n)s[n]=89858*(n-128)+Xs>>Xa,r[n]=-22014*(n-128)+Xs,e[n]=-45773*(n-128),c[n]=113618*(n-128)+Xs>>Xa;for(n=ts;n<tc;++n)m[n-ts]=gn(u=76283*(n-16)+Xs>>Xa,255),y[n-ts]=gn(u+8>>4,15);gl=1}return 1}function $n(n){var u=n.ma,g=n.U,b=n.T;return i(!(1&n.ka)),0>=g||0>=b?0:(g=u.Ib(n,u),null!=u.Jb&&u.Jb(n,u,g),u.Dc+=g,1)}function Kn(n){n.ma.memory=null}function Ee(n,u,g,b){return 47!=Mt(n,8)?0:(u[0]=Mt(n,14)+1,g[0]=Mt(n,14)+1,b[0]=Mt(n,1),0!=Mt(n,3)?0:!n.h)}function Zn(n,u){if(4>n)return n+1;var g=n-2>>1;return(2+(1&n)<<g)+Mt(u,g)+1}function Xn(n,u){return 120<u?u-120:1<=(g=((g=ih[u-1])>>4)*n+(8-(15&g)))?g:1;var g}function ln(n,u,g){var b=j(g),A=n[u+=255&b].g-8;return 0<A&&(Q(g,g.u+8),b=j(g),u+=n[u].value,u+=b&(1<<A)-1),Q(g,g.u+n[u].g),n[u].value}function qi(n,u,g){return g.g+=n.g,g.value+=n.value<<u>>>0,i(8>=g.g),n.g}function Mi(n,u,g){var b=n.xc;return i((u=0==b?0:n.vc[n.md*(g>>b)+(u>>b)])<n.Wb),n.Ya[u]}function pn(n,u,g,b){var A=n.ab,P=n.c*u,k=n.C;u=k+u;var L=g,D=b;for(b=n.Ta,g=n.Ua;0<A--;){var E=n.gc[A],$=k,ut=u,ht=L,rt=D,Vt=(D=b,L=g,E.Ea);switch(i($<ut),i(ut<=E.nc),E.hc){case 2:Wa(ht,rt,(ut-$)*Vt,D,L);break;case 0:var St=$,K=ut,it=D,jt=L,Qt=(de=E).Ea;0==St&&(zs(ht,rt,null,null,1,it,jt),Ke(ht,rt+1,0,0,Qt-1,it,jt+1),rt+=Qt,jt+=Qt,++St);for(var Jt=1<<de.b,be=Jt-1,le=Pe(Qt,de.b),qe=de.K,de=de.w+(St>>de.b)*le;St<K;){var li=qe,fi=de,ai=1;for(pa(ht,rt,it,jt-Qt,1,it,jt);ai<Qt;){var ni=(ai&~be)+Jt;ni>Qt&&(ni=Qt),(0,Lr[li[fi++]>>8&15])(ht,rt+ +ai,it,jt+ai-Qt,ni-ai,it,jt+ai),ai=ni}rt+=Qt,jt+=Qt,++St&be||(de+=le)}ut!=E.nc&&l(D,L-Vt,D,L+(ut-$-1)*Vt,Vt);break;case 1:for(Vt=ht,K=rt,Qt=(ht=E.Ea)-(jt=ht&~(it=(rt=1<<E.b)-1)),St=Pe(ht,E.b),Jt=E.K,E=E.w+($>>E.b)*St;$<ut;){for(be=Jt,le=E,qe=new ge,de=K+jt,li=K+ht;K<de;)hi(be[le++],qe),yn(qe,Vt,K,rt,D,L),K+=rt,L+=rt;K<li&&(hi(be[le++],qe),yn(qe,Vt,K,Qt,D,L),K+=Qt,L+=Qt),++$&it||(E+=St)}break;case 3:if(ht==D&&rt==L&&0<E.b){for(K=D,ht=Vt=L+(ut-$)*Vt-(jt=(ut-$)*Pe(E.Ea,E.b)),rt=D,it=L,St=[],jt=(Qt=jt)-1;0<=jt;--jt)St[jt]=rt[it+jt];for(jt=Qt-1;0<=jt;--jt)K[ht+jt]=St[jt];qn(E,$,ut,D,Vt,D,L)}else qn(E,$,ut,ht,rt,D,L)}L=b,D=g}D!=g&&l(b,g,L,D,P)}function go(n,u){var g=n.V,b=n.Ba+n.c*n.C,A=u-n.C;if(i(u<=n.l.o),i(16>=A),0<A){var P=n.l,k=n.Ta,L=n.Ua,D=P.width;if(pn(n,A,g,b),A=L=[L],i((g=n.C)<(b=u)),i(P.v<P.va),b>P.o&&(b=P.o),g<P.j){var E=P.j-g;g=P.j,A[0]+=E*D}if(g>=b?g=0:(A[0]+=4*P.v,P.ka=g-P.j,P.U=P.va-P.v,P.T=b-g,g=1),g){if(L=L[0],11>(g=n.ca).S){var $=g.f.RGBA,ut=(b=g.S,A=P.U,P=P.T,E=$.eb,$.A),ht=P;for($=$.fb+n.Ma*$.A;0<ht--;){var rt=k,Vt=L,St=A,K=E,it=$;switch(b){case Ws:Rn(rt,Vt,St,K,it);break;case Qa:Zr(rt,Vt,St,K,it);break;case rl:Zr(rt,Vt,St,K,it),Mr(K,it,0,St,1,0);break;case uu:Fo(rt,Vt,St,K,it);break;case Gs:xi(rt,Vt,St,K,it,1);break;case ol:xi(rt,Vt,St,K,it,1),Mr(K,it,0,St,1,0);break;case Qs:xi(rt,Vt,St,K,it,0);break;case $s:xi(rt,Vt,St,K,it,0),Mr(K,it,1,St,1,0);break;case nl:nr(rt,Vt,St,K,it);break;case $a:nr(rt,Vt,St,K,it),Ro(K,it,St,1,0);break;case hu:pr(rt,Vt,St,K,it);break;default:i(0)}L+=D,$+=ut}n.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");i(n.Ma<=g.height)}}n.C=u,i(n.C<=n.i)}function cr(n){var u;if(0<n.ua)return 0;for(u=0;u<n.Wb;++u){var g=n.Ya[u].G,b=n.Ya[u].H;if(0<g[1][b[1]+0].g||0<g[2][b[2]+0].g||0<g[3][b[3]+0].g)return 0}return 1}function Dn(n,u,g,b,A,P){if(0!=n.Z){var k=n.qd,L=n.rd;for(i(null!=Fr[n.Z]);u<g;++u)Fr[n.Z](k,L,b,A,b,A,P),k=b,L=A,A+=P;n.qd=k,n.rd=L}}function In(n,u){var g=n.l.ma,b=0==g.Z||1==g.Z?n.l.j:n.C;if(b=n.C<b?b:n.C,i(u<=n.l.o),u>b){var A=n.l.width,P=g.ca,k=g.tb+A*b,L=n.V,D=n.Ba+n.c*b,E=n.gc;i(1==n.ab),i(3==E[0].hc),Ys(E[0],b,u,L,D,P,k),Dn(g,b,u,P,k,A)}n.C=n.Ma=u}function Mn(n,u,g,b,A,P,k){var L=n.$/b,D=n.$%b,E=n.m,$=n.s,ut=g+n.$,ht=ut;A=g+b*A;var rt=g+b*P,Vt=280+$.ua,St=n.Pb?L:16777216,K=0<$.ua?$.Wa:null,it=$.wc,jt=ut<rt?Mi($,D,L):null;i(n.C<P),i(rt<=A);var Qt=!1;t:for(;;){for(;Qt||ut<rt;){var Jt=0;if(L>=St){var be=ut-g;i((St=n).Pb),St.wd=St.m,St.xd=be,0<St.s.ua&&Dt(St.s.Wa,St.s.vb),St=L+rh}if(D&it||(jt=Mi($,D,L)),i(null!=jt),jt.Qb&&(u[ut]=jt.qb,Qt=!0),!Qt)if(ot(E),jt.jc){be=u;var le=ut,qe=jt.pd[j(Jt=E)&hn-1];i(jt.jc),256>qe.g?(Q(Jt,Jt.u+qe.g),be[le]=qe.value,Jt=0):(Q(Jt,Jt.u+qe.g-256),i(256<=qe.value),Jt=qe.value),0==Jt&&(Qt=!0)}else Jt=ln(jt.G[0],jt.H[0],E);if(E.h)break;if(Qt||256>Jt){if(!Qt)if(jt.nd)u[ut]=(jt.qb|Jt<<8)>>>0;else{if(ot(E),Qt=ln(jt.G[1],jt.H[1],E),ot(E),be=ln(jt.G[2],jt.H[2],E),le=ln(jt.G[3],jt.H[3],E),E.h)break;u[ut]=(le<<24|Qt<<16|Jt<<8|be)>>>0}if(Qt=!1,++ut,++D>=b&&(D=0,++L,null!=k&&L<=P&&!(L%16)&&k(n,L),null!=K))for(;ht<ut;)Jt=u[ht++],K.X[(506832829*Jt&4294967295)>>>K.Mb]=Jt}else if(280>Jt){if(Jt=Zn(Jt-256,E),be=ln(jt.G[4],jt.H[4],E),ot(E),be=Xn(b,be=Zn(be,E)),E.h)break;if(ut-g<be||A-ut<Jt)break t;for(le=0;le<Jt;++le)u[ut+le]=u[ut+le-be];for(ut+=Jt,D+=Jt;D>=b;)D-=b,++L,null!=k&&L<=P&&!(L%16)&&k(n,L);if(i(ut<=A),D&it&&(jt=Mi($,D,L)),null!=K)for(;ht<ut;)Jt=u[ht++],K.X[(506832829*Jt&4294967295)>>>K.Mb]=Jt}else{if(!(Jt<Vt))break t;for(Qt=Jt-280,i(null!=K);ht<ut;)Jt=u[ht++],K.X[(506832829*Jt&4294967295)>>>K.Mb]=Jt;Jt=ut,i(!(Qt>>>(be=K).Xa)),u[Jt]=be.X[Qt],Qt=!0}Qt||i(E.h==z(E))}if(n.Pb&&E.h&&ut<A)i(n.m.h),n.a=5,n.m=n.wd,n.$=n.xd,0<n.s.ua&&Dt(n.s.vb,n.s.Wa);else{if(E.h)break t;null!=k&&k(n,L>P?P:L),n.a=0,n.$=ut-g}return 1}return n.a=3,0}function tr(n){i(null!=n),n.vc=null,n.yc=null,n.Ya=null;var u=n.Wa;null!=u&&(u.X=null),n.vb=null,i(null!=n)}function vn(){var n=new Hs;return null==n?null:(n.a=0,n.xb=ll,Qn("Predictor","VP8LPredictors"),Qn("Predictor","VP8LPredictors_C"),Qn("PredictorAdd","VP8LPredictorsAdd"),Qn("PredictorAdd","VP8LPredictorsAdd_C"),Wa=ri,yn=Ue,Rn=me,Zr=Ki,nr=oi,pr=Nn,Fo=pi,J.VP8LMapColor32b=fa,J.VP8LMapColor8b=Js,n)}function er(n,u,g,b,A){var P=1,k=[n],L=[u],D=b.m,E=b.s,$=null,ut=0;t:for(;;){if(g)for(;P&&Mt(D,1);){var ht=k,rt=L,Vt=b,St=1,K=Vt.m,it=Vt.gc[Vt.ab],jt=Mt(K,2);if(Vt.Oc&1<<jt)P=0;else{switch(Vt.Oc|=1<<jt,it.hc=jt,it.Ea=ht[0],it.nc=rt[0],it.K=[null],++Vt.ab,i(4>=Vt.ab),jt){case 0:case 1:it.b=Mt(K,3)+2,St=er(Pe(it.Ea,it.b),Pe(it.nc,it.b),0,Vt,it.K),it.K=it.K[0];break;case 3:var Qt,Jt=Mt(K,8)+1,be=16<Jt?0:4<Jt?1:2<Jt?2:3;if(ht[0]=Pe(it.Ea,be),it.b=be,Qt=St=er(Jt,1,0,Vt,it.K)){var le,qe=Jt,de=it,li=1<<(8>>de.b),fi=h(li);if(null==fi)Qt=0;else{var ai=de.K[0],ni=de.w;for(fi[0]=de.K[0][0],le=1;le<1*qe;++le)fi[le]=ee(ai[ni+le],fi[le-1]);for(;le<4*li;++le)fi[le]=0;de.K[0]=null,de.K[0]=fi,Qt=1}}St=Qt;break;case 2:break;default:i(0)}P=St}}if(k=k[0],L=L[0],P&&Mt(D,1)&&!(P=1<=(ut=Mt(D,4))&&11>=ut)){b.a=3;break t}var yi;if(yi=P)e:{var bi,$e,zi,An=b,Yi=k,Cn=L,gi=ut,zn=g,Yn=An.m,tn=An.s,on=[null],mn=1,or=0,Er=nh[gi];i:for(;;){if(zn&&Mt(Yn,1)){var en=Mt(Yn,3)+2,io=Pe(Yi,en),_a=Pe(Cn,en),es=io*_a;if(!er(io,_a,0,An,on))break i;for(on=on[0],tn.xc=en,bi=0;bi<es;++bi){var Bo=on[bi]>>8&65535;on[bi]=Bo,Bo>=mn&&(mn=Bo+1)}}if(Yn.h)break i;for($e=0;5>$e;++$e){var Fi=du[$e];!$e&&0<gi&&(Fi+=1<<gi),or<Fi&&(or=Fi)}var vu=f(mn*Er,O),uh=mn,hh=f(uh,V);if(null==hh)var ml=null;else i(65536>=uh),ml=hh;var ec=h(or);if(null==ml||null==ec||null==vu){An.a=1;break i}var _l=vu;for(bi=zi=0;bi<mn;++bi){var _r=ml[bi],is=_r.G,ns=_r.H,dh=0,vl=1,ph=0;for($e=0;5>$e;++$e){Fi=du[$e],is[$e]=_l,ns[$e]=zi,!$e&&0<gi&&(Fi+=1<<gi);r:{var bl,bu=Fi,yl=An,ic=ec,Th=_l,Ph=zi,yu=0,Uo=yl.m,kh=Mt(Uo,1);if(d(ic,0,0,bu),kh){var Sh=Mt(Uo,1)+1,Nh=Mt(Uo,1),fh=Mt(Uo,0==Nh?1:8);ic[fh]=1,2==Sh&&(ic[fh=Mt(Uo,8)]=1);var xl=1}else{var gh=h(19),mh=Mt(Uo,4)+4;if(19<mh){yl.a=3;var wl=0;break r}for(bl=0;bl<mh;++bl)gh[eh[bl]]=Mt(Uo,3);var xu=void 0,nc=void 0,_h=yl,Lh=gh,Al=bu,vh=ic,wu=0,jo=_h.m,bh=8,yh=f(128,O);n:for(;F(yh,0,7,Lh,19);){if(Mt(jo,1)){var Zh=2+2*Mt(jo,3);if((xu=2+Mt(jo,Zh))>Al)break n}else xu=Al;for(nc=0;nc<Al&&xu--;){ot(jo);var xh=yh[0+(127&j(jo))];Q(jo,jo.u+xh.g);var rs=xh.value;if(16>rs)vh[nc++]=rs,0!=rs&&(bh=rs);else{var Dh=16==rs,wh=rs-16,Ih=Xu[wh],Ah=Mt(jo,Ku[wh])+Ih;if(nc+Ah>Al)break n;for(var Mh=Dh?bh:0;0<Ah--;)vh[nc++]=Mh}}wu=1;break n}wu||(_h.a=3),xl=wu}(xl=xl&&!Uo.h)&&(yu=F(Th,Ph,8,ic,bu)),xl&&0!=yu?wl=yu:(yl.a=3,wl=0)}if(0==wl)break i;if(vl&&1==th[$e]&&(vl=0==_l[zi].g),dh+=_l[zi].g,zi+=wl,3>=$e){var rc,Au=ec[0];for(rc=1;rc<Fi;++rc)ec[rc]>Au&&(Au=ec[rc]);ph+=Au}}if(_r.nd=vl,_r.Qb=0,vl&&(_r.qb=(is[3][ns[3]+0].value<<24|is[1][ns[1]+0].value<<16|is[2][ns[2]+0].value)>>>0,0==dh&&256>is[0][ns[0]+0].value&&(_r.Qb=1,_r.qb+=is[0][ns[0]+0].value<<8)),_r.jc=!_r.Qb&&6>ph,_r.jc){var Cl,no=_r;for(Cl=0;Cl<hn;++Cl){var Ho=Cl,zo=no.pd[Ho],Tl=no.G[0][no.H[0]+Ho];256<=Tl.value?(zo.g=Tl.g+256,zo.value=Tl.value):(zo.g=0,zo.value=0,Ho>>=qi(Tl,8,zo),Ho>>=qi(no.G[1][no.H[1]+Ho],16,zo),Ho>>=qi(no.G[2][no.H[2]+Ho],0,zo),qi(no.G[3][no.H[3]+Ho],24,zo))}}}tn.vc=on,tn.Wb=mn,tn.Ya=ml,tn.yc=vu,yi=1;break e}yi=0}if(!(P=yi)){b.a=3;break t}if(0<ut){if(E.ua=1<<ut,!Be(E.Wa,ut)){b.a=1,P=0;break t}}else E.ua=0;var Cu=b,Ch=k,Oh=L,Tu=Cu.s,Pu=Tu.xc;if(Cu.c=Ch,Cu.i=Oh,Tu.md=Pe(Ch,Pu),Tu.wc=0==Pu?-1:(1<<Pu)-1,g){b.xb=ch;break t}if(null==($=h(k*L))){b.a=1,P=0;break t}P=(P=Mn(b,$,0,k,L,L,null))&&!D.h;break t}return P?(null!=A?A[0]=$:(i(null==$),i(g)),b.$=0,g||tr(E)):tr(E),P}function Qr(n,u){var g=n.c*n.i,b=g+u+16*u;return i(n.c<=u),n.V=h(b),null==n.V?(n.Ta=null,n.Ua=0,n.a=1,0):(n.Ta=n.V,n.Ua=n.Ba+g+u,1)}function mo(n,u){var g=n.C,b=u-g,A=n.V,P=n.Ba+n.c*g;for(i(u<=n.l.o);0<b;){var k=16<b?16:b,L=n.l.ma,D=n.l.width,E=D*k,$=L.ca,ut=L.tb+D*g,ht=n.Ta,rt=n.Ua;pn(n,k,A,P),Kc(ht,rt,$,ut,E),Dn(L,g,g+k,$,ut,D),b-=k,A+=k*n.c,g+=k}i(g==u),n.C=n.Ma=u}function _o(){this.ub=this.yd=this.td=this.Rb=0}function vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bo(){this.Fb=this.Bb=this.Cb=0,this.Zb=h(4),this.Lb=h(4)}function Za(){var n;this.Yb=(function u(g,b,A){for(var P=A[b],k=0;k<P&&(g.push(A.length>b+1?[]:0),!(A.length<b+1));k++)u(g[k],b+1,A)}(n=[],0,[3,11]),n)}function Cs(){this.jb=h(3),this.Wc=_([4,8],Za),this.Xc=_([4,17],Za)}function Ts(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new h(4),this.od=new h(4)}function yo(){this.ld=this.La=this.dd=this.tc=0}function Da(){this.Na=this.la=0}function Ps(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $o(){this.ad=h(384),this.Za=0,this.Ob=h(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ks(){this.uc=this.M=this.Nb=0,this.wa=Array(new yo),this.Y=0,this.ya=Array(new $o),this.aa=0,this.l=new xo}function Ia(){this.y=h(16),this.f=h(8),this.ea=h(8)}function Ss(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new _o,this.Kc=new vo,this.ed=new Ts,this.Qa=new bo,this.Ic=this.$c=this.Aa=0,this.D=new ks,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,pe),this.ia=0,this.pb=f(4,Ps),this.Pa=new Cs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ia),this.Hd=0,this.rb=Array(new Da),this.sb=0,this.wa=Array(new yo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $o),this.L=this.aa=0,this.gd=_([4,2],yo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ns(){var n=new Ss;return null!=n&&(n.a=0,n.sc="OK",n.cb=0,n.Xb=0,Ka||(Ka=Fa)),n}function Zi(n,u,g){return 0==n.a&&(n.a=u,n.sc=g,n.cb=0),0}function Ma(n,u,g){return 3<=g&&157==n[u+0]&&1==n[u+1]&&42==n[u+2]}function Oa(n,u){if(null==n)return 0;if(n.a=0,n.sc="OK",null==u)return Zi(n,2,"null VP8Io passed to VP8GetHeaders()");var g=u.data,b=u.w,A=u.ha;if(4>A)return Zi(n,7,"Truncated header.");var P=g[b+0]|g[b+1]<<8|g[b+2]<<16,k=n.Od;if(k.Rb=!(1&P),k.td=P>>1&7,k.yd=P>>4&1,k.ub=P>>5,3<k.td)return Zi(n,3,"Incorrect keyframe parameters.");if(!k.yd)return Zi(n,4,"Frame not displayable.");b+=3,A-=3;var L=n.Kc;if(k.Rb){if(7>A)return Zi(n,7,"cannot parse picture header");if(!Ma(g,b,A))return Zi(n,3,"Bad code word");L.c=16383&(g[b+4]<<8|g[b+3]),L.Td=g[b+4]>>6,L.i=16383&(g[b+6]<<8|g[b+5]),L.Ud=g[b+6]>>6,b+=7,A-=7,n.za=L.c+15>>4,n.Ub=L.i+15>>4,u.width=L.c,u.height=L.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,d((P=n.Pa).jb,0,255,P.jb.length),i(null!=(P=n.Qa)),P.Cb=0,P.Bb=0,P.Fb=1,d(P.Zb,0,0,P.Zb.length),d(P.Lb,0,0,P.Lb)}if(k.ub>A)return Zi(n,7,"bad partition length");Pt(P=n.m,g,b,k.ub),b+=k.ub,A-=k.ub,k.Rb&&(L.Ld=vt(P),L.Kd=vt(P)),L=n.Qa;var D,E=n.Pa;if(i(null!=P),i(null!=L),L.Cb=vt(P),L.Cb){if(L.Bb=vt(P),vt(P)){for(L.Fb=vt(P),D=0;4>D;++D)L.Zb[D]=vt(P)?Ft(P,7):0;for(D=0;4>D;++D)L.Lb[D]=vt(P)?Ft(P,6):0}if(L.Bb)for(D=0;3>D;++D)E.jb[D]=vt(P)?wt(P,8):255}else L.Bb=0;if(P.Ka)return Zi(n,3,"cannot parse segment header");if((L=n.ed).zd=vt(P),L.Tb=wt(P,6),L.wb=wt(P,3),L.Pc=vt(P),L.Pc&&vt(P)){for(E=0;4>E;++E)vt(P)&&(L.vd[E]=Ft(P,6));for(E=0;4>E;++E)vt(P)&&(L.od[E]=Ft(P,6))}if(n.L=0==L.Tb?0:L.zd?1:2,P.Ka)return Zi(n,3,"cannot parse filter header");var $=A;if(A=D=b,b=D+$,L=$,n.Xb=(1<<wt(n.m,2))-1,$<3*(E=n.Xb))g=7;else{for(D+=3*E,L-=3*E,$=0;$<E;++$){var ut=g[A+0]|g[A+1]<<8|g[A+2]<<16;ut>L&&(ut=L),Pt(n.Jc[+$],g,D,ut),D+=ut,L-=ut,A+=3}Pt(n.Jc[+E],g,D,L),g=D<b?0:5}if(0!=g)return Zi(n,g,"cannot parse partitions");for(g=wt(D=n.m,7),A=vt(D)?Ft(D,4):0,b=vt(D)?Ft(D,4):0,L=vt(D)?Ft(D,4):0,E=vt(D)?Ft(D,4):0,D=vt(D)?Ft(D,4):0,$=n.Qa,ut=0;4>ut;++ut){if($.Cb){var ht=$.Zb[ut];$.Fb||(ht+=g)}else{if(0<ut){n.pb[ut]=n.pb[0];continue}ht=g}var rt=n.pb[ut];rt.Sc[0]=al[gn(ht+A,127)],rt.Sc[1]=sl[gn(ht+0,127)],rt.Eb[0]=2*al[gn(ht+b,127)],rt.Eb[1]=101581*sl[gn(ht+L,127)]>>16,8>rt.Eb[1]&&(rt.Eb[1]=8),rt.Qc[0]=al[gn(ht+E,117)],rt.Qc[1]=sl[gn(ht+D,127)],rt.lc=ht+D}if(!k.Rb)return Zi(n,4,"Not a key frame.");for(vt(P),k=n.Pa,g=0;4>g;++g){for(A=0;8>A;++A)for(b=0;3>b;++b)for(L=0;11>L;++L)E=xt(P,ah[g][A][b][L])?wt(P,8):Ks[g][A][b][L],k.Wc[g][A].Yb[b][L]=E;for(A=0;17>A;++A)k.Xc[g][A]=k.Wc[g][sh[A]]}return n.kc=vt(P),n.kc&&(n.Bd=wt(P,8)),n.cb=1}function Fa(n,u,g,b,A,P,k){var L=u[A].Yb[g];for(g=0;16>A;++A){if(!xt(n,L[g+0]))return A;for(;!xt(n,L[g+1]);)if(L=u[++A].Yb[0],g=0,16==A)return 16;var D=u[A+1].Yb;if(xt(n,L[g+2])){var E=n,$=0;if(xt(E,(ht=L)[(ut=g)+3]))if(xt(E,ht[ut+6])){for(L=0,ut=2*($=xt(E,ht[ut+8]))+(ht=xt(E,ht[ut+9+$])),$=0,ht=oh[ut];ht[L];++L)$+=$+xt(E,ht[L]);$+=3+(8<<ut)}else xt(E,ht[ut+7])?($=7+2*xt(E,165),$+=xt(E,145)):$=5+xt(E,159);else $=xt(E,ht[ut+4])?3+xt(E,ht[ut+5]):2;L=D[2]}else $=1,L=D[1];D=k+pu[A],0>(E=n).b&&mt(E);var ut,ht=E.b,rt=(ut=E.Ca>>1)-(E.I>>ht)>>31;--E.b,E.Ca+=rt,E.Ca|=1,E.I-=(ut+1&rt)<<ht,P[D]=(($^rt)-rt)*b[(0<A)+0]}return 16}function Ko(n){var u=n.rb[n.sb-1];u.la=0,u.Na=0,d(n.zc,0,0,n.zc.length),n.ja=0}function On(n,u,g,b,A){n[u+g+32*b]=-256&(A=n[u+g+32*b]+(A>>3))?0>A?0:255:A}function wo(n,u,g,b,A,P){On(n,u,0,g,b+A),On(n,u,1,g,b+P),On(n,u,2,g,b-P),On(n,u,3,g,b-A)}function un(n){return(20091*n>>16)+n}function Xo(n,u,g,b){var A,P=0,k=h(16);for(A=0;4>A;++A){var L=n[u+0]+n[u+8],D=n[u+0]-n[u+8],E=(35468*n[u+4]>>16)-un(n[u+12]),$=un(n[u+4])+(35468*n[u+12]>>16);k[P+0]=L+$,k[P+1]=D+E,k[P+2]=D-E,k[P+3]=L-$,P+=4,u++}for(A=P=0;4>A;++A)L=(n=k[P+0]+4)+k[P+8],D=n-k[P+8],E=(35468*k[P+4]>>16)-un(k[P+12]),On(g,b,0,0,L+($=un(k[P+4])+(35468*k[P+12]>>16))),On(g,b,1,0,D+E),On(g,b,2,0,D-E),On(g,b,3,0,L-$),P++,b+=32}function Ea(n,u,g,b){var A=n[u+0]+4,P=35468*n[u+4]>>16,k=un(n[u+4]),L=35468*n[u+1]>>16;wo(g,b,0,A+k,n=un(n[u+1]),L),wo(g,b,1,A+P,n,L),wo(g,b,2,A-P,n,L),wo(g,b,3,A-k,n,L)}function Cr(n,u,g,b,A){Xo(n,u,g,b),A&&Xo(n,u+16,g,b+4)}function qa(n,u,g,b){Eo(n,u+0,g,b,1),Eo(n,u+32,g,b+128,1)}function Zs(n,u,g,b){var A;for(n=n[u+0]+4,A=0;4>A;++A)for(u=0;4>u;++u)On(g,b,u,A,n)}function Ra(n,u,g,b){n[u+0]&&Un(n,u+0,g,b),n[u+16]&&Un(n,u+16,g,b+4),n[u+32]&&Un(n,u+32,g,b+128),n[u+48]&&Un(n,u+48,g,b+128+4)}function Ds(n,u,g,b){var A,P=h(16);for(A=0;4>A;++A){var k=n[u+0+A]+n[u+12+A],L=n[u+4+A]+n[u+8+A],D=n[u+4+A]-n[u+8+A],E=n[u+0+A]-n[u+12+A];P[0+A]=k+L,P[8+A]=k-L,P[4+A]=E+D,P[12+A]=E-D}for(A=0;4>A;++A)k=(n=P[0+4*A]+3)+P[3+4*A],D=P[1+4*A]-P[2+4*A],E=n-P[3+4*A],g[b+0]=k+(L=P[1+4*A]+P[2+4*A])>>3,g[b+16]=E+D>>3,g[b+32]=k-L>>3,g[b+48]=E-D>>3,b+=64}function fn(n,u,g){var b,A=u-32,P=wn,k=255-n[A-1];for(b=0;b<g;++b){var L,D=P,E=k+n[u-1];for(L=0;L<g;++L)n[u+L]=D[E+n[A+L]];u+=32}}function Fn(n,u){fn(n,u,4)}function Ba(n,u){fn(n,u,8)}function Ua(n,u){fn(n,u,16)}function rn(n,u){var g;for(g=0;16>g;++g)l(n,u+32*g,n,u-32,16)}function ti(n,u){var g;for(g=16;0<g;--g)d(n,u,n[u-1],16),u+=32}function mi(n,u,g){var b;for(b=0;16>b;++b)d(u,g+32*b,n,16)}function ja(n,u){var g,b=16;for(g=0;16>g;++g)b+=n[u-1+32*g]+n[u+g-32];mi(b>>5,n,u)}function ji(n,u){var g,b=8;for(g=0;16>g;++g)b+=n[u-1+32*g];mi(b>>4,n,u)}function Is(n,u){var g,b=8;for(g=0;16>g;++g)b+=n[u+g-32];mi(b>>4,n,u)}function Ms(n,u){mi(128,n,u)}function ze(n,u,g){return n+2*u+g+2>>2}function Os(n,u){var g,b=u-32;for(b=new Uint8Array([ze(n[b-1],n[b+0],n[b+1]),ze(n[b+0],n[b+1],n[b+2]),ze(n[b+1],n[b+2],n[b+3]),ze(n[b+2],n[b+3],n[b+4])]),g=0;4>g;++g)l(n,u+32*g,b,0,b.length)}function Fs(n,u){var g=n[u-1],b=n[u-1+32],A=n[u-1+64],P=n[u-1+96];oe(n,u+0,16843009*ze(n[u-1-32],g,b)),oe(n,u+32,16843009*ze(g,b,A)),oe(n,u+64,16843009*ze(b,A,P)),oe(n,u+96,16843009*ze(A,P,P))}function ir(n,u){var g,b=4;for(g=0;4>g;++g)b+=n[u+g-32]+n[u-1+32*g];for(b>>=3,g=0;4>g;++g)d(n,u+32*g,b,4)}function ta(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],P=n[u-1-32],k=n[u+0-32],L=n[u+1-32],D=n[u+2-32],E=n[u+3-32];n[u+0+96]=ze(b,A,n[u-1+96]),n[u+1+96]=n[u+0+64]=ze(g,b,A),n[u+2+96]=n[u+1+64]=n[u+0+32]=ze(P,g,b),n[u+3+96]=n[u+2+64]=n[u+1+32]=n[u+0+0]=ze(k,P,g),n[u+3+64]=n[u+2+32]=n[u+1+0]=ze(L,k,P),n[u+3+32]=n[u+2+0]=ze(D,L,k),n[u+3+0]=ze(E,D,L)}function Ha(n,u){var g=n[u+1-32],b=n[u+2-32],A=n[u+3-32],P=n[u+4-32],k=n[u+5-32],L=n[u+6-32],D=n[u+7-32];n[u+0+0]=ze(n[u+0-32],g,b),n[u+1+0]=n[u+0+32]=ze(g,b,A),n[u+2+0]=n[u+1+32]=n[u+0+64]=ze(b,A,P),n[u+3+0]=n[u+2+32]=n[u+1+64]=n[u+0+96]=ze(A,P,k),n[u+3+32]=n[u+2+64]=n[u+1+96]=ze(P,k,L),n[u+3+64]=n[u+2+96]=ze(k,L,D),n[u+3+96]=ze(L,D,D)}function Ao(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],P=n[u-1-32],k=n[u+0-32],L=n[u+1-32],D=n[u+2-32],E=n[u+3-32];n[u+0+0]=n[u+1+64]=P+k+1>>1,n[u+1+0]=n[u+2+64]=k+L+1>>1,n[u+2+0]=n[u+3+64]=L+D+1>>1,n[u+3+0]=D+E+1>>1,n[u+0+96]=ze(A,b,g),n[u+0+64]=ze(b,g,P),n[u+0+32]=n[u+1+96]=ze(g,P,k),n[u+1+32]=n[u+2+96]=ze(P,k,L),n[u+2+32]=n[u+3+96]=ze(k,L,D),n[u+3+32]=ze(L,D,E)}function Co(n,u){var g=n[u+0-32],b=n[u+1-32],A=n[u+2-32],P=n[u+3-32],k=n[u+4-32],L=n[u+5-32],D=n[u+6-32],E=n[u+7-32];n[u+0+0]=g+b+1>>1,n[u+1+0]=n[u+0+64]=b+A+1>>1,n[u+2+0]=n[u+1+64]=A+P+1>>1,n[u+3+0]=n[u+2+64]=P+k+1>>1,n[u+0+32]=ze(g,b,A),n[u+1+32]=n[u+0+96]=ze(b,A,P),n[u+2+32]=n[u+1+96]=ze(A,P,k),n[u+3+32]=n[u+2+96]=ze(P,k,L),n[u+3+64]=ze(k,L,D),n[u+3+96]=ze(L,D,E)}function Gc(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],P=n[u-1+96];n[u+0+0]=g+b+1>>1,n[u+2+0]=n[u+0+32]=b+A+1>>1,n[u+2+32]=n[u+0+64]=A+P+1>>1,n[u+1+0]=ze(g,b,A),n[u+3+0]=n[u+1+32]=ze(b,A,P),n[u+3+32]=n[u+1+64]=ze(A,P,P),n[u+3+64]=n[u+2+64]=n[u+0+96]=n[u+1+96]=n[u+2+96]=n[u+3+96]=P}function Es(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],P=n[u-1+96],k=n[u-1-32],L=n[u+0-32],D=n[u+1-32],E=n[u+2-32];n[u+0+0]=n[u+2+32]=g+k+1>>1,n[u+0+32]=n[u+2+64]=b+g+1>>1,n[u+0+64]=n[u+2+96]=A+b+1>>1,n[u+0+96]=P+A+1>>1,n[u+3+0]=ze(L,D,E),n[u+2+0]=ze(k,L,D),n[u+1+0]=n[u+3+32]=ze(g,k,L),n[u+1+32]=n[u+3+64]=ze(b,g,k),n[u+1+64]=n[u+3+96]=ze(A,b,g),n[u+1+96]=ze(P,A,b)}function qs(n,u){var g;for(g=0;8>g;++g)l(n,u+32*g,n,u-32,8)}function ea(n,u){var g;for(g=0;8>g;++g)d(n,u,n[u-1],8),u+=32}function Tr(n,u,g){var b;for(b=0;8>b;++b)d(u,g+32*b,n,8)}function Pr(n,u){var g,b=8;for(g=0;8>g;++g)b+=n[u+g-32]+n[u-1+32*g];Tr(b>>4,n,u)}function Qc(n,u){var g,b=4;for(g=0;8>g;++g)b+=n[u+g-32];Tr(b>>3,n,u)}function To(n,u){var g,b=4;for(g=0;8>g;++g)b+=n[u-1+32*g];Tr(b>>3,n,u)}function za(n,u){Tr(128,n,u)}function ia(n,u,g){var b=n[u-g],A=n[u+0],P=3*(A-b)+il[1020+n[u-2*g]-n[u+g]],k=Vs[112+(P+4>>3)];n[u-g]=wn[255+b+Vs[112+(P+3>>3)]],n[u+0]=wn[255+A-k]}function Rs(n,u,g,b){return jn[255+n[u-2*g]-n[u-g]]>b||jn[255+n[u+g]-n[u+0]]>b}function Bs(n,u,g,b){return 4*jn[255+n[u-g]-n[u+0]]+jn[255+n[u-2*g]-n[u+g]]<=b}function Ya(n,u,g,b,A){var P=n[u-3*g],k=n[u-2*g],L=n[u-g],D=n[u+0],E=n[u+g],$=n[u+2*g];return 4*jn[255+L-D]+jn[255+k-E]>b?0:jn[255+n[u-4*g]-P]<=A&&jn[255+P-k]<=A&&jn[255+k-L]<=A&&jn[255+n[u+3*g]-$]<=A&&jn[255+$-E]<=A&&jn[255+E-D]<=A}function kr(n,u,g,b){var A=2*b+1;for(b=0;16>b;++b)Bs(n,u+b,g,A)&&ia(n,u+b,g)}function lr(n,u,g,b){var A=2*b+1;for(b=0;16>b;++b)Bs(n,u+b*g,1,A)&&ia(n,u+b*g,1)}function Sr(n,u,g,b){var A;for(A=3;0<A;--A)kr(n,u+=4*g,g,b)}function $c(n,u,g,b){var A;for(A=3;0<A;--A)lr(n,u+=4,g,b)}function ur(n,u,g,b,A,P,k,L){for(P=2*P+1;0<A--;){if(Ya(n,u,g,P,k))if(Rs(n,u,g,L))ia(n,u,g);else{var D=n,E=u,$=g,ut=D[E-2*$],ht=D[E-$],rt=D[E+0],Vt=D[E+$],St=D[E+2*$],K=27*(jt=il[1020+3*(rt-ht)+il[1020+ut-Vt]])+63>>7,it=18*jt+63>>7,jt=9*jt+63>>7;D[E-3*$]=wn[255+D[E-3*$]+jt],D[E-2*$]=wn[255+ut+it],D[E-$]=wn[255+ht+K],D[E+0]=wn[255+rt-K],D[E+$]=wn[255+Vt-it],D[E+2*$]=wn[255+St-jt]}u+=b}}function bn(n,u,g,b,A,P,k,L){for(P=2*P+1;0<A--;){if(Ya(n,u,g,P,k))if(Rs(n,u,g,L))ia(n,u,g);else{var D=n,E=u,$=g,ut=D[E-$],ht=D[E+0],rt=D[E+$],Vt=Vs[112+(4+(St=3*(ht-ut))>>3)],St=Vs[112+(St+3>>3)],K=Vt+1>>1;D[E-2*$]=wn[255+D[E-2*$]+K],D[E-$]=wn[255+ut+St],D[E+0]=wn[255+ht-Vt],D[E+$]=wn[255+rt-K]}u+=b}}function Po(n,u,g,b,A,P){ur(n,u,g,1,16,b,A,P)}function $r(n,u,g,b,A,P){ur(n,u,1,g,16,b,A,P)}function Us(n,u,g,b,A,P){var k;for(k=3;0<k;--k)bn(n,u+=4*g,g,1,16,b,A,P)}function ko(n,u,g,b,A,P){var k;for(k=3;0<k;--k)bn(n,u+=4,1,g,16,b,A,P)}function js(n,u,g,b,A,P,k,L){ur(n,u,A,1,8,P,k,L),ur(g,b,A,1,8,P,k,L)}function Nr(n,u,g,b,A,P,k,L){ur(n,u,1,A,8,P,k,L),ur(g,b,1,A,8,P,k,L)}function na(n,u,g,b,A,P,k,L){bn(n,u+4*A,A,1,8,P,k,L),bn(g,b+4*A,A,1,8,P,k,L)}function ra(n,u,g,b,A,P,k,L){bn(n,u+4,1,A,8,P,k,L),bn(g,b+4,1,A,8,P,k,L)}function So(){this.ba=new Ln,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function oa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function aa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ja(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new O}function Hs(){this.xb=this.a=0,this.l=new xo,this.ca=new Ln,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ja,this.ab=0,this.gc=f(4,aa),this.Oc=0}function Kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function No(n,u,g,b,A,P,k){for(n=null==n?0:n[u+0],u=0;u<k;++u)A[P+u]=n+g[b+u]&255,n=A[P+u]}function sa(n,u,g,b,A,P,k){var L;if(null==n)No(null,null,g,b,A,P,k);else for(L=0;L<k;++L)A[P+L]=n[u+L]+g[b+L]&255}function hr(n,u,g,b,A,P,k){if(null==n)No(null,null,g,b,A,P,k);else{var L,D=n[u+0],E=D,$=D;for(L=0;L<k;++L)E=$+(D=n[u+L])-E,$=g[b+L]+(-256&E?0>E?0:255:E)&255,E=D,A[P+L]=$}}function Lo(n,u,g,b){var A=u.width,P=u.o;if(i(null!=n&&null!=u),0>g||0>=b||g+b>P)return null;if(!n.Cc){if(null==n.ga){var k;if(n.ga=new Kr,(k=null==n.ga)||(k=u.width*u.o,i(0==n.Gb.length),n.Gb=h(k),n.Uc=0,null==n.Gb?k=0:(n.mb=n.Gb,n.nb=n.Uc,n.rc=null,k=1),k=!k),!k){var L=n.Fa,D=n.P,E=n.qc,$=n.mb,ut=n.nb,ht=D+1,rt=E-1,Vt=(k=n.ga).l;if(i(null!=L&&null!=$&&null!=u),Fr[0]=null,Fr[1]=No,Fr[2]=sa,Fr[3]=hr,k.ca=$,k.tb=ut,k.c=u.width,k.i=u.height,i(0<k.c&&0<k.i),1>=E)u=0;else if(k.$a=L[D+0]>>0&3,k.Z=L[D+0]>>2&3,k.Lc=L[D+0]>>4&3,D=L[D+0]>>6&3,0>k.$a||1<k.$a||4<=k.Z||1<k.Lc||D)u=0;else if(Vt.put=$n,Vt.ac=Ji,Vt.bc=Kn,Vt.ma=k,Vt.width=u.width,Vt.height=u.height,Vt.Da=u.Da,Vt.v=u.v,Vt.va=u.va,Vt.j=u.j,Vt.o=u.o,k.$a)t:{i(1==k.$a),u=vn();e:for(;;){if(null==u){u=0;break t}if(i(null!=k),k.mc=u,u.c=k.c,u.i=k.i,u.l=k.l,u.l.ma=k,u.l.width=k.c,u.l.height=k.i,u.a=0,pt(u.m,L,ht,rt),!er(k.c,k.i,1,u,null)||(1==u.ab&&3==u.gc[0].hc&&cr(u.s)?(k.ic=1,L=u.c*u.i,u.Ta=null,u.Ua=0,u.V=h(L),u.Ba=0,null==u.V?(u.a=1,u=0):u=1):(k.ic=0,u=Qr(u,k.c)),!u))break e;u=1;break t}k.mc=null,u=0}else u=rt>=k.c*k.i;k=!u}if(k)return null;1!=n.ga.Lc?n.Ga=0:b=P-g}i(null!=n.ga),i(g+b<=P);t:{if(u=(L=n.ga).c,P=L.l.o,0==L.$a){if(ht=n.rc,rt=n.Vc,Vt=n.Fa,E=n.mb,$=n.nb+g*u,i((D=n.P+1+g*u)<=n.P+n.qc),0!=L.Z)for(i(null!=Fr[L.Z]),k=0;k<b;++k)Fr[L.Z](ht,rt,Vt,D,E,$,u),ht=E,rt=$,$+=u,D+=u;else for(k=0;k<b;++k)l(E,$,Vt,D,u),ht=E,rt=$,$+=u,D+=u;n.rc=ht,n.Vc=rt}else{if(i(null!=L.mc),u=g+b,i(null!=(k=L.mc)),i(u<=k.i),k.C>=u)u=1;else if(L.ic||at(),L.ic){L=k.V,ht=k.Ba;var St=k.i,K=(Vt=1,D=k.$/(rt=k.c),E=k.$%rt,$=k.m,ut=k.s,k.$),it=rt*St,jt=rt*u,Qt=ut.wc,Jt=K<jt?Mi(ut,E,D):null;i(K<=it),i(u<=St),i(cr(ut));e:for(;;){for(;!$.h&&K<jt;){if(E&Qt||(Jt=Mi(ut,E,D)),i(null!=Jt),ot($),256>(St=ln(Jt.G[0],Jt.H[0],$)))L[ht+K]=St,++K,++E>=rt&&(E=0,++D<=u&&!(D%16)&&In(k,D));else{if(!(280>St)){Vt=0;break e}St=Zn(St-256,$);var be,le=ln(Jt.G[4],Jt.H[4],$);if(ot($),!(K>=(le=Xn(rt,le=Zn(le,$)))&&it-K>=St)){Vt=0;break e}for(be=0;be<St;++be)L[ht+K+be]=L[ht+K+be-le];for(K+=St,E+=St;E>=rt;)E-=rt,++D<=u&&!(D%16)&&In(k,D);K<jt&&E&Qt&&(Jt=Mi(ut,E,D))}i($.h==z($))}In(k,D>u?u:D);break e}!Vt||$.h&&K<it?(Vt=0,k.a=$.h?5:3):k.$=K,u=Vt}else u=Mn(k,k.V,k.Ba,k.c,k.i,u,mo);if(!u){b=0;break t}}g+b>=P&&(n.Cc=1),b=1}if(!b)return null;if(n.Cc&&(null!=(b=n.ga)&&(b.mc=null),n.ga=null,0<n.Ga))return alert("todo:WebPDequantizeLevels"),null}return n.nb+g*A}function p(n,u,g,b,A,P){for(;0<A--;){var k,L=n,D=u+(g?1:0),E=n,$=u+(g?0:3);for(k=0;k<b;++k){var ut=E[$+4*k];255!=ut&&(L[D+4*k+0]=L[D+4*k+0]*(ut*=32897)>>23,L[D+4*k+1]=L[D+4*k+1]*ut>>23,L[D+4*k+2]=L[D+4*k+2]*ut>>23)}u+=P}}function C(n,u,g,b,A){for(;0<b--;){var P;for(P=0;P<g;++P){var k=n[u+2*P+0],L=15&(E=n[u+2*P+1]),D=4369*L,E=(240&E|E>>4)*D>>16;n[u+2*P+0]=(240&k|k>>4)*D>>16&240|(15&k|k<<4)*D>>16>>4&15,n[u+2*P+1]=240&E|L}u+=A}}function U(n,u,g,b,A,P,k,L){var D,E,$=255;for(E=0;E<A;++E){for(D=0;D<b;++D){var ut=n[u+D];P[k+4*D]=ut,$&=ut}u+=g,k+=L}return 255!=$}function W(n,u,g,b,A){var P;for(P=0;P<A;++P)g[b+P]=n[u+P]>>8}function at(){Mr=p,Ro=C,Ga=U,Kc=W}function Nt(n,u,g){J[n]=function(b,A,P,k,L,D,E,$,ut,ht,rt,Vt,St,K,it,jt,Qt){var Jt,be=Qt-1>>1,le=L[D+0]|E[$+0]<<16,qe=ut[ht+0]|rt[Vt+0]<<16;i(null!=b);var de=3*le+qe+131074>>2;for(u(b[A+0],255&de,de>>16,St,K),null!=P&&u(P[k+0],255&(de=3*qe+le+131074>>2),de>>16,it,jt),Jt=1;Jt<=be;++Jt){var li=L[D+Jt]|E[$+Jt]<<16,fi=ut[ht+Jt]|rt[Vt+Jt]<<16,ai=le+li+qe+fi+524296,ni=ai+2*(li+qe)>>3;de=ni+le>>1,le=(ai=ai+2*(le+fi)>>3)+li>>1,u(b[A+2*Jt-1],255&de,de>>16,St,K+(2*Jt-1)*g),u(b[A+2*Jt-0],255&le,le>>16,St,K+(2*Jt-0)*g),null!=P&&(le=ni+fi>>1,u(P[k+2*Jt-1],255&(de=ai+qe>>1),de>>16,it,jt+(2*Jt-1)*g),u(P[k+2*Jt+0],255&le,le>>16,it,jt+(2*Jt+0)*g)),le=li,qe=fi}1&Qt||(u(b[A+Qt-1],255&(de=3*le+qe+131074>>2),de>>16,St,K+(Qt-1)*g),null!=P&&u(P[k+Qt-1],255&(de=3*qe+le+131074>>2),de>>16,it,jt+(Qt-1)*g))}}function Kt(){Hn[Ws]=lh,Hn[Qa]=hl,Hn[uu]=ul,Hn[Gs]=dl,Hn[Qs]=pl,Hn[nl]=gu,Hn[hu]=mu,Hn[rl]=hl,Hn[ol]=dl,Hn[$s]=pl,Hn[$a]=gu}function _e(n){return n&~_u?0>n?0:255:n>>fl}function De(n,u){return _e((19077*n>>8)+(26149*u>>8)-14234)}function We(n,u,g){return _e((19077*n>>8)-(6419*u>>8)-(13320*g>>8)+8708)}function Qe(n,u){return _e((19077*n>>8)+(33050*u>>8)-17685)}function ii(n,u,g,b,A){b[A+0]=De(n,g),b[A+1]=We(n,u,g),b[A+2]=Qe(n,u)}function Ai(n,u,g,b,A){b[A+0]=Qe(n,u),b[A+1]=We(n,u,g),b[A+2]=De(n,g)}function ki(n,u,g,b,A){var P=We(n,u,g);u=P<<3&224|Qe(n,u)>>3,b[A+0]=248&De(n,g)|P>>5,b[A+1]=u}function Oi(n,u,g,b,A){var P=240&Qe(n,u)|15;b[A+0]=240&De(n,g)|We(n,u,g)>>4,b[A+1]=P}function Xi(n,u,g,b,A){b[A+0]=255,ii(n,u,g,b,A+1)}function Hi(n,u,g,b,A){Ai(n,u,g,b,A),b[A+3]=255}function En(n,u,g,b,A){ii(n,u,g,b,A),b[A+3]=255}function gn(n,u){return 0>n?0:n>u?u:n}function dr(n,u,g){J[n]=function(b,A,P,k,L,D,E,$,ut){for(var ht=$+(-2&ut)*g;$!=ht;)u(b[A+0],P[k+0],L[D+0],E,$),u(b[A+1],P[k+0],L[D+0],E,$+g),A+=2,++k,++D,$+=2*g;1&ut&&u(b[A+0],P[k+0],L[D+0],E,$)}}function Va(n,u,g){return 0==g?0==n?0==u?6:5:0==u?4:0:g}function ca(n,u,g,b,A){switch(n>>>30){case 3:Eo(u,g,b,A,0);break;case 2:ga(u,g,b,A);break;case 1:Un(u,g,b,A)}}function la(n,u){var g,b,A=u.M,P=u.Nb,k=n.oc,L=n.pc+40,D=n.oc,E=n.pc+584,$=n.oc,ut=n.pc+600;for(g=0;16>g;++g)k[L+32*g-1]=129;for(g=0;8>g;++g)D[E+32*g-1]=129,$[ut+32*g-1]=129;for(0<A?k[L-1-32]=D[E-1-32]=$[ut-1-32]=129:(d(k,L-32-1,127,21),d(D,E-32-1,127,9),d($,ut-32-1,127,9)),b=0;b<n.za;++b){var ht=u.ya[u.aa+b];if(0<b){for(g=-1;16>g;++g)l(k,L+32*g-4,k,L+32*g+12,4);for(g=-1;8>g;++g)l(D,E+32*g-4,D,E+32*g+4,4),l($,ut+32*g-4,$,ut+32*g+4,4)}var rt=n.Gd,Vt=n.Hd+b,St=ht.ad,K=ht.Hc;if(0<A&&(l(k,L-32,rt[Vt].y,0,16),l(D,E-32,rt[Vt].f,0,8),l($,ut-32,rt[Vt].ea,0,8)),ht.Za){var it=k,jt=L-32+16;for(0<A&&(b>=n.za-1?d(it,jt,rt[Vt].y[15],4):l(it,jt,rt[Vt+1].y,0,4)),g=0;4>g;g++)it[jt+128+g]=it[jt+256+g]=it[jt+384+g]=it[jt+0+g];for(g=0;16>g;++g,K<<=2)rr[ht.Ob[g]](it=k,jt=L+q[g]),ca(K,St,16*+g,it,jt)}else if(it=Va(b,A,ht.Ob[0]),eo[it](k,L),0!=K)for(g=0;16>g;++g,K<<=2)ca(K,St,16*+g,k,L+q[g]);for(g=ht.Gc,it=Va(b,A,ht.Dd),Or[it](D,E),Or[it]($,ut),K=St,it=D,jt=E,255&(ht=g>>0)&&(170&ht?Dr(K,256,it,jt):fr(K,256,it,jt)),ht=$,K=ut,255&(g>>=8)&&(170&g?Dr(St,320,ht,K):fr(St,320,ht,K)),A<n.Ub-1&&(l(rt[Vt].y,0,k,L+480,16),l(rt[Vt].f,0,D,E+224,8),l(rt[Vt].ea,0,$,ut+224,8)),rt=n.sa,Vt=n.ta+16*b+16*P*n.R,St=n.qa,ht=n.ra+8*b+(g=8*P*n.B),K=n.Ha,it=n.Ia+8*b+g,g=0;16>g;++g)l(rt,Vt+g*n.R,k,L+32*g,16);for(g=0;8>g;++g)l(St,ht+g*n.B,D,E+32*g,8),l(K,it+g*n.B,$,ut+32*g,8)}}function Zo(n,u,g,b,A,P,k,L,D){var E=[0],$=[0],ut=0,ht=null!=D?D.kd:0,rt=null!=D?D:new oa;if(null==n||12>g)return 7;rt.data=n,rt.w=u,rt.ha=g,u=[u],g=[g],rt.gb=[rt.gb];t:{var Vt=u,St=g,K=rt.gb;if(i(null!=n),i(null!=St),i(null!=K),K[0]=0,12<=St[0]&&!o(n,Vt[0],"RIFF")){if(o(n,Vt[0]+8,"WEBP")){K=3;break t}var it=ve(n,Vt[0]+4);if(12>it||4294967286<it){K=3;break t}if(ht&&it>St[0]-8){K=7;break t}K[0]=it,Vt[0]+=12,St[0]-=12}K=0}if(0!=K)return K;for(it=0<rt.gb[0],g=g[0];;){t:{var jt=n;St=u,K=g;var Qt=E,Jt=$,be=Vt=[0];if((de=ut=[ut])[0]=0,8>K[0])K=7;else{if(!o(jt,St[0],"VP8X")){if(10!=ve(jt,St[0]+4)){K=3;break t}if(18>K[0]){K=7;break t}var le=ve(jt,St[0]+8),qe=1+fe(jt,St[0]+12);if(2147483648<=qe*(jt=1+fe(jt,St[0]+15))){K=3;break t}null!=be&&(be[0]=le),null!=Qt&&(Qt[0]=qe),null!=Jt&&(Jt[0]=jt),St[0]+=18,K[0]-=18,de[0]=1}K=0}}if(ut=ut[0],0!=K)return K;if(St=!!(2&(Vt=Vt[0])),!it&&ut)return 3;if(null!=P&&(P[0]=!!(16&Vt)),null!=k&&(k[0]=St),null!=L&&(L[0]=0),k=E[0],Vt=$[0],ut&&St&&null==D){K=0;break}if(4>g){K=7;break}if(it&&ut||!it&&!ut&&!o(n,u[0],"ALPH")){g=[g],rt.na=[rt.na],rt.P=[rt.P],rt.Sa=[rt.Sa];t:{K=u,it=g;var de=rt.gb;Qt=rt.na,Jt=rt.P,be=rt.Sa,qe=22,i(null!=(le=n)),i(null!=it),jt=K[0];var li=it[0];for(i(null!=Qt),i(null!=be),Qt[0]=null,Jt[0]=null,be[0]=0;;){if(K[0]=jt,it[0]=li,8>li){K=7;break t}var fi=ve(le,jt+4);if(4294967286<fi){K=3;break t}var ai=8+fi+1&-2;if(qe+=ai,0<de&&qe>de){K=3;break t}if(!o(le,jt,"VP8 ")||!o(le,jt,"VP8L")){K=0;break t}if(li[0]<ai){K=7;break t}o(le,jt,"ALPH")||(Qt[0]=le,Jt[0]=jt+8,be[0]=fi),jt+=ai,li-=ai}}if(g=g[0],rt.na=rt.na[0],rt.P=rt.P[0],rt.Sa=rt.Sa[0],0!=K)break}g=[g],rt.Ja=[rt.Ja],rt.xa=[rt.xa];t:if(de=n,K=u,it=g,Qt=rt.gb[0],Jt=rt.Ja,be=rt.xa,le=K[0],jt=!o(de,le,"VP8 "),qe=!o(de,le,"VP8L"),i(null!=de),i(null!=it),i(null!=Jt),i(null!=be),8>it[0])K=7;else{if(jt||qe){if(de=ve(de,le+4),12<=Qt&&de>Qt-12){K=3;break t}if(ht&&de>it[0]-8){K=7;break t}Jt[0]=de,K[0]+=8,it[0]-=8,be[0]=qe}else be[0]=5<=it[0]&&47==de[le+0]&&!(de[le+4]>>5),Jt[0]=it[0];K=0}if(g=g[0],rt.Ja=rt.Ja[0],rt.xa=rt.xa[0],u=u[0],0!=K)break;if(4294967286<rt.Ja)return 3;if(null==L||St||(L[0]=rt.xa?2:1),k=[k],Vt=[Vt],rt.xa){if(5>g){K=7;break}L=k,ht=Vt,St=P,null==n||5>g?n=0:5<=g&&47==n[u+0]&&!(n[u+4]>>5)?(it=[0],de=[0],Qt=[0],pt(Jt=new S,n,u,g),Ee(Jt,it,de,Qt)?(null!=L&&(L[0]=it[0]),null!=ht&&(ht[0]=de[0]),null!=St&&(St[0]=Qt[0]),n=1):n=0):n=0}else{if(10>g){K=7;break}L=Vt,null==n||10>g||!Ma(n,u+3,g-3)?n=0:(ht=n[u+0]|n[u+1]<<8|n[u+2]<<16,St=16383&(n[u+7]<<8|n[u+6]),n=16383&(n[u+9]<<8|n[u+8]),1&ht||3<(ht>>1&7)||!(ht>>4&1)||ht>>5>=rt.Ja||!St||!n?n=0:(k&&(k[0]=St),L&&(L[0]=n),n=1))}if(!n||(k=k[0],Vt=Vt[0],ut&&(E[0]!=k||$[0]!=Vt)))return 3;null!=D&&(D[0]=rt,D.offset=u-D.w,i(4294967286>u-D.w),i(D.offset==D.ha-g));break}return 0==K||7==K&&ut&&null==D?(null!=P&&(P[0]|=null!=rt.na&&0<rt.na.length),null!=b&&(b[0]=k),null!=A&&(A[0]=Vt),0):K}function ua(n,u,g){var b=u.width,A=u.height,P=0,k=0,L=b,D=A;if(u.Da=null!=n&&0<n.Da,u.Da&&(L=n.cd,D=n.bd,P=n.v,k=n.j,11>g||(P&=-2,k&=-2),0>P||0>k||0>=L||0>=D||P+L>b||k+D>A))return 0;if(u.v=P,u.j=k,u.va=P+L,u.o=k+D,u.U=L,u.T=D,u.da=null!=n&&0<n.da,u.da){if(!Je(L,D,g=[n.ib],P=[n.hb]))return 0;u.ib=g[0],u.hb=P[0]}return u.ob=null!=n&&n.ob,u.Kb=null==n||!n.Sd,u.da&&(u.ob=u.ib<3*b/4&&u.hb<3*A/4,u.Kb=0),1}function ha(n){if(null==n)return 2;if(11>n.S){var u=n.f.RGBA;u.fb+=(n.height-1)*u.A,u.A=-u.A}else(u=n.f.kb).O+=((n=n.height)-1)*u.fa,u.fa=-u.fa,u.N+=(n-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(n-1>>1)*u.Db,u.Db=-u.Db,null!=u.F&&(u.J+=(n-1)*u.lb,u.lb=-u.lb);return 0}function Do(n,u,g,b){if(null==b||0>=n||0>=u)return 2;if(null!=g){if(g.Da){var A=g.cd,P=g.bd,k=-2&g.v,L=-2&g.j;if(0>k||0>L||0>=A||0>=P||k+A>n||L+P>u)return 2;n=A,u=P}if(g.da){if(!Je(n,u,A=[g.ib],P=[g.hb]))return 2;n=A[0],u=P[0]}}b.width=n,b.height=u;t:{var D=b.width,E=b.height;if(n=b.S,0>=D||0>=E||!(n>=Ws&&13>n))n=2;else{if(0>=b.Rd&&null==b.sd){k=P=A=u=0;var $=(L=D*ke[n])*E;if(11>n||(P=(E+1)/2*(u=(D+1)/2),12==n&&(k=(A=D)*E)),null==(E=h($+2*P+k))){n=1;break t}b.sd=E,11>n?((D=b.f.RGBA).eb=E,D.fb=0,D.A=L,D.size=$):((D=b.f.kb).y=E,D.O=0,D.fa=L,D.Fd=$,D.f=E,D.N=0+$,D.Ab=u,D.Cd=P,D.ea=E,D.W=0+$+P,D.Db=u,D.Ed=P,12==n&&(D.F=E,D.J=0+$+2*P),D.Tc=k,D.lb=A)}if(u=1,P=b.width,k=b.height,(A=b.S)>=Ws&&13>A)if(11>A)n=b.f.RGBA,u&=(L=Math.abs(n.A))*(k-1)+P<=n.size,u&=L>=P*ke[A],u&=null!=n.eb;else{n=b.f.kb,L=(P+1)/2,$=(k+1)/2,D=Math.abs(n.fa),E=Math.abs(n.Ab);var ut=Math.abs(n.Db),ht=Math.abs(n.lb);u&=D*(k-1)+P<=n.Fd,u&=E*($-1)+L<=n.Cd,u=(u&=ut*($-1)+L<=n.Ed)&D>=P&E>=L&ut>=L,u&=null!=n.y,u&=null!=n.f,u&=null!=n.ea,12==A&&(u&=ht>=P,u&=ht*(k-1)+P<=n.Tc,u&=null!=n.F)}else u=0;n=u?0:2}}return 0!=n||null!=g&&g.fd&&(n=ha(b)),n}var hn=64,Io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mo=24,Oo=32,da=8,dn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),J.Predictor0=function(){return 4278190080},J.Predictor1=function(n){return n},J.Predictor2=function(n,u,g){return u[g+0]},J.Predictor3=function(n,u,g){return u[g+1]},J.Predictor4=function(n,u,g){return u[g-1]},J.Predictor5=function(n,u,g){return ue(ue(n,u[g+1]),u[g+0])},J.Predictor6=function(n,u,g){return ue(n,u[g-1])},J.Predictor7=function(n,u,g){return ue(n,u[g+0])},J.Predictor8=function(n,u,g){return ue(u[g-1],u[g+0])},J.Predictor9=function(n,u,g){return ue(u[g+0],u[g+1])},J.Predictor10=function(n,u,g){return ue(ue(n,u[g-1]),ue(u[g+0],u[g+1]))},J.Predictor11=function(n,u,g){var b=u[g+0];return 0>=Ge(b>>24&255,n>>24&255,(u=u[g-1])>>24&255)+Ge(b>>16&255,n>>16&255,u>>16&255)+Ge(b>>8&255,n>>8&255,u>>8&255)+Ge(255&b,255&n,255&u)?b:n},J.Predictor12=function(n,u,g){var b=u[g+0];return(Le((n>>24&255)+(b>>24&255)-((u=u[g-1])>>24&255))<<24|Le((n>>16&255)+(b>>16&255)-(u>>16&255))<<16|Le((n>>8&255)+(b>>8&255)-(u>>8&255))<<8|Le((255&n)+(255&b)-(255&u)))>>>0},J.Predictor13=function(n,u,g){var b=u[g-1];return(He((n=ue(n,u[g+0]))>>24&255,b>>24&255)<<24|He(n>>16&255,b>>16&255)<<16|He(n>>8&255,b>>8&255)<<8|He(n>>0&255,b>>0&255))>>>0};var zs=J.PredictorAdd0;J.PredictorAdd1=Ke,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var pa=J.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(n){return n>>8&255},function(n){return n}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(n){return n},function(n){return n>>8&255});var Wa,qn=J.ColorIndexInverseTransform,fa=J.MapARGB,Ys=J.VP8LColorIndexInverseTransformAlpha,Js=J.MapAlpha,Lr=J.VP8LPredictorsAdd=[];Lr.length=16,(J.VP8LPredictors=[]).length=16,(J.VP8LPredictorsAdd_C=[]).length=16,(J.VP8LPredictors_C=[]).length=16;var yn,Rn,Zr,nr,pr,Fo,Bn,Eo,ga,Dr,Un,fr,Xr,qo,to,Ir,ma,xn,gr,_i,vi,Di,Ri,mr,Mr,Ro,Ga,Kc,Xc=h(511),cu=h(2041),lu=h(225),tl=h(767),el=0,il=cu,Vs=lu,wn=tl,jn=Xc,Ws=0,Qa=1,uu=2,Gs=3,Qs=4,nl=5,hu=6,rl=7,ol=8,$s=9,$a=10,Ku=[2,3,7],Xu=[3,3,11],du=[280,256,256,256,40],th=[0,1,1,1,0],eh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ih=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rh=8,al=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ka=null,oh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ks=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ah=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],rr=[],Or=[],ch=1,ll=2,Fr=[],Hn=[];Nt("UpsampleRgbLinePair",ii,3),Nt("UpsampleBgrLinePair",Ai,3),Nt("UpsampleRgbaLinePair",En,4),Nt("UpsampleBgraLinePair",Hi,4),Nt("UpsampleArgbLinePair",Xi,4),Nt("UpsampleRgba4444LinePair",Oi,2),Nt("UpsampleRgb565LinePair",ki,2);var lh=J.UpsampleRgbLinePair,ul=J.UpsampleBgrLinePair,hl=J.UpsampleRgbaLinePair,dl=J.UpsampleBgraLinePair,pl=J.UpsampleArgbLinePair,gu=J.UpsampleRgba4444LinePair,mu=J.UpsampleRgb565LinePair,Xa=16,Xs=1<<Xa-1,ts=-227,tc=482,fl=6,_u=(256<<fl)-1,gl=0,s=h(256),c=h(256),e=h(256),r=h(256),m=h(tc-ts),y=h(tc-ts);dr("YuvToRgbRow",ii,3),dr("YuvToBgrRow",Ai,3),dr("YuvToRgbaRow",En,4),dr("YuvToBgraRow",Hi,4),dr("YuvToArgbRow",Xi,4),dr("YuvToRgba4444Row",Oi,2),dr("YuvToRgb565Row",ki,2);var q=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nt=[0,2,8],Wt=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(n,u,g,b,A){var P=Qa,k=new So,L=new Ln;k.ba=L,L.S=P,L.width=[L.width],L.height=[L.height];var D=L.width,E=L.height,$=new sr;if(null==$||null==n)var ut=2;else i(null!=$),ut=Zo(n,u,g,$.width,$.height,$.Pd,$.Qd,$.format,null);if(0!=ut?D=0:(null!=D&&(D[0]=$.width[0]),null!=E&&(E[0]=$.height[0]),D=1),D){L.width=L.width[0],L.height=L.height[0],null!=b&&(b[0]=L.width),null!=A&&(A[0]=L.height);t:{if(b=new xo,(A=new oa).data=n,A.w=u,A.ha=g,A.kd=1,u=[0],i(null!=A),(0==(n=Zo(A.data,A.w,A.ha,null,null,null,u,null,A))||7==n)&&u[0]&&(n=4),0==(u=n)){if(i(null!=k),b.data=A.data,b.w=A.w+A.offset,b.ha=A.ha-A.offset,b.put=$n,b.ac=Ji,b.bc=Kn,b.ma=k,A.xa){if(null==(n=vn())){k=1;break t}if(function(ht,rt){var Vt=[0],St=[0],K=[0];e:for(;;){if(null==ht)return 0;if(null==rt)return ht.a=2,0;if(ht.l=rt,ht.a=0,pt(ht.m,rt.data,rt.w,rt.ha),!Ee(ht.m,Vt,St,K)){ht.a=3;break e}if(ht.xb=ll,rt.width=Vt[0],rt.height=St[0],!er(Vt[0],St[0],1,ht,null))break e;return 1}return i(0!=ht.a),0}(n,b)){if(b=0==(u=Do(b.width,b.height,k.Oa,k.ba))){e:{b=n;i:for(;;){if(null==b){b=0;break e}if(i(null!=b.s.yc),i(null!=b.s.Ya),i(0<b.s.Wb),i(null!=(g=b.l)),i(null!=(A=g.ma)),0!=b.xb){if(b.ca=A.ba,b.tb=A.tb,i(null!=b.ca),!ua(A.Oa,g,Gs)){b.a=2;break i}if(!Qr(b,g.width)||g.da)break i;if((g.da||si(b.ca.S))&&at(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=b.ca.f.kb.F&&at()),b.Pb&&0<b.s.ua&&null==b.s.vb.X&&!Be(b.s.vb,b.s.Wa.Xa)){b.a=1;break i}b.xb=0}if(!Mn(b,b.V,b.Ba,b.c,b.i,g.o,go))break i;A.Dc=b.Ma,b=1;break e}i(0!=b.a),b=0}b=!b}b&&(u=n.a)}else u=n.a}else{if(null==(n=new Ns)){k=1;break t}if(n.Fa=A.na,n.P=A.P,n.qc=A.Sa,Oa(n,b)){if(0==(u=Do(b.width,b.height,k.Oa,k.ba))){if(n.Aa=0,g=k.Oa,i(null!=(A=n)),null!=g){if(0<(D=0>(D=g.Md)?0:100<D?255:255*D/100)){for(E=$=0;4>E;++E)12>(ut=A.pb[E]).lc&&(ut.ia=D*Wt[0>ut.lc?0:ut.lc]>>3),$|=ut.ia;$&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=g.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function Ls(n,u){if(null==n)return 0;if(null==u)return Zi(n,2,"NULL VP8Io parameter in VP8Decode().");if(!n.cb&&!Oa(n,u))return 0;if(i(n.cb),null==u.ac||u.ac(u)){u.ob&&(n.L=0);var g=nt[n.L];if(2==n.L?(n.yb=0,n.zb=0):(n.yb=u.v-g>>4,n.zb=u.j-g>>4,0>n.yb&&(n.yb=0),0>n.zb&&(n.zb=0)),n.Va=u.o+15+g>>4,n.Hb=u.va+15+g>>4,n.Hb>n.za&&(n.Hb=n.za),n.Va>n.Ub&&(n.Va=n.Ub),0<n.L){var b=n.ed;for(g=0;4>g;++g){var A;if(n.Qa.Cb){var P=n.Qa.Lb[g];n.Qa.Fb||(P+=b.Tb)}else P=b.Tb;for(A=0;1>=A;++A){var k=n.gd[g][A],L=P;if(b.Pc&&(L+=b.vd[0],A&&(L+=b.od[0])),0<(L=0>L?0:63<L?63:L)){var D=L;0<b.wb&&(D=4<b.wb?D>>2:D>>1)>9-b.wb&&(D=9-b.wb),1>D&&(D=1),k.dd=D,k.tc=2*L+D,k.ld=40<=L?2:15<=L?1:0}else k.tc=0;k.La=A}}}g=0}else Zi(n,6,"Frame setup failed"),g=n.a;if(g=0==g){if(g){n.$c=0,0<n.Aa||(n.Ic=1);t:{b=4*(D=n.za);var E=32*D,$=D+1,ut=0<n.L?D*(0<n.Aa?2:1):0,ht=(2==n.Aa?2:1)*D;if((k=b+832+(A=3*(16*(g=n.Ic)+nt[n.L])/2*E)+(P=null!=n.Fa&&0<n.Fa.length?n.Kc.c*n.Kc.i:0))!=k)g=0;else{if(k>n.Vb){if(n.Vb=0,n.Ec=h(k),n.Fc=0,null==n.Ec){g=Zi(n,1,"no memory during frame initialization.");break t}n.Vb=k}L=n.Fc,n.Ac=k=n.Ec,n.Bc=L,L+=b,n.Gd=f(E,Ia),n.Hd=0,n.rb=f($+1,Da),n.sb=1,n.wa=ut?f(ut,yo):null,n.Y=0,n.D.Nb=0,n.D.wa=n.wa,n.D.Y=n.Y,0<n.Aa&&(n.D.Y+=D),i(!0),n.oc=k,n.pc=L,L+=832,n.ya=f(ht,$o),n.aa=0,n.D.ya=n.ya,n.D.aa=n.aa,2==n.Aa&&(n.D.aa+=D),n.R=16*D,n.B=8*D,D=(E=nt[n.L])*n.R,E=E/2*n.B,n.sa=k,n.ta=L+D,n.qa=n.sa,n.ra=n.ta+16*g*n.R+E,n.Ha=n.qa,n.Ia=n.ra+8*g*n.B+E,n.$c=0,L+=A,n.mb=P?k:null,n.nb=P?L:null,i(L+P<=n.Fc+n.Vb),Ko(n),d(n.Ac,n.Bc,0,b),g=1}}if(g){if(u.ka=0,u.y=n.sa,u.O=n.ta,u.f=n.qa,u.N=n.ra,u.ea=n.Ha,u.Vd=n.Ia,u.fa=n.R,u.Rc=n.B,u.F=null,u.J=0,!el){for(g=-255;255>=g;++g)Xc[255+g]=0>g?-g:g;for(g=-1020;1020>=g;++g)cu[1020+g]=-128>g?-128:127<g?127:g;for(g=-112;112>=g;++g)lu[112+g]=-16>g?-16:15<g?15:g;for(g=-255;510>=g;++g)tl[255+g]=0>g?0:255<g?255:g;el=1}Bn=Ds,Eo=Cr,Dr=qa,Un=Zs,fr=Ra,ga=Ea,Xr=Po,qo=$r,to=js,Ir=Nr,ma=Us,xn=ko,gr=na,_i=ra,vi=kr,Di=lr,Ri=Sr,mr=$c,rr[0]=ir,rr[1]=Fn,rr[2]=Os,rr[3]=Fs,rr[4]=ta,rr[5]=Ao,rr[6]=Ha,rr[7]=Co,rr[8]=Es,rr[9]=Gc,eo[0]=ja,eo[1]=Ua,eo[2]=rn,eo[3]=ti,eo[4]=ji,eo[5]=Is,eo[6]=Ms,Or[0]=Pr,Or[1]=Ba,Or[2]=qs,Or[3]=ea,Or[4]=To,Or[5]=Qc,Or[6]=za,g=1}else g=0}g&&(g=function(rt,Vt){for(rt.M=0;rt.M<rt.Va;++rt.M){var St,K=rt.Jc[rt.M&rt.Xb],it=rt.m,jt=rt;for(St=0;St<jt.za;++St){var Qt=it,Jt=jt,be=Jt.Ac,le=Jt.Bc+4*St,qe=Jt.zc,de=Jt.ya[Jt.aa+St];if(de.$b=Jt.Qa.Bb?xt(Qt,Jt.Pa.jb[0])?2+xt(Qt,Jt.Pa.jb[2]):xt(Qt,Jt.Pa.jb[1]):0,Jt.kc&&(de.Ad=xt(Qt,Jt.Bd)),de.Za=!xt(Qt,145)+0,de.Za){var li=de.Ob,fi=0;for(Jt=0;4>Jt;++Jt){var ai,ni=qe[0+Jt];for(ai=0;4>ai;++ai){for(var yi=cl[xt(Qt,(ni=fu[be[le+ai]][ni])[0])];0<yi;)yi=cl[2*yi+xt(Qt,ni[yi])];be[le+ai]=ni=-yi}l(li,fi,be,le,4),fi+=4,qe[0+Jt]=ni}}else ni=xt(Qt,156)?xt(Qt,128)?1:3:xt(Qt,163)?2:0,de.Ob[0]=ni,d(be,le,ni,4),d(qe,0,ni,4);de.Dd=xt(Qt,142)?xt(Qt,114)?xt(Qt,183)?1:3:2:0}if(jt.m.Ka)return Zi(rt,7,"Premature end-of-partition0 encountered.");for(;rt.ja<rt.za;++rt.ja){if(jt=K,Qt=(it=rt).rb[it.sb-1],be=it.rb[it.sb+it.ja],St=it.ya[it.aa+it.ja],le=it.kc?St.Ad:0)Qt.la=be.la=0,St.Za||(Qt.Na=be.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var bi,$e;if(Qt=be,be=jt,le=it.Pa.Xc,de=it.pb[(qe=it.ya[it.aa+it.ja]).$b],fi=it.rb[it.sb-1],ni=ai=0,d(Jt=qe.ad,li=0,0,384),qe.Za)var zi=0,An=le[3];else{yi=h(16);var Yi=Qt.Na+fi.Na;if(Yi=Ka(be,le[1],Yi,de.Eb,0,yi,0),Qt.Na=fi.Na=(0<Yi)+0,1<Yi)Bn(yi,0,Jt,li);else{var Cn=yi[0]+3>>3;for(yi=0;256>yi;yi+=16)Jt[li+yi]=Cn}zi=1,An=le[0]}var gi=15&Qt.la,zn=15&fi.la;for(yi=0;4>yi;++yi){var Yn=1&zn;for(Cn=$e=0;4>Cn;++Cn)gi=gi>>1|(Yn=(Yi=Ka(be,An,Yi=Yn+(1&gi),de.Sc,zi,Jt,li))>zi)<<7,$e=$e<<2|(3<Yi?3:1<Yi?2:0!=Jt[li+0]),li+=16;gi>>=4,zn=zn>>1|Yn<<7,ai=(ai<<8|$e)>>>0}for(An=gi,zi=zn>>4,bi=0;4>bi;bi+=2){for($e=0,gi=Qt.la>>4+bi,zn=fi.la>>4+bi,yi=0;2>yi;++yi){for(Yn=1&zn,Cn=0;2>Cn;++Cn)gi=gi>>1|(Yn=0<(Yi=Ka(be,le[2],Yi=Yn+(1&gi),de.Qc,0,Jt,li)))<<3,$e=$e<<2|(3<Yi?3:1<Yi?2:0!=Jt[li+0]),li+=16;gi>>=2,zn=zn>>1|Yn<<5}ni|=$e<<4*bi,An|=gi<<4<<bi,zi|=(240&zn)<<bi}Qt.la=An,fi.la=zi,qe.Hc=ai,qe.Gc=ni,qe.ia=43690&ni?0:de.ia,le=!(ai|ni)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[St.$b][St.Za],it.wa[it.Y+it.ja].La|=!le),jt.Ka)return Zi(rt,7,"Premature end-of-file encountered.")}if(Ko(rt),it=Vt,jt=1,St=(K=rt).D,Qt=0<K.L&&K.M>=K.zb&&K.M<=K.Va,0==K.Aa)t:{if(St.M=K.M,St.uc=Qt,la(K,St),jt=1,St=($e=K.D).Nb,Qt=(ni=nt[K.L])*K.R,le=K.sa,qe=K.ta-Qt+(yi=16*St*K.R),de=K.qa,Jt=K.ra-(be=ni/2*K.B)+(Cn=8*St*K.B),li=K.Ha,fi=K.Ia-be+Cn,zn=0==(gi=$e.M),ai=gi>=K.Va-1,2==K.Aa&&la(K,$e),$e.uc)for(Yn=(Yi=K).D.M,i(Yi.D.uc),$e=Yi.yb;$e<Yi.Hb;++$e){An=Yn;var tn=(on=(Fi=Yi).D).Nb,on=on.wa[on.Y+(zi=$e)],mn=Fi.sa,or=Fi.ta+16*tn*(bi=Fi.R)+16*zi,Er=on.dd,en=on.tc;if(0!=en)if(i(3<=en),1==Fi.L)0<zi&&Di(mn,or,bi,en+4),on.La&&mr(mn,or,bi,en),0<An&&vi(mn,or,bi,en+4),on.La&&Ri(mn,or,bi,en);else{var io=Fi.B,_a=Fi.qa,es=Fi.ra+8*tn*io+8*zi,Bo=Fi.Ha,Fi=Fi.Ia+8*tn*io+8*zi;tn=on.ld,0<zi&&(qo(mn,or,bi,en+4,Er,tn),Ir(_a,es,Bo,Fi,io,en+4,Er,tn)),on.La&&(xn(mn,or,bi,en,Er,tn),_i(_a,es,Bo,Fi,io,en,Er,tn)),0<An&&(Xr(mn,or,bi,en+4,Er,tn),to(_a,es,Bo,Fi,io,en+4,Er,tn)),on.La&&(ma(mn,or,bi,en,Er,tn),gr(_a,es,Bo,Fi,io,en,Er,tn))}}if(K.ia&&alert("todo:DitherRow"),null!=it.put){if($e=16*gi,gi=16*(gi+1),zn?(it.y=K.sa,it.O=K.ta+yi,it.f=K.qa,it.N=K.ra+Cn,it.ea=K.Ha,it.W=K.Ia+Cn):($e-=ni,it.y=le,it.O=qe,it.f=de,it.N=Jt,it.ea=li,it.W=fi),ai||(gi-=ni),gi>it.o&&(gi=it.o),it.F=null,it.J=null,null!=K.Fa&&0<K.Fa.length&&$e<gi&&(it.J=Lo(K,it,$e,gi-$e),it.F=K.mb,null==it.F&&0==it.F.length)){jt=Zi(K,3,"Could not decode alpha data.");break t}$e<it.j&&(ni=it.j-$e,$e=it.j,i(!(1&ni)),it.O+=K.R*ni,it.N+=K.B*(ni>>1),it.W+=K.B*(ni>>1),null!=it.F&&(it.J+=it.width*ni)),$e<gi&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,null!=it.F&&(it.J+=it.v),it.ka=$e-it.j,it.U=it.va-it.v,it.T=gi-$e,jt=it.put(it))}St+1!=K.Ic||ai||(l(K.sa,K.ta-Qt,le,qe+16*K.R,Qt),l(K.qa,K.ra-be,de,Jt+8*K.B,be),l(K.Ha,K.Ia-be,li,fi+8*K.B,be))}if(!jt)return Zi(rt,6,"Output aborted.")}return 1}(n,u)),null!=u.bc&&u.bc(u),g&=1}return g?(n.cb=0,g):0})(n,b)||(u=n.a)}}else u=n.a}0==u&&null!=k.Oa&&k.Oa.fd&&(u=ha(k.ba))}k=u}P=0!=k?null:11>P?L.f.RGBA.eb:L.f.kb.y}else P=null;return P};var ke=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function w(J,qt){for(var It="",F=0;F<4;F++)It+=String.fromCharCode(J[qt++]);return It}function T(J,qt){return(J[qt+0]<<0|J[qt+1]<<8|J[qt+2]<<16)>>>0}function N(J,qt){return(J[qt+0]<<0|J[qt+1]<<8|J[qt+2]<<16|J[qt+3]<<24)>>>0}new v;var Z=[0],x=[0],R=[],M=new v,H=a,I=function(J,qt){var It={},F=0,O=!1,G=0,V=0;if(It.frames=[],!function(j,z,Q,ot){for(var mt=0;mt<4;mt++)if(j[z+mt]!="RIFF".charCodeAt(mt))return!0;return!1}(J,qt)){var Pt,wt;for(N(J,qt+=4),qt+=8;qt<J.length;){var Ft=w(J,qt),pt=N(J,qt+=4);qt+=4;var Et=pt+(1&pt);switch(Ft){case"VP8 ":case"VP8L":void 0===It.frames[F]&&(It.frames[F]={}),(S=It.frames[F]).src_off=O?V:qt-8,S.src_size=G+pt+8,F++,O&&(O=!1,G=0,V=0);break;case"VP8X":(S=It.header={}).feature_flags=J[qt];var Mt=qt+4;S.canvas_width=1+T(J,Mt),S.canvas_height=1+T(J,Mt+=3),Mt+=3;break;case"ALPH":O=!0,G=Et+8,V=qt-8;break;case"ANIM":(S=It.header).bgcolor=N(J,qt),S.loop_count=(Pt=J)[(wt=Mt=qt+4)+0]<<0|Pt[wt+1]<<8,Mt+=2;break;case"ANMF":var pe,S;(S=It.frames[F]={}).offset_x=2*T(J,qt),S.offset_y=2*T(J,qt+=3),S.width=1+T(J,qt+=3),S.height=1+T(J,qt+=3),S.duration=T(J,qt+=3),qt+=3,pe=J[qt++],S.dispose=1&pe,S.blend=pe>>1&1}"ANMF"!=Ft&&(qt+=Et)}return It}}(H,0);I.response=H,I.rgbaoutput=!0,I.dataurl=!1;var B=I.header?I.header:null,X=I.frames?I.frames:null;if(B){B.loop_counter=B.loop_count,Z=[B.canvas_height],x=[B.canvas_width];for(var lt=0;lt<X.length&&0!=X[lt].blend;lt++);}var At=X[0],Yt=M.WebPDecodeRGBA(H,At.src_off,At.src_size,x,Z);At.rgba=Yt,At.imgwidth=x[0],At.imgheight=Z[0];for(var dt=0;dt<x[0]*Z[0]*4;dt++)R[dt]=Yt[dt];return this.width=x,this.height=Z,this.data=R,this}(function(a){var o=function(Z,x,R,M){var H=4,I=f;switch(M){case a.image_compression.FAST:H=1,I=h;break;case a.image_compression.MEDIUM:H=6,I=_;break;case a.image_compression.SLOW:H=9,I=v}var B=Jo(Z=l(Z,x,R,I),{level:H});return a.__addimage__.arrayBufferToBinaryString(B)},l=function(Z,x,R,M){for(var H,I,B,X=Z.length/x,lt=new Uint8Array(Z.length+X),At=T(),Yt=0;Yt<X;Yt+=1){if(H=Z.subarray(B=Yt*x,B+x),M)lt.set(M(H,R,I),B+Yt);else{for(var dt,J=At.length,qt=[];dt<J;dt+=1)qt[dt]=At[dt](H,R,I);var It=N(qt.concat());lt.set(qt[It],B+Yt)}I=H}return lt},d=function(Z){var x=Array.apply([],Z);return x.unshift(0),x},h=function(Z,x){var M=[],H=Z.length;M[0]=1;for(var I=0;I<H;I+=1)M[I+1]=Z[I]-(Z[I-x]||0)+256&255;return M},f=function(Z,x,R){var H=[],I=Z.length;H[0]=2;for(var B=0;B<I;B+=1)H[B+1]=Z[B]-(R&&R[B]||0)+256&255;return H},_=function(Z,x,R){var I=[],B=Z.length;I[0]=3;for(var X=0;X<B;X+=1)I[X+1]=Z[X]+256-((Z[X-x]||0)+(R&&R[X]||0)>>>1)&255;return I},v=function(Z,x,R){var B,X=[],lt=Z.length;X[0]=4;for(var At=0;At<lt;At+=1)B=w(Z[At-x]||0,R&&R[At]||0,R&&R[At-x]||0),X[At+1]=Z[At]-B+256&255;return X},w=function(Z,x,R){if(Z===x&&x===R)return Z;var M=Math.abs(x-R),H=Math.abs(Z-R),I=Math.abs(Z+x-R-R);return M<=H&&M<=I?Z:H<=I?x:R},T=function(){return[d,h,f,_,v]},N=function(Z){var x=Z.map(function(R){return R.reduce(function(M,H){return M+Math.abs(H)},0)});return x.indexOf(Math.min.apply(null,x))};a.processPNG=function(Z,x,R,M){var H,I,B,X,lt,At,Yt,dt,J,qt,It,F,O,G,V,Pt=this.decode.FLATE_DECODE,wt="";if(this.__addimage__.isArrayBuffer(Z)&&(Z=new Uint8Array(Z)),this.__addimage__.isArrayBufferView(Z)){if(Z=(B=new tu(Z)).imgData,I=B.bits,H=B.colorSpace,lt=B.colors,-1!==[4,6].indexOf(B.colorType)){if(8===B.bits){J=(dt=32==B.pixelBitlength?new Uint32Array(B.decodePixels().buffer):16==B.pixelBitlength?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,It=new Uint8Array(J*B.colors),qt=new Uint8Array(J);var Ft,pt=B.pixelBitlength-B.bits;for(G=0,V=0;G<J;G++){for(O=dt[G],Ft=0;Ft<pt;)It[V++]=O>>>Ft&255,Ft+=B.bits;qt[G]=O>>>Ft&255}}if(16===B.bits){J=(dt=new Uint32Array(B.decodePixels().buffer)).length,It=new Uint8Array(J*(32/B.pixelBitlength)*B.colors),qt=new Uint8Array(J*(32/B.pixelBitlength)),F=B.colors>1,G=0,V=0;for(var Et=0;G<J;)O=dt[G++],It[V++]=O>>>0&255,F&&(It[V++]=O>>>16&255,O=dt[G++],It[V++]=O>>>0&255),qt[Et++]=O>>>16&255;I=8}M!==a.image_compression.NONE?(Z=o(It,B.width*B.colors,B.colors,M),Yt=o(qt,B.width,1,M)):(Z=It,Yt=qt,Pt=void 0)}if(3===B.colorType&&(H=this.color_spaces.INDEXED,At=B.palette,B.transparency.indexed)){var Mt=B.transparency.indexed,pe=0;for(G=0,J=Mt.length;G<J;++G)pe+=Mt[G];if((pe/=255)==J-1&&-1!==Mt.indexOf(0))X=[Mt.indexOf(0)];else if(pe!==J){for(dt=B.decodePixels(),qt=new Uint8Array(dt.length),G=0,J=dt.length;G<J;G++)qt[G]=Mt[dt[G]];Yt=o(qt,B.width,1)}}var S=function(j){var z;switch(j){case a.image_compression.FAST:z=11;break;case a.image_compression.MEDIUM:z=13;break;case a.image_compression.SLOW:z=14;break;default:z=12}return z}(M);return Pt===this.decode.FLATE_DECODE&&(wt="/Predictor "+S+" "),wt+="/Colors "+lt+" /BitsPerComponent "+I+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),(Yt&&this.__addimage__.isArrayBuffer(Yt)||this.__addimage__.isArrayBufferView(Yt))&&(Yt=this.__addimage__.arrayBufferToBinaryString(Yt)),{alias:R,data:Z,index:x,filter:Pt,decodeParameters:wt,transparency:X,palette:At,sMask:Yt,predictor:S,width:B.width,height:B.height,bitsPerComponent:I,colorSpace:H}}}})(Fe.API),function(a){a.processGIF89A=function(i,o,l,d){var h=new eu(i),f=h.width,_=h.height,v=[];h.decodeAndBlitFrameRGBA(0,v);var w={data:v,width:f,height:_},T=new As(100).encode(w,100);return a.processJPEG.call(this,T,o,l,d)},a.processGIF87A=a.processGIF89A}(Fe.API),kn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var i=0;i<a;i++){var o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:d,green:l,blue:o,quad:h}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},kn.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[a]()}catch(o){di.log("bit decode error:"+o)}},kn.prototype.bit1=function(){var a,i=Math.ceil(this.width/8),o=i%4;for(a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,d=0;d<i;d++)for(var h=this.datav.getUint8(this.pos++,!0),f=l*this.width*4+8*d*4,_=0;_<8&&8*d+_<this.width;_++){var v=this.palette[h>>7-_&1];this.data[f+4*_]=v.blue,this.data[f+4*_+1]=v.green,this.data[f+4*_+2]=v.red,this.data[f+4*_+3]=255}0!==o&&(this.pos+=4-o)}},kn.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),i=a%4,o=this.height-1;o>=0;o--){for(var l=this.bottom_up?o:this.height-1-o,d=0;d<a;d++){var h=this.datav.getUint8(this.pos++,!0),f=l*this.width*4+2*d*4,v=15&h,w=this.palette[h>>4];if(this.data[f]=w.blue,this.data[f+1]=w.green,this.data[f+2]=w.red,this.data[f+3]=255,2*d+1>=this.width)break;this.data[f+4]=(w=this.palette[v]).blue,this.data[f+4+1]=w.green,this.data[f+4+2]=w.red,this.data[f+4+3]=255}0!==i&&(this.pos+=4-i)}},kn.prototype.bit8=function(){for(var a=this.width%4,i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,l=0;l<this.width;l++){var d=this.datav.getUint8(this.pos++,!0),h=o*this.width*4+4*l;if(d<this.palette.length){var f=this.palette[d];this.data[h]=f.red,this.data[h+1]=f.green,this.data[h+2]=f.blue,this.data[h+3]=255}else this.data[h]=255,this.data[h+1]=255,this.data[h+2]=255,this.data[h+3]=255}0!==a&&(this.pos+=4-a)}},kn.prototype.bit15=function(){for(var a=this.width%3,i=parseInt("11111",2),o=this.height-1;o>=0;o--){for(var l=this.bottom_up?o:this.height-1-o,d=0;d<this.width;d++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(h&i)/i*255|0,_=(h>>5&i)/i*255|0,w=h>>15?255:0,T=l*this.width*4+4*d;this.data[T]=(h>>10&i)/i*255|0,this.data[T+1]=_,this.data[T+2]=f,this.data[T+3]=w}this.pos+=a}},kn.prototype.bit16=function(){for(var a=this.width%3,i=parseInt("11111",2),o=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var d=this.bottom_up?l:this.height-1-l,h=0;h<this.width;h++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var _=(f&i)/i*255|0,v=(f>>5&o)/o*255|0,T=d*this.width*4+4*h;this.data[T]=(f>>11)/i*255|0,this.data[T+1]=v,this.data[T+2]=_,this.data[T+3]=255}this.pos+=a}},kn.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),f=i*this.width*4+4*o;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=l,this.data[f+3]=255}this.pos+=this.width%4}},kn.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),_=i*this.width*4+4*o;this.data[_]=h,this.data[_+1]=d,this.data[_+2]=l,this.data[_+3]=f}},kn.prototype.getData=function(){return this.data},function(a){a.processBMP=function(i,o,l,d){var h=new kn(i,!1),f=h.width,_=h.height,v={data:h.getData(),width:f,height:_},w=new As(100).encode(v,100);return a.processJPEG.call(this,w,o,l,d)}}(Fe.API),zc.prototype.getData=function(){return this.data},function(a){a.processWEBP=function(i,o,l,d){var h=new zc(i,!1),f=h.width,_=h.height,v={data:h.getData(),width:f,height:_},w=new As(100).encode(v,100);return a.processJPEG.call(this,w,o,l,d)}}(Fe.API),Fe.API.processRGBA=function(a,i,o){for(var l=a.data,d=l.length,h=new Uint8Array(d/4*3),f=new Uint8Array(d/4),_=0,v=0,w=0;w<d;w+=4){var N=l[w+1],Z=l[w+2],x=l[w+3];h[_++]=l[w],h[_++]=N,h[_++]=Z,f[v++]=x}var R=this.__addimage__.arrayBufferToBinaryString(h);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:R,index:i,alias:o,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height}},Fe.API.setLanguage=function(a){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[a]&&(this.internal.languageSettings.languageCode=a,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},La=(ho=Fe.API).getCharWidthsArray=function(a,i){var o,l,d=(i=i||{}).font||this.internal.getFont(),h=i.fontSize||this.internal.getFontSize(),f=i.charSpace||this.internal.getCharSpace(),_=i.widths?i.widths:d.metadata.Unicode.widths,v=_.fof?_.fof:1,w=i.kerning?i.kerning:d.metadata.Unicode.kerning,T=w.fof?w.fof:1,N=!1!==i.doKerning,Z=0,x=a.length,R=0,M=_[0]||v,H=[];for(o=0;o<x;o++)l=a.charCodeAt(o),"function"==typeof d.metadata.widthOfString?H.push((d.metadata.widthOfGlyph(d.metadata.characterToGlyph(l))+f*(1e3/h)||0)/1e3):(Z=N&&"object"===Ce(w[l])&&!isNaN(parseInt(w[l][R],10))?w[l][R]/T:0,H.push((_[l]||M)/v+Z)),R=l;return H},Bc=ho.getStringUnitWidth=function(a,i){var o=(i=i||{}).fontSize||this.internal.getFontSize(),l=i.font||this.internal.getFont(),d=i.charSpace||this.internal.getCharSpace();return ho.processArabic&&(a=ho.processArabic(a)),"function"==typeof l.metadata.widthOfString?l.metadata.widthOfString(a,o,d)/o:La.apply(this,arguments).reduce(function(h,f){return h+f},0)},Uc=function(a,i,o,l){for(var d=[],h=0,f=a.length,_=0;h!==f&&_+i[h]<o;)_+=i[h],h++;d.push(a.slice(0,h));var v=h;for(_=0;h!==f;)_+i[h]>l&&(d.push(a.slice(v,h)),_=0,v=h),_+=i[h],h++;return v!==h&&d.push(a.slice(v,h)),d},jc=function(a,i,o){o||(o={});var l,d,h,f,_,v,T=[],N=[T],Z=o.textIndent||0,x=0,R=0,M=a.split(" "),H=La.apply(this,[" ",o])[0];if(v=-1===o.lineIndent?M[0].length+2:o.lineIndent||0){var I=Array(v).join(" "),B=[];M.map(function(lt){(lt=lt.split(/\s*\n/)).length>1?B=B.concat(lt.map(function(At,Yt){return(Yt&&At.length?"\n":"")+At})):B.push(lt[0])}),M=B,v=Bc.apply(this,[I,o])}for(h=0,f=M.length;h<f;h++){var X=0;if(l=M[h],v&&"\n"==l[0]&&(l=l.substr(1),X=1),Z+x+(R=(d=La.apply(this,[l,o])).reduce(function(lt,At){return lt+At},0))>i||X){if(R>i){for(_=Uc.apply(this,[l,d,i-(Z+x),i]),T.push(_.shift()),T=[_.pop()];_.length;)N.push([_.shift()]);R=d.slice(l.length-(T[0]?T[0].length:0)).reduce(function(lt,At){return lt+At},0)}else T=[l];N.push(T),Z=R+v,x=H}else T.push(l),Z+=x+R,x=H}return N.map(v?function(lt,At){return(At?I:"")+lt.join(" ")}:function(lt){return lt.join(" ")})},ho.splitTextToSize=function(a,i,o){var l,d=(o=o||{}).fontSize||this.internal.getFontSize(),h=function(T){if(T.widths&&T.kerning)return{widths:T.widths,kerning:T.kerning};var N=this.internal.getFont(T.fontName,T.fontStyle);return N.metadata.Unicode?{widths:N.metadata.Unicode.widths||{0:1},kerning:N.metadata.Unicode.kerning||{}}:{font:N.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,o);l=Array.isArray(a)?a:String(a).split(/\r?\n/);var f=1*this.internal.scaleFactor*i/d;h.textIndent=o.textIndent?1*o.textIndent*this.internal.scaleFactor/d:0,h.lineIndent=o.lineIndent;var _,v,w=[];for(_=0,v=l.length;_<v;_++)w=w.concat(jc.apply(this,[l[_],f,h]));return w},function(a){a.__fontmetrics__=a.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",o={},l={},d=0;d<i.length;d++)o[i[d]]="0123456789abcdef"[d],l["0123456789abcdef"[d]]=i[d];var h=function(N){return"0x"+parseInt(N,10).toString(16)},f=a.__fontmetrics__.compress=function(N){var Z,x,R,M,H=["{"];for(var I in N){if(Z=N[I],isNaN(parseInt(I,10))?x="'"+I+"'":(I=parseInt(I,10),x=(x=h(I).slice(2)).slice(0,-1)+l[x.slice(-1)]),"number"==typeof Z)Z<0?(R=h(Z).slice(3),M="-"):(R=h(Z).slice(2),M=""),R=M+R.slice(0,-1)+l[R.slice(-1)];else{if("object"!==Ce(Z))throw new Error("Don't know what to do with value type "+Ce(Z)+".");R=f(Z)}H.push(x+R)}return H.push("}"),H.join("")},_=a.__fontmetrics__.uncompress=function(N){if("string"!=typeof N)throw new Error("Invalid argument passed to uncompress.");for(var Z,x,R,M,H={},I=1,B=H,X=[],lt="",At="",Yt=N.length-1,dt=1;dt<Yt;dt+=1)"'"==(M=N[dt])?Z?(R=Z.join(""),Z=void 0):Z=[]:Z?Z.push(M):"{"==M?(X.push([B,R]),B={},R=void 0):"}"==M?((x=X.pop())[0][x[1]]=B,R=void 0,B=x[0]):"-"==M?I=-1:void 0===R?o.hasOwnProperty(M)?(lt+=o[M],R=parseInt(lt,16)*I,I=1,lt=""):lt+=M:o.hasOwnProperty(M)?(At+=o[M],B[R]=parseInt(At,16)*I,I=1,R=void 0,At=""):At+=M;return H},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:_("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},T={Unicode:{"Courier-Oblique":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":_("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":_("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":_("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:_("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:_("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":_("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:_("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":_("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":_("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":_("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(N){var Z=N.font,x=T.Unicode[Z.postScriptName];x&&(Z.metadata.Unicode={},Z.metadata.Unicode.widths=x.widths,Z.metadata.Unicode.kerning=x.kerning);var R=w.Unicode[Z.postScriptName];R&&(Z.metadata.Unicode.encoding=R,Z.encoding=R.codePages[0])}])}(Fe.API),function(a){var i=function(o){for(var l=o.length,d=new Uint8Array(l),h=0;h<l;h++)d[h]=o.charCodeAt(h);return d};a.API.events.push(["addFont",function(o){var f,_,l=void 0,d=o.font,h=o.instance;if(!d.isStandardFont){if(void 0===h)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");if("string"!=typeof(l=!1===h.existsFileInVFS(d.postScriptName)?h.loadFile(d.postScriptName):h.getFileFromVFS(d.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");f=d,_=/^\x00\x01\x00\x00/.test(_=l)?i(_):i(Vo(_)),f.metadata=a.API.TTFFont.open(_),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]}}])}(Fe),function(a){function i(){return(Re.canvg?Promise.resolve(Re.canvg):ne.e(399).then(ne.bind(ne,7399))).catch(function(o){return Promise.reject(new Error("Could not load canvg: "+o))}).then(function(o){return o.default?o.default:o})}Fe.API.addSvgAsImage=function(o,l,d,h,f,_,v,w){if(isNaN(l)||isNaN(d))throw di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(h)||isNaN(f))throw di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var T=document.createElement("canvas");T.width=h,T.height=f;var N=T.getContext("2d");N.fillStyle="#fff",N.fillRect(0,0,T.width,T.height);var Z={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return i().then(function(R){return R.fromString(N,o,Z)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(Z)}).then(function(){x.addImage(T.toDataURL("image/jpeg",1),l,d,h,f,v,w)})}}(),Fe.API.putTotalPages=function(a){var i,o=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(a,"g"),o=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),o=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var d=0;d<this.internal.pages[l].length;d++)this.internal.pages[l][d]=this.internal.pages[l][d].replace(i,o);return this},Fe.API.viewerPreferences=function(a,i){var o;a=a||{},i=i||!1;var l,d,h,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},_=Object.keys(f),v=[],w=0,T=0,N=0;function Z(R,M){var H,I=!1;for(H=0;H<R.length;H+=1)R[H]===M&&(I=!0);return I}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),o=this.internal.viewerpreferences.configuration,"reset"===a||!0===i){var x=_.length;for(N=0;N<x;N+=1)o[_[N]].value=o[_[N]].defaultValue,o[_[N]].explicitSet=!1}if("object"===Ce(a))for(d in a)if(h=a[d],Z(_,d)&&void 0!==h){if("boolean"===o[d].type&&"boolean"==typeof h)o[d].value=h;else if("name"===o[d].type&&Z(o[d].valueSet,h))o[d].value=h;else if("integer"===o[d].type&&Number.isInteger(h))o[d].value=h;else if("array"===o[d].type){for(w=0;w<h.length;w+=1)if(l=!0,1===h[w].length&&"number"==typeof h[w][0])v.push(String(h[w]-1));else if(h[w].length>1){for(T=0;T<h[w].length;T+=1)"number"!=typeof h[w][T]&&(l=!1);!0===l&&v.push([h[w][0]-1,h[w][1]-1].join(" "))}o[d].value="["+v.join(" ")+"]"}else o[d].value=o[d].defaultValue;o[d].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var R,M=[];for(R in o)!0===o[R].explicitSet&&M.push("name"===o[R].type?"/"+R+" /"+o[R].value:"/"+R+" "+o[R].value);0!==M.length&&this.internal.write("/ViewerPreferences\n<<\n"+M.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=o,this},function(a){var i=function(){var l='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',d=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),h=unescape(encodeURIComponent(l)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),_=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),v=unescape(encodeURIComponent("</x:xmpmeta>")),w=h.length+f.length+_.length+d.length+v.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+w+" >>"),this.internal.write("stream"),this.internal.write(d+h+f+_+v),this.internal.write("endstream"),this.internal.write("endobj")},o=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};a.addMetadata=function(l,d){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:l,namespaceuri:d||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",o),this.internal.events.subscribe("postPutResources",i)),this}}(Fe.API),function(a){var i=a.API,o=i.pdfEscape16=function(h,f){for(var _,v=f.metadata.Unicode.widths,w=["","0","00","000","0000"],T=[""],N=0,Z=h.length;N<Z;++N){if(_=f.metadata.characterToGlyph(h.charCodeAt(N)),f.metadata.glyIdsUsed.push(_),f.metadata.toUnicode[_]=h.charCodeAt(N),-1==v.indexOf(_)&&(v.push(_),v.push([parseInt(f.metadata.widthOfGlyph(_),10)])),"0"==_)return T.join("");_=_.toString(16),T.push(w[4-_.length],_)}return T.join("")},l=function(h){var f,_,v,w,T,N,Z;for(T="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",v=[],N=0,Z=(_=Object.keys(h).sort(function(x,R){return x-R})).length;N<Z;N++)f=_[N],v.length>=100&&(T+="\n"+v.length+" beginbfchar\n"+v.join("\n")+"\nendbfchar",v=[]),null!=h[f]&&"function"==typeof h[f].toString&&(w=("0000"+h[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),v.push("<"+f+"><"+w+">"));return v.length&&(T+="\n"+v.length+" beginbfchar\n"+v.join("\n")+"\nendbfchar\n"),T+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(h){!function(f){var _=f.font,v=f.out,w=f.newObject,T=f.putStream;if(_.metadata instanceof a.API.TTFFont&&"Identity-H"===_.encoding){for(var N=_.metadata.Unicode.widths,Z=_.metadata.subset.encode(_.metadata.glyIdsUsed,1),x="",R=0;R<Z.length;R++)x+=String.fromCharCode(Z[R]);var M=w();T({data:x,addLength1:!0,objectId:M}),v("endobj");var H=w();T({data:l(_.metadata.toUnicode),addLength1:!0,objectId:H}),v("endobj");var I=w();v("<<"),v("/Type /FontDescriptor"),v("/FontName /"+so(_.fontName)),v("/FontFile2 "+M+" 0 R"),v("/FontBBox "+a.API.PDFObject.convert(_.metadata.bbox)),v("/Flags "+_.metadata.flags),v("/StemV "+_.metadata.stemV),v("/ItalicAngle "+_.metadata.italicAngle),v("/Ascent "+_.metadata.ascender),v("/Descent "+_.metadata.decender),v("/CapHeight "+_.metadata.capHeight),v(">>"),v("endobj");var B=w();v("<<"),v("/Type /Font"),v("/BaseFont /"+so(_.fontName)),v("/FontDescriptor "+I+" 0 R"),v("/W "+a.API.PDFObject.convert(N)),v("/CIDToGIDMap /Identity"),v("/DW 1000"),v("/Subtype /CIDFontType2"),v("/CIDSystemInfo"),v("<<"),v("/Supplement 0"),v("/Registry (Adobe)"),v("/Ordering ("+_.encoding+")"),v(">>"),v(">>"),v("endobj"),_.objectNumber=w(),v("<<"),v("/Type /Font"),v("/Subtype /Type0"),v("/ToUnicode "+H+" 0 R"),v("/BaseFont /"+so(_.fontName)),v("/Encoding /"+_.encoding),v("/DescendantFonts ["+B+" 0 R]"),v(">>"),v("endobj"),_.isAlreadyPutted=!0}}(h)}]),i.events.push(["putFont",function(h){!function(f){var _=f.font,v=f.out,w=f.newObject,T=f.putStream;if(_.metadata instanceof a.API.TTFFont&&"WinAnsiEncoding"===_.encoding){for(var N=_.metadata.rawData,Z="",x=0;x<N.length;x++)Z+=String.fromCharCode(N[x]);var R=w();T({data:Z,addLength1:!0,objectId:R}),v("endobj");var M=w();T({data:l(_.metadata.toUnicode),addLength1:!0,objectId:M}),v("endobj");var H=w();v("<<"),v("/Descent "+_.metadata.decender),v("/CapHeight "+_.metadata.capHeight),v("/StemV "+_.metadata.stemV),v("/Type /FontDescriptor"),v("/FontFile2 "+R+" 0 R"),v("/Flags 96"),v("/FontBBox "+a.API.PDFObject.convert(_.metadata.bbox)),v("/FontName /"+so(_.fontName)),v("/ItalicAngle "+_.metadata.italicAngle),v("/Ascent "+_.metadata.ascender),v(">>"),v("endobj"),_.objectNumber=w();for(var I=0;I<_.metadata.hmtx.widths.length;I++)_.metadata.hmtx.widths[I]=parseInt(_.metadata.hmtx.widths[I]*(1e3/_.metadata.head.unitsPerEm));v("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+so(_.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+_.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(_.metadata.hmtx.widths)+">>"),v("endobj"),_.isAlreadyPutted=!0}}(h)}]);var d=function(h){var f,_=h.text||"",v=h.x,w=h.y,T=h.options||{},N=h.mutex||{},Z=N.pdfEscape,x=N.activeFontKey,R=N.fonts,M=x,H="",I=0,B="",X=R[M].encoding;if("Identity-H"!==R[M].encoding)return{text:_,x:v,y:w,options:T,mutex:N};for(B=_,M=x,Array.isArray(_)&&(B=_[0]),I=0;I<B.length;I+=1)R[M].metadata.hasOwnProperty("cmap")&&(f=R[M].metadata.cmap.unicode.codeMap[B[I].charCodeAt(0)]),f||B[I].charCodeAt(0)<256&&R[M].metadata.hasOwnProperty("Unicode")?H+=B[I]:H+="";var lt="";return parseInt(M.slice(1))<14||"WinAnsiEncoding"===X?lt=Z(H,M).split("").map(function(At){return At.charCodeAt(0).toString(16)}).join(""):"Identity-H"===X&&(lt=o(H,R[M])),N.isHex=!0,{text:lt,x:v,y:w,options:T,mutex:N}};i.events.push(["postProcessText",function(h){var f=h.text||"",_=[],v={text:f,x:h.x,y:h.y,options:h.options,mutex:h.mutex};if(Array.isArray(f)){var w=0;for(w=0;w<f.length;w+=1)Array.isArray(f[w])&&3===f[w].length?_.push([d(Object.assign({},v,{text:f[w][0]})).text,f[w][1],f[w][2]]):_.push(d(Object.assign({},v,{text:f[w]})).text);h.text=_}else h.text=d(Object.assign({},v,{text:f})).text}])}(Fe),function(a){var i=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};a.existsFileInVFS=function(o){return i.call(this),void 0!==this.internal.vFS[o]},a.addFileToVFS=function(o,l){return i.call(this),this.internal.vFS[o]=l,this},a.getFileFromVFS=function(o){return i.call(this),void 0!==this.internal.vFS[o]?this.internal.vFS[o]:null}}(Fe.API),function(a){a.__bidiEngine__=a.prototype.__bidiEngine__=function(l){var d,h,f,_,v,w,T,N=i,Z=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,X=0;this.__bidiEngine__={};var lt=function(F){var O=F.charCodeAt(),G=O>>8,V=M[G];return void 0!==V?N[256*V+(255&O)]:252===G||253===G?"AL":I.test(G)?"L":8===G?"R":"N"},At=function(F){for(var O,G=0;G<F.length;G++){if("L"===(O=lt(F.charAt(G))))return!1;if("R"===O)return!0}return!1},Yt=function(F,O,G,V){var Pt,wt,Ft,pt,Et=O[V];switch(Et){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(Et="AN");break;case"AL":B=!0,Et="R";break;case"WS":case"BN":Et="N";break;case"CS":V<1||V+1>=O.length||"EN"!==(Pt=G[V-1])&&"AN"!==Pt||"EN"!==(wt=O[V+1])&&"AN"!==wt?Et="N":B&&(wt="AN"),Et=wt===Pt?wt:"N";break;case"ES":Et="EN"===(Pt=V>0?G[V-1]:"B")&&V+1<O.length&&"EN"===O[V+1]?"EN":"N";break;case"ET":if(V>0&&"EN"===G[V-1]){Et="EN";break}if(B){Et="N";break}for(Ft=V+1,pt=O.length;Ft<pt&&"ET"===O[Ft];)Ft++;Et=Ft<pt&&"EN"===O[Ft]?"EN":"N";break;case"NSM":if(f&&!_){for(pt=O.length,Ft=V+1;Ft<pt&&"NSM"===O[Ft];)Ft++;if(Ft<pt){var Mt=F[V];if(Pt=O[Ft],(Mt>=1425&&Mt<=2303||64286===Mt)&&("R"===Pt||"AL"===Pt)){Et="R";break}}}Et=V<1||"B"===(Pt=O[V-1])?"N":G[V-1];break;case"B":B=!1,d=!0,Et=X;break;case"S":h=!0,Et="N"}return Et},dt=function(F,O,G){var V=F.split("");return G&&J(V,G,{hiLevel:X}),V.reverse(),O&&O.reverse(),V.join("")},J=function(F,O,G){var V,Pt,wt,Ft,pt,Et=-1,Mt=F.length,pe=0,S=[],j=X?x:Z,z=[];for(B=!1,d=!1,h=!1,Pt=0;Pt<Mt;Pt++)z[Pt]=lt(F[Pt]);for(wt=0;wt<Mt;wt++){if(pt=pe,S[wt]=Yt(F,z,S,wt),V=240&(pe=j[pt][R[S[wt]]]),O[wt]=Ft=j[pe&=15][5],V>0)if(16===V){for(Pt=Et;Pt<wt;Pt++)O[Pt]=1;Et=-1}else Et=-1;if(j[pe][6])-1===Et&&(Et=wt);else if(Et>-1){for(Pt=Et;Pt<wt;Pt++)O[Pt]=Ft;Et=-1}"B"===z[wt]&&(O[wt]=0),G.hiLevel|=Ft}h&&function(Q,ot,mt){for(var vt=0;vt<mt;vt++)if("S"===Q[vt]){ot[vt]=X;for(var xt=vt-1;xt>=0&&"WS"===Q[xt];xt--)ot[xt]=X}}(z,O,Mt)},qt=function(F,O,G,V,Pt){if(!(Pt.hiLevel<F)){if(1===F&&1===X&&!d)return O.reverse(),void(G&&G.reverse());for(var wt,Ft,pt,Et,Mt=O.length,pe=0;pe<Mt;){if(V[pe]>=F){for(pt=pe+1;pt<Mt&&V[pt]>=F;)pt++;for(Et=pe,Ft=pt-1;Et<Ft;Et++,Ft--)wt=O[Et],O[Et]=O[Ft],O[Ft]=wt,G&&(wt=G[Et],G[Et]=G[Ft],G[Ft]=wt);pe=pt}pe++}}},It=function(F,O,G){var V=F.split(""),Pt={hiLevel:X};return G||(G=[]),J(V,G,Pt),function(wt,Ft,pt){if(0!==pt.hiLevel&&T)for(var Et,Mt=0;Mt<wt.length;Mt++)1===Ft[Mt]&&(Et=H.indexOf(wt[Mt]))>=0&&(wt[Mt]=H[Et+1])}(V,G,Pt),qt(2,V,O,G,Pt),qt(1,V,O,G,Pt),V.join("")};return this.__bidiEngine__.doBidiReorder=function(F,O,G){if(function(Pt,wt){if(wt)for(var Ft=0;Ft<Pt.length;Ft++)wt[Ft]=Ft;void 0===_&&(_=At(Pt)),void 0===w&&(w=At(Pt))}(F,O),f||!v||w)if(f&&v&&_^w)X=_?1:0,F=dt(F,O,G);else if(!f&&v&&w)X=_?1:0,F=It(F,O,G),F=dt(F,O);else if(!f||_||v||w){if(f&&!v&&_^w)F=dt(F,O),_?(X=0,F=It(F,O,G)):(X=1,F=It(F,O,G),F=dt(F,O));else if(f&&_&&!v&&w)X=1,F=It(F,O,G),F=dt(F,O);else if(!f&&!v&&_^w){var V=T;_?(X=1,F=It(F,O,G),X=0,T=!1,F=It(F,O,G),T=V):(X=0,F=It(F,O,G),F=dt(F,O),X=1,T=!1,F=It(F,O,G),T=V,F=dt(F,O))}}else X=0,F=It(F,O,G);else X=_?1:0,F=It(F,O,G);return F},this.__bidiEngine__.setOptions=function(F){F&&(f=F.isInputVisual,v=F.isOutputVisual,_=F.isInputRtl,w=F.isOutputRtl,T=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],o=new a.__bidiEngine__({isInputVisual:!0});a.API.events.push(["postProcessText",function(l){var d=l.text,h=l.options||{},f=[];if(h.isInputVisual="boolean"!=typeof h.isInputVisual||h.isInputVisual,o.setOptions(h),"[object Array]"===Object.prototype.toString.call(d)){var _=0;for(f=[],_=0;_<d.length;_+=1)"[object Array]"===Object.prototype.toString.call(d[_])?f.push([o.doBidiReorder(d[_][0]),d[_][1],d[_][2]]):f.push([o.doBidiReorder(d[_])]);l.text=f}else l.text=o.doBidiReorder(d);o.setOptions({isInputVisual:!0})}])}(Fe),Fe.API.TTFFont=function(){function a(i){var o;if(this.rawData=i,o=this.contents=new Ar(i),this.contents.pos=4,"ttcf"===o.readString(4))throw new Error("TTCF not supported.");o.pos=0,this.parse(),this.subset=new Wc(this),this.registerTTF()}return a.open=function(i){return new a(i)},a.prototype.parse=function(){return this.directory=new iu(this.contents),this.head=new ru(this),this.name=new ou(this),this.cmap=new Yr(this),this.toUnicode={},this.hhea=new Jr(this),this.maxp=new au(this),this.hmtx=new su(this),this.post=new ui(this),this.os2=new cn(this),this.loca=new fo(this),this.glyf=new Vc(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var o,l,d,h;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var f,_,v,w;for(w=[],f=0,_=(v=this.bbox).length;f<_;f++)w.push(Math.round(v[f]*this.scaleFactor));return w}.call(this),this.stemV=0,this.post.exists?(l=255&(d=this.post.italic_angle),0!=(32768&(o=d>>16))&&(o=-(1+(65535^o))),this.italicAngle=+(o+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(h=this.familyClass)||2===h||3===h||4===h||5===h||7===h,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(i){var o;return(null!=(o=this.cmap.unicode)?o.codeMap[i]:void 0)||0},a.prototype.widthOfGlyph=function(i){var o;return o=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*o},a.prototype.widthOfString=function(i,o,l){var d,h,f,_;for(f=0,h=0,_=(i=""+i).length;0<=_?h<_:h>_;h=0<=_?++h:--h)d=i.charCodeAt(h),f+=this.widthOfGlyph(this.characterToGlyph(d))+l*(1e3/o)||0;return f*(o/1e3)},a.prototype.lineHeight=function(i,o){return null==o&&(o=!1),(this.ascender+(o?this.lineGap:0)-this.decender)/1e3*i},a}();var Sn,Ar=function(){function a(i){this.data=null!=i?i:[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(i){return this.data[this.pos++]=i},a.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},a.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},a.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},a.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},a.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},a.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},a.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},a.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},a.prototype.readString=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)l[o]=String.fromCharCode(this.readByte());return l.join("")},a.prototype.writeString=function(i){var o,l,d;for(d=[],o=0,l=i.length;0<=l?o<l:o>l;o=0<=l?++o:--o)d.push(this.writeByte(i.charCodeAt(o)));return d},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(i){return this.writeInt16(i)},a.prototype.readLongLong=function(){var i,o,l,d,h,f,_,v;return i=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),h=this.readByte(),f=this.readByte(),_=this.readByte(),v=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^o)+1099511627776*(255^l)+4294967296*(255^d)+16777216*(255^h)+65536*(255^f)+256*(255^_)+(255^v)+1):72057594037927940*i+281474976710656*o+1099511627776*l+4294967296*d+16777216*h+65536*f+256*_+v},a.prototype.writeLongLong=function(i){var o,l;return o=Math.floor(i/4294967296),l=4294967295&i,this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(i){return this.writeInt32(i)},a.prototype.read=function(i){var o,l;for(o=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)o.push(this.readByte());return o},a.prototype.write=function(i){var l,d,h;for(h=[],l=0,d=i.length;l<d;l++)h.push(this.writeByte(i[l]));return h},a}(),iu=function(){var a;function i(o){var l,d,h;for(this.scalarType=o.readInt(),this.tableCount=o.readShort(),this.searchRange=o.readShort(),this.entrySelector=o.readShort(),this.rangeShift=o.readShort(),this.tables={},d=0,h=this.tableCount;0<=h?d<h:d>h;d=0<=h?++d:--d)l={tag:o.readString(4),checksum:o.readInt(),offset:o.readInt(),length:o.readInt()},this.tables[l.tag]=l}return i.prototype.encode=function(o){var l,d,f,_,v,w,T,N,Z,x,R,M;for(M in x=Object.keys(o).length,v=Math.log(2),N=16*Math.floor(Math.log(x)/v),f=Math.floor(N/v),T=16*x-N,(d=new Ar).writeInt(this.scalarType),d.writeShort(x),d.writeShort(N),d.writeShort(f),d.writeShort(T),w=d.pos+16*x,_=null,R=[],o)for(Z=o[M],d.writeString(M),d.writeInt(a(Z)),d.writeInt(w),d.writeInt(Z.length),R=R.concat(Z),"head"===M&&(_=w),w+=Z.length;w%4;)R.push(0),w++;return d.write(R),l=2981146554-a(d.data),d.pos=_+8,d.writeUInt32(l),d.data},a=function(o){var l,d,h,f;for(o=Jc.call(o);o.length%4;)o.push(0);for(h=new Ar(o),d=0,l=0,f=o.length;l<f;l=l+=4)d+=h.readUInt32();return 4294967295&d},i}(),nu={}.hasOwnProperty,Wn=function(a,i){for(var o in i)nu.call(i,o)&&(a[o]=i[o]);function l(){this.constructor=a}return l.prototype=i.prototype,a.prototype=new l,a.__super__=i.prototype,a};Sn=function(){function a(i){var o;this.file=i,this.exists=!!(o=this.file.directory.tables[this.tag]),o&&(this.offset=o.offset,this.length=o.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var ru=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="head",i.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.revision=o.readInt(),this.checkSumAdjustment=o.readInt(),this.magicNumber=o.readInt(),this.flags=o.readShort(),this.unitsPerEm=o.readShort(),this.created=o.readLongLong(),this.modified=o.readLongLong(),this.xMin=o.readShort(),this.yMin=o.readShort(),this.xMax=o.readShort(),this.yMax=o.readShort(),this.macStyle=o.readShort(),this.lowestRecPPEM=o.readShort(),this.fontDirectionHint=o.readShort(),this.indexToLocFormat=o.readShort(),this.glyphDataFormat=o.readShort()},i.prototype.encode=function(o){var l;return(l=new Ar).writeInt(this.version),l.writeInt(this.revision),l.writeInt(this.checkSumAdjustment),l.writeInt(this.magicNumber),l.writeShort(this.flags),l.writeShort(this.unitsPerEm),l.writeLongLong(this.created),l.writeLongLong(this.modified),l.writeShort(this.xMin),l.writeShort(this.yMin),l.writeShort(this.xMax),l.writeShort(this.yMax),l.writeShort(this.macStyle),l.writeShort(this.lowestRecPPEM),l.writeShort(this.fontDirectionHint),l.writeShort(o),l.writeShort(this.glyphDataFormat),l.data},i}(),Yc=function(){function a(i,o){var l,d,h,f,_,v,w,T,N,Z,x,R,M,H,I,B,X;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=o+i.readInt(),N=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(v=0;v<256;++v)this.codeMap[v]=i.readByte();break;case 4:for(x=i.readUInt16(),Z=x/2,i.pos+=6,h=function(){var lt,At;for(At=[],v=lt=0;0<=Z?lt<Z:lt>Z;v=0<=Z?++lt:--lt)At.push(i.readUInt16());return At}(),i.pos+=2,M=function(){var lt,At;for(At=[],v=lt=0;0<=Z?lt<Z:lt>Z;v=0<=Z?++lt:--lt)At.push(i.readUInt16());return At}(),w=function(){var lt,At;for(At=[],v=lt=0;0<=Z?lt<Z:lt>Z;v=0<=Z?++lt:--lt)At.push(i.readUInt16());return At}(),T=function(){var lt,At;for(At=[],v=lt=0;0<=Z?lt<Z:lt>Z;v=0<=Z?++lt:--lt)At.push(i.readUInt16());return At}(),d=(this.length-i.pos+this.offset)/2,_=function(){var lt,At;for(At=[],v=lt=0;0<=d?lt<d:lt>d;v=0<=d?++lt:--lt)At.push(i.readUInt16());return At}(),v=I=0,X=h.length;I<X;v=++I)for(H=h[v],l=B=R=M[v];R<=H?B<=H:B>=H;l=R<=H?++B:--B)0===T[v]?f=l+w[v]:0!==(f=_[T[v]/2+(l-R)-(Z-v)]||0)&&(f+=w[v]),this.codeMap[l]=65535&f}i.pos=N}return a.encode=function(i,o){var l,d,h,f,_,v,w,T,N,Z,x,R,M,H,I,B,X,At,Yt,dt,J,qt,It,F,O,G,V,Pt,wt,Ft,pt,Et,Mt,pe,S,j,z,Q,ot,mt,vt,xt,oe,re,fe;switch(V=new Ar,f=Object.keys(i).sort(function(ve,Be){return ve-Be}),o){case"macroman":for(M=0,H=function(){var ve=[];for(R=0;R<256;++R)ve.push(0);return ve}(),B={0:0},h={},Pt=0,Et=f.length;Pt<Et;Pt++)null==B[xt=i[d=f[Pt]]]&&(B[xt]=++M),h[d]={old:i[d],new:B[i[d]]},H[d]=B[i[d]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(H),{charMap:h,subtable:V.data,maxGlyphID:M+1};case"unicode":for(O=[],N=[],X=0,B={},l={},I=w=null,wt=0,Mt=f.length;wt<Mt;wt++)null==B[At=i[d=f[wt]]]&&(B[At]=++X),l[d]={old:At,new:B[At]},_=B[At]-d,null!=I&&_===w||(I&&N.push(I),O.push(d),w=_),I=d;for(I&&N.push(I),N.push(65535),O.push(65535),It=2*(qt=O.length),J=2*Math.pow(Math.log(qt)/Math.LN2,2),Z=Math.log(J/2)/Math.LN2,dt=2*qt-J,v=[],Yt=[],x=[],R=Ft=0,pe=O.length;Ft<pe;R=++Ft){if(T=N[R],65535===(F=O[R])){v.push(0),Yt.push(0);break}if(F-(G=l[F].new)>=32768)for(v.push(0),Yt.push(2*(x.length+qt-R)),d=pt=F;F<=T?pt<=T:pt>=T;d=F<=T?++pt:--pt)x.push(l[d].new);else v.push(G-F),Yt.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*qt+2*x.length),V.writeUInt16(0),V.writeUInt16(It),V.writeUInt16(J),V.writeUInt16(Z),V.writeUInt16(dt),mt=0,S=N.length;mt<S;mt++)V.writeUInt16(d=N[mt]);for(V.writeUInt16(0),vt=0,j=O.length;vt<j;vt++)V.writeUInt16(d=O[vt]);for(oe=0,z=v.length;oe<z;oe++)V.writeUInt16(_=v[oe]);for(re=0,Q=Yt.length;re<Q;re++)V.writeUInt16(Yt[re]);for(fe=0,ot=x.length;fe<ot;fe++)V.writeUInt16(M=x[fe]);return{charMap:l,subtable:V.data,maxGlyphID:X+1}}},a}(),Yr=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="cmap",i.prototype.parse=function(o){var l,d,h;for(o.pos=this.offset,this.version=o.readUInt16(),h=o.readUInt16(),this.tables=[],this.unicode=null,d=0;0<=h?d<h:d>h;d=0<=h?++d:--d)l=new Yc(o,this.offset),this.tables.push(l),l.isUnicode&&null==this.unicode&&(this.unicode=l);return!0},i.encode=function(o,l){var d,h;return null==l&&(l="macroman"),d=Yc.encode(o,l),(h=new Ar).writeUInt16(0),h.writeUInt16(1),d.table=h.data.concat(d.subtable),d},i}(),Jr=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="hhea",i.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.ascender=o.readShort(),this.decender=o.readShort(),this.lineGap=o.readShort(),this.advanceWidthMax=o.readShort(),this.minLeftSideBearing=o.readShort(),this.minRightSideBearing=o.readShort(),this.xMaxExtent=o.readShort(),this.caretSlopeRise=o.readShort(),this.caretSlopeRun=o.readShort(),this.caretOffset=o.readShort(),o.pos+=8,this.metricDataFormat=o.readShort(),this.numberOfMetrics=o.readUInt16()},i}(),cn=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="OS/2",i.prototype.parse=function(o){if(o.pos=this.offset,this.version=o.readUInt16(),this.averageCharWidth=o.readShort(),this.weightClass=o.readUInt16(),this.widthClass=o.readUInt16(),this.type=o.readShort(),this.ySubscriptXSize=o.readShort(),this.ySubscriptYSize=o.readShort(),this.ySubscriptXOffset=o.readShort(),this.ySubscriptYOffset=o.readShort(),this.ySuperscriptXSize=o.readShort(),this.ySuperscriptYSize=o.readShort(),this.ySuperscriptXOffset=o.readShort(),this.ySuperscriptYOffset=o.readShort(),this.yStrikeoutSize=o.readShort(),this.yStrikeoutPosition=o.readShort(),this.familyClass=o.readShort(),this.panose=function(){var l,d;for(d=[],l=0;l<10;++l)d.push(o.readByte());return d}(),this.charRange=function(){var l,d;for(d=[],l=0;l<4;++l)d.push(o.readInt());return d}(),this.vendorID=o.readString(4),this.selection=o.readShort(),this.firstCharIndex=o.readShort(),this.lastCharIndex=o.readShort(),this.version>0&&(this.ascent=o.readShort(),this.descent=o.readShort(),this.lineGap=o.readShort(),this.winAscent=o.readShort(),this.winDescent=o.readShort(),this.codePageRange=function(){var l,d;for(d=[],l=0;l<2;l=++l)d.push(o.readInt());return d}(),this.version>1))return this.xHeight=o.readShort(),this.capHeight=o.readShort(),this.defaultChar=o.readShort(),this.breakChar=o.readShort(),this.maxContext=o.readShort()},i}(),ui=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="post",i.prototype.parse=function(o){var l,d,h;switch(o.pos=this.offset,this.format=o.readInt(),this.italicAngle=o.readInt(),this.underlinePosition=o.readShort(),this.underlineThickness=o.readShort(),this.isFixedPitch=o.readInt(),this.minMemType42=o.readInt(),this.maxMemType42=o.readInt(),this.minMemType1=o.readInt(),this.maxMemType1=o.readInt(),this.format){case 65536:case 196608:break;case 131072:var f;for(d=o.readUInt16(),this.glyphNameIndex=[],f=0;0<=d?f<d:f>d;f=0<=d?++f:--f)this.glyphNameIndex.push(o.readUInt16());for(this.names=[],h=[];o.pos<this.offset+this.length;)l=o.readByte(),h.push(this.names.push(o.readString(l)));return h;case 151552:return d=o.readUInt16(),this.offsets=o.read(d);case 262144:return this.map=function(){var _,v,w;for(w=[],f=_=0,v=this.file.maxp.numGlyphs;0<=v?_<v:_>v;f=0<=v?++_:--_)w.push(o.readUInt32());return w}.call(this)}},i}(),po=function(a,i){this.raw=a,this.length=a.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},ou=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="name",i.prototype.parse=function(o){var l,d,h,f,_,v,w,T,N,Z,x;for(o.pos=this.offset,o.readShort(),l=o.readShort(),v=o.readShort(),d=[],f=0;0<=l?f<l:f>l;f=0<=l?++f:--f)d.push({platformID:o.readShort(),encodingID:o.readShort(),languageID:o.readShort(),nameID:o.readShort(),length:o.readShort(),offset:this.offset+v+o.readShort()});for(w={},f=N=0,Z=d.length;N<Z;f=++N)o.pos=(h=d[f]).offset,T=o.readString(h.length),_=new po(T,h),null==w[x=h.nameID]&&(w[x]=[]),w[h.nameID].push(_);this.strings=w,this.copyright=w[0],this.fontFamily=w[1],this.fontSubfamily=w[2],this.uniqueSubfamily=w[3],this.fontName=w[4],this.version=w[5];try{this.postscriptName=w[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(R){this.postscriptName=w[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=w[7],this.manufacturer=w[8],this.designer=w[9],this.description=w[10],this.vendorUrl=w[11],this.designerUrl=w[12],this.license=w[13],this.licenseUrl=w[14],this.preferredFamily=w[15],this.preferredSubfamily=w[17],this.compatibleFull=w[18],this.sampleText=w[19]},i}(),au=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="maxp",i.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.numGlyphs=o.readUInt16(),this.maxPoints=o.readUInt16(),this.maxContours=o.readUInt16(),this.maxCompositePoints=o.readUInt16(),this.maxComponentContours=o.readUInt16(),this.maxZones=o.readUInt16(),this.maxTwilightPoints=o.readUInt16(),this.maxStorage=o.readUInt16(),this.maxFunctionDefs=o.readUInt16(),this.maxInstructionDefs=o.readUInt16(),this.maxStackElements=o.readUInt16(),this.maxSizeOfInstructions=o.readUInt16(),this.maxComponentElements=o.readUInt16(),this.maxComponentDepth=o.readUInt16()},i}(),su=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="hmtx",i.prototype.parse=function(o){var l,d,h,_,v,w;for(o.pos=this.offset,this.metrics=[],l=0,v=this.file.hhea.numberOfMetrics;0<=v?l<v:l>v;l=0<=v?++l:--l)this.metrics.push({advance:o.readUInt16(),lsb:o.readInt16()});for(h=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var T,N;for(N=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)N.push(o.readInt16());return N}(),this.widths=function(){var T,N,Z,x;for(x=[],T=0,N=(Z=this.metrics).length;T<N;T++)x.push(Z[T].advance);return x}.call(this),d=this.widths[this.widths.length-1],w=[],l=_=0;0<=h?_<h:_>h;l=0<=h?++_:--_)w.push(this.widths.push(d));return w},i.prototype.forGlyph=function(o){return o in this.metrics?this.metrics[o]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[o-this.metrics.length]}},i}(),Jc=[].slice,Vc=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(o){var l,d,h,f,_,v,w,T,N,Z;return o in this.cache?this.cache[o]:(l=this.file.contents,d=(f=this.file.loca).indexOf(o),0===(h=f.lengthOf(o))?this.cache[o]=null:(l.pos=this.offset+d,_=(v=new Ar(l.read(h))).readShort(),T=v.readShort(),Z=v.readShort(),w=v.readShort(),N=v.readShort(),this.cache[o]=-1===_?new Vr(v,T,Z,w,N):new Gn(v,_,T,Z,w,N),this.cache[o]))},i.prototype.encode=function(o,l,d){var h,f,_,v,w;for(_=[],f=[],v=0,w=l.length;v<w;v++)h=o[l[v]],f.push(_.length),h&&(_=_.concat(h.encode(d)));return f.push(_.length),{table:_,offsets:f}},i}(),Gn=function(){function a(i,o,l,d,h,f){this.raw=i,this.numberOfContours=o,this.xMin=l,this.yMin=d,this.xMax=h,this.yMax=f,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),Vr=function(){function a(i,o,l,d,h){var f,_;for(this.raw=i,this.xMin=o,this.yMin=l,this.xMax=d,this.yMax=h,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;_=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&_;)f.pos+=1&_?4:2,128&_?f.pos+=8:64&_?f.pos+=4:8&_&&(f.pos+=2)}return a.prototype.encode=function(){var i,o,l;for(o=new Ar(Jc.call(this.raw.data)),i=0,l=this.glyphIDs.length;i<l;++i)o.pos=this.glyphOffsets[i];return o.data},a}(),fo=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Wn(i,Sn),i.prototype.tag="loca",i.prototype.parse=function(o){var d;return o.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var h,f;for(f=[],d=0,h=this.length;d<h;d+=2)f.push(2*o.readUInt16());return f}.call(this):function(){var h,f;for(f=[],d=0,h=this.length;d<h;d+=4)f.push(o.readUInt32());return f}.call(this)},i.prototype.indexOf=function(o){return this.offsets[o]},i.prototype.lengthOf=function(o){return this.offsets[o+1]-this.offsets[o]},i.prototype.encode=function(o,l){for(var d=new Uint32Array(this.offsets.length),h=0,f=0,_=0;_<d.length;++_)if(d[_]=h,f<l.length&&l[f]==_){++f,d[_]=h;var w=this.offsets[_+1]-this.offsets[_];w>0&&(h+=w)}for(var T=new Array(4*d.length),N=0;N<d.length;++N)T[4*N+3]=255&d[N],T[4*N+2]=(65280&d[N])>>8,T[4*N+1]=(16711680&d[N])>>16,T[4*N]=(4278190080&d[N])>>24;return T},i}(),Wc=function(){function a(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var i,o,d,h;for(o in d=this.font.cmap.tables[0].codeMap,i={},h=this.subset)i[o]=d[h[o]];return i},a.prototype.glyphsFor=function(i){var o,l,d,h,f,_,v;for(d={},f=0,_=i.length;f<_;f++)d[h=i[f]]=this.font.glyf.glyphFor(h);for(h in o=[],d)(null!=(l=d[h])?l.compound:void 0)&&o.push.apply(o,l.glyphIDs);if(o.length>0)for(h in v=this.glyphsFor(o))d[h]=l=v[h];return d},a.prototype.encode=function(i,o){var l,d,h,f,v,w,T,N,Z,x,R,M,H,I;for(d in l=Yr.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(i),x={0:0},I=l.charMap)x[(v=I[d]).old]=v.new;for(R in Z=l.maxGlyphID,f)R in x||(x[R]=Z++);return T=function(B){var X,lt;for(X in lt={},B)lt[B[X]]=X;return lt}(x),N=Object.keys(T).sort(function(B,X){return B-X}),M=function(){var B,X,lt;for(lt=[],B=0,X=N.length;B<X;B++)lt.push(T[N[B]]);return lt}(),h=this.font.glyf.encode(f,M,x),w=this.font.loca.encode(h.offsets,M),H={cmap:this.font.cmap.raw(),glyf:h.table,loca:w,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(o)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},a}();Fe.API.PDFObject=function(){var a;function i(){}return a=function(o,l){return(Array(l+1).join("0")+o).slice(-l)},i.convert=function(o){var d,h;if(Array.isArray(o))return"["+function(){var _,v,w;for(w=[],_=0,v=o.length;_<v;_++)w.push(i.convert(o[_]));return w}().join(" ")+"]";if("string"==typeof o)return"/"+o;if(null!=o?o.isString:void 0)return"("+o+")";if(o instanceof Date)return"(D:"+a(o.getUTCFullYear(),4)+a(o.getUTCMonth(),2)+a(o.getUTCDate(),2)+a(o.getUTCHours(),2)+a(o.getUTCMinutes(),2)+a(o.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(o)){for(d in h=["<<"],o)h.push("/"+d+" "+i.convert(o[d]));return h.push(">>"),h.join("\n")}return""+o},i}();const ar=Fe}}]);