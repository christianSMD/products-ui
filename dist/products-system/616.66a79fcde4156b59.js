(self.webpackChunkproducts_system=self.webpackChunkproducts_system||[]).push([[616],{2616:(Da,mo,re)=>{"use strict";re.r(mo),re.d(mo,{ProductsModule:()=>vr});var Te=re(9808),Ai=re(1083),Qt=re(3075),t=re(5e3),ti=re(1038),Ce=re(5146),Rt=re(7261),se=re(1357),xe=re(9224),Ot=re(3251),Lt=re(4834),_t=re(3874),gt=re(7322),Ht=re(7531),Bt=re(7423),Tt=re(4107),tt=re(508),et=re(3954);let st=(()=>{class s{transform(e,r){let m=[];for(let x=0;x<e.length;x++)e[x].parent==r&&m.push(e[x]);return m}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"parent",type:s,pure:!0}),s})();function ct(s,l){1&s&&t._uU(0," Manage Categories ")}function vt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(6).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit;t.xp6(1),t.hij("",e.name," ")}}function bt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(5).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,vt,5,1,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(5);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function kt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(4).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,bt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(4);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Zt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(3).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,kt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(3);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function zt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(2).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Zt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Xt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw().selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,zt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function te(s,l){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"mat-form-field",36),t.TgZ(3,"mat-label"),t._uU(4,"Attribute Name"),t.qZA(),t._UZ(5,"input",37),t.qZA(),t.TgZ(6,"button",38),t.NdJ("click",function(){const x=t.CHM(e).index;return t.oxw(2).removeNewAttribute(x)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const e=l.index;t.xp6(1),t.Q6J("formGroupName",e)}}function pt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"mat-card",5),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"div",19),t.TgZ(6,"form",26),t.ynx(7,28),t.YNc(8,te,9,1,"ng-container",8),t.BQk(),t.TgZ(9,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(10,"mat-icon"),t._uU(11,"add_circle_outline"),t.qZA(),t._uU(12," Add Field "),t.qZA(),t.TgZ(13,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("update")}),t._uU(14,"Save Attributes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(3),t.hij("",e.selectedCatName," Attributes"),t.xp6(3),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls)}}function we(s,l){if(1&s&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ie(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"add_circle_outline"),t.qZA(),t._uU(2," New Category "))}function Ut(s,l){if(1&s&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ct(s,l){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("",e.newCategoryName," Attributes")}}function ie(s,l){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," attribute")}}function ae(s,l){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," Attributes")}}function Se(s,l){if(1&s&&(t.TgZ(0,"div",35),t.TgZ(1,"mat-grid-list",41),t.TgZ(2,"mat-grid-tile"),t.TgZ(3,"mat-form-field",12),t.TgZ(4,"mat-label"),t._uU(5,"Attribute Name"),t.qZA(),t._UZ(6,"input",37),t.qZA(),t.qZA(),t._UZ(7,"mat-grid-tile"),t.qZA(),t.qZA()),2&s){const e=t.oxw().index;t.Q6J("formGroupName",e)}}function ye(s,l){if(1&s&&(t.ynx(0),t._uU(1),t.YNc(2,Se,8,1,"div",40),t.BQk()),2&s){const e=l.index,r=t.oxw();t.xp6(1),t.hij(" ",r.hasValue()," "),t.xp6(1),t.Q6J("ngIf",e>=r.tempLength)}}function Ne(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("new")}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.disableSaveAttrBtn),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}let Me=(()=>{class s{constructor(e,r,m,x,F){this.navbar=e,this.api=r,this.formBuilder=m,this._snackBar=x,this.info=F,this.newCategoryId=0,this.newCategoryName="",this.categoriesList=[],this.attributesFields=[],this.selectedCatName="",this.selectedCatId=0,this.selectedCatParentId="",this.selectedCatParentName="",this.currentStep=1,this.disableSaveCatBtn=!1,this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.saveCatBtnText="Save Category",this.saveAttrBtnText="Save Attributes",this.goToCategoriesBtn=!1,this.hasParent=!1,this.roles=[],this.permission=!1,this.tempLength=0}ngOnInit(){this.info.auth(),this.attrCount=0,this.navbar.show(),this.getAllCategories(),this.selectCategory(205),this.permission=this.info.role(60),this.addCategory=this.formBuilder.group({name:["",Qt.kI.required],parent:[""]}),this.updateCategory=this.formBuilder.group({name:[""],parent:[""]}),this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("cats",e),this.categoriesList=e},error:e=>{alert(e)}})}addNewCategory(){this.addCategory.valid?(this.disableSaveCatBtn=!0,this.saveCatBtnText="Saving...",this.api.POST("categories",this.addCategory.value).subscribe({next:e=>{console.log(e.id),this.newCategoryId=e.id,this.newCategoryName=e.name,this.disableAddAttrBtn=!1,this.disableSaveAttrBtn=!1,this.info.activity(`Added a new category: ${e.name}`,0),this.saveCatBtnText="Category Saved",this.getAllCategories(),this.openSnackBar(e.name+" Added","Okay")},error:e=>{console.log("AddNewCategory Error: "+e.message),this.openSnackBar("Failed to save category. Please try again or contact Administrator.","Okay"),this.disableSaveCatBtn=!1,this.saveCatBtnText="Failed. Try again"}})):console.log("Form input invalid.")}get attributes(){return this.categoryForm.get("attributes")}addNewAttribute(){const e=this.formBuilder.group({attrName:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}updateAttributes(e){if(this.attributes.valid){this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.goToCategoriesBtn=!0,this.saveAttrBtnText="Saving...";let r=[];for(let x=0;x<this.categoryForm.value.attributes.length;x++)r.push(this.categoryForm.value.attributes[x].attrName);let m="new"==e?this.newCategoryId:this.selectedCatId;this.api.POST(`categories/update/${m}`,r).subscribe({next:x=>{this.saveAttrBtnText="Attributes Saved",this.openSnackBar(this.attrCount+" attribute(s) added","Okay"),this.info.activity(`Updated attributes for category: ${m}`,0),this.getAllCategories()},error:x=>{this.openSnackBar(x.message,"Okay")}})}else this.openSnackBar("Please enter value","Okay")}updateParent(){console.log("updating: "+this.selectedCatId),this.api.POST(`categories/update-parent/${this.selectedCatId}`,this.updateCategory.value).subscribe({next:e=>{console.log(e),this.getAllCategories()},error:e=>{this.openSnackBar(e.message,"Okay")}})}selectCategory(e){this.clearSelectedCat(),console.log(e);try{let r=this.categoriesList.find(x=>x.id===e),m=null==r?void 0:r.attributes;m=JSON.parse(m),this.attributesFields=m,console.log("Fields: ",this.attributesFields),this.selectedCatId=null==r?void 0:r.id,this.selectedCatName=null==r?void 0:r.name,this.selectedCatParentId=null==r?void 0:r.parent,this.getParent(parseInt(this.selectedCatParentId));for(let x=0;x<this.attributesFields.length;x++){const F=this.formBuilder.group({attrName:[this.attributesFields[x]]});this.attributes.push(F)}}catch(r){console.log(r)}}getParent(e){if(e>0){let r=this.categoriesList.find(m=>m.id===e);this.selectedCatParentName=null==r?void 0:r.name,this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,Qt.kI.required],parent:[{value:this.selectedCatParentName,disabled:!1}]})}else this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,Qt.kI.required],parent:[{value:"",disabled:!1}]})}openSnackBar(e,r){this._snackBar.open(e,r)}clearSelectedCat(){this.getAllCategories(),this.selectedCatId=0,this.selectedCatName="",this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}selectParentCategory(e){this.hasParent=!0}refresh(){location.reload()}hasValue(){}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ti.I),t.Y36(Ce.s),t.Y36(Qt.qu),t.Y36(Rt.ux),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-categories"]],decls:81,vars:22,consts:[["routerLink","../../"],["dynamicHeight","",3,"selectedTabChange"],["mat-tab-label",""],[1,"row"],[1,"col-md-4"],[2,"margin-top","1rem","margin-bottom","9rem"],[2,"margin-top","2rem","font-size","small"],[1,"catList"],[4,"ngFor","ngForOf"],["class","col-md-4 show",4,"ngIf"],[1,"col-md-4","show",3,"hidden"],[2,"margin-top","2rem",3,"formGroup"],["appearance","outline",2,"width","100%"],["name","name","matInput","","formControlName","name","placeholder","Edit Category Name",1,"capitalize"],["name","categories","formControlName","parent",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"click"],[3,"disabled"],[1,"col-md-5"],[2,"margin-top","2rem"],[3,"formGroup","ngSubmit"],["cols","3","rowHeight","80px"],["name","category_name","matInput","","formControlName","name","placeholder","Enter Category Name","required","",1,"capitalize"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"disabled"],[1,"col-md-7"],[4,"ngIf"],[3,"formGroup"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem","margin-bottom","1rem",3,"disabled","click"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","primary",2,"margin-left","1rem",3,"hidden","click"],[3,"click"],[1,"edit"],[1,"col-md-4","show"],["mat-raised-button","","type","button","color","basic",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[3,"formGroupName"],["appearance","outline"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","E.g. colour","required","",1,"capitalize"],["mat-mini-fab","","type","button","color","warn",2,"margin-left","1rem",3,"click"],[3,"value"],[3,"formGroupName",4,"ngIf"],["cols","2","rowHeight","80px"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Categories\n"),t.qZA(),t.TgZ(4,"mat-card"),t.TgZ(5,"mat-tab-group",1),t.NdJ("selectedTabChange",function(){return r.clearSelectedCat()}),t.TgZ(6,"mat-tab"),t.YNc(7,ct,1,0,"ng-template",2),t.TgZ(8,"div",3),t.TgZ(9,"div",4),t.TgZ(10,"mat-card",5),t.TgZ(11,"h2"),t._uU(12,"Categories"),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"div",6),t.TgZ(15,"ul",7),t.YNc(16,Xt,8,5,"li",8),t.ALo(17,"parent"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,pt,15,3,"div",9),t.TgZ(19,"div",10),t.TgZ(20,"mat-card",5),t.TgZ(21,"h2"),t._uU(22),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"form",11),t.TgZ(25,"mat-form-field",12),t.TgZ(26,"mat-label"),t._uU(27,"Category Name"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field",12),t.TgZ(30,"mat-label"),t._uU(31,"Parent Category"),t.qZA(),t.TgZ(32,"mat-select",14),t.NdJ("selectionChange",function(x){return r.selectParentCategory(x)}),t.YNc(33,we,2,2,"mat-option",15),t.qZA(),t.qZA(),t.TgZ(34,"button",16),t.NdJ("click",function(){return r.updateParent()}),t._uU(35,"Save Details"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"mat-tab",17),t.YNc(37,Ie,3,0,"ng-template",2),t.TgZ(38,"div",3),t.TgZ(39,"div",18),t.TgZ(40,"mat-card",5),t.TgZ(41,"h2"),t._uU(42,"New Category"),t.qZA(),t._UZ(43,"mat-divider"),t.TgZ(44,"div",19),t.TgZ(45,"form",20),t.NdJ("ngSubmit",function(){return r.addNewCategory()}),t.TgZ(46,"mat-grid-list",21),t.TgZ(47,"mat-grid-tile"),t.TgZ(48,"mat-form-field",12),t.TgZ(49,"mat-label"),t._uU(50,"Category Name"),t.qZA(),t._UZ(51,"input",22),t.qZA(),t.qZA(),t.TgZ(52,"mat-grid-tile"),t.TgZ(53,"mat-form-field",12),t.TgZ(54,"mat-label"),t._uU(55,"Parent Category"),t.qZA(),t.TgZ(56,"mat-select",14),t.NdJ("selectionChange",function(x){return r.selectParentCategory(x)}),t.YNc(57,Ut,2,2,"mat-option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"mat-grid-tile"),t.TgZ(59,"button",23),t._uU(60),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",24),t.TgZ(62,"mat-card",5),t.TgZ(63,"h2"),t.YNc(64,Ct,2,1,"span",25),t.YNc(65,ie,2,1,"span",25),t.YNc(66,ae,2,1,"span",25),t.qZA(),t._UZ(67,"mat-divider"),t.TgZ(68,"div",19),t.TgZ(69,"form",26),t.TgZ(70,"button",27),t.NdJ("click",function(){return r.addNewAttribute()}),t.TgZ(71,"mat-icon"),t._uU(72,"add_circle_outline"),t.qZA(),t._uU(73," Add Attribute "),t.qZA(),t.ynx(74,28),t.YNc(75,ye,3,2,"ng-container",8),t.BQk(),t.YNc(76,Ne,3,2,"div",25),t._UZ(77,"br"),t._UZ(78,"br"),t.TgZ(79,"button",29),t.NdJ("click",function(){return r.refresh()}),t._uU(80,"Go To Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",t.xi3(17,19,r.categoriesList,"0")),t.xp6(2),t.Q6J("ngIf",""!==r.selectedCatName),t.xp6(1),t.Q6J("hidden",""==r.selectedCatName),t.xp6(3),t.hij("",r.selectedCatName," Details"),t.xp6(2),t.Q6J("formGroup",r.updateCategory),t.xp6(9),t.Q6J("ngForOf",r.categoriesList),t.xp6(3),t.Q6J("disabled",!r.permission),t.xp6(9),t.Q6J("formGroup",r.addCategory),t.xp6(12),t.Q6J("ngForOf",r.categoriesList),t.xp6(2),t.Q6J("disabled",r.disableSaveCatBtn),t.xp6(1),t.Oqu(r.saveCatBtnText),t.xp6(4),t.Q6J("ngIf",r.attrCount<1),t.xp6(1),t.Q6J("ngIf",1==r.attrCount),t.xp6(1),t.Q6J("ngIf",r.attrCount>1),t.xp6(3),t.Q6J("formGroup",r.categoryForm),t.xp6(1),t.Q6J("disabled",r.disableAddAttrBtn),t.xp6(5),t.Q6J("ngForOf",r.attributes.controls),t.xp6(1),t.Q6J("ngIf",r.attrCount>0),t.xp6(3),t.Q6J("hidden",!r.goToCategoriesBtn))},directives:[Ai.yS,xe.a8,Ot.SP,Ot.uX,Ot.uD,Lt.d,Te.sg,_t.Hw,Te.O5,Qt._Y,Qt.JL,Qt.sg,Qt.CE,Qt.x0,gt.KE,gt.hX,Ht.Nt,Qt.Fj,Qt.JJ,Qt.u,Qt.Q7,Bt.lW,Tt.gD,tt.ey,et.Il,et.DX],pipes:[st],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.catList[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:larger;text-transform:uppercase}.step-active[_ngcontent-%COMP%]{background-color:#28e3fc;border-radius:50%;padding:4px 10px}.step-inactive[_ngcontent-%COMP%]{background-color:#d4ddd8;color:#8d8d8d;border-radius:50%;padding:4px 10px}.step-done[_ngcontent-%COMP%]{background-color:#2dc954;color:#fff;border-radius:50%;padding:4px 10px}ul[_ngcontent-%COMP%]{line-height:2rem;list-style-type:square}li[_ngcontent-%COMP%]:hover{color:#d3526a}.edit[_ngcontent-%COMP%]{font-size:medium;cursor:pointer}.show[_ngcontent-%COMP%]{transition-timing-function:ease-in}"]}),s})();var Ze=re(6087),Oe=re(4847),Kt=re(8279),cn=re(631),Wi=re(6689),on=re(776),Ii=re(5664),$n=re(5899),yr=re(7877);function Ac(s,l){1&s&&t._UZ(0,"mat-progress-bar",24)}function Cc(s,l){1&s&&(t.TgZ(0,"th",25),t._uU(1," SKU "),t.qZA())}function Ia(s,l){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function Nl(s,l){1&s&&(t.TgZ(0,"th",25),t._uU(1," Name "),t.qZA())}function Tc(s,l){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function bs(s,l){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Short description"),t.qZA())}function ys(s,l){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.shortDescription," ")}}function Ll(s,l){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Description"),t.qZA())}function Zl(s,l){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Dl(s,l){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Categories"),t.qZA())}function Il(s,l){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setProductCategories(e.id)," ")}}function xr(s,l){1&s&&t._UZ(0,"tr",27)}function xs(s,l){1&s&&t._UZ(0,"tr",28)}function _o(s,l){if(1&s&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",30),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Au=function(){return[10,25,100]};let Cu=(()=>{class s extends cn._k{constructor(e,r,m,x,F,nt,Jt,ue){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=x,this.api=F,this._snackBar=nt,this._liveAnnouncer=Jt,this.info=ue,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.displayedColumns=["sku","name","shortDescription","description","categories"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(Pe=>{this.loggedIn=Pe})}ngOnInit(){this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getImages(),this.getProductCategories(),this.getAllCategories(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log(e),this.productsLoader=!1,this.productsList=e,this.dataSource=new Kt.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("Categories",e),this.categoriesList=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getImages(){this.productsLoader=!0,this.api.GET("images").subscribe({next:e=>{console.log(e),this.images=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}productImages(e){return this.images.filter(r=>r.product_id==e)}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{console.log(e),this.typesList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getProductCategories(){this.api.GET("product-categories").subscribe({next:e=>{console.log("Products categories",e),this.productCategoryList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}setAttributesName(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrName:""}setAttributesValue(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrValue:""}setProductCategories(e){let r=[],m=[];for(let F=0;F<this.productCategoryList.length;F++)this.productCategoryList[F].product_id==e&&r.push(this.productCategoryList[F].category_id);for(let F=0;F<r.length;F++)try{let nt=this.categoriesList.find(Jt=>Jt.id==r[F]);m.push(nt.name)}catch(nt){return""}return m}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ti.I),t.Y36(Wi.Z),t.Y36(ti.I),t.Y36(on.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-export-csv"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ze.NW,5),t.Gf(Oe.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:44,vars:6,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",3,"click"],["mat-raised-button","","disabled","",1,"m-1"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","sku"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","categories"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"button",2),t.TgZ(9,"mat-icon"),t._uU(10,"file_upload"),t.qZA(),t._uU(11," Import Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(F){return r.applyFilter(F)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,Ac,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(F){return r.announceSortChange(F)}),t.ynx(25,13),t.YNc(26,Cc,2,0,"th",14),t.YNc(27,Ia,2,1,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,Nl,2,0,"th",14),t.YNc(30,Tc,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,bs,2,0,"th",14),t.YNc(33,ys,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,Ll,2,0,"th",14),t.YNc(36,Zl,2,1,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,Dl,2,0,"th",14),t.YNc(39,Il,2,1,"td",15),t.BQk(),t.YNc(40,xr,1,0,"tr",20),t.YNc(41,xs,1,0,"tr",21),t.YNc(42,_o,3,1,"tr",22),t.qZA(),t._UZ(43,"mat-paginator",23),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(22),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,Au)))},directives:[Ai.yS,Bt.lW,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Te.O5,$n.pW,Kt.BZ,yr.jt,Oe.YE,Kt.w1,Kt.fO,Kt.ge,Oe.nU,Kt.Dz,Kt.ev,Kt.as,Kt.XQ,Kt.nj,Kt.Gk,Kt.Ee,Ze.NW],styles:[""]}),s})();function Ln(s,l){1&s&&t._UZ(0,"mat-progress-bar",69)}function Bi(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Type "),t.qZA())}function Ui(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," simple "),t.qZA())}function kc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," SKU "),t.qZA())}function Pc(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function Sc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Name "),t.qZA())}function Nc(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Lc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Published "),t.qZA())}function Zc(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 1 "),t.qZA())}function Tu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Is featured? "),t.qZA())}function ku(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Pu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Visibility in catalog"),t.qZA())}function Ol(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," visible "),t.qZA())}function Oa(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Short description"),t.qZA())}function Su(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.shortDescription," ")}}function Nu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Description"),t.qZA())}function Dc(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Ko(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Tax status"),t.qZA())}function Lu(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"taxable"),t.qZA())}function Zu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"In stock?"),t.qZA())}function Du(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ic(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Weight (kg)"),t.qZA())}function Iu(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Ou(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Length (cm)"),t.qZA())}function Ml(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function ws(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Width (cm)"),t.qZA())}function Mu(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Eu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Height (cm)"),t.qZA())}function Fu(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Xo(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Regular Price"),t.qZA())}function qu(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Ru(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Allow customer reviews?"),t.qZA())}function El(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Ma(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Categories"),t.qZA())}function Bu(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setProductCategories(e.id)," ")}}function Uu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Tags"),t.qZA())}function ju(s,l){1&s&&t._UZ(0,"td",71)}function Hu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Images "),t.qZA())}function As(s,l){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(1),t.hij("",r.storageUrl+e.path.replace("public/",""),", ")}}function Oc(s,l){if(1&s&&(t.TgZ(0,"td",71),t.YNc(1,As,2,1,"span",72),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.productImages(e.id))}}function Fl(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Parent"),t.qZA())}function Mc(s,l){1&s&&t._UZ(0,"td",71)}function Ec(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 name "),t.qZA())}function ql(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,0)," ")}}function Ea(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 value(s) "),t.qZA())}function Fc(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,0)," ")}}function zu(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 visible "),t.qZA())}function Yu(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ju(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 name "),t.qZA())}function Vu(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,1)," ")}}function Re(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 value(s) "),t.qZA())}function Cs(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,1)," ")}}function di(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 visible "),t.qZA())}function Ts(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function qc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 name "),t.qZA())}function Fa(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,2)," ")}}function ta(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 value(s) "),t.qZA())}function ks(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,2)," ")}}function Ur(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 visible "),t.qZA())}function Rc(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ps(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 name "),t.qZA())}function qa(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,3)," ")}}function Gi(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 value(s) "),t.qZA())}function Qi(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,3)," ")}}function $i(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 visible "),t.qZA())}function Ki(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Bc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 name "),t.qZA())}function Rl(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,4)," ")}}function Uc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 value(s) "),t.qZA())}function Bl(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,4)," ")}}function Ul(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 visible "),t.qZA())}function Ss(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function jl(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 name "),t.qZA())}function wr(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,5)," ")}}function Ns(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 value(s) "),t.qZA())}function jc(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,5)," ")}}function vo(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 visible "),t.qZA())}function bo(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Hc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 name "),t.qZA())}function ea(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,6)," ")}}function zc(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 value(s) "),t.qZA())}function Ar(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,6)," ")}}function jr(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 visible "),t.qZA())}function Ee(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ti(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 name "),t.qZA())}function Ls(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,7)," ")}}function Hr(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 value(s) "),t.qZA())}function yo(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,7)," ")}}function je(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 visible "),t.qZA())}function Cr(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function ln(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 name "),t.qZA())}function Yc(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,8)," ")}}function Kn(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 value(s)"),t.qZA())}function Hl(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,8)," ")}}function zl(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 visible "),t.qZA())}function Yl(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Li(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 name "),t.qZA())}function Zi(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,5)," ")}}function Di(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 value(s) "),t.qZA())}function Jl(s,l){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,9)," ")}}function Vl(s,l){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 visible "),t.qZA())}function Zs(s,l){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ra(s,l){1&s&&t._UZ(0,"tr",73)}function Wl(s,l){1&s&&t._UZ(0,"tr",74)}function Gl(s,l){if(1&s&&(t.TgZ(0,"tr",75),t.TgZ(1,"td",76),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Ql=function(){return[10,25,100]};let $l=(()=>{class s extends cn._k{constructor(e,r,m,x,F,nt,Jt,ue){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=x,this.api=F,this._snackBar=nt,this._liveAnnouncer=Jt,this.info=ue,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.displayedColumns=["type","sku","name","published","featured","visibility","shortDescription","description","tax","inStock","weight","width","height","price","reviews","categories","tags","images","parent","attr1Name","attr1Value","attr2Name","attr2Value","attr3Name","attr3Value","attr4Name","attr4Value","attr5Name","attr5Value","attr6Name","attr6Value","attr7Name","attr7Value","attr8Name","attr8Value","attr9Name","attr9Value","attr10Name","attr10Value"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(Pe=>{this.loggedIn=Pe})}ngOnInit(){console.log("EXPORT"),this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getImages(),this.getProductCategories(),this.getAllCategories(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log(e),this.productsLoader=!1,this.productsList=e,this.dataSource=new Kt.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("Categories",e),this.categoriesList=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getImages(){this.productsLoader=!0,this.api.GET("images").subscribe({next:e=>{console.log(e),this.images=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}productImages(e){return this.images.filter(r=>r.product_id==e)}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{console.log(e),this.typesList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getProductCategories(){this.api.GET("product-categories").subscribe({next:e=>{console.log("Products categories",e),this.productCategoryList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}setAttributesName(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrName:""}setAttributesValue(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrValue:""}setProductCategories(e){let r=[],m=[];for(let F=0;F<this.productCategoryList.length;F++)this.productCategoryList[F].product_id==e&&r.push(this.productCategoryList[F].category_id);for(let F=0;F<r.length;F++)try{let nt=this.categoriesList.find(Jt=>Jt.id==r[F]);m.push(nt.name)}catch(nt){return""}return m}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ti.I),t.Y36(Wi.Z),t.Y36(ti.I),t.Y36(on.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-export"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ze.NW,5),t.Gf(Oe.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:179,vars:6,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",3,"click"],["mat-raised-button","","disabled","",1,"m-1"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","published"],["matColumnDef","featured"],["matColumnDef","visibility"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","tax"],["matColumnDef","inStock"],["matColumnDef","weight"],["matColumnDef","length"],["matColumnDef","width"],["matColumnDef","height"],["matColumnDef","price"],["matColumnDef","reviews"],["matColumnDef","categories"],["matColumnDef","tags"],["matColumnDef","images"],["matColumnDef","parent"],["matColumnDef","attr1Name"],["matColumnDef","attr1Value"],["matColumnDef","attr1Visible"],["matColumnDef","attr2Name"],["matColumnDef","attr2Value"],["matColumnDef","attr2Visible"],["matColumnDef","attr3Name"],["matColumnDef","attr3Value"],["matColumnDef","attr3Visible"],["matColumnDef","attr4Name"],["matColumnDef","attr4Value"],["matColumnDef","attr4Visible"],["matColumnDef","attr5Name"],["matColumnDef","attr5Value"],["matColumnDef","attr5Visible"],["matColumnDef","attr6Name"],["matColumnDef","attr6Value"],["matColumnDef","attr6Visible"],["matColumnDef","attr7Name"],["matColumnDef","attr7Value"],["matColumnDef","attr7Visible"],["matColumnDef","attr8Name"],["matColumnDef","attr8Value"],["matColumnDef","attr8Visible"],["matColumnDef","attr9Name"],["matColumnDef","attr9Value"],["matColumnDef","attr9Visible"],["matColumnDef","attr10Name"],["matColumnDef","attr10Value"],["matColumnDef","attr10Visible"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"button",2),t.TgZ(9,"mat-icon"),t._uU(10,"file_upload"),t.qZA(),t._uU(11," Import Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(F){return r.applyFilter(F)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,Ln,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(F){return r.announceSortChange(F)}),t.ynx(25,13),t.YNc(26,Bi,2,0,"th",14),t.YNc(27,Ui,2,0,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,kc,2,0,"th",14),t.YNc(30,Pc,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,Sc,2,0,"th",14),t.YNc(33,Nc,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,Lc,2,0,"th",14),t.YNc(36,Zc,2,0,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,Tu,2,0,"th",14),t.YNc(39,ku,2,0,"td",15),t.BQk(),t.ynx(40,20),t.YNc(41,Pu,2,0,"th",14),t.YNc(42,Ol,2,0,"td",15),t.BQk(),t.ynx(43,21),t.YNc(44,Oa,2,0,"th",14),t.YNc(45,Su,2,1,"td",15),t.BQk(),t.ynx(46,22),t.YNc(47,Nu,2,0,"th",14),t.YNc(48,Dc,2,1,"td",15),t.BQk(),t.ynx(49,23),t.YNc(50,Ko,2,0,"th",14),t.YNc(51,Lu,2,0,"td",15),t.BQk(),t.ynx(52,24),t.YNc(53,Zu,2,0,"th",14),t.YNc(54,Du,2,0,"td",15),t.BQk(),t.ynx(55,25),t.YNc(56,Ic,2,0,"th",14),t.YNc(57,Iu,2,0,"td",15),t.BQk(),t.ynx(58,26),t.YNc(59,Ou,2,0,"th",14),t.YNc(60,Ml,2,0,"td",15),t.BQk(),t.ynx(61,27),t.YNc(62,ws,2,0,"th",14),t.YNc(63,Mu,2,0,"td",15),t.BQk(),t.ynx(64,28),t.YNc(65,Eu,2,0,"th",14),t.YNc(66,Fu,2,0,"td",15),t.BQk(),t.ynx(67,29),t.YNc(68,Xo,2,0,"th",14),t.YNc(69,qu,2,0,"td",15),t.BQk(),t.ynx(70,30),t.YNc(71,Ru,2,0,"th",14),t.YNc(72,El,2,0,"td",15),t.BQk(),t.ynx(73,31),t.YNc(74,Ma,2,0,"th",14),t.YNc(75,Bu,2,1,"td",15),t.BQk(),t.ynx(76,32),t.YNc(77,Uu,2,0,"th",14),t.YNc(78,ju,1,0,"td",15),t.BQk(),t.ynx(79,33),t.YNc(80,Hu,2,0,"th",14),t.YNc(81,Oc,2,1,"td",15),t.BQk(),t.ynx(82,34),t.YNc(83,Fl,2,0,"th",14),t.YNc(84,Mc,1,0,"td",15),t.BQk(),t.ynx(85,35),t.YNc(86,Ec,2,0,"th",14),t.YNc(87,ql,2,1,"td",15),t.BQk(),t.ynx(88,36),t.YNc(89,Ea,2,0,"th",14),t.YNc(90,Fc,2,1,"td",15),t.BQk(),t.ynx(91,37),t.YNc(92,zu,2,0,"th",14),t.YNc(93,Yu,2,0,"td",15),t.BQk(),t.ynx(94,38),t.YNc(95,Ju,2,0,"th",14),t.YNc(96,Vu,2,1,"td",15),t.BQk(),t.ynx(97,39),t.YNc(98,Re,2,0,"th",14),t.YNc(99,Cs,2,1,"td",15),t.BQk(),t.ynx(100,40),t.YNc(101,di,2,0,"th",14),t.YNc(102,Ts,2,0,"td",15),t.BQk(),t.ynx(103,41),t.YNc(104,qc,2,0,"th",14),t.YNc(105,Fa,2,1,"td",15),t.BQk(),t.ynx(106,42),t.YNc(107,ta,2,0,"th",14),t.YNc(108,ks,2,1,"td",15),t.BQk(),t.ynx(109,43),t.YNc(110,Ur,2,0,"th",14),t.YNc(111,Rc,2,0,"td",15),t.BQk(),t.ynx(112,44),t.YNc(113,Ps,2,0,"th",14),t.YNc(114,qa,2,1,"td",15),t.BQk(),t.ynx(115,45),t.YNc(116,Gi,2,0,"th",14),t.YNc(117,Qi,2,1,"td",15),t.BQk(),t.ynx(118,46),t.YNc(119,$i,2,0,"th",14),t.YNc(120,Ki,2,0,"td",15),t.BQk(),t.ynx(121,47),t.YNc(122,Bc,2,0,"th",14),t.YNc(123,Rl,2,1,"td",15),t.BQk(),t.ynx(124,48),t.YNc(125,Uc,2,0,"th",14),t.YNc(126,Bl,2,1,"td",15),t.BQk(),t.ynx(127,49),t.YNc(128,Ul,2,0,"th",14),t.YNc(129,Ss,2,0,"td",15),t.BQk(),t.ynx(130,50),t.YNc(131,jl,2,0,"th",14),t.YNc(132,wr,2,1,"td",15),t.BQk(),t.ynx(133,51),t.YNc(134,Ns,2,0,"th",14),t.YNc(135,jc,2,1,"td",15),t.BQk(),t.ynx(136,52),t.YNc(137,vo,2,0,"th",14),t.YNc(138,bo,2,0,"td",15),t.BQk(),t.ynx(139,53),t.YNc(140,Hc,2,0,"th",14),t.YNc(141,ea,2,1,"td",15),t.BQk(),t.ynx(142,54),t.YNc(143,zc,2,0,"th",14),t.YNc(144,Ar,2,1,"td",15),t.BQk(),t.ynx(145,55),t.YNc(146,jr,2,0,"th",14),t.YNc(147,Ee,2,0,"td",15),t.BQk(),t.ynx(148,56),t.YNc(149,Ti,2,0,"th",14),t.YNc(150,Ls,2,1,"td",15),t.BQk(),t.ynx(151,57),t.YNc(152,Hr,2,0,"th",14),t.YNc(153,yo,2,1,"td",15),t.BQk(),t.ynx(154,58),t.YNc(155,je,2,0,"th",14),t.YNc(156,Cr,2,0,"td",15),t.BQk(),t.ynx(157,59),t.YNc(158,ln,2,0,"th",14),t.YNc(159,Yc,2,1,"td",15),t.BQk(),t.ynx(160,60),t.YNc(161,Kn,2,0,"th",14),t.YNc(162,Hl,2,1,"td",15),t.BQk(),t.ynx(163,61),t.YNc(164,zl,2,0,"th",14),t.YNc(165,Yl,2,0,"td",15),t.BQk(),t.ynx(166,62),t.YNc(167,Li,2,0,"th",14),t.YNc(168,Zi,2,1,"td",15),t.BQk(),t.ynx(169,63),t.YNc(170,Di,2,0,"th",14),t.YNc(171,Jl,2,1,"td",15),t.BQk(),t.ynx(172,64),t.YNc(173,Vl,2,0,"th",14),t.YNc(174,Zs,2,0,"td",15),t.BQk(),t.YNc(175,Ra,1,0,"tr",65),t.YNc(176,Wl,1,0,"tr",66),t.YNc(177,Gl,3,1,"tr",67),t.qZA(),t._UZ(178,"mat-paginator",68),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(22),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(152),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,Ql)))},directives:[Ai.yS,Bt.lW,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Te.O5,$n.pW,Kt.BZ,yr.jt,Oe.YE,Kt.w1,Kt.fO,Kt.ge,Oe.nU,Kt.Dz,Kt.ev,Te.sg,Kt.as,Kt.XQ,Kt.nj,Kt.Gk,Kt.Ee,Ze.NW],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 10px;line-break:unset;width:100%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{min-width:800px}.data[_ngcontent-%COMP%]{max-height:500px;overflow:auto}"]}),s})();function Jc(s,l){1&s&&t._UZ(0,"mat-progress-bar",26)}function Ds(s,l){1&s&&(t.TgZ(0,"th",27),t._uU(1," ID "),t.qZA())}function Xn(s,l){if(1&s&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function Vc(s,l){1&s&&(t.TgZ(0,"th",27),t._uU(1," SKU "),t.qZA())}function Wc(s,l){if(1&s&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function Zn(s,l){1&s&&(t.TgZ(0,"th",27),t._uU(1," Name "),t.qZA())}function zr(s,l){if(1&s&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Yr(s,l){1&s&&(t.TgZ(0,"th",27),t._uU(1," Brand "),t.qZA())}function Jr(s,l){if(1&s&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij(" ",e.brand," ")}}function ia(s,l){1&s&&(t.TgZ(0,"th",27),t._uU(1," Description "),t.qZA())}function qi(s,l){if(1&s&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function na(s,l){1&s&&t._UZ(0,"th",27)}function Vr(s,l){if(1&s&&(t.TgZ(0,"td",28),t.TgZ(1,"button",29),t._uU(2," Details "),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.sku,"")}}function Ba(s,l){1&s&&t._UZ(0,"tr",30)}function ra(s,l){1&s&&t._UZ(0,"tr",31)}function Tr(s,l){if(1&s&&(t.TgZ(0,"tr",32),t.TgZ(1,"td",33),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const oa=function(){return[5,10,25,100]};let Ae=(()=>{class s extends cn._k{constructor(e,r,m,x,F,nt,Jt,ue,Pe){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=x,this.api=F,this.route=nt,this._snackBar=Jt,this._liveAnnouncer=ue,this.info=Pe,this.productsList=[],this.categoriesList=[],this.typesList=[],this.displayedColumns=["id","sku","name","brand","description","view"],this.productsLoader=!1}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllProducts()}ngAfterViewInit(){this.route.params.subscribe(e=>{this.urlParam=e.brand,this.brand=this.urlParam.toUpperCase(),this.getAllTypes(),this.getAllProducts()})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log("Products",e),this.productsLoader=!1,this.productsList=e.filter(r=>r.brand_type_id==this.typeId),console.log("Brand",this.productsList),this.dataSource=new Kt.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{for(let r=0;r<e.length;r++)e[r].name.toLocaleLowerCase()==this.brand.toLocaleLowerCase()&&(console.log("Found type id",e[r].id),this.typeId=e[r].id)},error:e=>{console.log(e)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ti.I),t.Y36(Wi.Z),t.Y36(ti.I),t.Y36(on.r),t.Y36(Ce.s),t.Y36(Ai.gz),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-list-products"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ze.NW,5),t.Gf(Oe.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:48,vars:7,consts:[["routerLink","../../"],["mat-raised-button","","routerLink","../../add/new",1,"m-1"],["mat-raised-button","",1,"m-1",3,"click"],[1,"row"],[1,"col-md-8","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-4"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-stroked-button","",2,"background-color","rgb(245, 245, 245)","font-size","smaller","color","rgb(155, 155, 155)",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"button",1),t.TgZ(5,"mat-icon"),t._uU(6,"add"),t.qZA(),t._uU(7," Add New Product\n"),t.qZA(),t.TgZ(8,"button",2),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(9,"mat-icon"),t._uU(10,"download"),t.qZA(),t._uU(11," Export Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(F){return r.applyFilter(F)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,Jc,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(F){return r.announceSortChange(F)}),t.ynx(25,13),t.YNc(26,Ds,2,0,"th",14),t.YNc(27,Xn,2,1,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,Vc,2,0,"th",14),t.YNc(30,Wc,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,Zn,2,0,"th",14),t.YNc(33,zr,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,Yr,2,0,"th",14),t.YNc(36,Jr,2,1,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,ia,2,0,"th",14),t.YNc(39,qi,2,1,"td",15),t.BQk(),t.ynx(40,20),t.YNc(41,na,1,0,"th",14),t.YNc(42,Vr,3,1,"td",15),t.BQk(),t.YNc(43,Ba,1,0,"tr",21),t.YNc(44,ra,1,0,"tr",22),t.YNc(45,Tr,3,1,"tr",23),t.qZA(),t._UZ(46,"mat-paginator",24),t.qZA(),t.qZA(),t._UZ(47,"div",25),t.qZA()}2&e&&(t.xp6(3),t.hij(" / Brand / ",r.brand,"\n"),t.xp6(19),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(20),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(6,oa)))},directives:[Ai.yS,Bt.lW,Ai.rH,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Te.O5,$n.pW,Kt.BZ,yr.jt,Oe.YE,Kt.w1,Kt.fO,Kt.ge,Oe.nU,Kt.Dz,Kt.ev,Kt.as,Kt.XQ,Kt.nj,Kt.Gk,Kt.Ee,Ze.NW],styles:[".chip-list[_ngcontent-%COMP%]{width:100%;margin-left:5rem}table[_ngcontent-%COMP%]{width:100%}"]}),s})();var Wr=re(520),un=re(925),Ke=re(3191),li=re(7579),Gr=re(727),Is=re(4986),Gc=re(5963),Os=re(6406),Ms=re(8306),tr=re(6451),kr=re(2722),Qr=re(8675),Qc=re(4004),er=re(5698),$c=re(8505),Ua=re(3900),Pr=re(393),$r=re(226);function ja(s,l,e){for(let r in l)if(l.hasOwnProperty(r)){const m=l[r];m?s.setProperty(r,m,(null==e?void 0:e.has(r))?"important":""):s.removeProperty(r)}return s}function Sr(s,l){const e=l?"":"none";ja(s.style,{"touch-action":l?"":"none","-webkit-user-drag":l?"":"none","-webkit-tap-highlight-color":l?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Kr(s,l,e){ja(s.style,{position:l?"":"fixed",top:l?"":"0",opacity:l?"":"0",left:l?"":"-999em"},e)}function Xr(s,l){return l&&"none"!=l?s+" "+l:s}function Es(s){const l=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*l}function Ha(s,l){return s.getPropertyValue(l).split(",").map(r=>r.trim())}function Fs(s){const l=s.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:l.width,height:l.height,x:l.x,y:l.y}}function qs(s,l,e){const{top:r,bottom:m,left:x,right:F}=s;return e>=r&&e<=m&&l>=x&&l<=F}function xo(s,l,e){s.top+=l,s.bottom=s.top+s.height,s.left+=e,s.right=s.left+s.width}function za(s,l,e,r){const{top:m,right:x,bottom:F,left:nt,width:Jt,height:ue}=s,Pe=Jt*l,_i=ue*l;return r>m-_i&&r<F+_i&&e>nt-Pe&&e<x+Pe}class xn{constructor(l){this._document=l,this.positions=new Map}clear(){this.positions.clear()}cache(l){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),l.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Fs(e)})})}handleScroll(l){const e=(0,un.sA)(l),r=this.positions.get(e);if(!r)return null;const m=r.scrollPosition;let x,F;if(e===this._document){const ue=this.getViewportScrollPosition();x=ue.top,F=ue.left}else x=e.scrollTop,F=e.scrollLeft;const nt=m.top-x,Jt=m.left-F;return this.positions.forEach((ue,Pe)=>{ue.clientRect&&e!==Pe&&e.contains(Pe)&&xo(ue.clientRect,nt,Jt)}),m.top=x,m.left=F,{top:nt,left:Jt}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Rs(s){const l=s.cloneNode(!0),e=l.querySelectorAll("[id]"),r=s.nodeName.toLowerCase();l.removeAttribute("id");for(let m=0;m<e.length;m++)e[m].removeAttribute("id");return"canvas"===r?tl(s,l):("input"===r||"select"===r||"textarea"===r)&&Xc(s,l),wn("canvas",s,l,tl),wn("input, textarea, select",s,l,Xc),l}function wn(s,l,e,r){const m=l.querySelectorAll(s);if(m.length){const x=e.querySelectorAll(s);for(let F=0;F<m.length;F++)r(m[F],x[F])}}let Nr=0;function Xc(s,l){"file"!==l.type&&(l.value=s.value),"radio"===l.type&&l.name&&(l.name=`mat-clone-${l.name}-${Nr++}`)}function tl(s,l){const e=l.getContext("2d");if(e)try{e.drawImage(s,0,0)}catch(r){}}const Dn=(0,un.i$)({passive:!0}),Ya=(0,un.i$)({passive:!1}),Ja=new Set(["position"]);class Xl{constructor(l,e,r,m,x,F){this._config=e,this._document=r,this._ngZone=m,this._viewportRuler=x,this._dragDropRegistry=F,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new li.x,this._pointerMoveSubscription=Gr.w0.EMPTY,this._pointerUpSubscription=Gr.w0.EMPTY,this._scrollSubscription=Gr.w0.EMPTY,this._resizeSubscription=Gr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new li.x,this.started=new li.x,this.released=new li.x,this.ended=new li.x,this.entered=new li.x,this.exited=new li.x,this.dropped=new li.x,this.moved=this._moveEvents,this._pointerDown=nt=>{if(this.beforeStarted.next(),this._handles.length){const Jt=this._getTargetHandle(nt);Jt&&!this._disabledHandles.has(Jt)&&!this.disabled&&this._initializeDragSequence(Jt,nt)}else this.disabled||this._initializeDragSequence(this._rootElement,nt)},this._pointerMove=nt=>{const Jt=this._getPointerPositionOnPage(nt);if(!this._hasStartedDragging){if(Math.abs(Jt.x-this._pickupPositionOnPage.x)+Math.abs(Jt.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const en=Date.now()>=this._dragStartTime+this._getDragStartDelay(nt),Wn=this._dropContainer;if(!en)return void this._endDragSequence(nt);(!Wn||!Wn.isDragging()&&!Wn.isReceiving())&&(nt.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(nt)))}return}nt.preventDefault();const ue=this._getConstrainedPointerPosition(Jt);if(this._hasMoved=!0,this._lastKnownPointerPosition=Jt,this._updatePointerDirectionDelta(ue),this._dropContainer)this._updateActiveDropContainer(ue,Jt);else{const Pe=this._activeTransform;Pe.x=ue.x-this._pickupPositionOnPage.x+this._passiveTransform.x,Pe.y=ue.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(Pe.x,Pe.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ue,event:nt,distance:this._getDragDistance(ue),delta:this._pointerDirectionDelta})})},this._pointerUp=nt=>{this._endDragSequence(nt)},this._nativeDragStart=nt=>{if(this._handles.length){const Jt=this._getTargetHandle(nt);Jt&&!this._disabledHandles.has(Jt)&&!this.disabled&&nt.preventDefault()}else this.disabled||nt.preventDefault()},this.withRootElement(l).withParent(e.parentDragRef||null),this._parentPositions=new xn(r),F.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(l){const e=(0,Ke.Ig)(l);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Sr(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(l){this._handles=l.map(r=>(0,Ke.fI)(r)),this._handles.forEach(r=>Sr(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(l){return this._previewTemplate=l,this}withPlaceholderTemplate(l){return this._placeholderTemplate=l,this}withRootElement(l){const e=(0,Ke.fI)(l);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ya),e.addEventListener("touchstart",this._pointerDown,Dn),e.addEventListener("dragstart",this._nativeDragStart,Ya)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(l){return this._boundaryElement=l?(0,Ke.fI)(l):null,this._resizeSubscription.unsubscribe(),l&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(l){return this._parentDragRef=l,this}dispose(){var l,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(l=this._rootElement)||void 0===l||l.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(l){!this._disabledHandles.has(l)&&this._handles.indexOf(l)>-1&&(this._disabledHandles.add(l),Sr(l,!0))}enableHandle(l){this._disabledHandles.has(l)&&(this._disabledHandles.delete(l),Sr(l,this.disabled))}withDirection(l){return this._direction=l,this}_withDropContainer(l){this._dropContainer=l}getFreeDragPosition(){const l=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:l.x,y:l.y}}setFreeDragPosition(l){return this._activeTransform={x:0,y:0},this._passiveTransform.x=l.x,this._passiveTransform.y=l.y,this._dropContainer||this._applyRootElementTransform(l.x,l.y),this}withPreviewContainer(l){return this._previewContainer=l,this}_sortFromLastPointerPosition(){const l=this._lastKnownPointerPosition;l&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(l),l)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var l,e;null===(l=this._preview)||void 0===l||l.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var l,e;null===(l=this._placeholder)||void 0===l||l.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(l){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(l),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(l);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(l){aa(l)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,m=r.parentNode,x=this._placeholder=this._createPlaceholderElement(),F=this._anchor=this._anchor||this._document.createComment(""),nt=this._getShadowRoot();m.insertBefore(F,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),Kr(r,!1,Ja),this._document.body.appendChild(m.replaceChild(x,r)),this._getPreviewInsertionPoint(m,nt).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(l,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),m=aa(e),x=!m&&0!==e.button,F=this._rootElement,nt=(0,un.sA)(e),Jt=!m&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ue=m?(0,Ii.yG)(e):(0,Ii.X6)(e);if(nt&&nt.draggable&&"mousedown"===e.type&&e.preventDefault(),r||x||Jt||ue)return;if(this._handles.length){const Vi=F.style;this._rootElementTapHighlight=Vi.webkitTapHighlightColor||"",Vi.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Vi=>this._updateOnScroll(Vi)),this._boundaryElement&&(this._boundaryRect=Fs(this._boundaryElement));const Pe=this._previewTemplate;this._pickupPositionInElement=Pe&&Pe.template&&!Pe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(l,e);const _i=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:_i.x,y:_i.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(l){Kr(this._rootElement,!0,Ja),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),m=this._getPointerPositionOnPage(l),x=this._getDragDistance(m),F=e._isOverContainer(m.x,m.y);this.ended.next({source:this,distance:x,dropPoint:m}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:F,distance:x,dropPoint:m}),e.drop(this,r,this._initialIndex,this._initialContainer,F,x,m),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:l,y:e},{x:r,y:m}){let x=this._initialContainer._getSiblingContainerFromPosition(this,l,e);!x&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(l,e)&&(x=this._initialContainer),x&&x!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=x,this._dropContainer.enter(this,l,e,x===this._initialContainer&&x.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:x,currentIndex:x.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,m),this._dropContainer._sortItem(this,l,e,this._pointerDirectionDelta),this._applyPreviewTransform(l-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const l=this._previewTemplate,e=this.previewClass,r=l?l.template:null;let m;if(r&&l){const x=l.matchSize?this._rootElement.getBoundingClientRect():null,F=l.viewContainer.createEmbeddedView(r,l.context);F.detectChanges(),m=nl(F,this._document),this._previewRef=F,l.matchSize?rl(m,x):m.style.transform=Va(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const x=this._rootElement;m=Rs(x),rl(m,x.getBoundingClientRect()),this._initialTransform&&(m.style.transform=this._initialTransform)}return ja(m.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ja),Sr(m,!1),m.classList.add("cdk-drag-preview"),m.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(x=>m.classList.add(x)):m.classList.add(e)),m}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const l=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(l.left,l.top);const e=function Kc(s){const l=getComputedStyle(s),e=Ha(l,"transition-property"),r=e.find(nt=>"transform"===nt||"all"===nt);if(!r)return 0;const m=e.indexOf(r),x=Ha(l,"transition-duration"),F=Ha(l,"transition-delay");return Es(x[m])+Es(F[m])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const m=F=>{var nt;(!F||(0,un.sA)(F)===this._preview&&"transform"===F.propertyName)&&(null===(nt=this._preview)||void 0===nt||nt.removeEventListener("transitionend",m),r(),clearTimeout(x))},x=setTimeout(m,1.5*e);this._preview.addEventListener("transitionend",m)}))}_createPlaceholderElement(){const l=this._placeholderTemplate,e=l?l.template:null;let r;return e?(this._placeholderRef=l.viewContainer.createEmbeddedView(e,l.context),this._placeholderRef.detectChanges(),r=nl(this._placeholderRef,this._document)):r=Rs(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(l,e){const r=this._rootElement.getBoundingClientRect(),m=l===this._rootElement?null:l,x=m?m.getBoundingClientRect():r,F=aa(e)?e.targetTouches[0]:e,nt=this._getViewportScrollPosition();return{x:x.left-r.left+(F.pageX-x.left-nt.left),y:x.top-r.top+(F.pageY-x.top-nt.top)}}_getPointerPositionOnPage(l){const e=this._getViewportScrollPosition(),r=aa(l)?l.touches[0]||l.changedTouches[0]||{pageX:0,pageY:0}:l,m=r.pageX-e.left,x=r.pageY-e.top;if(this._ownerSVGElement){const F=this._ownerSVGElement.getScreenCTM();if(F){const nt=this._ownerSVGElement.createSVGPoint();return nt.x=m,nt.y=x,nt.matrixTransform(F.inverse())}}return{x:m,y:x}}_getConstrainedPointerPosition(l){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:m}=this.constrainPosition?this.constrainPosition(l,this):l;if("x"===this.lockAxis||"x"===e?m=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x,y:F}=this._pickupPositionInElement,nt=this._boundaryRect,{width:Jt,height:ue}=this._getPreviewRect(),Pe=nt.top+F,_i=nt.bottom-(ue-F);r=il(r,nt.left+x,nt.right-(Jt-x)),m=il(m,Pe,_i)}return{x:r,y:m}}_updatePointerDirectionDelta(l){const{x:e,y:r}=l,m=this._pointerDirectionDelta,x=this._pointerPositionAtLastDirectionChange,F=Math.abs(e-x.x),nt=Math.abs(r-x.y);return F>this._config.pointerDirectionChangeThreshold&&(m.x=e>x.x?1:-1,x.x=e),nt>this._config.pointerDirectionChangeThreshold&&(m.y=r>x.y?1:-1,x.y=r),m}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const l=this._handles.length>0||!this.isDragging();l!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=l,Sr(this._rootElement,l))}_removeRootElementListeners(l){l.removeEventListener("mousedown",this._pointerDown,Ya),l.removeEventListener("touchstart",this._pointerDown,Dn),l.removeEventListener("dragstart",this._nativeDragStart,Ya)}_applyRootElementTransform(l,e){const r=Va(l,e),m=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=m.transform&&"none"!=m.transform?m.transform:""),m.transform=Xr(r,this._initialTransform)}_applyPreviewTransform(l,e){var r;const m=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,x=Va(l,e);this._preview.style.transform=Xr(x,m)}_getDragDistance(l){const e=this._pickupPositionOnPage;return e?{x:l.x-e.x,y:l.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:l,y:e}=this._passiveTransform;if(0===l&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),m=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===m.width&&0===m.height)return;const x=r.left-m.left,F=m.right-r.right,nt=r.top-m.top,Jt=m.bottom-r.bottom;r.width>m.width?(x>0&&(l+=x),F>0&&(l-=F)):l=0,r.height>m.height?(nt>0&&(e+=nt),Jt>0&&(e-=Jt)):e=0,(l!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:l})}_getDragStartDelay(l){const e=this.dragStartDelay;return"number"==typeof e?e:aa(l)?e.touch:e?e.mouse:0}_updateOnScroll(l){const e=this._parentPositions.handleScroll(l);if(e){const r=(0,un.sA)(l);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&xo(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var l;return(null===(l=this._parentPositions.positions.get(this._document))||void 0===l?void 0:l.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,un.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(l,e){const r=this._previewContainer||"global";if("parent"===r)return l;if("global"===r){const m=this._document;return e||m.fullscreenElement||m.webkitFullscreenElement||m.mozFullScreenElement||m.msFullscreenElement||m.body}return(0,Ke.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(l){return this._handles.find(e=>l.target&&(l.target===e||e.contains(l.target)))}}function Va(s,l){return`translate3d(${Math.round(s)}px, ${Math.round(l)}px, 0)`}function il(s,l,e){return Math.max(l,Math.min(e,s))}function aa(s){return"t"===s.type[0]}function nl(s,l){const e=s.rootNodes;if(1===e.length&&e[0].nodeType===l.ELEMENT_NODE)return e[0];const r=l.createElement("div");return e.forEach(m=>r.appendChild(m)),r}function rl(s,l){s.style.width=`${l.width}px`,s.style.height=`${l.height}px`,s.style.transform=Va(l.left,l.top)}function Bs(s,l,e){const r=sa(l,s.length-1),m=sa(e,s.length-1);if(r===m)return;const x=s[r],F=m<r?-1:1;for(let nt=r;nt!==m;nt+=F)s[nt]=s[nt+F];s[m]=x}function sa(s,l){return Math.max(0,Math.min(l,s))}class eu{constructor(l,e,r,m,x){this._dragDropRegistry=e,this._ngZone=m,this._viewportRuler=x,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new li.x,this.entered=new li.x,this.exited=new li.x,this.dropped=new li.x,this.sorted=new li.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Gr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new li.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Kl(s=0,l=Is.z){return s<0&&(s=0),(0,Gc.H)(s,s,l)}(0,Os.Z).pipe((0,kr.R)(this._stopScrollTimers)).subscribe(()=>{const F=this._scrollNode,nt=this.autoScrollStep;1===this._verticalScrollDirection?F.scrollBy(0,-nt):2===this._verticalScrollDirection&&F.scrollBy(0,nt),1===this._horizontalScrollDirection?F.scrollBy(-nt,0):2===this._horizontalScrollDirection&&F.scrollBy(nt,0)})},this.element=(0,Ke.fI)(l),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new xn(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(l,e,r,m){let x;this._draggingStarted(),null==m?(x=this.sortingDisabled?this._draggables.indexOf(l):-1,-1===x&&(x=this._getItemIndexFromPointerPosition(l,e,r))):x=m;const F=this._activeDraggables,nt=F.indexOf(l),Jt=l.getPlaceholderElement();let ue=F[x];if(ue===l&&(ue=F[x+1]),!ue&&(null==x||-1===x||x<F.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(ue=F[0]),nt>-1&&F.splice(nt,1),ue&&!this._dragDropRegistry.isDragging(ue)){const Pe=ue.getRootElement();Pe.parentElement.insertBefore(Jt,Pe),F.splice(x,0,l)}else(0,Ke.fI)(this.element).appendChild(Jt),F.push(l);Jt.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:l,container:this,currentIndex:this.getItemIndex(l)})}exit(l){this._reset(),this.exited.next({item:l,container:this})}drop(l,e,r,m,x,F,nt){this._reset(),this.dropped.next({item:l,currentIndex:e,previousIndex:r,container:this,previousContainer:m,isPointerOverContainer:x,distance:F,dropPoint:nt})}withItems(l){const e=this._draggables;return this._draggables=l,l.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(m=>m.isDragging()).every(m=>-1===l.indexOf(m))?this._reset():this._cacheItems()),this}withDirection(l){return this._direction=l,this}connectedTo(l){return this._siblings=l.slice(),this}withOrientation(l){return this._orientation=l,this}withScrollableParents(l){const e=(0,Ke.fI)(this.element);return this._scrollableElements=-1===l.indexOf(e)?[e,...l]:l.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(l){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===l):this._draggables.indexOf(l)}isReceiving(){return this._activeSiblings.size>0}_sortItem(l,e,r,m){if(this.sortingDisabled||!this._clientRect||!za(this._clientRect,.05,e,r))return;const x=this._itemPositions,F=this._getItemIndexFromPointerPosition(l,e,r,m);if(-1===F&&x.length>0)return;const nt="horizontal"===this._orientation,Jt=x.findIndex(Pn=>Pn.drag===l),ue=x[F],_i=ue.clientRect,Vi=Jt>F?1:-1,en=this._getItemOffsetPx(x[Jt].clientRect,_i,Vi),Wn=this._getSiblingOffsetPx(Jt,x,Vi),po=x.slice();Bs(x,Jt,F),this.sorted.next({previousIndex:Jt,currentIndex:F,container:this,item:l}),x.forEach((Pn,gl)=>{if(po[gl]===Pn)return;const ml=Pn.drag===l,vc=ml?en:Wn,_l=ml?l.getPlaceholderElement():Pn.drag.getRootElement();Pn.offset+=vc,nt?(_l.style.transform=Xr(`translate3d(${Math.round(Pn.offset)}px, 0, 0)`,Pn.initialTransform),xo(Pn.clientRect,0,vc)):(_l.style.transform=Xr(`translate3d(0, ${Math.round(Pn.offset)}px, 0)`,Pn.initialTransform),xo(Pn.clientRect,vc,0))}),this._previousSwap.overlaps=qs(_i,e,r),this._previousSwap.drag=ue.drag,this._previousSwap.delta=nt?m.x:m.y}_startScrollingIfNecessary(l,e){if(this.autoScrollDisabled)return;let r,m=0,x=0;if(this._parentPositions.positions.forEach((F,nt)=>{nt===this._document||!F.clientRect||r||za(F.clientRect,.05,l,e)&&([m,x]=function i(s,l,e,r){const m=sl(l,r),x=a(l,e);let F=0,nt=0;if(m){const Jt=s.scrollTop;1===m?Jt>0&&(F=1):s.scrollHeight-Jt>s.clientHeight&&(F=2)}if(x){const Jt=s.scrollLeft;1===x?Jt>0&&(nt=1):s.scrollWidth-Jt>s.clientWidth&&(nt=2)}return[F,nt]}(nt,F.clientRect,l,e),(m||x)&&(r=nt))}),!m&&!x){const{width:F,height:nt}=this._viewportRuler.getViewportSize(),Jt={width:F,height:nt,top:0,right:F,bottom:nt,left:0};m=sl(Jt,e),x=a(Jt,l),r=window}r&&(m!==this._verticalScrollDirection||x!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=m,this._horizontalScrollDirection=x,this._scrollNode=r,(m||x)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const l=(0,Ke.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=l.msScrollSnapType||l.scrollSnapType||"",l.scrollSnapType=l.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const l=(0,Ke.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(l).clientRect}_cacheItemPositions(){const l="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:Fs(r)}}).sort((e,r)=>l?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const l=(0,Ke.fI)(this.element).style;l.scrollSnapType=l.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var r;const m=e.getRootElement();if(m){const x=null===(r=this._itemPositions.find(F=>F.drag===e))||void 0===r?void 0:r.initialTransform;m.style.transform=x||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(l,e,r){const m="horizontal"===this._orientation,x=e[l].clientRect,F=e[l+-1*r];let nt=x[m?"width":"height"]*r;if(F){const Jt=m?"left":"top",ue=m?"right":"bottom";-1===r?nt-=F.clientRect[Jt]-x[ue]:nt+=x[Jt]-F.clientRect[ue]}return nt}_getItemOffsetPx(l,e,r){const m="horizontal"===this._orientation;let x=m?e.left-l.left:e.top-l.top;return-1===r&&(x+=m?e.width-l.width:e.height-l.height),x}_shouldEnterAsFirstChild(l,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,m="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const F=r[r.length-1].clientRect;return m?l>=F.right:e>=F.bottom}{const F=r[0].clientRect;return m?l<=F.left:e<=F.top}}_getItemIndexFromPointerPosition(l,e,r,m){const x="horizontal"===this._orientation,F=this._itemPositions.findIndex(({drag:nt,clientRect:Jt})=>{if(nt===l)return!1;if(m){const ue=x?m.x:m.y;if(nt===this._previousSwap.drag&&this._previousSwap.overlaps&&ue===this._previousSwap.delta)return!1}return x?e>=Math.floor(Jt.left)&&e<Math.floor(Jt.right):r>=Math.floor(Jt.top)&&r<Math.floor(Jt.bottom)});return-1!==F&&this.sortPredicate(F,l,this)?F:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(l,e){return null!=this._clientRect&&qs(this._clientRect,l,e)}_getSiblingContainerFromPosition(l,e,r){return this._siblings.find(m=>m._canReceive(l,e,r))}_canReceive(l,e,r){if(!this._clientRect||!qs(this._clientRect,e,r)||!this.enterPredicate(l,this))return!1;const m=this._getShadowRoot().elementFromPoint(e,r);if(!m)return!1;const x=(0,Ke.fI)(this.element);return m===x||x.contains(m)}_startReceiving(l,e){const r=this._activeSiblings;!r.has(l)&&e.every(m=>this.enterPredicate(m,this)||this._draggables.indexOf(m)>-1)&&(r.add(l),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(l){this._activeSiblings.delete(l),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(l=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(l);e&&(this._itemPositions.forEach(({clientRect:r})=>{xo(r,e.top,e.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const l=(0,un.kV)((0,Ke.fI)(this.element));this._cachedShadowRoot=l||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const l=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,l))}}function sl(s,l){const{top:e,bottom:r,height:m}=s,x=.05*m;return l>=e-x&&l<=e+x?1:l>=r-x&&l<=r+x?2:0}function a(s,l){const{left:e,right:r,width:m}=s,x=.05*m;return l>=e-x&&l<=e+x?1:l>=r-x&&l<=r+x?2:0}const o=(0,un.i$)({passive:!1,capture:!0});let c=(()=>{class s{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=m=>m.isDragging(),this.pointerMove=new li.x,this.pointerUp=new li.x,this.scroll=new li.x,this._preventDefaultWhileDragging=m=>{this._activeDragInstances.length>0&&m.preventDefault()},this._persistentTouchmoveListener=m=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&m.preventDefault(),this.pointerMove.next(m))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,o)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,o)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const m=r.type.startsWith("touch");this._globalListeners.set(m?"touchend":"mouseup",{handler:x=>this.pointerUp.next(x),options:!0}).set("scroll",{handler:x=>this.scroll.next(x),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:o}),m||this._globalListeners.set("mousemove",{handler:x=>this.pointerMove.next(x),options:o}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((x,F)=>{this._document.addEventListener(F,x.handler,x.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new Ms.y(m=>this._ngZone.runOutsideAngular(()=>{const F=nt=>{this._activeDragInstances.length&&m.next(nt)};return e.addEventListener("scroll",F,!0),()=>{e.removeEventListener("scroll",F,!0)}}))),(0,tr.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(t.R0b),t.LFG(Te.K0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const d={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let h=(()=>{class s{constructor(e,r,m,x){this._document=e,this._ngZone=r,this._viewportRuler=m,this._dragDropRegistry=x}createDrag(e,r=d){return new Xl(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new eu(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(Te.K0),t.LFG(t.R0b),t.LFG(Pr.rL),t.LFG(c))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const f=new t.OlP("CDK_DRAG_PARENT"),_=new t.OlP("CdkDropListGroup"),w=new t.OlP("CDK_DRAG_CONFIG");let N=0;const Z=new t.OlP("CdkDropList");let y=(()=>{class s{constructor(e,r,m,x,F,nt,Jt){this.element=e,this._changeDetectorRef=m,this._scrollDispatcher=x,this._dir=F,this._group=nt,this._destroyed=new li.x,this.connectedTo=[],this.id="cdk-drop-list-"+N++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(e),this._dropListRef.data=this,Jt&&this._assignDefaults(Jt),this._dropListRef.enterPredicate=(ue,Pe)=>this.enterPredicate(ue.data,Pe.data),this._dropListRef.sortPredicate=(ue,Pe,_i)=>this.sortPredicate(ue,Pe.data,_i.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),s._dropLists.push(this),nt&&nt._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,Ke.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=s._dropLists.indexOf(this);e>-1&&s._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,Qr.O)(this._dir.value),(0,kr.R)(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{const r=(0,Ke.Eq)(this.connectedTo).map(m=>"string"==typeof m?s._dropLists.find(F=>F.id===m):m);if(this._group&&this._group._items.forEach(m=>{-1===r.indexOf(m)&&r.push(m)}),!this._scrollableParentsResolved){const m=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(x=>x.getElementRef().nativeElement);this._dropListRef.withScrollableParents(m),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,Ke.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,Ke.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,Ke.su)(this.autoScrollStep,2),e.connectedTo(r.filter(m=>m&&m!==this).map(m=>m._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:r,draggingDisabled:m,sortingDisabled:x,listAutoScrollDisabled:F,listOrientation:nt}=e;this.disabled=null!=m&&m,this.sortingDisabled=null!=x&&x,this.autoScrollDisabled=null!=F&&F,this.orientation=nt||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return s._dropLists=[],s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(h),t.Y36(t.sBO),t.Y36(Pr.mF),t.Y36($r.Is,8),t.Y36(_,12),t.Y36(w,8))},s.\u0275dir=t.lG2({type:s,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){2&e&&(t.uIk("id",r.id),t.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:_,useValue:void 0},{provide:Z,useExisting:s}])]}),s})();const R=new t.OlP("CdkDragHandle"),H=new t.OlP("CdkDragPlaceholder"),B=new t.OlP("CdkDragPreview");let At=(()=>{class s{constructor(e,r,m,x,F,nt,Jt,ue,Pe,_i,Vi){this.element=e,this.dropContainer=r,this._ngZone=x,this._viewContainerRef=F,this._dir=Jt,this._changeDetectorRef=Pe,this._selfHandle=_i,this._parentDrag=Vi,this._destroyed=new li.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new Ms.y(en=>{const Wn=this._dragRef.moved.pipe((0,Qc.U)(po=>({source:this,pointerPosition:po.pointerPosition,event:po.event,delta:po.delta,distance:po.distance}))).subscribe(en);return()=>{Wn.unsubscribe()}}),this._dragRef=ue.createDrag(e,{dragStartThreshold:nt&&null!=nt.dragStartThreshold?nt.dragStartThreshold:5,pointerDirectionChangeThreshold:nt&&null!=nt.pointerDirectionChangeThreshold?nt.pointerDirectionChangeThreshold:5,zIndex:null==nt?void 0:nt.zIndex}),this._dragRef.data=this,s._dragInstances.push(this),nt&&this._assignDefaults(nt),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,Ke.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,er.q)(1),(0,kr.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,m=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),m&&!m.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=s._dragInstances.indexOf(this);e>-1&&s._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const r=this.element.nativeElement;let m=r;this.rootElementSelector&&(m=void 0!==r.closest?r.closest(this.rootElementSelector):null===(e=r.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(m||r)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,Ke.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,m=this.dragStartDelay,x=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,F=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof m&&m?m:(0,Ke.su)(m),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(x).withPreviewTemplate(F).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe((0,er.q)(1)).subscribe(()=>{var r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let m=this.element.nativeElement.parentElement;for(;m;){if(m.classList.contains("cdk-drag")){e.withParent((null===(r=s._dragInstances.find(x=>x.element.nativeElement===m))||void 0===r?void 0:r._dragRef)||null);break}m=m.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:m,constrainPosition:x,previewClass:F,boundaryElement:nt,draggingDisabled:Jt,rootElementSelector:ue,previewContainer:Pe}=e;this.disabled=null!=Jt&&Jt,this.dragStartDelay=m||0,r&&(this.lockAxis=r),x&&(this.constrainPosition=x),F&&(this.previewClass=F),nt&&(this.boundaryElement=nt),ue&&(this.rootElementSelector=ue),Pe&&(this.previewContainer=Pe)}_setupHandlesListener(){this._handles.changes.pipe((0,Qr.O)(this._handles),(0,$c.b)(e=>{const r=e.filter(m=>m._parentDrag===this).map(m=>m.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,Ua.w)(e=>(0,tr.T)(...e.map(r=>r._stateChanges.pipe((0,Qr.O)(r))))),(0,kr.R)(this._destroyed)).subscribe(e=>{const r=this._dragRef,m=e.element.nativeElement;e.disabled?r.disableHandle(m):r.enableHandle(m)})}}return s._dragInstances=[],s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Z,12),t.Y36(Te.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(w,8),t.Y36($r.Is,8),t.Y36(h),t.Y36(t.sBO),t.Y36(R,10),t.Y36(f,12))},s.\u0275dir=t.lG2({type:s,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,m){if(1&e&&(t.Suo(m,B,5),t.Suo(m,H,5),t.Suo(m,R,5)),2&e){let x;t.iGM(x=t.CRH())&&(r._previewTemplate=x.first),t.iGM(x=t.CRH())&&(r._placeholderTemplate=x.first),t.iGM(x=t.CRH())&&(r._handles=x)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&t.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:f,useExisting:s}]),t.TTD]}),s})(),Wt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[h],imports:[Pr.ZD]}),s})();var lt=re(6360),J=re(7144);const qt=["input"],Ft=function(s){return{enterDuration:s}},E=["*"],M=new t.OlP("mat-checkbox-default-options",{providedIn:"root",factory:G});function G(){return{color:"accent",clickAction:"check-indeterminate"}}let V=0;const Pt=G(),xt={provide:Qt.JU,useExisting:(0,t.Gpc)(()=>Mt),multi:!0};class It{}const ft=(0,tt.sb)((0,tt.pj)((0,tt.Kr)((0,tt.Id)(class{constructor(s){this._elementRef=s}}))));let Mt=(()=>{class s extends ft{constructor(e,r,m,x,F,nt,Jt){super(e),this._changeDetectorRef=r,this._focusMonitor=m,this._ngZone=x,this._animationMode=nt,this._options=Jt,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++V,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new t.vpe,this.indeterminateChange=new t.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Pt,this.color=this.defaultColor=this._options.color||Pt.color,this.tabIndex=parseInt(F)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=(0,Ke.Ig)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const r=(0,Ke.Ig)(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=(0,Ke.Ig)(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=(0,Ke.Ig)(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let r=this._currentCheckState,m=this._elementRef.nativeElement;if(r!==e&&(this._currentAnimationClass.length>0&&m.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){m.classList.add(this._currentAnimationClass);const x=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{m.classList.remove(x)},1e3)})}}_emitChangeEvent(){const e=new It;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var r;const m=null===(r=this._options)||void 0===r?void 0:r.clickAction;e.stopPropagation(),this.disabled||"noop"===m?!this.disabled&&"noop"===m&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==m&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,r){e?this._focusMonitor.focusVia(this._inputElement,e,r):this._inputElement.nativeElement.focus(r)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";let m="";switch(e){case 0:if(1===r)m="unchecked-checked";else{if(3!=r)return"";m="unchecked-indeterminate"}break;case 2:m=1===r?"unchecked-checked":"unchecked-indeterminate";break;case 1:m=2===r?"checked-unchecked":"checked-indeterminate";break;case 3:m=1===r?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${m}`}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Ii.tE),t.Y36(t.R0b),t.$8M("tabindex"),t.Y36(lt.Qb,8),t.Y36(M,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-checkbox"]],viewQuery:function(e,r){if(1&e&&(t.Gf(qt,5),t.Gf(tt.wG,5)),2&e){let m;t.iGM(m=t.CRH())&&(r._inputElement=m.first),t.iGM(m=t.CRH())&&(r.ripple=m.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,r){2&e&&(t.Ikx("id",r.id),t.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),t.ekj("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[t._Bn([xt]),t.qOj],ngContentSelectors:E,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1),t.TgZ(2,"span",2),t.TgZ(3,"input",3,4),t.NdJ("change",function(x){return r._onInteractionEvent(x)})("click",function(x){return r._onInputClick(x)}),t.qZA(),t.TgZ(5,"span",5),t._UZ(6,"span",6),t.qZA(),t._UZ(7,"span",7),t.TgZ(8,"span",8),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA(),t.kcU(),t._UZ(11,"span",11),t.qZA(),t.qZA(),t.TgZ(12,"span",12,13),t.NdJ("cdkObserveContent",function(){return r._onLabelTextChange()}),t.TgZ(14,"span",14),t._uU(15,"\xa0"),t.qZA(),t.Hsn(16),t.qZA(),t.qZA()),2&e){const m=t.MAs(1),x=t.MAs(13);t.uIk("for",r.inputId),t.xp6(2),t.ekj("mat-checkbox-inner-container-no-side-margin",!x.textContent||!x.textContent.trim()),t.xp6(1),t.Q6J("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),t.uIk("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),t.xp6(2),t.Q6J("matRippleTrigger",m)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",t.VKq(19,Ft,"NoopAnimations"===r._animationMode?0:150))}},directives:[tt.wG,J.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),s})(),P=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})(),j=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[tt.si,tt.BQ,J.Q8,P],tt.BQ,P]}),s})(),z=(()=>{class s{transform(e,r){let m=[];for(let x=0;x<e.length;x++)e[x].grouping==r&&m.push(e[x]);return m}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"typeGroup",type:s,pure:!0}),s})();function K(s,l){1&s&&(t.TgZ(0,"div",68),t._uU(1,"Enter a valid SKU"),t.qZA())}function ot(s,l){1&s&&(t.TgZ(0,"div",69),t._uU(1,"\u2714"),t.qZA())}function mt(s,l){if(1&s&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function yt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(7).checkedItem(x.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e.name)}}function wt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(6).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,yt,3,1,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(6);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function oe(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(5).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,wt,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(5);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function ne(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(4).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,oe,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function me(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(3).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,ne,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function ve(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(2).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,me,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function Be(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw().checkedItem(x.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,ve,6,5,"li",35),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw();t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Dt(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(2,"Save Categories"),t.qZA(),t.qZA()}}function Y(s,l){1&s&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"mat-icon"),t._uU(3,"warning"),t.qZA(),t._uU(4," Please save product first."),t.qZA(),t.TgZ(5,"button",74),t._uU(6,"Save Categories"),t.qZA(),t.qZA())}function Je(s,l){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Oqu(e.attrName)}}function ke(s,l){if(1&s&&(t.ynx(0),t.TgZ(1,"div",75),t.TgZ(2,"mat-grid-list",76),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",77),t.TgZ(5,"mat-label"),t._uU(6,"Attribute Name"),t.qZA(),t._UZ(7,"input",78),t.qZA(),t.qZA(),t.TgZ(8,"mat-grid-tile"),t.TgZ(9,"mat-form-field",77),t.TgZ(10,"mat-label"),t._uU(11,"Attribute Value"),t.qZA(),t._UZ(12,"input",79),t.qZA(),t.qZA(),t._UZ(13,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&s){const e=l.index;t.xp6(1),t.Q6J("formGroupName",e)}}function ee(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"button",80),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveAttributes("new")}),t._uU(3),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(3),t.Oqu(e.saveAttrBtnText)}}function ce(s,l){if(1&s&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function fe(s,l){if(1&s&&(t.TgZ(0,"option",70),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function he(s,l){1&s&&(t.TgZ(0,"div",81),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Le(s,l){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e)}}function He(s,l){if(1&s&&(t.TgZ(0,"div",82),t.YNc(1,Le,3,1,"ul",41),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function We(s,l){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Oqu(e.name)}}function $e(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",86),t.NdJ("onSelectionChange",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().updateFileType(m.id,m.type_id)}),t._uU(1),t.qZA()}if(2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ri(s,l){if(1&s&&(t.TgZ(0,"div",83),t.TgZ(1,"div",1),t.TgZ(2,"div",51),t._UZ(3,"img",84),t.qZA(),t.TgZ(4,"div",59),t.TgZ(5,"mat-form-field",8),t.TgZ(6,"mat-label"),t._uU(7,"Image Type"),t.qZA(),t.TgZ(8,"mat-select"),t.YNc(9,$e,2,2,"mat-option",85),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(3),t.s9C("alt",e.path),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,3,r.typesList,"Image"))}}function hi(s,l){if(1&s&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.qZA()),2&s){const e=l.$implicit,r=t.oxw();t.xp6(1),t.s9C("alt",e.path),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH)}}function Ue(s,l){1&s&&(t.TgZ(0,"div",81),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Xe(s,l){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e)}}function ge(s,l){if(1&s&&(t.TgZ(0,"div",82),t.YNc(1,Xe,3,1,"ul",41),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Xi(s,l){1&s&&(t.TgZ(0,"button",89),t._uU(1," Done "),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA(),t.qZA())}let oi=(()=>{class s{constructor(e,r,m,x,F){this.navbar=e,this.api=r,this.formBuilder=m,this._snackBar=x,this.info=F,this.productsList=[],this.categoriesList=[],this.selectedCategories=[],this.typesList=[],this.displayedColumns=["id","sku","name","brand","description"],this.panelOpenState=!1,this.panelOpenStateVariations=!1,this.categoriesLoader=!1,this.typesLoader=!1,this.parent=!1,this.frontImage=!1,this.newProductId=0,this.newProductSKU="",this.newProductName="",this.shortLink="",this.loading=!1,this.files=[],this.images=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.focusType="47",this.newProductCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save and Continue",this.disableSaveAttrBtn=!1,this.activeTabIndex=0,this.nextBtn=!1,this.prevBtn=!1,this.doneBtn=!1,this.savedFiles=[],this.skuPattern="^[a-zA-Z0-9_-]{4,12}$",this.invalidSku=!0}ngOnInit(){this.info.auth(),this.attrCount=0,this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.getAllTypes(),this.getAllCategories(),window.addEventListener("beforeunload",function(e){return e.returnValue="","o/"}),this.newProductForm=this.formBuilder.group({sku:["",[Qt.kI.required,Qt.kI.pattern(this.skuPattern)]],name:["",Qt.kI.required],brand_type_id:["",Qt.kI.required],description:["",Qt.kI.required],short_description:["",Qt.kI.required],parent_id:[0,Qt.kI.required],is_eol:[0,Qt.kI.required],is_in_development:[0,Qt.kI.required],is_active:[0,Qt.kI.required]}),this.newProductFormPackaging=this.formBuilder.group({weight:["",Qt.kI.required],length:["",Qt.kI.required],width:["",Qt.kI.required],height:["",Qt.kI.required],packaging_type_id:["",Qt.kI.required],product_id:[this.newProductId,Qt.kI.required]}),this.newProductFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])})}get attributes(){return this.newProductFormAttributes.get("attributes")}get sku(){return this.newProductForm.get("sku")}setParent(){this.parent=!0,console.log(this.parent)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllCategories(){this.categoriesLoader=!0,this.api.GET("categories").subscribe({next:e=>{this.categoriesLoader=!1,this.categoriesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getAllTypes(){this.categoriesLoader=!0,this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.typesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}saveProduct(){this.api.POST("products",this.newProductForm.value).subscribe({next:e=>{this.newProductId=e.id,this.newProductSKU=e.sku,this.newProductName=e.name,this.newProductFormPackaging.patchValue({product_id:e.id}),this.info.activity("Added new product",this.newProductId),this.openSnackBar(e.name+" Added \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}saveCategories(){const e=this.selectedCategories;if(e.length>0){for(let r=0;r<e.length;r++)this.api.POST("product-categories",{product_id:this.newProductId,category_id:e[r]}).subscribe({next:m=>{this.prevBtn=!0,this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:m=>{this.openSnackBar("\u{1f622} "+m.message,"Okay")}});this.nextTab()}this.openSnackBar("Please choose categories","Okay")}saveAttributes(e){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let r=this.newProductFormAttributes.getRawValue();this.api.POST(`products/update-attributes/${this.newProductId}`,r).subscribe({next:m=>{console.log(m),this.saveAttrBtnText="Attributes Saved",this.openSnackBar("Attributes Saved","Okay"),this.nextBtn=!0,this.nextTab()},error:m=>{this.openSnackBar(m.message,"Okay")}})}savePackaging(){this.api.POST("packaging",this.newProductFormPackaging.value).subscribe({next:e=>{this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}returnTypeName(e){return this.typesList[e-=1].name}onChange(e){this.files=e.target.files,console.log(this.files);for(let r=0;r<this.files.length;r++)this.files[r].size>2e6&&this.messages.push("\u{1f6ab} "+this.files[r].name+" is too large!")}onUpload(e){if(this.loading=!this.loading,console.log("Files being uploaded: ",this.files.length),this.files.length>0)for(let r=0;r<this.files.length;r++)console.log("Uploading file "+this.files[r].name),this.api.upload("uploading-file-api",{file:this.files[r],name:this.files[r].name,product_id:this.newProductId,product_sku:this.newProductSKU,type_id:e}).subscribe(m=>{"object"==typeof m&&(this.shortLink=m.link,this.loading=!1),m.type===Wr.dt.UploadProgress?(this.uploadProgress=Math.round(100*m.loaded/m.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`):m instanceof Wr.Zn&&(this.messages.push(this.files[r].name+" ploaded the file successfully."),this.info.activity(`Added ${this.files.length} files`,this.newProductId)),this.getFiles()},m=>{this.uploadProgress=0,this.messages.push(this.files[r].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}setFocusType(e){this.focusType=e.target.value}openSnackBar(e,r){this._snackBar.open(e,r)}getProductCategories(){this.api.GET(`product-categories/search/${this.newProductId}`).subscribe({next:e=>{for(let r=0;r<e.length;r++){let m=JSON.parse(e[r].attributes);this.getParents(e[r].parent);for(let x=0;x<m.length;x++)if(-1===this.attributes.value.findIndex(nt=>nt.attrName===m[x].attrName)){const nt=this.formBuilder.group({attrName:[m[x].attrName,Qt.kI.required],attrValue:["0",Qt.kI.required]});this.attributes.push(nt),this.attrCount=this.attrCount+1}}},error:e=>{console.log(e)}})}getParents(e){this.api.GET(`categories/get-parents/${e}`).subscribe({next:r=>{console.log("From parents",r);for(let m=0;m<r.length;m++){let x=JSON.parse(r[m].attributes);for(let F=0;F<x.length;F++)if(-1===this.attributes.value.findIndex(Jt=>Jt.attrName===x[F].attrName)){const Jt=this.formBuilder.group({attrName:[x[F].attrName,Qt.kI.required],attrValue:["0",Qt.kI.required]});this.attributes.push(Jt),this.attrCount=this.attrCount+1}}},error:r=>{console.log(r)}})}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}nextTab(){this.activeTabIndex=(this.activeTabIndex+1)%6,this.doneBtn=this.activeTabIndex>4,2==this.activeTabIndex&&(this.nextBtn=!1)}previousTab(){this.activeTabIndex=(this.activeTabIndex-1)%6}done(){location.reload()}getFiles(){this.api.GET(`product-files/${this.newProductId}`).subscribe({next:e=>{this.savedFiles=e,this.getProductImageOrder()},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.newProductId}`).subscribe({next:e=>{if(e.length>0){const r=JSON.parse(e[0].order_list);let m=[];for(let x=0;x<r.length;x++){const F=r[x],nt=this.savedFiles.find(Jt=>Jt.id==F);m.push(nt)}this.savedFiles=m}},error:e=>{console.log(e)}})}drop(e){Bs(this.savedFiles,e.previousIndex,e.currentIndex);let r=[];for(let x=0;x<this.savedFiles.length;x++)r.push(this.savedFiles[x].id);const m=JSON.stringify(r);this.api.POST("image-order/",{product_id:this.newProductId,order_list:m}).subscribe({next:x=>{console.log(x),this.info.activity("Rearranged images",this.newProductId)},error:x=>{console.log(x)}})}updateFileType(e,r){this.api.POST(`product-files/update-fileType/${e}`,{type_id:r}).subscribe({next:m=>{console.log(m),this.info.activity("Updated file type",this.newProductId)},error:m=>{console.log(m)}})}filePath(e){return e.substring(7)}checkSku(e){var r;let m=null===(r=this.newProductForm.get("sku"))||void 0===r?void 0:r.status;this.invalidSku="invalid"==(null==m?void 0:m.toLocaleLowerCase())}checkedItem(e){const r=this.selectedCategories.indexOf(e);r<0?this.selectedCategories.push(e):this.selectedCategories.splice(r,1),console.log(this.selectedCategories)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ti.I),t.Y36(Ce.s),t.Y36(Qt.qu),t.Y36(Rt.ux),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-new-product"]],decls:181,vars:45,consts:[["routerLink","/"],[1,"row"],[1,"col-md-9"],[3,"selectedIndex","selectedIndexChange"],["label","1. General"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"col-md-6"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Product Code / SKU",3,"keyup"],["sku",""],["matSuffix",""],["class","invalid",4,"ngIf"],["class","valid",4,"ngIf"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[1,"m-3"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],["type","submit","mat-raised-button","","type","submit","color","primary",3,"disabled","click"],["label","2. Select Categories"],[1,"row","form-border"],[1,"col-md-6",2,"background-color","rgb(241, 241, 241)"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],[4,"ngIf"],["disabled","","label","3. Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],[4,"ngFor","ngForIn"],["formArrayName","attributes"],[4,"ngFor","ngForOf"],["disabled","","label","4. Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],["type","hidden","formControlName","product_id"],["disabled","","label","5. Upload Files"],[1,"col-md-4"],[1,"form-control",3,"change"],["type","file","multiple","",1,"form-control",3,"change"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[1,"col-md-8"],["disabled","","label","6. Upload Media"],[1,"col-md-3"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box","cdkDrag","",4,"ngFor","ngForOf"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-4","form-border"],["mat-raised-button","","type","button","class","switch-tab","color","primary","routerLink","/",4,"ngIf"],["mat-raised-button","","type","button","color","basic",1,"switch-tab",3,"disabled","click"],[1,"invalid"],[1,"valid"],[3,"value"],[1,"categories-list"],[3,"click"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","","disabled",""],[3,"formGroupName"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required","","readonly",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[1,"container"],[1,"message"],["cdkDrag","",1,"file-box"],["width","304","height","236",1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],[1,"col-md-2"],["width","140","height","160",1,"tile-img",3,"alt","src"],["mat-raised-button","","type","button","color","primary","routerLink","/",1,"switch-tab"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Add New Product"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"mat-card"),t.TgZ(7,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(x){return r.activeTabIndex=x}),t.TgZ(8,"mat-tab",4),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t.TgZ(11,"div",1),t.TgZ(12,"div",7),t.TgZ(13,"mat-form-field",8),t.TgZ(14,"mat-label"),t._uU(15,"SKU"),t.qZA(),t.TgZ(16,"input",9,10),t.NdJ("keyup",function(x){return r.checkSku(x)}),t.qZA(),t.TgZ(18,"mat-icon",11),t._uU(19,"qr_code_2"),t.qZA(),t.YNc(20,K,2,0,"div",12),t.YNc(21,ot,2,0,"div",13),t.qZA(),t.TgZ(22,"mat-form-field",8),t.TgZ(23,"mat-label"),t._uU(24,"Product Name"),t.qZA(),t._UZ(25,"input",14,15),t.TgZ(27,"mat-icon",11),t._uU(28,"create"),t.qZA(),t.qZA(),t.TgZ(29,"mat-form-field",8),t.TgZ(30,"mat-label"),t._uU(31,"Product Brand"),t.qZA(),t.TgZ(32,"mat-select",16,17),t.YNc(34,mt,2,2,"mat-option",18),t.ALo(35,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",8),t.TgZ(37,"mat-label"),t._uU(38,"Short Description"),t.qZA(),t._UZ(39,"textarea",19,20),t.qZA(),t.TgZ(41,"mat-form-field",8),t.TgZ(42,"mat-label"),t._uU(43,"Description"),t.qZA(),t._UZ(44,"textarea",21,22),t.qZA(),t.qZA(),t.TgZ(46,"div",7),t.TgZ(47,"div",23),t.TgZ(48,"mat-checkbox",24,25),t._uU(50,"Is in development"),t.qZA(),t._UZ(51,"br"),t.TgZ(52,"mat-checkbox",26,27),t._uU(54,"Is EOL"),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"mat-checkbox",28,29),t._uU(58,"Is Active"),t.qZA(),t._UZ(59,"hr"),t.TgZ(60,"button",30),t.NdJ("click",function(){return r.saveProduct()}),t._uU(61,"Save New Product"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"mat-tab",31),t.TgZ(63,"div",6),t.TgZ(64,"form"),t.TgZ(65,"div",32),t.TgZ(66,"div",33),t.TgZ(67,"section",34),t.TgZ(68,"ul"),t.YNc(69,Be,8,5,"li",35),t.ALo(70,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",7),t.YNc(72,Dt,3,0,"div",36),t.YNc(73,Y,7,0,"div",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"mat-tab",37),t.TgZ(75,"div",38),t.TgZ(76,"ul"),t.YNc(77,Je,2,1,"li",39),t.qZA(),t.TgZ(78,"form",5),t.ynx(79,40),t.YNc(80,ke,14,1,"ng-container",41),t.BQk(),t.YNc(81,ee,4,1,"div",36),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"mat-tab",42),t.TgZ(83,"form",5),t.TgZ(84,"div",6),t.TgZ(85,"div",32),t.TgZ(86,"div",7),t.TgZ(87,"mat-form-field",43),t.TgZ(88,"mat-label"),t._uU(89,"Choose Packaging Type:"),t.qZA(),t.TgZ(90,"mat-select",44),t.YNc(91,ce,2,2,"mat-option",18),t.ALo(92,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(93,"mat-form-field",43),t.TgZ(94,"mat-label"),t._uU(95,"Weight (KG)"),t.qZA(),t._UZ(96,"input",45),t.TgZ(97,"mat-icon",11),t._uU(98,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(99,"mat-form-field",43),t.TgZ(100,"mat-label"),t._uU(101,"Dimensions(cm): Length"),t.qZA(),t._UZ(102,"input",46),t.TgZ(103,"mat-icon",11),t._uU(104,"design_services"),t.qZA(),t.qZA(),t.TgZ(105,"mat-form-field",43),t.TgZ(106,"mat-label"),t._uU(107,"Dimensions(cm): Width"),t.qZA(),t._UZ(108,"input",47),t.TgZ(109,"mat-icon",11),t._uU(110,"design_services"),t.qZA(),t.qZA(),t.TgZ(111,"mat-form-field",43),t.TgZ(112,"mat-label"),t._uU(113,"Dimensions(cm): Height"),t.qZA(),t._UZ(114,"input",48),t.TgZ(115,"mat-icon",11),t._uU(116,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",7),t.TgZ(118,"div",23),t._UZ(119,"input",49),t.TgZ(120,"button",30),t.NdJ("click",function(){return r.savePackaging()}),t._uU(121,"Save Packaging"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(122,"mat-tab",50),t.TgZ(123,"div",6),t.TgZ(124,"div",1),t.TgZ(125,"div",51),t.TgZ(126,"select",52),t.NdJ("change",function(x){return r.setFocusType(x)}),t.YNc(127,fe,2,2,"option",18),t.ALo(128,"typeGroup"),t.qZA(),t._UZ(129,"br"),t.TgZ(130,"input",53),t.NdJ("change",function(x){return r.onChange(x)}),t.qZA(),t._UZ(131,"br"),t.TgZ(132,"button",54),t.NdJ("click",function(){return r.onUpload("55")}),t._uU(133,"Upload File"),t.qZA(),t._UZ(134,"hr"),t.YNc(135,he,3,0,"div",55),t.TgZ(136,"div",56),t._UZ(137,"div",57),t.qZA(),t.YNc(138,He,2,1,"div",58),t.qZA(),t.TgZ(139,"div",59),t.TgZ(140,"ul"),t.YNc(141,We,2,1,"li",41),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(142,"mat-tab",60),t.TgZ(143,"div",6),t.TgZ(144,"div",1),t.TgZ(145,"div",61),t.TgZ(146,"div",62),t.NdJ("cdkDropListDropped",function(x){return r.drop(x)}),t.YNc(147,ri,11,6,"div",63),t.qZA(),t.qZA(),t.TgZ(148,"div",2),t.TgZ(149,"div",1),t.YNc(150,hi,2,2,"div",64),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(151,"mat-card"),t.TgZ(152,"div",1),t.TgZ(153,"div",65),t.TgZ(154,"input",53),t.NdJ("change",function(x){return r.onChange(x)}),t.qZA(),t._UZ(155,"br"),t.TgZ(156,"button",54),t.NdJ("click",function(){return r.onUpload("47")}),t._uU(157,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(158,"div",59),t.YNc(159,Ue,3,0,"div",55),t.TgZ(160,"div",56),t._UZ(161,"div",57),t.qZA(),t.YNc(162,ge,2,1,"div",58),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(163,"div"),t.YNc(164,Xi,4,0,"button",66),t.TgZ(165,"button",67),t.NdJ("click",function(){return r.nextTab()}),t._uU(166," Next "),t.TgZ(167,"mat-icon"),t._uU(168,"arrow_circle_right"),t.qZA(),t.qZA(),t.TgZ(169,"button",67),t.NdJ("click",function(){return r.previousTab()}),t.TgZ(170,"mat-icon"),t._uU(171,"arrow_circle_left"),t.qZA(),t._uU(172," Back "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(173,"div",61),t.TgZ(174,"mat-card"),t.TgZ(175,"h2"),t.TgZ(176,"strong"),t._uU(177),t.qZA(),t._uU(178," | "),t.TgZ(179,"small"),t._uU(180),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("selectedIndex",r.activeTabIndex),t.xp6(2),t.Q6J("formGroup",r.newProductForm),t.xp6(11),t.Q6J("ngIf",r.invalidSku),t.xp6(1),t.Q6J("ngIf",!r.invalidSku),t.xp6(13),t.Q6J("ngForOf",t.xi3(35,33,r.typesList,"Brand")),t.xp6(26),t.Q6J("disabled",!r.newProductForm.dirty||r.invalidSku),t.xp6(9),t.Q6J("ngForOf",t.xi3(70,36,r.categoriesList,"0")),t.xp6(3),t.Q6J("ngIf",0!=r.newProductId),t.xp6(1),t.Q6J("ngIf",0==r.newProductId),t.xp6(4),t.Q6J("ngForIn",r.attributesFields),t.xp6(1),t.Q6J("formGroup",r.newProductFormAttributes),t.xp6(2),t.Q6J("ngForOf",r.attributes.controls),t.xp6(1),t.Q6J("ngIf",r.attrCount>0),t.xp6(2),t.Q6J("formGroup",r.newProductFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(92,39,r.typesList,"Packaging")),t.xp6(29),t.Q6J("disabled",!r.newProductFormPackaging.dirty),t.xp6(7),t.Q6J("ngForOf",t.xi3(128,42,r.typesList,"File")),t.xp6(8),t.Q6J("ngIf",r.loading),t.xp6(2),t.Akn(r.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",r.messages.length),t.xp6(3),t.Q6J("ngForOf",r.savedFiles),t.xp6(6),t.Q6J("ngForOf",r.savedFiles),t.xp6(3),t.Q6J("ngForOf",r.savedFiles),t.xp6(9),t.Q6J("ngIf",r.loading),t.xp6(2),t.Akn(r.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",r.messages.length),t.xp6(2),t.Q6J("ngIf",r.doneBtn),t.xp6(1),t.Q6J("disabled",!r.nextBtn),t.xp6(4),t.Q6J("disabled",!r.nextBtn),t.xp6(8),t.hij(" ",r.newProductName,""),t.xp6(3),t.Oqu(r.newProductSKU))},directives:[Ai.yS,xe.a8,Ot.SP,Ot.uX,Qt._Y,Qt.JL,Qt.sg,gt.KE,gt.hX,Ht.Nt,Qt.Fj,Qt.JJ,Qt.u,_t.Hw,gt.R9,Te.O5,Tt.gD,Te.sg,tt.ey,Mt,Bt.lW,Qt.F,Qt.CE,Qt.x0,et.Il,et.DX,Qt.Q7,Qt.YN,Qt.Kr,y,At,Ai.rH],pipes:[z,st],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.switch-tab[_ngcontent-%COMP%]{margin-left:2rem;float:right;margin-top:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:green}"]}),s})();var In=re(655),pi=re(659);function wi(s,l){1&s&&(t.TgZ(0,"div",2),t.TgZ(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA())}function ir(s,l){1&s&&(t.TgZ(0,"button",45),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function si(s,l){if(1&s&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function to(s,l){1&s&&t._UZ(0,"mat-progress-bar",3)}function ki(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," ID "),t.qZA())}function On(s,l){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function dr(s,l){1&s&&t._UZ(0,"th",47)}function Pi(s,l){if(1&s&&(t.TgZ(0,"td",48),t._UZ(1,"img",49),t.qZA()),2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(1),t.hYB("src","",r.storageUrl,"files/",e.sku,"/47/upload47.png",t.LSH)}}function ze(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," SKU "),t.qZA())}function ci(s,l){if(1&s&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function eo(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," Name "),t.qZA())}function Ji(s,l){if(1&s&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function nr(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," Brand "),t.qZA())}function rr(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"td",51),t.NdJ("click",function(){const x=t.CHM(e).$implicit,F=t.oxw(2);return F.selectBrand(F.getBrandName(x.brand_type_id))}),t._uU(1),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(1),t.hij(" ",r.getBrandName(e.brand_type_id)," ")}}function Fe(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," Description "),t.qZA())}function Mn(s,l){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function or(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," Active "),t.qZA())}function hn(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is active")}),t.TgZ(1,"mat-icon",54),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Ri(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",55),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Oi(s,l){if(1&s&&(t.TgZ(0,"td",48),t.YNc(1,hn,3,0,"span",52),t.YNc(2,Ri,3,0,"span",52),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function mn(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," In Development "),t.qZA())}function wo(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is in development")}),t.TgZ(1,"mat-icon",56),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function pr(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",55),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function En(s,l){if(1&s&&(t.TgZ(0,"td",48),t.YNc(1,wo,3,0,"span",52),t.YNc(2,pr,3,0,"span",52),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Fn(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," EOL "),t.qZA())}function qn(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is in end of life")}),t.TgZ(1,"mat-icon",57),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function ar(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",55),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function An(s,l){if(1&s&&(t.TgZ(0,"td",48),t.YNc(1,qn,3,0,"span",52),t.YNc(2,ar,3,0,"span",52),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function sr(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," Updated "),t.qZA())}function io(s,l){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Ao(s,l){1&s&&(t.TgZ(0,"th",47),t._uU(1," Created "),t.qZA())}function Co(s,l){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function To(s,l){1&s&&t._UZ(0,"th",47)}function ko(s,l){if(1&s&&(t.TgZ(0,"td",48),t.TgZ(1,"button",58),t._uU(2," View Details "),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function Wa(s,l){1&s&&t._UZ(0,"tr",59)}function Us(s,l){1&s&&t._UZ(0,"tr",60)}function js(s,l){if(1&s&&(t.TgZ(0,"tr",61),t.TgZ(1,"td",62),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(22);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Po=function(){return[10,25,50,100]};function Ga(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.YNc(5,ir,4,0,"button",6),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"button",7),t.TgZ(8,"mat-icon"),t._uU(9,"download_file"),t.qZA(),t._uU(10," Export CSV "),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"button",8),t.TgZ(13,"mat-icon"),t._uU(14,"wordpress"),t.qZA(),t._uU(15," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",9),t.TgZ(18,"mat-form-field",10),t.TgZ(19,"mat-label"),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"input",11,12),t.NdJ("keyup",function(m){return t.CHM(e),t.oxw().applyFilter(m)}),t.qZA(),t.TgZ(23,"mat-icon",13),t._uU(24,"filter_list"),t.qZA(),t.qZA(),t.TgZ(25,"mat-form-field",14),t.TgZ(26,"mat-label"),t._uU(27,"Categories"),t.qZA(),t.TgZ(28,"mat-select",15),t.NdJ("selectionChange",function(m){return t.CHM(e),t.oxw().filterByCategory(m)}),t.YNc(29,si,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(30,"div",17),t.TgZ(31,"span",18),t.TgZ(32,"mat-checkbox",19),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().displayDates=m})("change",function(m){return t.CHM(e),t.oxw().showDates(m)}),t._uU(33,"More info"),t.qZA(),t.qZA(),t.TgZ(34,"span",18),t.TgZ(35,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().eolProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(36,"EOL"),t.qZA(),t.qZA(),t.TgZ(37,"span",18),t.TgZ(38,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().developmentProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(39,"In Development"),t.qZA(),t.qZA(),t.TgZ(40,"span",18),t.TgZ(41,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().activeProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(42,"Active"),t.qZA(),t.qZA(),t.TgZ(43,"span",18),t.TgZ(44,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().allProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(45,"All"),t.qZA(),t.qZA(),t.YNc(46,to,1,0,"mat-progress-bar",21),t.TgZ(47,"table",22,23),t.NdJ("matSortChange",function(m){return t.CHM(e),t.oxw().announceSortChange(m)}),t.ynx(49,24),t.YNc(50,ki,2,0,"th",25),t.YNc(51,On,2,1,"td",26),t.BQk(),t.ynx(52,27),t.YNc(53,dr,1,0,"th",25),t.YNc(54,Pi,2,2,"td",26),t.BQk(),t.ynx(55,28),t.YNc(56,ze,2,0,"th",25),t.YNc(57,ci,2,2,"td",29),t.BQk(),t.ynx(58,30),t.YNc(59,eo,2,0,"th",25),t.YNc(60,Ji,2,2,"td",29),t.BQk(),t.ynx(61,31),t.YNc(62,nr,2,0,"th",25),t.YNc(63,rr,2,1,"td",32),t.BQk(),t.ynx(64,33),t.YNc(65,Fe,2,0,"th",25),t.YNc(66,Mn,2,1,"td",26),t.BQk(),t.ynx(67,34),t.YNc(68,or,2,0,"th",25),t.YNc(69,Oi,3,2,"td",26),t.BQk(),t.ynx(70,35),t.YNc(71,mn,2,0,"th",25),t.YNc(72,En,3,2,"td",26),t.BQk(),t.ynx(73,36),t.YNc(74,Fn,2,0,"th",25),t.YNc(75,An,3,2,"td",26),t.BQk(),t.ynx(76,37),t.YNc(77,sr,2,0,"th",25),t.YNc(78,io,3,3,"td",26),t.BQk(),t.ynx(79,38),t.YNc(80,Ao,2,0,"th",25),t.YNc(81,Co,3,3,"td",26),t.BQk(),t.ynx(82,39),t.YNc(83,To,1,0,"th",25),t.YNc(84,ko,3,1,"td",26),t.BQk(),t.YNc(85,Wa,1,0,"tr",40),t.YNc(86,Us,1,0,"tr",41),t.YNc(87,js,3,1,"tr",42),t.qZA(),t._UZ(88,"mat-paginator",43),t.qZA(),t.qZA(),t._UZ(89,"div",44),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(12,Po))}}class Lr extends cn._k{constructor(l,e,r,m,x,F,nt,Jt,ue){super(),this.navbar=l,this.sideNav=e,this.topNav=r,this.treeNav=m,this.api=x,this._snackBar=F,this._liveAnnouncer=nt,this.info=Jt,this.router=ue,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.info.isUserLoggedIn.subscribe(Pe=>{this.loggedIn=Pe})}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),console.log(Date.now()),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.info.auth(),console.log("isUserLoggedIn:",this.loggedIn)}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(l){this.dataSource.filter=l.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){let l="products-verified";this.viewAllProductsRole&&(l="products"),this.blockUI.start("Loading products.."),this.productsLoader=!0,this.api.GET(l).subscribe({next:e=>{console.log("Products: ",e),this.productsLoader=!1,this.productsList=e,this.dataSource=new Kt.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.blockUI.stop()},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}openSnackBar(l,e){this._snackBar.open(l,e,{duration:2e3})}announceSortChange(l){this._liveAnnouncer.announce(l.direction?`Sorted ${l.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:l=>{console.log(l),this.typesList=l},error:l=>{this.openSnackBar("Failed to communicate with the server: "+l.message,"Okay")}})}getBrandName(l){let e=0;return e=parseInt(l)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(l){return console.log("Role check"),!!this.info.role(l)}iconClick(l){this.openSnackBar(l,"\u{1f609}")}filePath(l){return l.substring(7)}showDates(l){this.displayDates?this.displayedColumns=["id","thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"]}selectBrand(l){this.router.navigate(["/brand",l.toLowerCase()])}filterStatuses(l){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?r=>1==r.is_in_development&&1==r.is_active:this.activeProducts&&this.eolProducts?r=>1==r.is_active&&1==r.is_eol:this.developmentProducts&&this.eolProducts?r=>1==r.is_in_development&&1==r.is_eol:this.activeProducts?r=>1==r.is_active:this.developmentProducts?r=>1==r.is_in_development:r=>1==r.is_eol),this.table(e)}filterByCategory(l){console.log(l),this.api.GET(`products-by-category/${l.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:l=>{this.categoriesList=l},error:l=>{alert(l)}})}table(l){this.dataSource=new Kt.by(l),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}Lr.\u0275fac=function(l){return new(l||Lr)(t.Y36(ti.I),t.Y36(Wi.Z),t.Y36(ti.I),t.Y36(on.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Ii.Kd),t.Y36(se.C),t.Y36(Ai.F0))},Lr.\u0275cmp=t.Xpm({type:Lr,selectors:[["app-products-home"]],viewQuery:function(l,e){if(1&l&&(t.Gf(Ze.NW,5),t.Gf(Oe.YE,5)),2&l){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first),t.iGM(r=t.CRH())&&(e.sort=r.first)}},features:[t.qOj],decls:2,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","","routerLink","products/export-csv",1,"m-1",2,"width","100%"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(l,e){1&l&&(t.YNc(0,wi,4,0,"div",0),t.YNc(1,Ga,90,13,"div",1)),2&l&&(t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},directives:[Te.O5,$n.pW,Bt.lW,Ai.rH,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Tt.gD,Te.sg,tt.ey,Mt,Qt.JJ,Qt.On,Kt.BZ,yr.jt,Oe.YE,Kt.w1,Kt.fO,Kt.ge,Oe.nU,Kt.Dz,Kt.ev,Kt.as,Kt.XQ,Kt.nj,Kt.Gk,Kt.Ee,Ze.NW],pipes:[Te.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,In.gn)([(0,pi.bH)()],Lr.prototype,"blockUI",void 0);var ca=re(4327),Hs=re(3583),Qa=re(2983),zs=re.n(Qa),dn=re(9776),Rn=re(7429),Si=re(9770),la=re(9646),cr=re(9300),ei=re(1777),bi=re(1159);function Ys(s,l){}class _n{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const So={dialogContainer:(0,ei.X$)("dialogContainer",[(0,ei.SB)("void, exit",(0,ei.oB)({opacity:0,transform:"scale(0.7)"})),(0,ei.SB)("enter",(0,ei.oB)({transform:"none"})),(0,ei.eR)("* => enter",(0,ei.ru)([(0,ei.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ei.oB)({transform:"none",opacity:1})),(0,ei.IO)("@*",(0,ei.pV)(),{optional:!0})])),(0,ei.eR)("* => void, * => exit",(0,ei.ru)([(0,ei.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ei.oB)({opacity:0})),(0,ei.IO)("@*",(0,ei.pV)(),{optional:!0})]))])};let ua=(()=>{class s extends Rn.en{constructor(e,r,m,x,F,nt,Jt,ue){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=m,this._config=F,this._interactivityChecker=nt,this._ngZone=Jt,this._focusMonitor=ue,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Pe=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(Pe)),this._ariaLabelledBy=F.ariaLabelledBy||null,this._document=x}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,un.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const m=()=>{e.removeEventListener("blur",m),e.removeEventListener("mousedown",m),e.removeAttribute("tabindex")};e.addEventListener("blur",m),e.addEventListener("mousedown",m)})),e.focus(r)}_focusByCssSelector(e,r){let m=this._elementRef.nativeElement.querySelector(e);m&&this._forceFocus(m,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=(0,un.ht)(),m=this._elementRef.nativeElement;(!r||r===this._document.body||r===m||m.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=(0,un.ht)();return e===r||e.contains(r)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Ii.qV),t.Y36(t.sBO),t.Y36(Te.K0,8),t.Y36(_n),t.Y36(Ii.ic),t.Y36(t.R0b),t.Y36(Ii.tE))},s.\u0275dir=t.lG2({type:s,viewQuery:function(e,r){if(1&e&&t.Gf(Rn.Pl,7),2&e){let m;t.iGM(m=t.CRH())&&(r._portalOutlet=m.first)}},features:[t.qOj]}),s})(),$a=(()=>{class s extends ua{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return s.\u0275fac=function(){let l;return function(r){return(l||(l=t.n5z(s)))(r||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&t.WFA("@dialogContainer.start",function(x){return r._onAnimationStart(x)})("@dialogContainer.done",function(x){return r._onAnimationDone(x)}),2&e&&(t.Ikx("id",r._id),t.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),t.d8E("@dialogContainer",r._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&t.YNc(0,Ys,0,0,"ng-template",0)},directives:[Rn.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[So.dialogContainer]}}),s})(),Js=0;class Ka{constructor(l,e,r="mat-dialog-"+Js++){this._overlayRef=l,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new li.x,this._afterClosed=new li.x,this._beforeClosed=new li.x,this._state=0,e._id=r,e._animationStateChanged.pipe((0,cr.h)(m=>"opened"===m.state),(0,er.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,cr.h)(m=>"closed"===m.state),(0,er.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),l.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),l.keydownEvents().pipe((0,cr.h)(m=>m.keyCode===bi.hY&&!this.disableClose&&!(0,bi.Vb)(m))).subscribe(m=>{m.preventDefault(),Xa(this,"keyboard")}),l.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Xa(this,"mouse")})}close(l){this._result=l,this._containerInstance._animationStateChanged.pipe((0,cr.h)(e=>"closing"===e.state),(0,er.q)(1)).subscribe(e=>{this._beforeClosed.next(l),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(l){let e=this._getPositionStrategy();return l&&(l.left||l.right)?l.left?e.left(l.left):e.right(l.right):e.centerHorizontally(),l&&(l.top||l.bottom)?l.top?e.top(l.top):e.bottom(l.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(l="",e=""){return this._overlayRef.updateSize({width:l,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(l){return this._overlayRef.addPanelClass(l),this}removePanelClass(l){return this._overlayRef.removePanelClass(l),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Xa(s,l,e){return void 0!==s._containerInstance&&(s._containerInstance._closeInteractionType=l),s.close(e)}const ts=new t.OlP("MatDialogData"),Vs=new t.OlP("mat-dialog-default-options"),No=new t.OlP("mat-dialog-scroll-strategy"),Gs={provide:No,deps:[dn.aV],useFactory:function Ws(s){return()=>s.scrollStrategies.block()}};let fr=(()=>{class s{constructor(e,r,m,x,F,nt,Jt,ue,Pe,_i){this._overlay=e,this._injector=r,this._defaultOptions=m,this._parentDialog=x,this._overlayContainer=F,this._dialogRefConstructor=Jt,this._dialogContainerType=ue,this._dialogDataToken=Pe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new li.x,this._afterOpenedAtThisLevel=new li.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Si.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Qr.O)(void 0))),this._scrollStrategy=nt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){r=function Lo(s,l){return Object.assign(Object.assign({},l),s)}(r,this._defaultOptions||new _n),r.id&&this.getDialogById(r.id);const m=this._createOverlay(r),x=this._attachDialogContainer(m,r),F=this._attachDialogContent(e,x,m,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(F),F.afterClosed().subscribe(()=>this._removeOpenDialog(F)),this.afterOpened.next(F),x._initializeWithAttachedContent(),F}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new dn.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const x=t.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:_n,useValue:r}]}),F=new Rn.C5(this._dialogContainerType,r.viewContainerRef,x,r.componentFactoryResolver);return e.attach(F).instance}_attachDialogContent(e,r,m,x){const F=new this._dialogRefConstructor(m,r,x.id);if(e instanceof t.Rgc)r.attachTemplatePortal(new Rn.UE(e,null,{$implicit:x.data,dialogRef:F}));else{const nt=this._createInjector(x,F,r),Jt=r.attachComponentPortal(new Rn.C5(e,x.viewContainerRef,nt,x.componentFactoryResolver));F.componentInstance=Jt.instance}return F.updateSize(x.width,x.height).updatePosition(x.position),F}_createInjector(e,r,m){const x=e&&e.viewContainerRef&&e.viewContainerRef.injector,F=[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!x||!x.get($r.Is,null,t.XFs.Optional))&&F.push({provide:$r.Is,useValue:{value:e.direction,change:(0,la.of)()}}),t.zs3.create({parent:x||this._injector,providers:F})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((m,x)=>{m?x.setAttribute("aria-hidden",m):x.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let m=r.length-1;m>-1;m--){let x=r[m];x!==e&&"SCRIPT"!==x.nodeName&&"STYLE"!==x.nodeName&&!x.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(x,x.getAttribute("aria-hidden")),x.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return s.\u0275fac=function(e){t.$Z()},s.\u0275dir=t.lG2({type:s}),s})(),no=(()=>{class s extends fr{constructor(e,r,m,x,F,nt,Jt,ue){super(e,r,x,nt,Jt,F,Ka,$a,ts,ue)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(dn.aV),t.LFG(t.zs3),t.LFG(Te.Ye,8),t.LFG(Vs,8),t.LFG(No),t.LFG(s,12),t.LFG(dn.Xj),t.LFG(lt.Qb,8))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),Ks=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[no,Gs],imports:[[dn.U8,Rn.eL,tt.BQ],tt.BQ]}),s})();var pn=re(4623),es=re(449);const is=["*"],Zo=new t.OlP("MatChipRemove"),ns=new t.OlP("MatChipAvatar"),rs=new t.OlP("MatChipTrailingIcon");class Xs{constructor(l){this._elementRef=l}}const da=(0,tt.sb)((0,tt.pj)((0,tt.Kr)(Xs),"primary"),-1);let Do=(()=>{class s extends da{constructor(e,r,m,x,F,nt,Jt,ue){super(e),this._ngZone=r,this._changeDetectorRef=F,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new li.x,this._onBlur=new li.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=nt.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new tt.IR(this,r,this._chipRippleTarget,m),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=x||{},this._animationsDisabled="NoopAnimations"===Jt,this.tabIndex=null!=ue&&parseInt(ue)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const r=(0,Ke.Ig)(e);r!==this._selected&&(this._selected=r,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,Ke.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,Ke.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,Ke.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",r=this._elementRef.nativeElement;r.hasAttribute(e)||r.tagName.toLowerCase()===e?r.classList.add(e):r.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case bi.yY:case bi.ZH:this.remove(),e.preventDefault();break;case bi.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,er.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(un.t4),t.Y36(tt.Y2,8),t.Y36(t.sBO),t.Y36(Te.K0),t.Y36(lt.Qb,8),t.$8M("tabindex"))},s.\u0275dir=t.lG2({type:s,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,m){if(1&e&&(t.Suo(m,ns,5),t.Suo(m,rs,5),t.Suo(m,Zo,5)),2&e){let x;t.iGM(x=t.CRH())&&(r.avatar=x.first),t.iGM(x=t.CRH())&&(r.trailingIcon=x.first),t.iGM(x=t.CRH())&&(r.removeIcon=x.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,r){1&e&&t.NdJ("click",function(x){return r._handleClick(x)})("keydown",function(x){return r._handleKeydown(x)})("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(t.uIk("tabindex",r.disabled?null:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString())("aria-selected",r.ariaSelected),t.ekj("mat-chip-selected",r.selected)("mat-chip-with-avatar",r.avatar)("mat-chip-with-trailing-icon",r.trailingIcon||r.removeIcon)("mat-chip-disabled",r.disabled)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),s})();const Io=new t.OlP("mat-chips-default-options"),as=(0,tt.FD)(class{constructor(s,l,e,r){this._defaultErrorStateMatcher=s,this._parentForm=l,this._parentFormGroup=e,this.ngControl=r}});let ss=0;class cs{constructor(l,e){this.source=l,this.value=e}}let lr=(()=>{class s extends as{constructor(e,r,m,x,F,nt,Jt){super(nt,x,F,Jt),this._elementRef=e,this._changeDetectorRef=r,this._dir=m,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new li.x,this._uid="mat-chip-list-"+ss++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(ue,Pe)=>ue===Pe,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,r;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,Ke.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,r,m,x;return null!==(x=null!==(e=this._required)&&void 0!==e?e:null===(m=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===m?void 0:m.hasValidator(Qt.kI.required))&&void 0!==x&&x}set required(e){this._required=(0,Ke.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,Ke.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,Ke.Ig)(e),this.chips&&this.chips.forEach(r=>r.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,tr.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,tr.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,tr.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,tr.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new Ii.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,kr.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,kr.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,Qr.O)(null),(0,kr.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new es.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const r=e.target;r&&r.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,r=!0){if(this._clearSelection(),this.chips.forEach(m=>m.deselect()),Array.isArray(e))e.forEach(m=>this._selectValue(m,r)),this._sortValues();else{const m=this._selectValue(e,r);m&&r&&this._keyManager.setActiveItem(m)}}_selectValue(e,r=!0){const m=this.chips.find(x=>null!=x.value&&this._compareWith(x.value,e));return m&&(r?m.selectViaInteraction():m.select(),this._selectionModel.select(m)),m}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(r=>{r!==e&&r.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let r=null;r=Array.isArray(this.selected)?this.selected.map(m=>m.value):this.selected?this.selected.value:e,this._value=r,this.change.emit(new cs(this,r)),this.valueChange.emit(r),this._onChange(r),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(r=>{!this._selectionModel.isSelected(r)&&r.selected&&r.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&this._keyManager.updateActiveItem(r),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const r=e.chip,m=this.chips.toArray().indexOf(e.chip);this._isValidIndex(m)&&r._hasFocus&&(this._lastDestroyedChipIndex=m)})}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-chip"))return!0;r=r.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36($r.Is,8),t.Y36(Qt.F,8),t.Y36(Qt.sg,8),t.Y36(tt.rD),t.Y36(Qt.a5,10))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-chip-list"]],contentQueries:function(e,r,m){if(1&e&&t.Suo(m,Do,5),2&e){let x;t.iGM(x=t.CRH())&&(r.chips=x)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,r){1&e&&t.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(x){return r._keydown(x)}),2&e&&(t.Ikx("id",r._uid),t.uIk("tabindex",r.disabled?null:r._tabIndex)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-multiselectable",r.multiple)("role",r.role)("aria-orientation",r.ariaOrientation),t.ekj("mat-chip-list-disabled",r.disabled)("mat-chip-list-invalid",r.errorState)("mat-chip-list-required",r.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:gt.Eo,useExisting:s}]),t.qOj],ngContentSelectors:is,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),s})(),tc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[tt.rD,{provide:Io,useValue:{separatorKeyCodes:[bi.K5]}}],imports:[[tt.BQ]]}),s})();var gr=re(7544),Cn=re(773);const pa=["pdfContent"];function so(s,l){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",1),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function ec(s,l){if(1&s&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Mo(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",86),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateProduct()}),t._uU(1,"Save Changes"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productForm.dirty)}}function ic(s,l){if(1&s&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function fa(s,l){if(1&s&&(t.ynx(0),t.TgZ(1,"div",87),t.TgZ(2,"mat-form-field",11),t.TgZ(3,"mat-label"),t._uU(4,"Product Region"),t.qZA(),t.TgZ(5,"mat-select",88,89),t.YNc(7,ic,2,2,"mat-option",18),t.ALo(8,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&s){const e=l.index,r=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(6),t.Q6J("ngForOf",t.xi3(8,2,r.typesList,"Region"))}}function ga(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateRegion()}),t._uU(1,"Save Region"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.regionsForm.dirty)}}function ls(s,l){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",87),t.TgZ(2,"mat-form-field",11),t.TgZ(3,"mat-label"),t._uU(4,"Shoutout"),t.qZA(),t._UZ(5,"input",91),t.TgZ(6,"mat-icon",92),t.NdJ("click",function(){const x=t.CHM(e).index;return t.oxw(2).removeShoutout(x)}),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const e=l.index;t.xp6(1),t.Q6J("formGroupName",e)}}function Eo(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateShoutout()}),t._uU(1,"Save Changes"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.shoutoutsForm.dirty)}}function ma(s,l){if(1&s&&(t.TgZ(0,"li"),t.TgZ(1,"span"),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.hij("",e.attribute_key," "),t.xp6(1),t.hij(": ",e.attribute_value,"")}}function _a(s,l){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"ul"),t.YNc(2,ma,4,2,"li",36),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.pdsAttributes)}}function us(s,l){1&s&&(t.TgZ(0,"div"),t.TgZ(1,"i"),t._uU(2,"please wait..."),t.qZA(),t.qZA())}function nc(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(8).checkedItem(x.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(8);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name)}}function Fo(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(7).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,nc,3,2,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(7);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function co(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(6).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Fo,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(6);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function va(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(5).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,co,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(5);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function Dr(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(4).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,va,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(4);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function ba(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(3).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Dr,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(3);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function p(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(2).checkedItem(x.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,ba,6,6,"li",47),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,3,r.categoriesList,e.id))}}function C(s,l){if(1&s&&(t.ynx(0),t.TgZ(1,"div",87),t.TgZ(2,"mat-grid-list",95),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",96),t._UZ(5,"input",97),t.qZA(),t.qZA(),t.TgZ(6,"mat-grid-tile"),t.TgZ(7,"mat-form-field",96),t._UZ(8,"input",98),t.qZA(),t.qZA(),t._UZ(9,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&s){const e=l.index;t.xp6(1),t.Q6J("formGroupName",e)}}function U(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateAttributes()}),t._uU(1),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productFormAttributes.dirty),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function W(s,l){if(1&s&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function at(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"button",86),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updatePackaging()}),t._uU(1,"Save Packaging"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productFormPackaging.dirty)}}function Nt(s,l){if(1&s&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function $t(s,l){if(1&s&&(t.TgZ(0,"mat-list-option",109),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function _e(s,l){1&s&&(t.TgZ(0,"div",110),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function De(s,l){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e)}}function Ve(s,l){if(1&s&&(t.TgZ(0,"div",111),t.YNc(1,De,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Ge(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",99),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).setFocusType(m)}),t.YNc(4,Nt,2,2,"option",18),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"label"),t._uU(8,"Document Expiry Date:"),t.qZA(),t.TgZ(9,"input",100),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw(2).expiry_date=m}),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"input",101),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-selection-list",102,103),t.YNc(15,$t,2,1,"mat-list-option",104),t.ALo(16,"typeGroup"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadDocument("55","document")}),t._uU(19,"Upload File"),t.qZA(),t._UZ(20,"hr"),t.YNc(21,_e,3,0,"div",105),t.TgZ(22,"div",106),t._UZ(23,"div",107),t.qZA(),t.YNc(24,Ve,2,1,"div",108),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,7,e.typesList,"File")),t.xp6(5),t.Q6J("ngModel",e.expiry_date),t.xp6(6),t.Q6J("ngForOf",t.xi3(16,10,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function ii(s,l){1&s&&(t.TgZ(0,"div",112),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function Ci(s,l){1&s&&(t.TgZ(0,"span"),t._uU(1,"\u26a0"),t.qZA())}function Ni(s,l){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,Ci,2,0,"span",0),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA()),2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,4,e.created_at)),t.xp6(3),t.Q6J("ngIf",r.today>e.expiry_date),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.expiry_date)," ")}}function Mi(s,l){if(1&s&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function tn(s,l){if(1&s&&(t.TgZ(0,"mat-list-option",109),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ji(s,l){1&s&&(t.TgZ(0,"div",110),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Bn(s,l){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e)}}function bn(s,l){if(1&s&&(t.TgZ(0,"div",111),t.YNc(1,Bn,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function mr(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",99),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).setFocusType(m)}),t.YNc(4,Mi,2,2,"option",18),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"input",101),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-selection-list",102,103),t.YNc(11,tn,2,1,"mat-list-option",104),t.ALo(12,"typeGroup"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadDocument("62","document")}),t._uU(15,"Upload Briefing File"),t.qZA(),t._UZ(16,"hr"),t.YNc(17,ji,3,0,"div",105),t.TgZ(18,"div",106),t._UZ(19,"div",107),t.qZA(),t.YNc(20,bn,2,1,"div",108),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,6,e.typesList,"Briefing File")),t.xp6(7),t.Q6J("ngForOf",t.xi3(12,9,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function hs(s,l){1&s&&(t.TgZ(0,"div",112),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload briefing files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function ya(s,l){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,2,e.created_at))}}function xa(s,l){1&s&&(t.TgZ(0,"mat-chip",121),t._uU(1,"Primary"),t.qZA())}function qo(s,l){if(1&s&&t._UZ(0,"span",122),2&s){const e=t.oxw().index;t.s9C("matBadge",e+1)}}function wa(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",123),t.NdJ("onSelectionChange",function(){const x=t.CHM(e).$implicit,F=t.oxw().$implicit;return t.oxw(3).updateFileType(F.id,x.id)}),t._uU(1),t.qZA()}if(2&s){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Aa(s,l){if(1&s&&(t.TgZ(0,"div",115),t.TgZ(1,"div",116),t.TgZ(2,"div",10),t.TgZ(3,"mat-chip-list"),t.YNc(4,xa,2,0,"mat-chip",117),t.qZA(),t.YNc(5,qo,1,1,"span",118),t._UZ(6,"img",119),t.qZA(),t.TgZ(7,"div",40),t.TgZ(8,"mat-form-field",11),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select"),t.YNc(12,wa,2,2,"mat-option",120),t.ALo(13,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=l.$implicit,r=l.index,m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",0==r),t.xp6(1),t.Q6J("ngIf",r>0),t.xp6(1),t.s9C("alt",e.path),t.s9C("src",m.storageUrl+m.filePath(e.path),t.LSH),t.xp6(4),t.Oqu(m.returnTypeName(e.type_id)),t.xp6(2),t.Q6J("ngForOf",t.xi3(13,6,m.typesList,"Image"))}}function Ro(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div",113),t.NdJ("cdkDropListDropped",function(m){return t.CHM(e),t.oxw(2).drop(m)}),t.YNc(1,Aa,14,9,"div",114),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.mediaFiles)}}function fn(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"mat-chip",130),t.NdJ("click",function(){const x=t.CHM(e).$implicit,F=t.oxw().$implicit,nt=t.oxw(2);return nt.downloadURI("storage/"+nt.filePath(F.path),x.id,F.name,F)}),t._uU(1),t.qZA()}if(2&s){const e=l.$implicit;t.xp6(1),t.Oqu(e.name)}}function Bo(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"mat-card-actions",131),t.TgZ(1,"button",132),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).hideFile(m.id)}),t.TgZ(2,"mat-icon"),t._uU(3,"hide_image"),t.qZA(),t.qZA(),t._uU(4,"\xa0 "),t.TgZ(5,"button",132),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).deleteFile(m.id)}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA()}}function Uo(s,l){if(1&s&&(t.TgZ(0,"div",69),t.TgZ(1,"mat-card",124),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-subtitle"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",125),t._UZ(6,"img",126),t.qZA(),t.TgZ(7,"mat-card-content"),t.TgZ(8,"mat-chip-list",127),t.YNc(9,fn,2,1,"mat-chip",128),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.YNc(11,Bo,8,0,"mat-card-actions",129),t.qZA(),t.qZA()),2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(4),t.Oqu(r.returnTypeName(e.type_id)),t.xp6(2),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,4,r.typesList,"Image Type")),t.xp6(2),t.Q6J("ngIf",r.uploadRole)}}function jo(s,l){1&s&&(t.TgZ(0,"div",110),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Ca(s,l){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=l.$implicit;t.xp6(2),t.Oqu(e)}}function gn(s,l){if(1&s&&(t.TgZ(0,"div",111),t.YNc(1,Ca,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function rc(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",133),t.TgZ(2,"input",101),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onUpload("47","image")}),t._uU(5,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(6,"div",40),t.YNc(7,jo,3,0,"div",105),t.TgZ(8,"div",106),t._UZ(9,"div",107),t.qZA(),t.YNc(10,gn,2,1,"div",108),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(7),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function Ta(s,l){1&s&&(t.TgZ(0,"div",9),t.TgZ(1,"div",134),t.TgZ(2,"div",112),t.TgZ(3,"p"),t._uU(4,"You do not have permissions to upload media"),t.qZA(),t.TgZ(5,"mat-icon"),t._uU(6,"hide_image"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function ds(s,l){if(1&s&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&s){const e=l.$implicit;t.xp6(1),t.Oqu(e.name)}}function Un(s,l){if(1&s&&(t.TgZ(0,"div",69),t.TgZ(1,"mat-card",124),t._uU(2),t.TgZ(3,"div",125),t._UZ(4,"img",135),t.qZA(),t.TgZ(5,"mat-card-content"),t.TgZ(6,"mat-chip-list",127),t.YNc(7,ds,2,1,"mat-chip",36),t.ALo(8,"typeGroup"),t.qZA(),t.qZA(),t._UZ(9,"mat-card-actions",131),t.qZA(),t.qZA()),2&s){const e=l.$implicit,r=t.oxw(2);t.xp6(2),t.hij(" ",e," "),t.xp6(2),t.s9C("src",r.imageserver(r.productSku,e),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(8,3,r.typesList,"Image Type"))}}function ka(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function oc(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function ac(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Ir(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Tn(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function jn(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Or(s,l){1&s&&(t.TgZ(0,"span"),t._uU(1,"\xa0loading..."),t.qZA())}function ur(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function _r(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Ho(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Hn(s,l){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}const zo=function(){return[0,1,2,3,4,5,6,7,8,9,10]};function Pa(s,l){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",2),t._uU(3,"Products "),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-card",5),t.TgZ(8,"mat-tab-group"),t.TgZ(9,"mat-tab",6),t.TgZ(10,"form",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t.TgZ(14,"mat-card"),t.TgZ(15,"strong"),t._uU(16,"General Details"),t.qZA(),t._UZ(17,"br"),t._UZ(18,"br"),t.TgZ(19,"mat-form-field",11),t.TgZ(20,"mat-label"),t._uU(21,"SKU"),t.qZA(),t._UZ(22,"input",12,13),t.qZA(),t.TgZ(24,"mat-form-field",11),t.TgZ(25,"mat-label"),t._uU(26,"Product Name"),t.qZA(),t._UZ(27,"input",14,15),t.qZA(),t.TgZ(29,"mat-form-field",11),t.TgZ(30,"mat-label"),t._uU(31,"Product Brand"),t.qZA(),t.TgZ(32,"mat-select",16,17),t.YNc(34,ec,2,2,"mat-option",18),t.ALo(35,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",11),t.TgZ(37,"mat-label"),t._uU(38,"Family Grouping"),t.qZA(),t._UZ(39,"input",19,20),t.qZA(),t.TgZ(41,"strong"),t._uU(42,"Description"),t.qZA(),t._UZ(43,"br"),t._UZ(44,"br"),t.TgZ(45,"mat-form-field",11),t.TgZ(46,"mat-label"),t._uU(47,"Short Description"),t.qZA(),t._UZ(48,"textarea",21,22),t.qZA(),t.TgZ(50,"mat-form-field",11),t.TgZ(51,"mat-label"),t._uU(52,"Description"),t.qZA(),t._UZ(53,"textarea",23,24),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"div",25),t.TgZ(57,"mat-checkbox",26,27),t._uU(59,"Is In Development"),t.qZA(),t._UZ(60,"br"),t.TgZ(61,"mat-checkbox",28,29),t._uU(63,"Is EOL"),t.qZA(),t._UZ(64,"br"),t.TgZ(65,"mat-checkbox",30,31),t._uU(67,"Is Active"),t.qZA(),t._UZ(68,"hr"),t.TgZ(69,"mat-checkbox",32,33),t._uU(71,"Verified"),t.qZA(),t._UZ(72,"hr"),t.YNc(73,Mo,2,1,"button",34),t.qZA(),t.qZA(),t._UZ(74,"br"),t.TgZ(75,"mat-card"),t.TgZ(76,"strong"),t._uU(77,"Regions "),t.qZA(),t._uU(78,"\u{1f310}"),t._UZ(79,"br"),t._UZ(80,"br"),t.TgZ(81,"form",7),t.ynx(82,35),t.YNc(83,fa,9,5,"ng-container",36),t.BQk(),t.TgZ(84,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRegion()}),t._uU(85," Add Region "),t.qZA(),t.YNc(86,ga,2,1,"button",38),t.qZA(),t.qZA(),t._UZ(87,"br"),t.TgZ(88,"mat-card"),t.TgZ(89,"strong"),t._uU(90,"Shout Outs"),t.qZA(),t._UZ(91,"br"),t._UZ(92,"br"),t.TgZ(93,"form",7),t.ynx(94,39),t.YNc(95,ls,8,1,"ng-container",36),t.BQk(),t.TgZ(96,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().addShoutout()}),t._uU(97," Add Shout Out "),t.qZA(),t.YNc(98,Eo,2,1,"button",38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(99,"div",40),t.TgZ(100,"mat-card"),t.TgZ(101,"strong"),t._uU(102,"PDS Attributes"),t.qZA(),t._UZ(103,"br"),t._UZ(104,"br"),t.YNc(105,_a,3,1,"div",0),t.YNc(106,us,3,0,"div",0),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(107,"mat-tab",41),t.TgZ(108,"div",42),t.TgZ(109,"mat-card",43),t.TgZ(110,"form"),t.TgZ(111,"div",44),t.TgZ(112,"div",45),t.TgZ(113,"section",46),t.TgZ(114,"ul"),t.YNc(115,p,8,6,"li",47),t.ALo(116,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",45),t.TgZ(118,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(119,"Save Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(120,"mat-tab",49),t.TgZ(121,"div",50),t.TgZ(122,"mat-card",43),t.TgZ(123,"form",7),t.ynx(124,51),t.YNc(125,C,10,1,"ng-container",36),t.BQk(),t.TgZ(126,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(127,"mat-icon"),t._uU(128,"add_circle_outline"),t.qZA(),t._uU(129," Add Attribute "),t.qZA(),t.YNc(130,U,2,2,"button",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(131,"mat-tab",53),t.TgZ(132,"mat-card",43),t.TgZ(133,"form",7),t.TgZ(134,"div",42),t.TgZ(135,"div",44),t.TgZ(136,"div",45),t.TgZ(137,"mat-form-field",54),t.TgZ(138,"mat-label"),t._uU(139,"Choose Packaging Type:"),t.qZA(),t.TgZ(140,"mat-select",55),t.YNc(141,W,2,2,"mat-option",18),t.ALo(142,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(143,"mat-form-field",54),t.TgZ(144,"mat-label"),t._uU(145,"Weight (KG)"),t.qZA(),t._UZ(146,"input",56),t.TgZ(147,"mat-icon",57),t._uU(148,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(149,"mat-form-field",54),t.TgZ(150,"mat-label"),t._uU(151,"Dimensions(cm): Length"),t.qZA(),t._UZ(152,"input",58),t.TgZ(153,"mat-icon",57),t._uU(154,"design_services"),t.qZA(),t.qZA(),t.TgZ(155,"mat-form-field",54),t.TgZ(156,"mat-label"),t._uU(157,"Dimensions(cm): Width"),t.qZA(),t._UZ(158,"input",59),t.TgZ(159,"mat-icon",57),t._uU(160,"design_services"),t.qZA(),t.qZA(),t.TgZ(161,"mat-form-field",54),t.TgZ(162,"mat-label"),t._uU(163,"Dimensions(cm): Height"),t.qZA(),t._UZ(164,"input",60),t.TgZ(165,"mat-icon",57),t._uU(166,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(167,"div",45),t.TgZ(168,"div",61),t.YNc(169,at,2,1,"button",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(170,"mat-tab",62),t.TgZ(171,"div",42),t.TgZ(172,"div",9),t.TgZ(173,"div",10),t.TgZ(174,"mat-card",43),t.YNc(175,Ge,25,13,"div",0),t.YNc(176,ii,5,0,"div",63),t.qZA(),t.qZA(),t.TgZ(177,"div",40),t.TgZ(178,"mat-card",43),t.TgZ(179,"table",64),t.TgZ(180,"thead"),t.TgZ(181,"tr",65),t.TgZ(182,"th"),t._uU(183,"Document"),t.qZA(),t.TgZ(184,"th"),t._uU(185,"Uploaded"),t.qZA(),t.TgZ(186,"th"),t._uU(187,"Expiry Date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(188,"tbody"),t.YNc(189,Ni,10,8,"tr",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(190,"mat-tab",66),t.TgZ(191,"div",42),t.TgZ(192,"div",9),t.TgZ(193,"div",10),t.TgZ(194,"mat-card",43),t.YNc(195,mr,21,12,"div",0),t.YNc(196,hs,5,0,"div",63),t.qZA(),t.qZA(),t.TgZ(197,"div",40),t.TgZ(198,"mat-card",43),t.TgZ(199,"table",64),t.TgZ(200,"thead"),t.TgZ(201,"tr",65),t.TgZ(202,"th"),t._uU(203,"Document"),t.qZA(),t.TgZ(204,"th"),t._uU(205,"Uploaded"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(206,"tbody"),t.YNc(207,ya,6,4,"tr",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(208,"mat-tab",67),t.TgZ(209,"div",42),t.TgZ(210,"mat-tab-group"),t.TgZ(211,"mat-tab",68),t.TgZ(212,"div",9),t.TgZ(213,"div",69),t.YNc(214,Ro,2,1,"div",70),t.qZA(),t.TgZ(215,"div",71),t.TgZ(216,"div",9),t.YNc(217,Uo,12,7,"div",72),t.qZA(),t.qZA(),t.qZA(),t.TgZ(218,"mat-card"),t.YNc(219,rc,11,4,"div",73),t.YNc(220,Ta,7,0,"div",73),t.qZA(),t.qZA(),t.TgZ(221,"mat-tab",74),t._UZ(222,"div",42),t.qZA(),t.TgZ(223,"mat-tab",75),t.TgZ(224,"div",42),t.TgZ(225,"div",9),t.YNc(226,Un,10,6,"div",72),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(227,"div",76),t.TgZ(228,"div",77),t.TgZ(229,"mat-card"),t.TgZ(230,"mat-card-content"),t.TgZ(231,"mat-grid-list",78),t.TgZ(232,"mat-grid-tile",79),t._UZ(233,"mat-progress-spinner",80),t.qZA(),t.qZA(),t._UZ(234,"br"),t.TgZ(235,"h3",81),t._uU(236),t.qZA(),t._UZ(237,"hr"),t.TgZ(238,"mat-list",82),t.TgZ(239,"mat-list-item",83),t.TgZ(240,"mat-icon"),t._uU(241,"check_circle"),t.qZA(),t._uU(242," General Details "),t.qZA(),t.TgZ(243,"mat-list-item",83),t.YNc(244,ka,2,0,"mat-icon",0),t.YNc(245,oc,2,0,"mat-icon",0),t._uU(246," Categories "),t.qZA(),t.TgZ(247,"mat-list-item",83),t.YNc(248,ac,2,0,"mat-icon",0),t.YNc(249,Ir,2,0,"mat-icon",0),t._uU(250," Attributes "),t.qZA(),t.TgZ(251,"mat-list-item",83),t.YNc(252,Tn,2,0,"mat-icon",0),t.YNc(253,jn,2,0,"mat-icon",0),t._uU(254," Packaging "),t.YNc(255,Or,2,0,"span",0),t.qZA(),t.TgZ(256,"mat-list-item",83),t.YNc(257,ur,2,0,"mat-icon",0),t.YNc(258,_r,2,0,"mat-icon",0),t._uU(259),t.qZA(),t.TgZ(260,"mat-list-item",83),t.YNc(261,Ho,2,0,"mat-icon",0),t.YNc(262,Hn,2,0,"mat-icon",0),t._uU(263),t.qZA(),t.qZA(),t.qZA(),t.TgZ(264,"div",81),t.TgZ(265,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw().SavePDF()}),t._uU(266,"Export PDF"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(4),t.hij(" / Product Details / ",e.productName," "),t.xp6(6),t.Q6J("formGroup",e.productForm),t.xp6(24),t.Q6J("ngForOf",t.xi3(35,47,e.typesList,"Brand")),t.xp6(39),t.Q6J("ngIf",e.editRole),t.xp6(8),t.Q6J("formGroup",e.regionsForm),t.xp6(2),t.Q6J("ngForOf",e.regions.controls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(7),t.Q6J("formGroup",e.shoutoutsForm),t.xp6(2),t.Q6J("ngForOf",e.shoutouts.controls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(7),t.Q6J("ngIf",!e.loadingPdsAttributes),t.xp6(1),t.Q6J("ngIf",e.loadingPdsAttributes),t.xp6(9),t.Q6J("ngForOf",t.xi3(116,50,e.categoriesList,"0")),t.xp6(8),t.Q6J("formGroup",e.productFormAttributes),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls),t.xp6(5),t.Q6J("ngIf",e.editRole),t.xp6(3),t.Q6J("formGroup",e.productFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(142,53,e.typesList,"Packaging")),t.xp6(28),t.Q6J("ngIf",e.editRole),t.xp6(6),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(13),t.Q6J("ngForOf",e.documentFiles),t.xp6(6),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(11),t.Q6J("ngForOf",e.documentFiles),t.xp6(7),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(3),t.Q6J("ngForOf",e.mediaFiles),t.xp6(2),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(6),t.Q6J("ngForOf",t.DdM(56,zo)),t.xp6(7),t.Q6J("color",e.progressPercentage()>50?"primary":"warn")("mode",e.progressMode)("value",e.progressPercentage()),t.xp6(3),t.hij("",e.progressPercentage(),"% Complete"),t.xp6(8),t.Q6J("ngIf",e.categoriesList.length<1),t.xp6(1),t.Q6J("ngIf",e.categoriesList.length>0),t.xp6(3),t.Q6J("ngIf",e.attributes.length<1),t.xp6(1),t.Q6J("ngIf",e.attributes.length>0),t.xp6(3),t.Q6J("ngIf",e.packagingCount<1),t.xp6(1),t.Q6J("ngIf",e.packagingCount>0),t.xp6(2),t.Q6J("ngIf",e.packagingLoading),t.xp6(2),t.Q6J("ngIf",e.documentFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.documentFiles.length>0),t.xp6(1),t.hij(" Documents (",e.documentFiles.length,") "),t.xp6(2),t.Q6J("ngIf",e.mediaFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(1),t.hij(" Images (",e.mediaFiles.length,") ")}}function Mr(s,l){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you beleave this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",136),t._uU(9,"Report Issue"),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function zn(s,l){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,Mr,10,1,"div",0),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}const Jo=[{path:"",component:Lr},{path:":sku",component:(()=>{class s{constructor(e,r,m,x,F,nt,Jt,ue,Pe,_i){this.navbar=e,this.treeNav=r,this.api=m,this._snackBar=x,this.route=F,this.router=nt,this.formBuilder=Jt,this.info=ue,this.dialog=Pe,this.http=_i,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.documentFiles=[],this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save Changes",this.disableSaveAttrBtn=!1,this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.categoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.requiredField=!1,this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllTypes(),this.getAllCategories(),this.productForm=this.formBuilder.group({sku:["0",Qt.kI.required],name:["0",Qt.kI.required],brand_type_id:["0",Qt.kI.required],description:["0",Qt.kI.required],short_description:["0",Qt.kI.required],parent_id:["0"],is_eol:[0,Qt.kI.required],is_in_development:[0,Qt.kI.required],is_active:[0,Qt.kI.required],verified:[0,Qt.kI.required],family_grouping:[""]}),this.productFormPackaging=this.formBuilder.group({weight:[""],length:[""],width:[""],height:[""],packaging_type_id:["",Qt.kI.required],product_id:[""]}),this.productFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])}),this.shoutoutsForm=this.formBuilder.group({shoutouts:this.formBuilder.array([])}),this.regionsForm=this.formBuilder.group({regions:this.formBuilder.array([])}),("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"])}get attributes(){return this.productFormAttributes.get("attributes")}get shoutouts(){return this.shoutoutsForm.get("shoutouts")}get regions(){return this.regionsForm.get("regions")}getAllCategories(){this.categoriesLoader=!0,this.api.GET("categories").subscribe({next:e=>{console.log("Categories List: ",e),this.categoriesLoader=!1,this.categoriesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getDetails(e){this.productsLoader=!0,this.api.GET(`products/${e}`).subscribe({next:r=>{if(this.productsLoader=!1,r.length>0){this.detailProgress++,this.product=r[0],this.productName=this.product.name,this.id=this.product.id,this.media(),this.documents(),this.getProductCategories(),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.productForm=this.formBuilder.group({sku:[{value:this.product.sku,disabled:!0},Qt.kI.required],name:[this.product.name,Qt.kI.required],brand_type_id:[this.product.brand_type_id,Qt.kI.required],description:[this.product.description,Qt.kI.required],short_description:[this.product.short_description,Qt.kI.required],is_in_development:[this.product.is_in_development],is_active:[this.product.is_active],is_eol:[this.product.is_eol],verified:[this.product.verified],family_grouping:[this.product.family_grouping]});const m=JSON.parse(this.product.shoutout);for(let F=0;F<m.length;F++){const nt=this.formBuilder.group({shoutoutField:[m[F],Qt.kI.required]});this.shoutouts.push(nt)}let x=[];if(x=JSON.parse(this.product.attributes),null!==x)for(let F=0;F<x.length;F++){const Jt=Object.keys(x[F])[0],Pe=this.formBuilder.group({attrName:[Jt,Qt.kI.required],attrValue:[x[F][Jt],Qt.kI.required]});this.attributes.push(Pe)}}},error:r=>{this.openSnackBar("Failed to connect to the server: "+r.message,"Okay"),this.productsLoader=!1}})}getProductCategories(){this.api.GET(`product-categories/search/${this.id}`).subscribe({next:e=>{if(this.productCategories=e,e.length>0){this.detailProgress++;for(let r=0;r<e.length;r++){let m=JSON.parse(e[r].attributes);if(0!=e[r].parent){let x=this.categoriesList.find(nt=>nt.id==e[r].parent),F=[];F=JSON.parse(null==x?void 0:x.attributes);for(let nt=0;nt<F.length;nt++){const Jt=this.formBuilder.group({attrName:[F[nt],Qt.kI.required],attrValue:["0",Qt.kI.required]});this.attributes.push(Jt),this.attrCount=this.attrCount+1}}else console.log("here..");if(null!==m)for(let x=0;x<m.length;x++)if(-1===this.attributes.value.findIndex(nt=>nt.attrName===m[x])){const nt=this.formBuilder.group({attrName:[m[x],Qt.kI.required],attrValue:["0",Qt.kI.required]});this.attributes.push(nt),this.attrCount=this.attrCount+1}}}},error:e=>{console.log(e)}})}getAllTypes(){this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.typesList=e},error:e=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.api.GET(`packaging/search/${e}`).subscribe({next:r=>{r.length>0&&(this.detailProgress++,this.packaging=r,this.packagingCount=this.packaging.length,this.productFormPackaging=this.formBuilder.group({length:[r[0].height],width:[r[0].width],height:[r[0].height],weight:[r[0].weight],packaging_type_id:[r[0].packaging_type_id],product_id:[this.id]})),this.packagingLoading=!1},error:r=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+r.message,"Okay")}})}onChange(e){this.files=e.target.files;for(let r=0;r<this.files.length;r++)this.files[r].size>2e6&&this.messages.push("\u{1f6ab} "+this.files[r].name+" is too large!")}onUpload(e,r){if(this.loading=!this.loading,console.log("This is a function that uplaods files"),this.files.length>0)for(let m=0;m<this.files.length;m++)this.api.upload("upload-media",{file:this.files[m],name:this.files[m].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:r,permissions:this.filePermissions}).subscribe(x=>{if("object"==typeof x&&(this.loading=!1),x.type===Wr.dt.UploadProgress)this.uploadProgress=Math.round(100*x.loaded/x.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(x instanceof Wr.Zn){const F=this.files[m].name+" ploaded the file successfully.";this.info.activity("Added new product",this.product.id),this.messages.push(F)}this.media()},x=>{this.uploadProgress=0,this.messages.push(this.files[m].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}uploadDocument(e,r){if(console.log("exp: ",this.expiry_date),this.loading=!this.loading,this.files.length>0)for(let m=0;m<this.files.length;m++)this.api.upload("upload-document",{file:this.files[m],name:this.files[m].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:r,permissions:this.filePermissions,expiry_date:this.expiry_date}).subscribe(x=>{if("object"==typeof x&&(this.loading=!1),x.type===Wr.dt.UploadProgress)this.uploadProgress=Math.round(100*x.loaded/x.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(x instanceof Wr.Zn){const F=this.files[m].name+" ploaded the file successfully.";this.info.activity("Added new product",this.product.id),this.messages.push(F)}this.documents()},x=>{this.uploadProgress=0,this.messages.push(this.files[m].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}openSnackBar(e,r){this._snackBar.open(e,r,{duration:4e3})}media(){this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e,console.log("Saved files: ",e),this.getProductImageOrder())},error:e=>{console.log(e)}})}documents(){this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.id}`).subscribe({next:e=>{if(e.length>0){const r=JSON.parse(e[0].order_list);let m=[];for(let x=0;x<r.length;x++){const F=r[x],nt=this.mediaFiles.find(Jt=>Jt.id==F);m.push(nt)}this.mediaFiles=m}this.mediaFiles=this.mediaFiles},error:e=>{console.log(e)}})}getProductRegions(e){console.log("getting regions"),this.api.GET(`product-regions/${e}`).subscribe({next:r=>{if(console.log(r),this.productRegionList=r,null!==r)for(let m=0;m<r.length;m++){const x=this.formBuilder.group({regionField:[r[m].region_id,Qt.kI.required]});this.regions.push(x)}},error:r=>{console.log(r)}})}updateFileType(e,r){this.api.POST(`product-files/update-fileType/${e}`,{type_id:r}).subscribe({next:m=>{this.info.activity("Updated file type",this.product.id),this.media(),this.documents()},error:m=>{console.log(m)}})}setFocusType(e){this.focusType=e.target.value}updateProduct(){this.api.POST(`products/update/${this.id}`,this.productForm.value).subscribe({next:e=>{this.progressPercentage(),this.info.activity("Updated product",this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updatePackaging(){this.productFormPackaging.patchValue({product_id:this.id}),this.api.POST(`packaging/update/${this.id}`,this.productFormPackaging.value).subscribe({next:e=>{this.info.activity("Updated product packaging details",this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.getPackaging(this.id)},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updateShoutout(){const e=this.shoutoutsForm.value.shoutouts,r=e.length;let m=[];console.log(e),console.log(r);for(let x=0;x<r;x++)m.push(this.shoutoutsForm.value.shoutouts[x].shoutoutField);this.api.POST(`products/update-shoutout/${this.id}`,m).subscribe({next:x=>{console.log(x),this.info.activity("Updated product shoutout",this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:x=>{this.openSnackBar("\u{1f622} "+x.message,"Okay")}})}updateRegion(){for(let e=0;e<this.regionsForm.value.regions.length;e++)this.api.POST("product-regions",{product_id:this.id,region_id:this.regionsForm.value.regions[e].regionField}).subscribe({next:r=>{console.log(r),this.getProductRegions(this.id),this.openSnackBar("Region Updated \u{1f603}","Okay")},error:r=>{console.log(r)}})}filePath(e){return e.substring(7)}returnTypeName(e){return this.typesList[e-=1].name}returnTypeGroup(e){return this.typesList[e-=1].grouping}drop(e){Bs(this.mediaFiles,e.previousIndex,e.currentIndex);let r=[];for(let x=0;x<this.mediaFiles.length;x++)r.push(this.mediaFiles[x].id);const m=JSON.stringify(r);this.api.POST("image-order/",{product_id:this.id,order_list:m}).subscribe({next:x=>{console.log(x)},error:x=>{console.log(x)}})}updateAttributes(){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let e=this.productFormAttributes.getRawValue(),r=[];for(let x=0;x<e.attributes.length;x++)this.attrKey=r[e.attributes[x].attrName],r[e.attributes[x].attrName]=e.attributes[x].attrValue,this.api.POST(`products/update-attributes/${this.id}`,[{key:e.attributes[x].attrValue}]).subscribe({next:F=>{console.log(F),this.saveAttrBtnText="Save Changes",this.openSnackBar("Attributes Saved","Okay"),this.info.activity("Updated product attributes",this.product.id)},error:F=>{this.saveAttrBtnText="Failed, try again.",this.openSnackBar(F.message,"Okay")}})}deleteFile(e){this.api.GET(`delete-file/${e}`).subscribe({next:r=>{r.length>0&&console.log("delete: ",r)},error:r=>{console.log(r)}})}hideFile(e){this.api.GET(`hide-file/${e}`).subscribe({next:r=>{r.length>0&&(console.log("delete: ",r),console.log("This is for hiding the file or image from the view on the ui"))},error:r=>{console.log(r)}})}progressPercentage(){return Math.round(((this.categoriesList.length>0?1:0)+(this.attributes.length>0?1:0)+(this.packagingCount>0?1:0)+(this.documentFiles.length>0?1:0)+(this.mediaFiles.length>0?1:0)+(this.productForm.value.brand_type_id?1:0)+(this.product.is_in_development>0||this.product.is_eol>0||this.product.is_active>0?1:0)+(this.product.verified?1:0))/8*100)}addNewAttribute(){const e=this.formBuilder.group({attrName:[],attrValue:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}addShoutout(){const e=this.formBuilder.group({shoutoutField:[]});console.log("Is shoutouts an array? ",Array.isArray(this.shoutouts)),this.shoutouts.push(e)}removeShoutout(e){this.shoutouts.removeAt(e),this.shoutoutsForm.markAsDirty()}addRegion(){const e=this.formBuilder.group({regionField:[]});this.regions.push(e)}removeRegion(e){this.regions.removeAt(e),this.regionsForm.markAsDirty()}checkCategories(e){this.catFromProductTbl.find(m=>m.name==e);for(let m=0;m<this.productCategories.length;m++)if(e==this.productCategories[m].name)return!0;return!1}checkedItem(e){const r=this.selectedCategories.indexOf(e);r<0?this.selectedCategories.push(e):this.selectedCategories.splice(r,1),console.log(this.selectedCategories)}saveCategories(){const e=this.selectedCategories;if(e.length>0)for(let r=0;r<e.length;r++)this.api.POST("product-categories",{product_id:this.id,category_id:e[r]}).subscribe({next:m=>{this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:m=>{this.openSnackBar("\u{1f622} "+m.message,"Okay")}});this.openSnackBar("Please choose categories","Okay")}setPermission(e){return console.log(e),!0}getPdsAttributes(e){this.api.GET(`pds-attributes/${e}`).subscribe({next:r=>{console.log("PDS Attributes",r),this.pdsAttributes=r,this.loadingPdsAttributes=!1},error:r=>{console.log(r),this.loadingPdsAttributes=!1}})}SavePDF(){console.log(this.productForm.value);let e=[];1==this.productForm.value.is_in_development&&e.push("Active "),1==this.productForm.value.is_eol&&e.push(" End of Life "),1==this.productForm.value.is_in_development&&e.push(" In Development ");const r=new Hs.default;r.text(this.productName,10,10),zs()(r,{body:[["Product Code",":",this.sku],["Short Description",":",this.productForm.value.short_description],["Description",":",this.productForm.value.description],["Status",":",e],["Categories",":",e]]}),r.save(this.sku+".pdf")}imageserver(e,r){return`https://images.smdtechnologies.co.za/api/store/${e}/${r}`}downloadURI(e,r,m,x){this.api.download("download-file-api",e,this.product.id,this.product.sku,x.type_id,x.path.replace("public/","storage/"),r).subscribe(nt=>{const Jt=new Blob([nt],{type:"application/octet-stream"});ca.saveAs(Jt,m)},nt=>{console.log(nt)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(ti.I),t.Y36(on.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Ai.gz),t.Y36(Ai.F0),t.Y36(Qt.qu),t.Y36(se.C),t.Y36(no),t.Y36(Wr.eN))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-single-product"]],viewQuery:function(e,r){if(1&e&&t.Gf(pa,5),2&e){let m;t.iGM(m=t.CRH())&&(r.content=m.first)}},decls:3,vars:3,consts:[[4,"ngIf"],["color","accent","mode","indeterminate"],["routerLink","/"],["id","pdfContent",1,"row"],[1,"col-md-10"],[2,"background","#EFEFEF"],["label","Product Details"],[3,"formGroup"],[1,"mt-5",2,"overflow","hidden !important"],[1,"row"],[1,"col-md-4"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Enter Product SKU"],["sku",""],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","family_grouping","placeholder","Enter Product Family Grouping"],["family_grouping",""],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[2,"padding-left","1rem"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],["formControlName","verified"],["verified",""],["mat-raised-button","","type","submit","color","primary",3,"disabled","click",4,"ngIf"],["formArrayName","regions"],[4,"ngFor","ngForOf"],["mat-raised-button","","type","button",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem;",3,"disabled","click",4,"ngIf"],["formArrayName","shoutouts"],[1,"col-md-8"],["label","Categories"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[2,"background-color","rgb(255, 255, 255)"],[1,"row","form-border"],[1,"col-md-6"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"click"],["label","Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem",3,"click"],["label","Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],[1,"m-3"],["label","Files"],["class","upload-role",4,"ngIf"],[1,"table"],[2,"list-style","none"],["label","Briefing Files"],["label","Media"],["label","Images"],[1,"col-md-3"],["cdkDropList","","class","file-list",3,"cdkDropListDropped",4,"ngIf"],[1,"col-md-9"],["class","col-md-3",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["label","Videos"],["label","Image Server"],[1,"col-md-2"],[1,"text-muted"],["cols","3","rowHeight","100px"],["colspan","3"],[3,"color","mode","value"],[2,"text-align","center"],["role","list"],["role","listitem"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],["mat-raised-button","","type","submit","color","primary",3,"disabled","click"],[3,"formGroupName"],["matInput","","formControlName","regionField"],["regionField",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"],["matInput","","id","shoutoutField","type","text","formControlName","shoutoutField","placeholder","Enter Shoutout","required",""],["matSuffix","",3,"click"],[1,"categories-list"],[3,"checked","click"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],[1,"form-control",3,"change"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","file","multiple","",1,"form-control",3,"change"],[2,"background-color","rgb(247, 247, 247)"],["permissions",""],["style","height: 25px;",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[2,"height","25px"],[1,"container"],[1,"message"],[1,"upload-role"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box",4,"ngFor","ngForOf"],[1,"file-box"],["cdkDrag","",1,"row"],["color","accent","selected","",4,"ngIf"],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge",4,"ngIf"],[1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["color","accent","selected",""],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],[3,"value","onSelectionChange"],[2,"max-width","280px","margin-bottom","2rem","background-color","rgb(254, 254, 254)"],[2,"height","120px","width","130px","overflow","hidden"],["mat-card-image","","alt","Photo",3,"src"],["aria-label","Fish selection"],[3,"click",4,"ngFor","ngForOf"],["class","img-action",4,"ngIf"],[3,"click"],[1,"img-action"],["mat-mini-fab","","color","basic",3,"click"],[1,"col-md-4","form-border"],[1,"col-md-12"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","alt","Photo",3,"src"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,r){1&e&&(t.YNc(0,so,4,1,"div",0),t.YNc(1,Pa,267,57,"div",0),t.YNc(2,zn,2,1,"div",0)),2&e&&(t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("ngIf",r.product),t.xp6(1),t.Q6J("ngIf",!r.product))},directives:[Te.O5,$n.pW,Ai.yS,xe.a8,Ot.SP,Ot.uX,Qt._Y,Qt.JL,Qt.sg,gt.KE,gt.hX,Ht.Nt,Qt.Fj,Qt.JJ,Qt.u,Tt.gD,Te.sg,tt.ey,Mt,Bt.lW,Qt.CE,Qt.x0,Qt.Q7,_t.Hw,gt.R9,Qt.F,et.Il,et.DX,Qt.YN,Qt.Kr,Qt.On,pn.Ub,pn.vS,y,At,lr,Do,gr.k,xe.dk,xe.$j,xe.G2,xe.dn,xe.hq,Cn.Ou,pn.i$,pn.Tg],pipes:[z,st,Te.uU],styles:[".image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}"]}),s})()},{path:"brand/:brand",component:Ae},{path:"add/new",component:oi},{path:"categories/manage",component:Me},{path:"products/export",component:$l},{path:"products/export-csv",component:Cu}];let lo=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Ai.Bz.forChild(Jo)],Ai.Bz]}),s})(),mi=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})(),fc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Te.ez,tt.BQ,mi,Rn.eL]]}),s})();var dl=re(2181);re(4968),re(1005);const La={provide:new t.OlP("mat-autocomplete-scroll-strategy"),deps:[dn.aV],useFactory:function _c(s){return()=>s.scrollStrategies.reposition()}};let pu=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[La],imports:[[dn.U8,tt.Ng,tt.BQ,Te.ez],Pr.ZD,tt.Ng,tt.BQ]}),s})();var Rr=re(4594),Vn=re(7238);let vr=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Te.ez,lo,tc,gt.lN,Kt.p0,Ze.TU,_t.Ps,pn.ie,Ht.c,gt.lN,Qt.u5,Qt.UX,Bt.ot,Ot.Nh,Tt.LD,xe.QW,Ks,Rt.ZX,fc,Cn.Cq,$n.Cv,Oe.JX,yr.JB,dl.Tx,j,pu,Rr.g0,Wt,et.N6,gr.g,j,Vn.AV]]}),s})()},4327:function(Da,mo){var Ai;void 0!==(Ai=function(){"use strict";function t(Ot,Lt,_t){var gt=new XMLHttpRequest;gt.open("GET",Ot),gt.responseType="blob",gt.onload=function(){xe(gt.response,Lt,_t)},gt.onerror=function(){console.error("could not download file")},gt.send()}function ti(Ot){var Lt=new XMLHttpRequest;Lt.open("HEAD",Ot,!1);try{Lt.send()}catch(_t){}return 200<=Lt.status&&299>=Lt.status}function Ce(Ot){try{Ot.dispatchEvent(new MouseEvent("click"))}catch(_t){var Lt=document.createEvent("MouseEvents");Lt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ot.dispatchEvent(Lt)}}var Rt="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,se=Rt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),xe=Rt.saveAs||("object"!=typeof window||window!==Rt?function(){}:"download"in HTMLAnchorElement.prototype&&!se?function(Ot,Lt,_t){var gt=Rt.URL||Rt.webkitURL,Ht=document.createElement("a");Ht.download=Lt=Lt||Ot.name||"download",Ht.rel="noopener","string"==typeof Ot?(Ht.href=Ot,Ht.origin===location.origin?Ce(Ht):ti(Ht.href)?t(Ot,Lt,_t):Ce(Ht,Ht.target="_blank")):(Ht.href=gt.createObjectURL(Ot),setTimeout(function(){gt.revokeObjectURL(Ht.href)},4e4),setTimeout(function(){Ce(Ht)},0))}:"msSaveOrOpenBlob"in navigator?function(Ot,Lt,_t){if(Lt=Lt||Ot.name||"download","string"!=typeof Ot)navigator.msSaveOrOpenBlob(function Qt(Ot,Lt){return void 0===Lt?Lt={autoBom:!1}:"object"!=typeof Lt&&(console.warn("Deprecated: Expected third argument to be a object"),Lt={autoBom:!Lt}),Lt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ot.type)?new Blob(["\ufeff",Ot],{type:Ot.type}):Ot}(Ot,_t),Lt);else if(ti(Ot))t(Ot,Lt,_t);else{var gt=document.createElement("a");gt.href=Ot,gt.target="_blank",setTimeout(function(){Ce(gt)})}}:function(Ot,Lt,_t,gt){if((gt=gt||open("","_blank"))&&(gt.document.title=gt.document.body.innerText="downloading..."),"string"==typeof Ot)return t(Ot,Lt,_t);var Ht="application/octet-stream"===Ot.type,Bt=/constructor/i.test(Rt.HTMLElement)||Rt.safari,Tt=/CriOS\/[\d]+/.test(navigator.userAgent);if((Tt||Ht&&Bt||se)&&"undefined"!=typeof FileReader){var tt=new FileReader;tt.onloadend=function(){var ct=tt.result;ct=Tt?ct:ct.replace(/^data:[^;]*;/,"data:attachment/file;"),gt?gt.location.href=ct:location=ct,gt=null},tt.readAsDataURL(Ot)}else{var et=Rt.URL||Rt.webkitURL,st=et.createObjectURL(Ot);gt?gt.location=st:location.href=st,gt=null,setTimeout(function(){et.revokeObjectURL(st)},4e4)}});Rt.saveAs=xe.saveAs=xe,Da.exports=xe}.apply(mo,[]))&&(Da.exports=Ai)},2983:function(Da,mo,re){var Te;void 0!==this||window,Da.exports=(Te=function(){try{return re(3583)}catch(Rt){}}(),function(){"use strict";var Ai={662:function(Ce,Rt){var Lt,se=this&&this.__extends||(Lt=function(_t,gt){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ht,Bt){Ht.__proto__=Bt}||function(Ht,Bt){for(var Tt in Bt)Object.prototype.hasOwnProperty.call(Bt,Tt)&&(Ht[Tt]=Bt[Tt])})(_t,gt)},function(_t,gt){if("function"!=typeof gt&&null!==gt)throw new TypeError("Class extends value "+String(gt)+" is not a constructor or null");function Ht(){this.constructor=_t}Lt(_t,gt),_t.prototype=null===gt?Object.create(gt):(Ht.prototype=gt.prototype,new Ht)});Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.CellHookData=Rt.HookData=void 0;var xe=function Lt(_t,gt,Ht){this.table=gt,this.pageNumber=gt.pageNumber,this.pageCount=this.pageNumber,this.settings=gt.settings,this.cursor=Ht,this.doc=_t.getDocument()};Rt.HookData=xe;var Ot=function(Lt){function _t(gt,Ht,Bt,Tt,tt,et){var st=Lt.call(this,gt,Ht,et)||this;return st.cell=Bt,st.row=Tt,st.column=tt,st.section=Tt.section,st}return se(_t,Lt),_t}(xe);Rt.CellHookData=Ot},790:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0});var xe=se(148),Ot=se(938),Lt=se(323),_t=se(587),gt=se(49),Ht=se(858);Rt.default=function Bt(Tt){Tt.API.autoTable=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var st;1===tt.length?st=tt[0]:(console.error("Use of deprecated autoTable initiation"),(st=tt[2]||{}).columns=tt[0],st.body=tt[1]);var ct=(0,_t.parseInput)(this,st),vt=(0,Ht.createTable)(this,ct);return(0,gt.drawTable)(this,vt),this},Tt.API.lastAutoTable=!1,Tt.API.previousAutoTable=!1,Tt.API.autoTable.previous=!1,Tt.API.autoTableText=function(tt,et,st,ct){(0,Ot.default)(tt,et,st,ct,this)},Tt.API.autoTableSetDefaults=function(tt){return Lt.DocHandler.setDefaults(tt,this),this},Tt.autoTableSetDefaults=function(tt,et){Lt.DocHandler.setDefaults(tt,et)},Tt.API.autoTableHtmlToJson=function(tt,et){if(void 0===et&&(et=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var st=new Lt.DocHandler(this),ct=(0,xe.parseHtml)(st,tt,window,et,!1),bt=ct.body;return{columns:ct.head[0].map(function(Zt){return Zt.content}),rows:bt,data:bt}},Tt.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var tt=this.lastAutoTable;return tt&&tt.finalY?tt.finalY:0},Tt.API.autoTableAddPageContent=function(tt){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),Tt.API.autoTable.globalDefaults||(Tt.API.autoTable.globalDefaults={}),Tt.API.autoTable.globalDefaults.addPageContent=tt,this},Tt.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},938:function(Ce,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function se(xe,Ot,Lt,_t,gt){_t=_t||{};var Bt=gt.internal.scaleFactor,Tt=gt.internal.getFontSize()/Bt,et="",st=1;if(("middle"===_t.valign||"bottom"===_t.valign||"center"===_t.halign||"right"===_t.halign)&&(st=(et="string"==typeof xe?xe.split(/\r\n|\r|\n/g):xe).length||1),Lt+=Tt*(2-1.15),"middle"===_t.valign?Lt-=st/2*Tt*1.15:"bottom"===_t.valign&&(Lt-=st*Tt*1.15),"center"===_t.halign||"right"===_t.halign){var ct=Tt;if("center"===_t.halign&&(ct*=.5),et&&st>=1){for(var vt=0;vt<et.length;vt++)gt.text(et[vt],Ot-gt.getStringUnitWidth(et[vt])*ct,Lt),Lt+=1.15*Tt;return gt}Ot-=gt.getStringUnitWidth(xe)*ct}return"justify"===_t.halign?gt.text(xe,Ot,Lt,{maxWidth:_t.maxWidth||100,align:"justify"}):gt.text(xe,Ot,Lt),gt}},200:function(Ce,Rt){function Ot(_t,gt){var Ht=_t>0,Bt=gt||0===gt;return Ht&&Bt?"DF":Ht?"S":Bt?"F":null}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseSpacing=Rt.getFillStyle=Rt.addTableBorder=Rt.getStringWidth=void 0,Rt.getStringWidth=function se(_t,gt,Ht){return Ht.applyStyles(gt,!0),(Array.isArray(_t)?_t:[_t]).map(function(tt){return Ht.getTextWidth(tt)}).reduce(function(tt,et){return Math.max(tt,et)},0)},Rt.addTableBorder=function xe(_t,gt,Ht,Bt){var Tt=gt.settings.tableLineWidth;_t.applyStyles({lineWidth:Tt,lineColor:gt.settings.tableLineColor});var et=Ot(Tt,!1);et&&_t.rect(Ht.x,Ht.y,gt.getWidth(_t.pageSize().width),Bt.y-Ht.y,et)},Rt.getFillStyle=Ot,Rt.parseSpacing=function Lt(_t,gt){var Ht,Bt,Tt,tt;if(_t=_t||gt,Array.isArray(_t)){if(_t.length>=4)return{top:_t[0],right:_t[1],bottom:_t[2],left:_t[3]};if(3===_t.length)return{top:_t[0],right:_t[1],bottom:_t[2],left:_t[1]};if(2===_t.length)return{top:_t[0],right:_t[1],bottom:_t[0],left:_t[1]};_t=1===_t.length?_t[0]:gt}return"object"==typeof _t?("number"==typeof _t.vertical&&(_t.top=_t.vertical,_t.bottom=_t.vertical),"number"==typeof _t.horizontal&&(_t.right=_t.horizontal,_t.left=_t.horizontal),{left:null!==(Ht=_t.left)&&void 0!==Ht?Ht:gt,top:null!==(Bt=_t.top)&&void 0!==Bt?Bt:gt,right:null!==(Tt=_t.right)&&void 0!==Tt?Tt:gt,bottom:null!==(tt=_t.bottom)&&void 0!==tt?tt:gt}):("number"!=typeof _t&&(_t=gt),{top:_t,right:_t,bottom:_t,left:_t})}},913:function(Ce,Rt){var _t,se=this&&this.__extends||(_t=function(gt,Ht){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,Tt){Bt.__proto__=Tt}||function(Bt,Tt){for(var tt in Tt)Object.prototype.hasOwnProperty.call(Tt,tt)&&(Bt[tt]=Tt[tt])})(gt,Ht)},function(gt,Ht){if("function"!=typeof Ht&&null!==Ht)throw new TypeError("Class extends value "+String(Ht)+" is not a constructor or null");function Bt(){this.constructor=gt}_t(gt,Ht),gt.prototype=null===Ht?Object.create(Ht):(Bt.prototype=Ht.prototype,new Bt)});Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getTheme=Rt.defaultStyles=Rt.HtmlRowInput=Rt.FONT_ROW_RATIO=void 0,Rt.FONT_ROW_RATIO=1.15;var xe=function(_t){function gt(Ht){var Bt=_t.call(this)||this;return Bt._element=Ht,Bt}return se(gt,_t),gt}(Array);Rt.HtmlRowInput=xe,Rt.defaultStyles=function Ot(_t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/_t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},Rt.getTheme=function Lt(_t){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[_t]}},259:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseCss=void 0;var xe=se(200);function _t(Bt,Tt){var tt=gt(Bt,Tt);if(!tt)return null;var et=tt.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!et||!Array.isArray(et))return null;var st=[parseInt(et[1]),parseInt(et[2]),parseInt(et[3])];return 0===parseInt(et[4])||isNaN(st[0])||isNaN(st[1])||isNaN(st[2])?null:st}function gt(Bt,Tt){var tt=Tt(Bt);return"rgba(0, 0, 0, 0)"===tt||"transparent"===tt||"initial"===tt||"inherit"===tt?null==Bt.parentElement?null:gt(Bt.parentElement,Tt):tt}Rt.parseCss=function Ot(Bt,Tt,tt,et,st){var ct={},vt=96/72,bt=_t(Tt,function(Ut){return st.getComputedStyle(Ut).backgroundColor});null!=bt&&(ct.fillColor=bt);var kt=_t(Tt,function(Ut){return st.getComputedStyle(Ut).color});null!=kt&&(ct.textColor=kt);var Zt=_t(Tt,function(Ut){return st.getComputedStyle(Ut).borderTopColor});null!=Zt&&(ct.lineColor=Zt);var zt=function Ht(Bt,Tt){var tt=[Bt.paddingTop,Bt.paddingRight,Bt.paddingBottom,Bt.paddingLeft],et=96/(72/Tt),st=(parseInt(Bt.lineHeight)-parseInt(Bt.fontSize))/Tt/2,ct=tt.map(function(bt){return parseInt(bt||"0")/et}),vt=(0,xe.parseSpacing)(ct,0);return st>vt.top&&(vt.top=st),st>vt.bottom&&(vt.bottom=st),vt}(et,tt);zt&&(ct.cellPadding=zt);var Xt=parseInt(et.borderTopWidth||"");(Xt=Xt/vt/tt)&&(ct.lineWidth=Xt);var te=["left","right","center","justify"];-1!==te.indexOf(et.textAlign)&&(ct.halign=et.textAlign),-1!==(te=["middle","bottom","top"]).indexOf(et.verticalAlign)&&(ct.valign=et.verticalAlign);var pt=parseInt(et.fontSize||"");isNaN(pt)||(ct.fontSize=pt/vt);var we=function Lt(Bt){var Tt="";return("bold"===Bt.fontWeight||"bolder"===Bt.fontWeight||parseInt(Bt.fontWeight)>=700)&&(Tt="bold"),("italic"===Bt.fontStyle||"oblique"===Bt.fontStyle)&&(Tt+="italic"),Tt}(et);we&&(ct.fontStyle=we);var Ie=(et.fontFamily||"").toLowerCase();return-1!==Bt.indexOf(Ie)&&(ct.font=Ie),ct}},323:function(Ce,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.DocHandler=void 0;var se={},xe=function(){function Ot(Lt){this.jsPDFDocument=Lt,this.userStyles={textColor:Lt.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Lt.internal.getFontSize(),fontStyle:Lt.internal.getFont().fontStyle,font:Lt.internal.getFont().fontName}}return Ot.setDefaults=function(Lt,_t){void 0===_t&&(_t=null),_t?_t.__autoTableDocumentDefaults=Lt:se=Lt},Ot.unifyColor=function(Lt){return Array.isArray(Lt)?Lt:"number"==typeof Lt?[Lt,Lt,Lt]:"string"==typeof Lt?[Lt]:null},Ot.prototype.applyStyles=function(Lt,_t){var gt,Ht,Bt;void 0===_t&&(_t=!1),Lt.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Lt.fontStyle);var Tt=this.jsPDFDocument.internal.getFont(),tt=Tt.fontStyle,et=Tt.fontName;if(Lt.font&&(et=Lt.font),Lt.fontStyle){tt=Lt.fontStyle;var st=this.getFontList()[et];st&&-1===st.indexOf(tt)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(st[0]),tt=st[0])}if(this.jsPDFDocument.setFont(et,tt),Lt.fontSize&&this.jsPDFDocument.setFontSize(Lt.fontSize),!_t){var ct=Ot.unifyColor(Lt.fillColor);ct&&(gt=this.jsPDFDocument).setFillColor.apply(gt,ct),(ct=Ot.unifyColor(Lt.textColor))&&(Ht=this.jsPDFDocument).setTextColor.apply(Ht,ct),(ct=Ot.unifyColor(Lt.lineColor))&&(Bt=this.jsPDFDocument).setDrawColor.apply(Bt,ct),"number"==typeof Lt.lineWidth&&this.jsPDFDocument.setLineWidth(Lt.lineWidth)}},Ot.prototype.splitTextToSize=function(Lt,_t,gt){return this.jsPDFDocument.splitTextToSize(Lt,_t,gt)},Ot.prototype.rect=function(Lt,_t,gt,Ht,Bt){return this.jsPDFDocument.rect(Lt,_t,gt,Ht,Bt)},Ot.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ot.prototype.getTextWidth=function(Lt){return this.jsPDFDocument.getTextWidth(Lt)},Ot.prototype.getDocument=function(){return this.jsPDFDocument},Ot.prototype.setPage=function(Lt){this.jsPDFDocument.setPage(Lt)},Ot.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ot.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ot.prototype.getGlobalOptions=function(){return se||{}},Ot.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ot.prototype.pageSize=function(){var Lt=this.jsPDFDocument.internal.pageSize;return null==Lt.width&&(Lt={width:Lt.getWidth(),height:Lt.getHeight()}),Lt},Ot.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ot.prototype.pageNumber=function(){var Lt=this.jsPDFDocument.internal.getCurrentPageInfo();return Lt?Lt.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ot}();Rt.DocHandler=xe},148:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseHtml=void 0;var xe=se(259),Ot=se(913);function _t(Ht,Bt,Tt,tt,et,st){for(var ct=new Ot.HtmlRowInput(tt),vt=0;vt<tt.cells.length;vt++){var bt=tt.cells[vt],kt=Tt.getComputedStyle(bt);if(et||"none"!==kt.display){var Zt=void 0;st&&(Zt=(0,xe.parseCss)(Ht,bt,Bt,kt,Tt)),ct.push({rowSpan:bt.rowSpan,colSpan:bt.colSpan,styles:Zt,_element:bt,content:gt(bt)})}}var zt=Tt.getComputedStyle(tt);if(ct.length>0&&(et||"none"!==zt.display))return ct}function gt(Ht){var Bt=Ht.cloneNode(!0);return Bt.innerHTML=Bt.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Bt.innerHTML=Bt.innerHTML.split(/\<br.*?\>/).map(function(Tt){return Tt.trim()}).join("\n"),Bt.innerText||Bt.textContent||""}Rt.parseHtml=function Lt(Ht,Bt,Tt,tt,et){var st,ct,vt;void 0===tt&&(tt=!1),void 0===et&&(et=!1),vt="string"==typeof Bt?Tt.document.querySelector(Bt):Bt;var bt=Object.keys(Ht.getFontList()),kt=Ht.scaleFactor(),Zt=[],zt=[],Xt=[];if(!vt)return console.error("Html table could not be found with input: ",Bt),{head:Zt,body:zt,foot:Xt};for(var te=0;te<vt.rows.length;te++){var pt=vt.rows[te],we=null===(ct=null===(st=null==pt?void 0:pt.parentElement)||void 0===st?void 0:st.tagName)||void 0===ct?void 0:ct.toLowerCase(),Ie=_t(bt,kt,Tt,pt,tt,et);!Ie||("thead"===we?Zt.push(Ie):"tfoot"===we?Xt.push(Ie):zt.push(Ie))}return{head:Zt,body:zt,foot:Xt}}},587:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseInput=void 0;var xe=se(148),Ot=se(360),Lt=se(200),_t=se(323),gt=se(291);function ct(vt,bt,kt){var Zt=vt[0]||bt[0]||kt[0]||[],zt=[];return Object.keys(Zt).filter(function(Xt){return"_element"!==Xt}).forEach(function(Xt){var pt,te=1;"object"==typeof(pt=Array.isArray(Zt)?Zt[parseInt(Xt)]:Zt[Xt])&&!Array.isArray(pt)&&(te=(null==pt?void 0:pt.colSpan)||1);for(var we=0;we<te;we++){var Ie;Ie=Array.isArray(Zt)?zt.length:Xt+(we>0?"_".concat(we):""),zt.push({dataKey:Ie})}}),zt}Rt.parseInput=function Ht(vt,bt){var kt=new _t.DocHandler(vt),Zt=kt.getDocumentOptions(),zt=kt.getGlobalOptions();(0,gt.default)(kt,zt,Zt,bt);var te,Xt=(0,Ot.assign)({},zt,Zt,bt);"undefined"!=typeof window&&(te=window);var pt=function Bt(vt,bt,kt){for(var Zt={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},zt=function(we){if("columnStyles"===we)Zt.columnStyles=(0,Ot.assign)({},vt[we],bt[we],kt[we]);else{var ae=[vt,bt,kt].map(function(Se){return Se[we]||{}});Zt[we]=(0,Ot.assign)({},ae[0],ae[1],ae[2])}},Xt=0,te=Object.keys(Zt);Xt<te.length;Xt++)zt(te[Xt]);return Zt}(zt,Zt,bt),we=function Tt(vt,bt,kt){for(var zt={didParseCell:[],willDrawCell:[],didDrawCell:[],didDrawPage:[]},Xt=0,te=[vt,bt,kt];Xt<te.length;Xt++){var pt=te[Xt];pt.didParseCell&&zt.didParseCell.push(pt.didParseCell),pt.willDrawCell&&zt.willDrawCell.push(pt.willDrawCell),pt.didDrawCell&&zt.didDrawCell.push(pt.didDrawCell),pt.didDrawPage&&zt.didDrawPage.push(pt.didDrawPage)}return zt}(zt,Zt,bt),Ie=function tt(vt,bt){var kt,Zt,zt,Xt,te,pt,we,Ie,Ut,Ct,ie,ye,Ne,ae=(0,Lt.parseSpacing)(bt.margin,40/vt.scaleFactor()),Se=null!==(kt=function et(vt,bt){var kt=vt.getLastAutoTable(),Zt=vt.scaleFactor(),zt=vt.pageNumber(),Xt=!1;return kt&&kt.startPageNumber&&(Xt=kt.startPageNumber+kt.pageNumber-1===zt),"number"==typeof bt?bt:null!=bt&&!1!==bt||!Xt||null==(null==kt?void 0:kt.finalY)?null:kt.finalY+20/Zt}(vt,bt.startY))&&void 0!==kt?kt:ae.top;ye=!0===bt.showFoot?"everyPage":!1===bt.showFoot?"never":null!==(Zt=bt.showFoot)&&void 0!==Zt?Zt:"everyPage",Ne=!0===bt.showHead?"everyPage":!1===bt.showHead?"never":null!==(zt=bt.showHead)&&void 0!==zt?zt:"everyPage";var Me=null!==(Xt=bt.useCss)&&void 0!==Xt&&Xt,Kt=null!==(te=bt.horizontalPageBreakRepeat)&&void 0!==te?te:null;return{includeHiddenHtml:null!==(pt=bt.includeHiddenHtml)&&void 0!==pt&&pt,useCss:Me,theme:bt.theme||(Me?"plain":"striped"),startY:Se,margin:ae,pageBreak:null!==(we=bt.pageBreak)&&void 0!==we?we:"auto",rowPageBreak:null!==(Ie=bt.rowPageBreak)&&void 0!==Ie?Ie:"auto",tableWidth:null!==(Ut=bt.tableWidth)&&void 0!==Ut?Ut:"auto",showHead:Ne,showFoot:ye,tableLineWidth:null!==(Ct=bt.tableLineWidth)&&void 0!==Ct?Ct:0,tableLineColor:null!==(ie=bt.tableLineColor)&&void 0!==ie?ie:200,horizontalPageBreak:!!bt.horizontalPageBreak,horizontalPageBreakRepeat:Kt}}(kt,Xt),Ut=function st(vt,bt,kt){var Zt=bt.head||[],zt=bt.body||[],Xt=bt.foot||[];if(bt.html)if(kt){var pt=(0,xe.parseHtml)(vt,bt.html,kt,bt.includeHiddenHtml,bt.useCss)||{};Zt=pt.head||Zt,zt=pt.body||Zt,Xt=pt.foot||Zt}else console.error("Cannot parse html in non browser environment");return{columns:bt.columns||ct(Zt,zt,Xt),head:Zt,body:zt,foot:Xt}}(kt,Xt,te);return{id:bt.tableId,content:Ut,hooks:we,styles:pt,settings:Ie}}},291:function(Ce,Rt){function xe(Ot){Ot.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),Ot.minCellHeight||(Ot.minCellHeight=Ot.rowHeight)):Ot.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),Ot.cellWidth||(Ot.cellWidth=Ot.columnWidth))}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function se(Ot,Lt,_t,gt){for(var Ht=function(et){et&&"object"!=typeof et&&console.error("The options parameter should be of type object, is: "+typeof et),void 0!==et.extendWidth&&(et.tableWidth=et.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==et.margins&&(void 0===et.margin&&(et.margin=et.margins),console.error("Use of deprecated option: margins, use margin instead.")),et.startY&&"number"!=typeof et.startY&&(console.error("Invalid value for startY option",et.startY),delete et.startY),!et.didDrawPage&&(et.afterPageContent||et.beforePageContent||et.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),et.didDrawPage=function(Xt){Ot.applyStyles(Ot.userStyles),et.beforePageContent&&et.beforePageContent(Xt),Ot.applyStyles(Ot.userStyles),et.afterPageContent&&et.afterPageContent(Xt),Ot.applyStyles(Ot.userStyles),et.afterPageAdd&&Xt.pageNumber>1&&Xt.afterPageAdd(Xt),Ot.applyStyles(Ot.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Xt){et[Xt]&&console.error('The "'.concat(Xt,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Xt){var te=Xt[0],pt=Xt[1];et[pt]&&(console.error("Use of deprecated option ".concat(pt,". Use ").concat(te," instead")),et[te]=et[pt])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Xt){var te="string"==typeof Xt?Xt:Xt[0],pt="string"==typeof Xt?Xt:Xt[1];void 0!==et[te]&&(void 0===et.styles[pt]&&(et.styles[pt]=et[te]),console.error("Use of deprecated option: "+te+", use the style "+pt+" instead."))});for(var st=0,ct=["styles","bodyStyles","headStyles","footStyles"];st<ct.length;st++)xe(et[ct[st]]||{});for(var bt=et.columnStyles||{},kt=0,Zt=Object.keys(bt);kt<Zt.length;kt++)xe(bt[Zt[kt]]||{})},Bt=0,Tt=[Lt,_t,gt];Bt<Tt.length;Bt++)Ht(Tt[Bt])}},287:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.Column=Rt.Cell=Rt.Row=Rt.Table=void 0;var xe=se(913),Ot=se(662),Lt=se(200),_t=function(){function Tt(tt,et){this.pageNumber=1,this.pageCount=1,this.id=tt.id,this.settings=tt.settings,this.styles=tt.styles,this.hooks=tt.hooks,this.columns=et.columns,this.head=et.head,this.body=et.body,this.foot=et.foot}return Tt.prototype.getHeadHeight=function(tt){return this.head.reduce(function(et,st){return et+st.getMaxCellHeight(tt)},0)},Tt.prototype.getFootHeight=function(tt){return this.foot.reduce(function(et,st){return et+st.getMaxCellHeight(tt)},0)},Tt.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Tt.prototype.callCellHooks=function(tt,et,st,ct,vt,bt){for(var kt=0,Zt=et;kt<Zt.length;kt++){var te=!1===(0,Zt[kt])(new Ot.CellHookData(tt,this,st,ct,vt,bt));if(st.text=Array.isArray(st.text)?st.text:[st.text],te)return!1}return!0},Tt.prototype.callEndPageHooks=function(tt,et){tt.applyStyles(tt.userStyles);for(var st=0,ct=this.hooks.didDrawPage;st<ct.length;st++)(0,ct[st])(new Ot.HookData(tt,this,et))},Tt.prototype.getWidth=function(tt){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(ct,vt){return ct+vt.wrappedWidth},0);var st=this.settings.margin;return tt-st.left-st.right},Tt}();Rt.Table=_t;var gt=function(){function Tt(tt,et,st,ct,vt){void 0===vt&&(vt=!1),this.height=0,this.raw=tt,tt instanceof xe.HtmlRowInput&&(this.raw=tt._element,this.element=tt._element),this.index=et,this.section=st,this.cells=ct,this.spansMultiplePages=vt}return Tt.prototype.getMaxCellHeight=function(tt){var et=this;return tt.reduce(function(st,ct){var vt;return Math.max(st,(null===(vt=et.cells[ct.index])||void 0===vt?void 0:vt.height)||0)},0)},Tt.prototype.hasRowSpan=function(tt){var et=this;return tt.filter(function(st){var ct=et.cells[st.index];return!!ct&&ct.rowSpan>1}).length>0},Tt.prototype.canEntireRowFit=function(tt,et){return this.getMaxCellHeight(et)<=tt},Tt.prototype.getMinimumRowHeight=function(tt,et){var st=this;return tt.reduce(function(ct,vt){var bt=st.cells[vt.index];if(!bt)return 0;var kt=bt.styles.fontSize/et.scaleFactor()*xe.FONT_ROW_RATIO,zt=bt.padding("vertical")+kt;return zt>ct?zt:ct},0)},Tt}();Rt.Row=gt;var Ht=function(){function Tt(tt,et,st){var ct,vt;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=et,this.section=st,this.raw=tt;var bt=tt;null==tt||"object"!=typeof tt||Array.isArray(tt)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=tt.rowSpan||1,this.colSpan=tt.colSpan||1,bt=null!==(vt=null!==(ct=tt.content)&&void 0!==ct?ct:tt.title)&&void 0!==vt?vt:tt,tt._element&&(this.raw=tt._element)),this.text=(null!=bt?""+bt:"").split(/\r\n|\r|\n/g)}return Tt.prototype.getTextPos=function(){var tt,st;if("top"===this.styles.valign)tt=this.y+this.padding("top");else if("bottom"===this.styles.valign)tt=this.y+this.height-this.padding("bottom");else{var et=this.height-this.padding("vertical");tt=this.y+et/2+this.padding("top")}if("right"===this.styles.halign)st=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var ct=this.width-this.padding("horizontal");st=this.x+ct/2+this.padding("left")}else st=this.x+this.padding("left");return{x:st,y:tt}},Tt.prototype.getContentHeight=function(tt){var ct=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/tt*xe.FONT_ROW_RATIO)+this.padding("vertical");return Math.max(ct,this.styles.minCellHeight)},Tt.prototype.padding=function(tt){var et=(0,Lt.parseSpacing)(this.styles.cellPadding,0);return"vertical"===tt?et.top+et.bottom:"horizontal"===tt?et.left+et.right:et[tt]},Tt}();Rt.Cell=Ht;var Bt=function(){function Tt(tt,et,st){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=tt,this.raw=et,this.index=st}return Tt.prototype.getMaxCustomCellWidth=function(tt){for(var et=0,st=0,ct=tt.allRows();st<ct.length;st++){var bt=ct[st].cells[this.index];bt&&"number"==typeof bt.styles.cellWidth&&(et=Math.max(et,bt.styles.cellWidth))}return et},Tt}();Rt.Column=Bt},360:function(Ce,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.assign=void 0,Rt.assign=function se(xe,Ot,Lt,_t,gt){if(null==xe)throw new TypeError("Cannot convert undefined or null to object");for(var Ht=Object(xe),Bt=1;Bt<arguments.length;Bt++){var Tt=arguments[Bt];if(null!=Tt)for(var tt in Tt)Object.prototype.hasOwnProperty.call(Tt,tt)&&(Ht[tt]=Tt[tt])}return Ht}},858:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.createTable=void 0;var xe=se(323),Ot=se(287),Lt=se(189),_t=se(913),gt=se(360);function Tt(vt,bt,kt,Zt,zt,Xt){var te={};return bt.map(function(we,Ie){for(var Ut=0,Ct={},ie=0,ae=0,Se=0,ye=kt;Se<ye.length;Se++){var Ne=ye[Se];if(null==te[Ne.index]||0===te[Ne.index].left)if(0===ae){var Me,Ze={};"object"==typeof(Me=Array.isArray(we)?we[Ne.index-ie-Ut]:we[Ne.dataKey])&&!Array.isArray(Me)&&(Ze=(null==Me?void 0:Me.styles)||{});var Oe=ct(vt,Ne,Ie,zt,Zt,Xt,Ze),Kt=new Ot.Cell(Me,Oe,vt);Ct[Ne.dataKey]=Kt,Ct[Ne.index]=Kt,te[Ne.index]={left:Kt.rowSpan-1,times:ae=Kt.colSpan-1}}else ae--,ie++;else te[Ne.index].left--,ae=te[Ne.index].times,Ut++}return new Ot.Row(we,Ie,vt,Ct)})}function tt(vt,bt){var kt={};return vt.forEach(function(Zt){if(null!=Zt.raw){var zt=function et(vt,bt){if("head"===vt){if("object"==typeof bt)return bt.header||bt.title||null;if("string"==typeof bt||"number"==typeof bt)return bt}else if("foot"===vt&&"object"==typeof bt)return bt.footer;return null}(bt,Zt.raw);null!=zt&&(kt[Zt.dataKey]=zt)}}),Object.keys(kt).length>0?kt:null}function ct(vt,bt,kt,Zt,zt,Xt,te){var we,pt=(0,_t.getTheme)(Zt);"head"===vt?we=zt.headStyles:"body"===vt?we=zt.bodyStyles:"foot"===vt&&(we=zt.footStyles);var Ie=(0,gt.assign)({},pt.table,pt[vt],zt.styles,we),Ct="body"===vt&&(zt.columnStyles[bt.dataKey]||zt.columnStyles[bt.index])||{},ie="body"===vt&&kt%2==0?(0,gt.assign)({},pt.alternateRow,zt.alternateRowStyles):{},ae=(0,_t.defaultStyles)(Xt),Se=(0,gt.assign)({},ae,Ie,ie,Ct);return(0,gt.assign)(Se,te)}Rt.createTable=function Ht(vt,bt){var kt=new xe.DocHandler(vt),Zt=function Bt(vt,bt){var zt,kt=vt.content,Zt=function st(vt){return vt.map(function(bt,kt){var Zt,zt,Xt;return Xt="object"==typeof bt&&null!==(zt=null!==(Zt=bt.dataKey)&&void 0!==Zt?Zt:bt.key)&&void 0!==zt?zt:kt,new Ot.Column(Xt,bt,kt)})}(kt.columns);0===kt.head.length&&(zt=tt(Zt,"head"))&&kt.head.push(zt),0===kt.foot.length&&(zt=tt(Zt,"foot"))&&kt.foot.push(zt);var Xt=vt.settings.theme,te=vt.styles;return{columns:Zt,head:Tt("head",kt.head,Zt,te,Xt,bt),body:Tt("body",kt.body,Zt,te,Xt,bt),foot:Tt("foot",kt.foot,Zt,te,Xt,bt)}}(bt,kt.scaleFactor()),zt=new Ot.Table(bt,Zt);return(0,Lt.calculateWidths)(kt,zt),kt.applyStyles(kt.userStyles),zt}},49:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.addPage=Rt.drawTable=void 0;var xe=se(913),Ot=se(200),Lt=se(287),_t=se(323),gt=se(360),Ht=se(938),Bt=se(435);function vt(Ut,Ct,ie){var ae=Ut.styles.fontSize/ie.scaleFactor()*xe.FONT_ROW_RATIO,Se=Ut.padding("vertical"),ye=Math.floor((Ct-Se)/ae);return Math.max(0,ye)}function Zt(Ut,Ct,ie,ae,Se,ye,Ne){var Me=function pt(Ut,Ct,ie,ae){var Se=Ct.settings.margin.bottom,ye=Ct.settings.showFoot;return("everyPage"===ye||"lastPage"===ye&&ie)&&(Se+=Ct.getFootHeight(Ct.columns)),Ut.pageSize().height-ae.y-Se}(Ut,Ct,ae,ye);if(ie.canEntireRowFit(Me,Ne))zt(Ut,Ct,ie,ye,Ne);else if(function kt(Ut,Ct,ie,ae){var Se=Ut.pageSize().height,ye=ae.settings.margin,Me=Se-(ye.top+ye.bottom);"body"===Ct.section&&(Me-=ae.getHeadHeight(ae.columns)+ae.getFootHeight(ae.columns));var Ze=Ct.getMinimumRowHeight(ae.columns,Ut),Oe=Ze<ie;if(Ze>Me)return console.error("Will not be able to print row ".concat(Ct.index," correctly since it's minimum height is larger than page height")),!0;if(!Oe)return!1;var Kt=Ct.hasRowSpan(ae.columns);return Ct.getMaxCellHeight(ae.columns)>Me?(Kt&&console.error("The content of row ".concat(Ct.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Kt||"avoid"===ae.settings.rowPageBreak)}(Ut,ie,Me,Ct)){var Ze=function bt(Ut,Ct,ie,ae){var Se={};Ut.spansMultiplePages=!0,Ut.height=0;for(var ye=0,Ne=0,Me=ie.columns;Ne<Me.length;Ne++)if(Oe=Ut.cells[(Ze=Me[Ne]).index]){Array.isArray(Oe.text)||(Oe.text=[Oe.text]);var Kt=new Lt.Cell(Oe.raw,Oe.styles,Oe.section);(Kt=(0,gt.assign)(Kt,Oe)).text=[];var cn=vt(Oe,Ct,ae);Oe.text.length>cn&&(Kt.text=Oe.text.splice(cn,Oe.text.length));var Wi=ae.scaleFactor();Oe.contentHeight=Oe.getContentHeight(Wi),Oe.contentHeight>=Ct&&(Oe.contentHeight=Ct,Kt.styles.minCellHeight-=Ct),Oe.contentHeight>Ut.height&&(Ut.height=Oe.contentHeight),Kt.contentHeight=Kt.getContentHeight(Wi),Kt.contentHeight>ye&&(ye=Kt.contentHeight),Se[Ze.index]=Kt}var on=new Lt.Row(Ut.raw,-1,Ut.section,Se,!0);on.height=ye;for(var Ii=0,$n=ie.columns;Ii<$n.length;Ii++){var Ze,Oe;(Kt=on.cells[(Ze=$n[Ii]).index])&&(Kt.height=on.height),(Oe=Ut.cells[Ze.index])&&(Oe.height=Ut.height)}return on}(ie,Me,Ct,Ut);zt(Ut,Ct,ie,ye,Ne),we(Ut,Ct,Se,ye,Ne),Zt(Ut,Ct,Ze,ae,Se,ye,Ne)}else we(Ut,Ct,Se,ye,Ne),Zt(Ut,Ct,ie,ae,Se,ye,Ne)}function zt(Ut,Ct,ie,ae,Se){ae.x=Ct.settings.margin.left;for(var ye=0,Ne=Se;ye<Ne.length;ye++){var Me=Ne[ye],Ze=ie.cells[Me.index];if(Ze)if(Ut.applyStyles(Ze.styles),Ze.x=ae.x,Ze.y=ae.y,!1!==Ct.callCellHooks(Ut,Ct.hooks.willDrawCell,Ze,ie,Me,ae)){Xt(Ut,Ze,ae);var Kt=Ze.getTextPos();(0,Ht.default)(Ze.text,Kt.x,Kt.y,{halign:Ze.styles.halign,valign:Ze.styles.valign,maxWidth:Math.ceil(Ze.width-Ze.padding("left")-Ze.padding("right"))},Ut.getDocument()),Ct.callCellHooks(Ut,Ct.hooks.didDrawCell,Ze,ie,Me,ae),ae.x+=Me.width}else ae.x+=Me.width;else ae.x+=Me.width}ae.y+=ie.height}function Xt(Ut,Ct,ie){var ae=Ct.styles;if(Ut.getDocument().setFillColor(Ut.getDocument().getFillColor()),"number"==typeof ae.lineWidth){var Se=(0,Ot.getFillStyle)(ae.lineWidth,ae.fillColor);Se&&Ut.rect(Ct.x,ie.y,Ct.width,Ct.height,Se)}else if("object"==typeof ae.lineWidth){Ut.rect(Ct.x,ie.y,Ct.width,Ct.height,"F");var ye=Object.keys(ae.lineWidth),Ne=ae.lineWidth;ye.map(function(Me){var Ze=(0,Ot.getFillStyle)(Ne[Me],ae.fillColor);!function te(Ut,Ct,ie,ae,Se,ye){var Ne,Me,Ze,Oe;switch(ae){case"top":Ne=ie.x,Me=ie.y,Ze=ie.x+Ct.width,Oe=ie.y;break;case"left":Ne=ie.x,Me=ie.y,Ze=ie.x,Oe=ie.y+Ct.height;break;case"right":Ne=ie.x+Ct.width,Me=ie.y,Ze=ie.x+Ct.width,Oe=ie.y+Ct.height;break;default:Ne=ie.x,Me=ie.y+Ct.height-ye,Ze=ie.x+Ct.width,Oe=ie.y+Ct.height-ye}Ut.getDocument().setLineWidth(ye),Ut.getDocument().line(Ne,Me,Ze,Oe,Se)}(Ut,Ct,ie,Me,Ze||"S",Ne[Me])})}}function we(Ut,Ct,ie,ae,Se){void 0===Se&&(Se=[]),Ut.applyStyles(Ut.userStyles),"everyPage"===Ct.settings.showFoot&&Ct.foot.forEach(function(Ne){return zt(Ut,Ct,Ne,ae,Se)}),Ct.callEndPageHooks(Ut,ae);var ye=Ct.settings.margin;(0,Ot.addTableBorder)(Ut,Ct,ie,ae),Ie(Ut),Ct.pageNumber++,Ct.pageCount++,ae.x=ye.left,ae.y=ye.top,ie.y=ye.top,"everyPage"===Ct.settings.showHead&&Ct.head.forEach(function(Ne){return zt(Ut,Ct,Ne,ae,Se)})}function Ie(Ut){var Ct=Ut.pageNumber();Ut.setPage(Ct+1),Ut.pageNumber()===Ct&&Ut.addPage()}Rt.drawTable=function Tt(Ut,Ct){var ie=Ct.settings,ae=ie.startY,Se=ie.margin,ye={x:Se.left,y:ae},Ne=Ct.getHeadHeight(Ct.columns)+Ct.getFootHeight(Ct.columns),Me=ae+Se.bottom+Ne;"avoid"===ie.pageBreak&&(Me+=Ct.allRows().reduce(function(Wi,on){return Wi+on.height},0));var Kt=new _t.DocHandler(Ut);("always"===ie.pageBreak||null!=ie.startY&&Me>Kt.pageSize().height)&&(Ie(Kt),ye.y=Se.top);var cn=(0,gt.assign)({},ye);Ct.startPageNumber=Kt.pageNumber(),!0===ie.horizontalPageBreak?function tt(Ut,Ct,ie,ae){Bt.default.calculateAllColumnsCanFitInPage(Ut,Ct).map(function(ye,Ne){Ut.applyStyles(Ut.userStyles),Ne>0?we(Ut,Ct,ie,ae,ye.columns):function et(Ut,Ct,ie,ae){var Se=Ct.settings;Ut.applyStyles(Ut.userStyles),("firstPage"===Se.showHead||"everyPage"===Se.showHead)&&Ct.head.forEach(function(ye){return zt(Ut,Ct,ye,ie,ae)})}(Ut,Ct,ae,ye.columns),function st(Ut,Ct,ie,ae,Se){Ut.applyStyles(Ut.userStyles),Ct.body.forEach(function(ye,Ne){Zt(Ut,Ct,ye,Ne===Ct.body.length-1,ie,ae,Se)})}(Ut,Ct,ie,ae,ye.columns),function ct(Ut,Ct,ie,ae){var Se=Ct.settings;Ut.applyStyles(Ut.userStyles),("lastPage"===Se.showFoot||"everyPage"===Se.showFoot)&&Ct.foot.forEach(function(ye){return zt(Ut,Ct,ye,ie,ae)})}(Ut,Ct,ae,ye.columns)})}(Kt,Ct,cn,ye):(Kt.applyStyles(Kt.userStyles),("firstPage"===ie.showHead||"everyPage"===ie.showHead)&&Ct.head.forEach(function(Wi){return zt(Kt,Ct,Wi,ye,Ct.columns)}),Kt.applyStyles(Kt.userStyles),Ct.body.forEach(function(Wi,on){Zt(Kt,Ct,Wi,on===Ct.body.length-1,cn,ye,Ct.columns)}),Kt.applyStyles(Kt.userStyles),("lastPage"===ie.showFoot||"everyPage"===ie.showFoot)&&Ct.foot.forEach(function(Wi){return zt(Kt,Ct,Wi,ye,Ct.columns)})),(0,Ot.addTableBorder)(Kt,Ct,cn,ye),Ct.callEndPageHooks(Kt,ye),Ct.finalY=ye.y,Ut.lastAutoTable=Ct,Ut.previousAutoTable=Ct,Ut.autoTable&&(Ut.autoTable.previous=Ct),Kt.applyStyles(Kt.userStyles)},Rt.addPage=we},435:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0});var xe=se(200),Ot=function(gt,Ht){var Bt=(0,xe.parseSpacing)(Ht.settings.margin,0);return gt.pageSize().width-(Bt.left+Bt.right)},Lt=function(gt,Ht,Bt){void 0===Bt&&(Bt={});var tt=Ot(gt,Ht),et=Ht.settings.horizontalPageBreakRepeat,st=null,ct=[],vt=[],bt=Ht.columns.length,kt=Bt&&Bt.start?Bt.start:0;for(null!=et&&(st=Ht.columns.find(function(zt){return zt.dataKey===et||zt.index===et}))&&(ct.push(st.index),vt.push(Ht.columns[st.index]),tt-=st.wrappedWidth);kt<bt;)if((null==st?void 0:st.index)!==kt){var Zt=Ht.columns[kt].wrappedWidth;if(tt<Zt){(0===kt||kt===Bt.start)&&(ct.push(kt),vt.push(Ht.columns[kt]));break}ct.push(kt),vt.push(Ht.columns[kt]),tt-=Zt,kt++}else kt++;return{colIndexes:ct,columns:vt,lastIndex:kt}};Rt.default={getColumnsCanFitInPage:Lt,calculateAllColumnsCanFitInPage:function(gt,Ht){for(var Bt=[],Tt=0,tt=Ht.columns.length;Tt<tt;){var et=Lt(gt,Ht,{start:0===Tt?0:Tt});et&&et.columns&&et.columns.length?(Tt=et.lastIndex,Bt.push(et)):Tt++}return Bt},getPageAvailableWidth:Ot}},189:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.ellipsize=Rt.resizeColumns=Rt.calculateWidths=void 0;var xe=se(200),Ot=se(435);function gt(st,ct,vt){for(var bt=ct,kt=st.reduce(function(Ct,ie){return Ct+ie.wrappedWidth},0),Zt=0;Zt<st.length;Zt++){var zt=st[Zt],pt=zt.width+bt*(zt.wrappedWidth/kt),we=vt(zt),Ie=pt<we?we:pt;ct-=Ie-zt.width,zt.width=Ie}if(ct=Math.round(1e10*ct)/1e10){var Ut=st.filter(function(Ct){return!(ct<0)||Ct.width>vt(Ct)});Ut.length&&(ct=gt(Ut,ct,vt))}return ct}function tt(st,ct,vt,bt,kt){return st.map(function(Zt){return function et(st,ct,vt,bt,kt){var Zt=1e4*bt.scaleFactor();if((ct=Math.ceil(ct*Zt)/Zt)>=(0,xe.getStringWidth)(st,vt,bt))return st;for(;ct<(0,xe.getStringWidth)(st+kt,vt,bt)&&!(st.length<=1);)st=st.substring(0,st.length-1);return st.trim()+kt}(Zt,ct,vt,bt,kt)})}Rt.calculateWidths=function Lt(st,ct){!function _t(st,ct){var vt=st.scaleFactor(),bt=ct.settings.horizontalPageBreak,kt=Ot.default.getPageAvailableWidth(st,ct);ct.allRows().forEach(function(Zt){for(var zt=0,Xt=ct.columns;zt<Xt.length;zt++){var te=Xt[zt],pt=Zt.cells[te.index];if(pt){ct.callCellHooks(st,ct.hooks.didParseCell,pt,Zt,te,null);var Ie=pt.padding("horizontal");pt.contentWidth=(0,xe.getStringWidth)(pt.text,pt.styles,st)+Ie;var Ut=(0,xe.getStringWidth)(pt.text.join(" ").split(/\s+/),pt.styles,st);pt.minReadableWidth=Ut+pt.padding("horizontal"),"number"==typeof pt.styles.cellWidth?(pt.minWidth=pt.styles.cellWidth,pt.wrappedWidth=pt.styles.cellWidth):"wrap"===pt.styles.cellWidth||!0===bt?pt.contentWidth>kt?(pt.minWidth=kt,pt.wrappedWidth=kt):(pt.minWidth=pt.contentWidth,pt.wrappedWidth=pt.contentWidth):(pt.minWidth=pt.styles.minCellWidth||10/vt,pt.wrappedWidth=pt.contentWidth,pt.minWidth>pt.wrappedWidth&&(pt.wrappedWidth=pt.minWidth))}}}),ct.allRows().forEach(function(Zt){for(var zt=0,Xt=ct.columns;zt<Xt.length;zt++){var te=Xt[zt],pt=Zt.cells[te.index];if(pt&&1===pt.colSpan)te.wrappedWidth=Math.max(te.wrappedWidth,pt.wrappedWidth),te.minWidth=Math.max(te.minWidth,pt.minWidth),te.minReadableWidth=Math.max(te.minReadableWidth,pt.minReadableWidth);else{var we=ct.styles.columnStyles[te.dataKey]||ct.styles.columnStyles[te.index]||{},Ie=we.cellWidth||we.minCellWidth;Ie&&"number"==typeof Ie&&(te.minWidth=Ie,te.wrappedWidth=Ie)}pt&&(pt.colSpan>1&&!te.minWidth&&(te.minWidth=pt.minWidth),pt.colSpan>1&&!te.wrappedWidth&&(te.wrappedWidth=pt.minWidth))}})}(st,ct);var vt=[],bt=0;ct.columns.forEach(function(Zt){var zt=Zt.getMaxCustomCellWidth(ct);zt?Zt.width=zt:(Zt.width=Zt.wrappedWidth,vt.push(Zt)),bt+=Zt.width});var kt=ct.getWidth(st.pageSize().width)-bt;kt&&(kt=gt(vt,kt,function(Zt){return Math.max(Zt.minReadableWidth,Zt.minWidth)})),kt&&(kt=gt(vt,kt,function(Zt){return Zt.minWidth})),kt=Math.abs(kt),!ct.settings.horizontalPageBreak&&kt>.1/st.scaleFactor()&&(kt=kt<1?kt:Math.round(kt),console.error("Of the table content, ".concat(kt," units width could not fit page"))),function Bt(st){for(var ct=st.allRows(),vt=0;vt<ct.length;vt++)for(var bt=ct[vt],kt=null,Zt=0,zt=0,Xt=0;Xt<st.columns.length;Xt++){var te=st.columns[Xt];if((zt-=1)>1&&st.columns[Xt+1])Zt+=te.width,delete bt.cells[te.index];else if(kt){var pt=kt;delete bt.cells[te.index],kt=null,pt.width=te.width+Zt}else{if(!(pt=bt.cells[te.index]))continue;if(zt=pt.colSpan,Zt=0,pt.colSpan>1){kt=pt,Zt+=te.width;continue}pt.width=te.width+Zt}}}(ct),function Tt(st,ct){for(var vt={count:0,height:0},bt=0,kt=st.allRows();bt<kt.length;bt++){for(var Zt=kt[bt],zt=0,Xt=st.columns;zt<Xt.length;zt++){var pt=Zt.cells[Xt[zt].index];if(pt){ct.applyStyles(pt.styles,!0);var we=pt.width-pt.padding("horizontal");"linebreak"===pt.styles.overflow?pt.text=ct.splitTextToSize(pt.text,we+1/ct.scaleFactor(),{fontSize:pt.styles.fontSize}):"ellipsize"===pt.styles.overflow?pt.text=tt(pt.text,we,pt.styles,ct,"..."):"hidden"===pt.styles.overflow?pt.text=tt(pt.text,we,pt.styles,ct,""):"function"==typeof pt.styles.overflow&&(pt.text=pt.styles.overflow(pt.text,we)),pt.contentHeight=pt.getContentHeight(ct.scaleFactor());var Ie=pt.contentHeight/pt.rowSpan;pt.rowSpan>1&&vt.count*vt.height<Ie*pt.rowSpan?vt={height:Ie,count:pt.rowSpan}:vt&&vt.count>0&&vt.height>Ie&&(Ie=vt.height),Ie>Zt.height&&(Zt.height=Ie)}}vt.count--}}(ct,st),function Ht(st){for(var ct={},vt=1,bt=st.allRows(),kt=0;kt<bt.length;kt++)for(var Zt=bt[kt],zt=0,Xt=st.columns;zt<Xt.length;zt++){var te=Xt[zt],pt=ct[te.index];if(vt>1)vt--,delete Zt.cells[te.index];else if(pt)pt.cell.height+=Zt.height,vt=pt.cell.colSpan,delete Zt.cells[te.index],pt.left--,pt.left<=1&&delete ct[te.index];else{var we=Zt.cells[te.index];if(!we)continue;if(we.height=Zt.height,we.rowSpan>1){var Ie=bt.length-kt;ct[te.index]={cell:we,left:we.rowSpan>Ie?Ie:we.rowSpan,row:Zt}}}}}(ct)},Rt.resizeColumns=gt,Rt.ellipsize=tt},84:function(Ce){if(void 0===Te){var Rt=new Error("Cannot find module 'undefined'");throw Rt.code="MODULE_NOT_FOUND",Rt}Ce.exports=Te}},Qt={};function t(Ce){var Rt=Qt[Ce];if(void 0!==Rt)return Rt.exports;var se=Qt[Ce]={exports:{}};return Ai[Ce].call(se.exports,se,se.exports,t),se.exports}var ti={};return function(){var Ce=ti;Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.Cell=Ce.Column=Ce.Row=Ce.Table=Ce.CellHookData=Ce.__drawTable=Ce.__createTable=Ce.applyPlugin=void 0;var Rt=t(790),se=t(587),xe=t(49),Ot=t(858),Lt=t(287);Object.defineProperty(Ce,"Table",{enumerable:!0,get:function(){return Lt.Table}});var _t=t(662);Object.defineProperty(Ce,"CellHookData",{enumerable:!0,get:function(){return _t.CellHookData}});var gt=t(287);function Ht(st){(0,Rt.default)(st)}Object.defineProperty(Ce,"Cell",{enumerable:!0,get:function(){return gt.Cell}}),Object.defineProperty(Ce,"Column",{enumerable:!0,get:function(){return gt.Column}}),Object.defineProperty(Ce,"Row",{enumerable:!0,get:function(){return gt.Row}}),Ce.applyPlugin=Ht,Ce.default=function Bt(st,ct){var vt=(0,se.parseInput)(st,ct),bt=(0,Ot.createTable)(st,vt);(0,xe.drawTable)(st,bt)},Ce.__createTable=function Tt(st,ct){var vt=(0,se.parseInput)(st,ct);return(0,Ot.createTable)(st,vt)},Ce.__drawTable=function tt(st,ct){(0,xe.drawTable)(st,ct)};try{var et=t(84);et.jsPDF&&(et=et.jsPDF),Ht(et)}catch(st){}}(),ti}())},3583:(Da,mo,re)=>{"use strict";function Te(a){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}re.r(mo),re.d(mo,{AcroForm:()=>un,AcroFormAppearance:()=>Ae,AcroFormButton:()=>qi,AcroFormCheckBox:()=>ra,AcroFormChoiceField:()=>zr,AcroFormComboBox:()=>Jr,AcroFormEditBox:()=>ia,AcroFormListBox:()=>Yr,AcroFormPasswordField:()=>oa,AcroFormPushButton:()=>na,AcroFormRadioButton:()=>Vr,AcroFormTextField:()=>Tr,GState:()=>ea,ShadingPattern:()=>Ar,TilingPattern:()=>jr,default:()=>sl,jsPDF:()=>Ee});var t=Uint8Array,ti=Uint16Array,Ce=Uint32Array,Rt=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),se=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xe=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ot=function(a,i){for(var o=new ti(31),c=0;c<31;++c)o[c]=i+=1<<a[c-1];var d=new Ce(o[30]);for(c=1;c<30;++c)for(var h=o[c];h<o[c+1];++h)d[h]=h-o[c]<<5|c;return[o,d]},Lt=Ot(Rt,2),_t=Lt[0],gt=Lt[1];_t[28]=258,gt[258]=28;for(var Ht=Ot(se,0),Bt=Ht[0],Tt=Ht[1],tt=new ti(32768),et=0;et<32768;++et){var st=(43690&et)>>>1|(21845&et)<<1;tt[et]=((65280&(st=(61680&(st=(52428&st)>>>2|(13107&st)<<2))>>>4|(3855&st)<<4))>>>8|(255&st)<<8)>>>1}var ct=function(a,i,o){for(var c=a.length,d=0,h=new ti(i);d<c;++d)++h[a[d]-1];var _,f=new ti(i);for(d=0;d<i;++d)f[d]=f[d-1]+h[d-1]<<1;if(o){_=new ti(1<<i);var v=15-i;for(d=0;d<c;++d)if(a[d])for(var w=d<<4|a[d],T=i-a[d],N=f[a[d]-1]++<<T,Z=N|(1<<T)-1;N<=Z;++N)_[tt[N]>>>v]=w}else for(_=new ti(c),d=0;d<c;++d)_[d]=tt[f[a[d]-1]++]>>>15-a[d];return _},vt=new t(288);for(et=0;et<144;++et)vt[et]=8;for(et=144;et<256;++et)vt[et]=9;for(et=256;et<280;++et)vt[et]=7;for(et=280;et<288;++et)vt[et]=8;var bt=new t(32);for(et=0;et<32;++et)bt[et]=5;var kt=ct(vt,9,0),Zt=ct(vt,9,1),zt=ct(bt,5,0),Xt=ct(bt,5,1),te=function(a){for(var i=a[0],o=1;o<a.length;++o)a[o]>i&&(i=a[o]);return i},pt=function(a,i,o){var c=i/8>>0;return(a[c]|a[c+1]<<8)>>>(7&i)&o},we=function(a,i){var o=i/8>>0;return(a[o]|a[o+1]<<8|a[o+2]<<16)>>>(7&i)},Ie=function(a){return(a/8>>0)+(7&a&&1)},Ut=function(a,i,o){(null==i||i<0)&&(i=0),(null==o||o>a.length)&&(o=a.length);var c=new(a instanceof ti?ti:a instanceof Ce?Ce:t)(o-i);return c.set(a.subarray(i,o)),c},ie=function(a,i,o){var c=i/8>>0;a[c]|=o<<=7&i,a[c+1]|=o>>>8},ae=function(a,i,o){var c=i/8>>0;a[c]|=o<<=7&i,a[c+1]|=o>>>8,a[c+2]|=o>>>16},Se=function(a,i){for(var o=[],c=0;c<a.length;++c)a[c]&&o.push({s:c,f:a[c]});var d=o.length,h=o.slice();if(!d)return[new t(0),0];if(1==d){var f=new t(o[0].s+1);return f[o[0].s]=1,[f,1]}o.sort(function(At,Wt){return At.f-Wt.f}),o.push({s:-1,f:25001});var _=o[0],v=o[1],w=0,T=1,N=2;for(o[0]={s:-1,f:_.f+v.f,l:_,r:v};T!=d-1;)_=o[o[w].f<o[N].f?w++:N++],v=o[w!=T&&o[w].f<o[N].f?w++:N++],o[T++]={s:-1,f:_.f+v.f,l:_,r:v};var Z=h[0].s;for(c=1;c<d;++c)h[c].s>Z&&(Z=h[c].s);var y=new ti(Z+1),R=ye(o[T-1],y,0);if(R>i){c=0;var O=0,H=R-i,I=1<<H;for(h.sort(function(Wt,lt){return y[lt.s]-y[Wt.s]||Wt.f-lt.f});c<d;++c){var B=h[c].s;if(!(y[B]>i))break;O+=I-(1<<R-y[B]),y[B]=i}for(O>>>=H;O>0;){var X=h[c].s;y[X]<i?O-=1<<i-y[X]++-1:++c}for(;c>=0&&O;--c){var ut=h[c].s;y[ut]==i&&(--y[ut],++O)}R=i}return[new t(y),R]},ye=function(a,i,o){return-1==a.s?Math.max(ye(a.l,i,o+1),ye(a.r,i,o+1)):i[a.s]=o},Ne=function(a){for(var i=a.length;i&&!a[--i];);for(var o=new ti(++i),c=0,d=a[0],h=1,f=function(v){o[c++]=v},_=1;_<=i;++_)if(a[_]==d&&_!=i)++h;else{if(!d&&h>2){for(;h>138;h-=138)f(32754);h>2&&(f(h>10?h-11<<5|28690:h-3<<5|12305),h=0)}else if(h>3){for(f(d),--h;h>6;h-=6)f(8304);h>2&&(f(h-3<<5|8208),h=0)}for(;h--;)f(d);h=1,d=a[_]}return[o.subarray(0,c),i]},Me=function(a,i){for(var o=0,c=0;c<i.length;++c)o+=a[c]*i[c];return o},Ze=function(a,i,o){var c=o.length,d=Ie(i+2);a[d]=255&c,a[d+1]=c>>>8,a[d+2]=255^a[d],a[d+3]=255^a[d+1];for(var h=0;h<c;++h)a[d+h+4]=o[h];return 8*(d+4+c)},Oe=function(a,i,o,c,d,h,f,_,v,w,T){ie(i,T++,o),++d[256];for(var N=Se(d,15),Z=N[0],y=N[1],R=Se(h,15),O=R[0],H=R[1],I=Ne(Z),B=I[0],X=I[1],ut=Ne(O),At=ut[0],Wt=ut[1],lt=new ti(19),J=0;J<B.length;++J)lt[31&B[J]]++;for(J=0;J<At.length;++J)lt[31&At[J]]++;for(var qt=Se(lt,7),Ft=qt[0],E=qt[1],M=19;M>4&&!Ft[xe[M-1]];--M);var xt,It,ft,Mt,G=w+5<<3,V=Me(d,vt)+Me(h,bt)+f,Pt=Me(d,Z)+Me(h,O)+f+14+3*M+Me(lt,Ft)+(2*lt[16]+3*lt[17]+7*lt[18]);if(G<=V&&G<=Pt)return Ze(i,T,a.subarray(v,v+w));if(ie(i,T,1+(Pt<V)),T+=2,Pt<V){xt=ct(Z,y,0),It=Z,ft=ct(O,H,0),Mt=O;var Et=ct(Ft,E,0);for(ie(i,T,X-257),ie(i,T+5,Wt-1),ie(i,T+10,M-4),T+=14,J=0;J<M;++J)ie(i,T+3*J,Ft[xe[J]]);T+=3*M;for(var pe=[B,At],P=0;P<2;++P){var j=pe[P];for(J=0;J<j.length;++J)ie(i,T,Et[z=31&j[J]]),T+=Ft[z],z>15&&(ie(i,T,j[J]>>>5&127),T+=j[J]>>>12)}}else xt=kt,It=vt,ft=zt,Mt=bt;for(J=0;J<_;++J)if(c[J]>255){var z;ae(i,T,xt[257+(z=c[J]>>>18&31)]),T+=It[z+257],z>7&&(ie(i,T,c[J]>>>23&31),T+=Rt[z]);var K=31&c[J];ae(i,T,ft[K]),T+=Mt[K],K>3&&(ae(i,T,c[J]>>>5&8191),T+=se[K])}else ae(i,T,xt[c[J]]),T+=It[c[J]];return ae(i,T,xt[256]),T+It[256]},Kt=new Ce([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cn=new t(0),yr=function(a,i,o,c,d){return function(a,i,o,c,d,h){var f=a.length,_=new t(c+f+5*(1+Math.floor(f/7e3))+d),v=_.subarray(c,_.length-d),w=0;if(!i||f<8)for(var T=0;T<=f;T+=65535){var N=T+65535;N<f?w=Ze(v,w,a.subarray(T,N)):(v[T]=h,w=Ze(v,w,a.subarray(T,f)))}else{for(var Z=Kt[i-1],y=Z>>>13,R=8191&Z,O=(1<<o)-1,H=new ti(32768),I=new ti(O+1),B=Math.ceil(o/3),X=2*B,ut=function(Be){return(a[Be]^a[Be+1]<<B^a[Be+2]<<X)&O},At=new Ce(25e3),Wt=new ti(288),lt=new ti(32),J=0,qt=0,Ft=(T=0,0),E=0,M=0;T<f;++T){var G=ut(T),V=32767&T,Pt=I[G];if(H[V]=Pt,I[G]=V,E<=T){var xt=f-T;if((J>7e3||Ft>24576)&&xt>423){w=Oe(a,v,0,At,Wt,lt,qt,Ft,M,T-M,w),Ft=J=qt=0,M=T;for(var It=0;It<286;++It)Wt[It]=0;for(It=0;It<30;++It)lt[It]=0}var ft=2,Mt=0,Et=R,pe=V-Pt&32767;if(xt>2&&G==ut(T-pe))for(var P=Math.min(y,xt)-1,j=Math.min(32767,T),z=Math.min(258,xt);pe<=j&&--Et&&V!=Pt;){if(a[T+ft]==a[T+ft-pe]){for(var K=0;K<z&&a[T+K]==a[T+K-pe];++K);if(K>ft){if(ft=K,Mt=pe,K>P)break;var ot=Math.min(pe,K-2),mt=0;for(It=0;It<ot;++It){var yt=T-pe+It+32768&32767,oe=yt-H[yt]+32768&32767;oe>mt&&(mt=oe,Pt=yt)}}}pe+=(V=Pt)-(Pt=H[V])+32768&32767}if(Mt){At[Ft++]=268435456|gt[ft]<<18|Tt[Mt];var ne=31&gt[ft],me=31&Tt[Mt];qt+=Rt[ne]+se[me],++Wt[257+ne],++lt[me],E=T+ft,++J}else At[Ft++]=a[T],++Wt[a[T]]}}w=Oe(a,v,h,At,Wt,lt,qt,Ft,M,T-M,w),h||(w=Ze(v,w,cn))}return Ut(_,0,c+Ie(w)+d)}(a,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+i.mem,o,c,!d)};function Xo(a,i){void 0===i&&(i={});var o=function(){var a=1,i=0;return{p:function(o){for(var c=a,d=i,h=o.length,f=0;f!=h;){for(var _=Math.min(f+5552,h);f<_;++f)d+=c+=o[f];c%=65521,d%=65521}a=c,i=d},d:function(){return(a>>>8<<16|(255&i)<<8|i>>>8)+2*((255&a)<<23)}}}();o.p(a);var c=yr(a,i,2,4);return function(a,i){var o=i.level,c=0==o?0:o<6?1:9==o?3:2;a[0]=120,a[1]=c<<6|(c?32-2*c:1)}(c,i),function(a,i,o){for(;o;++i)a[i]=o,o>>>=8}(c,c.length-4,o.d()),c}function Ma(a,i){return function(a,i,o){var c=a.length,d=!i||o,h=!o||o.i;o||(o={}),i||(i=new t(3*c));var f=function(ot){var mt=i.length;if(ot>mt){var yt=new t(Math.max(2*mt,ot));yt.set(i),i=yt}},_=o.f||0,v=o.p||0,w=o.b||0,T=o.l,N=o.d,Z=o.m,y=o.n,R=8*c;do{if(!T){o.f=_=pt(a,v,1);var O=pt(a,v+1,3);if(v+=3,!O){var I=a[(H=Ie(v)+4)-4]|a[H-3]<<8,B=H+I;if(B>c){if(h)throw"unexpected EOF";break}d&&f(w+I),i.set(a.subarray(H,B),w),o.b=w+=I,o.p=v=8*B;continue}if(1==O)T=Zt,N=Xt,Z=9,y=5;else{if(2!=O)throw"invalid block type";var X=pt(a,v,31)+257,ut=pt(a,v+10,15)+4,At=X+pt(a,v+5,31)+1;v+=14;for(var Wt=new t(At),lt=new t(19),J=0;J<ut;++J)lt[xe[J]]=pt(a,v+3*J,7);v+=3*ut;var qt=te(lt),Ft=(1<<qt)-1;if(!h&&v+At*(qt+7)>R)break;var E=ct(lt,qt,1);for(J=0;J<At;){var H,M=E[pt(a,v,Ft)];if(v+=15&M,(H=M>>>4)<16)Wt[J++]=H;else{var G=0,V=0;for(16==H?(V=3+pt(a,v,3),v+=2,G=Wt[J-1]):17==H?(V=3+pt(a,v,7),v+=3):18==H&&(V=11+pt(a,v,127),v+=7);V--;)Wt[J++]=G}}var Pt=Wt.subarray(0,X),xt=Wt.subarray(X);Z=te(Pt),y=te(xt),T=ct(Pt,Z,1),N=ct(xt,y,1)}if(v>R)throw"unexpected EOF"}d&&f(w+131072);for(var It=(1<<Z)-1,ft=(1<<y)-1,Mt=Z+y+18;h||v+Mt<R;){var Et=(G=T[we(a,v)&It])>>>4;if((v+=15&G)>R)throw"unexpected EOF";if(!G)throw"invalid length/literal";if(Et<256)i[w++]=Et;else{if(256==Et){T=null;break}var pe=Et-254;Et>264&&(pe=pt(a,v,(1<<(P=Rt[J=Et-257]))-1)+_t[J],v+=P);var j=N[we(a,v)&ft],z=j>>>4;if(!j)throw"invalid distance";if(v+=15&j,xt=Bt[z],z>3){var P=se[z];xt+=we(a,v)&(1<<P)-1,v+=P}if(v>R)throw"unexpected EOF";d&&f(w+131072);for(var K=w+pe;w<K;w+=4)i[w]=i[w-xt],i[w+1]=i[w+1-xt],i[w+2]=i[w+2-xt],i[w+3]=i[w+3-xt];w=K}}o.l=T,o.p=v,o.b=w,T&&(_=1,o.m=Z,o.d=N,o.n=y)}while(!_);return w==i.length?i:Ut(i,0,w)}((function(a){if(8!=(15&a[0])||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(32&a[1])throw"invalid zlib data: preset dictionaries not supported"}(a),a.subarray(2,-4)),i)}var Re=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function Cs(){Re.console&&"function"==typeof Re.console.log&&Re.console.log.apply(Re.console,arguments)}var di={log:Cs,warn:function(a){Re.console&&("function"==typeof Re.console.warn?Re.console.warn.apply(Re.console,arguments):Cs.call(null,arguments))},error:function(a){Re.console&&("function"==typeof Re.console.error?Re.console.error.apply(Re.console,arguments):Cs(a))}};function Ts(a,i,o){var c=new XMLHttpRequest;c.open("GET",a),c.responseType="blob",c.onload=function(){Ur(c.response,i,o)},c.onerror=function(){di.error("could not download file")},c.send()}function qc(a){var i=new XMLHttpRequest;i.open("HEAD",a,!1);try{i.send()}catch(o){}return i.status>=200&&i.status<=299}function Fa(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(o){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}}var ta,ks,Ur=Re.saveAs||("object"!==("undefined"==typeof window?"undefined":Te(window))||window!==Re?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(a,i,o){var c=Re.URL||Re.webkitURL,d=document.createElement("a");d.download=i=i||a.name||"download",d.rel="noopener","string"==typeof a?(d.href=a,d.origin!==location.origin?qc(d.href)?Ts(a,i,o):Fa(d,d.target="_blank"):Fa(d)):(d.href=c.createObjectURL(a),setTimeout(function(){c.revokeObjectURL(d.href)},4e4),setTimeout(function(){Fa(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,i,o){if(i=i||a.name||"download","string"==typeof a)if(qc(a))Ts(a,i,o);else{var c=document.createElement("a");c.href=a,c.target="_blank",setTimeout(function(){Fa(c)})}else navigator.msSaveOrOpenBlob((d=a,void 0===(h=o)?h={autoBom:!1}:"object"!==Te(h)&&(di.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob([String.fromCharCode(65279),d],{type:d.type}):d),i);var d,h}:function(a,i,o,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof a)return Ts(a,i,o);var d="application/octet-stream"===a.type,h=/constructor/i.test(Re.HTMLElement)||Re.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&h)&&"object"===("undefined"==typeof FileReader?"undefined":Te(FileReader))){var _=new FileReader;_.onloadend=function(){var T=_.result;T=f?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=T:location=T,c=null},_.readAsDataURL(a)}else{var v=Re.URL||Re.webkitURL,w=v.createObjectURL(a);c?c.location=w:location.href=w,c=null,setTimeout(function(){v.revokeObjectURL(w)},4e4)}});function Rc(a){var i;a=a||"",this.ok=!1,"#"==a.charAt(0)&&(a=a.substr(1,6)),a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[a=(a=a.replace(/ /g,"")).toLowerCase()]||a;for(var o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_){return[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_){return[parseInt(_[1],16),parseInt(_[2],16),parseInt(_[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_){return[parseInt(_[1]+_[1],16),parseInt(_[2]+_[2],16),parseInt(_[3]+_[3],16)]}}],c=0;c<o.length;c++){var h=o[c].process,f=o[c].re.exec(a);f&&(i=h(f),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var _=this.r.toString(16),v=this.g.toString(16),w=this.b.toString(16);return 1==_.length&&(_="0"+_),1==v.length&&(v="0"+v),1==w.length&&(w="0"+w),"#"+_+v+w}}function Ps(a,i){var o=a[0],c=a[1],d=a[2],h=a[3];o=Gi(o,c,d,h,i[0],7,-680876936),h=Gi(h,o,c,d,i[1],12,-389564586),d=Gi(d,h,o,c,i[2],17,606105819),c=Gi(c,d,h,o,i[3],22,-1044525330),o=Gi(o,c,d,h,i[4],7,-176418897),h=Gi(h,o,c,d,i[5],12,1200080426),d=Gi(d,h,o,c,i[6],17,-1473231341),c=Gi(c,d,h,o,i[7],22,-45705983),o=Gi(o,c,d,h,i[8],7,1770035416),h=Gi(h,o,c,d,i[9],12,-1958414417),d=Gi(d,h,o,c,i[10],17,-42063),c=Gi(c,d,h,o,i[11],22,-1990404162),o=Gi(o,c,d,h,i[12],7,1804603682),h=Gi(h,o,c,d,i[13],12,-40341101),d=Gi(d,h,o,c,i[14],17,-1502002290),o=Qi(o,c=Gi(c,d,h,o,i[15],22,1236535329),d,h,i[1],5,-165796510),h=Qi(h,o,c,d,i[6],9,-1069501632),d=Qi(d,h,o,c,i[11],14,643717713),c=Qi(c,d,h,o,i[0],20,-373897302),o=Qi(o,c,d,h,i[5],5,-701558691),h=Qi(h,o,c,d,i[10],9,38016083),d=Qi(d,h,o,c,i[15],14,-660478335),c=Qi(c,d,h,o,i[4],20,-405537848),o=Qi(o,c,d,h,i[9],5,568446438),h=Qi(h,o,c,d,i[14],9,-1019803690),d=Qi(d,h,o,c,i[3],14,-187363961),c=Qi(c,d,h,o,i[8],20,1163531501),o=Qi(o,c,d,h,i[13],5,-1444681467),h=Qi(h,o,c,d,i[2],9,-51403784),d=Qi(d,h,o,c,i[7],14,1735328473),o=$i(o,c=Qi(c,d,h,o,i[12],20,-1926607734),d,h,i[5],4,-378558),h=$i(h,o,c,d,i[8],11,-2022574463),d=$i(d,h,o,c,i[11],16,1839030562),c=$i(c,d,h,o,i[14],23,-35309556),o=$i(o,c,d,h,i[1],4,-1530992060),h=$i(h,o,c,d,i[4],11,1272893353),d=$i(d,h,o,c,i[7],16,-155497632),c=$i(c,d,h,o,i[10],23,-1094730640),o=$i(o,c,d,h,i[13],4,681279174),h=$i(h,o,c,d,i[0],11,-358537222),d=$i(d,h,o,c,i[3],16,-722521979),c=$i(c,d,h,o,i[6],23,76029189),o=$i(o,c,d,h,i[9],4,-640364487),h=$i(h,o,c,d,i[12],11,-421815835),d=$i(d,h,o,c,i[15],16,530742520),o=Ki(o,c=$i(c,d,h,o,i[2],23,-995338651),d,h,i[0],6,-198630844),h=Ki(h,o,c,d,i[7],10,1126891415),d=Ki(d,h,o,c,i[14],15,-1416354905),c=Ki(c,d,h,o,i[5],21,-57434055),o=Ki(o,c,d,h,i[12],6,1700485571),h=Ki(h,o,c,d,i[3],10,-1894986606),d=Ki(d,h,o,c,i[10],15,-1051523),c=Ki(c,d,h,o,i[1],21,-2054922799),o=Ki(o,c,d,h,i[8],6,1873313359),h=Ki(h,o,c,d,i[15],10,-30611744),d=Ki(d,h,o,c,i[6],15,-1560198380),c=Ki(c,d,h,o,i[13],21,1309151649),o=Ki(o,c,d,h,i[4],6,-145523070),h=Ki(h,o,c,d,i[11],10,-1120210379),d=Ki(d,h,o,c,i[2],15,718787259),c=Ki(c,d,h,o,i[9],21,-343485551),a[0]=wr(o,a[0]),a[1]=wr(c,a[1]),a[2]=wr(d,a[2]),a[3]=wr(h,a[3])}function qa(a,i,o,c,d,h){return i=wr(wr(i,a),wr(c,h)),wr(i<<d|i>>>32-d,o)}function Gi(a,i,o,c,d,h,f){return qa(i&o|~i&c,a,i,d,h,f)}function Qi(a,i,o,c,d,h,f){return qa(i&c|o&~c,a,i,d,h,f)}function $i(a,i,o,c,d,h,f){return qa(i^o^c,a,i,d,h,f)}function Ki(a,i,o,c,d,h,f){return qa(o^(i|~c),a,i,d,h,f)}function Bc(a){var i,o=a.length,c=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=a.length;i+=64)Ps(c,Rl(a.substring(i-64,i)));a=a.substring(i-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<a.length;i++)d[i>>2]|=a.charCodeAt(i)<<(i%4<<3);if(d[i>>2]|=128<<(i%4<<3),i>55)for(Ps(c,d),i=0;i<16;i++)d[i]=0;return d[14]=8*o,Ps(c,d),c}function Rl(a){var i,o=[];for(i=0;i<64;i+=4)o[i>>2]=a.charCodeAt(i)+(a.charCodeAt(i+1)<<8)+(a.charCodeAt(i+2)<<16)+(a.charCodeAt(i+3)<<24);return o}ta=Re.atob.bind(Re),ks=Re.btoa.bind(Re);var Uc="0123456789abcdef".split("");function Bl(a){for(var i="",o=0;o<4;o++)i+=Uc[a>>8*o+4&15]+Uc[a>>8*o&15];return i}function Ul(a){return String.fromCharCode((255&a)>>0,(65280&a)>>8,(16711680&a)>>16,(4278190080&a)>>24)}function Ss(a){return Bc(a).map(Ul).join("")}var jl="5d41402abc4b2a76b9719d911017c592"!=function(a){for(var i=0;i<a.length;i++)a[i]=Bl(a[i]);return a.join("")}(Bc("hello"));function wr(a,i){if(jl){var o=(65535&a)+(65535&i);return(a>>16)+(i>>16)+(o>>16)<<16|65535&o}return a+i&4294967295}function Ns(a,i){var o,c,d;if(a!==o){for(var f=(d=a,new Array(1+(256/a.length>>0)+1).join(d)),_=[],v=0;v<256;v++)_[v]=v;var w=0;for(v=0;v<256;v++){var T=_[v];w=(w+T+f.charCodeAt(v))%256,_[v]=_[w],_[w]=T}o=a,c=_}else _=c;var N=i.length,Z=0,y=0,R="";for(v=0;v<N;v++)y=(y+(T=_[Z=(Z+1)%256]))%256,_[Z]=_[y],_[y]=T,f=_[(_[Z]+_[y])%256],R+=String.fromCharCode(i.charCodeAt(v)^f);return R}var jc={print:4,modify:8,copy:16,"annot-forms":32};function vo(a,i,o,c){this.v=1,this.r=2;var d=192;a.forEach(function(_){if(void 0!==jc.perm)throw new Error("Invalid permission: "+_);d+=jc[_]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var h=(i+this.padding).substr(0,32),f=(o+this.padding).substr(0,32);this.O=this.processOwnerPassword(h,f),this.P=-(1+(255^d)),this.encryptionKey=Ss(h+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(c)).substr(0,5),this.U=Ns(this.encryptionKey,this.padding)}function bo(a){if(/[^\u0000-\u00ff]/.test(a))throw new Error("Invalid PDF Name Object: "+a+", Only accept ASCII characters.");for(var i="",o=a.length,c=0;c<o;c++){var d=a.charCodeAt(c);i+=d<33||35===d||37===d||40===d||41===d||47===d||60===d||62===d||91===d||93===d||123===d||125===d||d>126?"#"+("0"+d.toString(16)).slice(-2):a[c]}return i}function Hc(a){if("object"!==Te(a))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(o,c,d){if(d=d||!1,"string"!=typeof o||"function"!=typeof c||"boolean"!=typeof d)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(o)||(i[o]={});var h=Math.random().toString(35);return i[o][h]=[c,!!d],h},this.unsubscribe=function(o){for(var c in i)if(i[c][o])return delete i[c][o],0===Object.keys(i[c]).length&&delete i[c],!0;return!1},this.publish=function(o){if(i.hasOwnProperty(o)){var c=Array.prototype.slice.call(arguments,1),d=[];for(var h in i[o]){var f=i[o][h];try{f[0].apply(a,c)}catch(_){Re.console&&di.error("jsPDF PubSub Error",_.message,_)}f[1]&&d.push(h)}d.length&&d.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function ea(a){if(!(this instanceof ea))return new ea(a);var i="opacity,stroke-opacity".split(",");for(var o in a)a.hasOwnProperty(o)&&i.indexOf(o)>=0&&(this[o]=a[o]);this.id="",this.objectNumber=-1}function zc(a,i){this.gState=a,this.matrix=i,this.id="",this.objectNumber=-1}function Ar(a,i,o,c,d){if(!(this instanceof Ar))return new Ar(a,i,o,c,d);this.type="axial"===a?2:3,this.coords=i,this.colors=o,zc.call(this,c,d)}function jr(a,i,o,c,d){if(!(this instanceof jr))return new jr(a,i,o,c,d);this.boundingBox=a,this.xStep=i,this.yStep=o,this.stream="",this.cloneIndex=0,zc.call(this,c,d)}function Ee(a){var i,o="string"==typeof arguments[0]?arguments[0]:"p",c=arguments[1],d=arguments[2],h=arguments[3],f=[],_=1,v=16,w="S",T=null;"object"===Te(a=a||{})&&(o=a.orientation,c=a.unit||c,d=a.format||d,h=a.compress||a.compressPdf||h,null!==(T=a.encryption||null)&&(T.userPassword=T.userPassword||"",T.ownerPassword=T.ownerPassword||"",T.userPermissions=T.userPermissions||[]),_="number"==typeof a.userUnit?Math.abs(a.userUnit):1,void 0!==a.precision&&(i=a.precision),void 0!==a.floatPrecision&&(v=a.floatPrecision),w=a.defaultPathOperation||"S"),f=a.filters||(!0===h?["FlateEncode"]:f),c=c||"mm",o=(""+(o||"P")).toLowerCase();var N=a.putOnlyUsedFonts||!1,Z={},y={internal:{},__private__:{}};y.__private__.PubSub=Hc;var R="1.3",O=y.__private__.getPdfVersion=function(){return R};y.__private__.setPdfVersion=function(p){R=p};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return H};var I=y.__private__.getPageFormat=function(p){return H[p]};d=d||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},X=B.COMPAT;function ut(){this.saveGraphicsState(),Y(new Fe(ge,0,0,-ge,0,Dr()*ge).toString()+" cm"),this.setFontSize(this.getFontSize()/ge),w="n",X=B.ADVANCED}function At(){this.restoreGraphicsState(),w="S",X=B.COMPAT}var Wt=y.__private__.combineFontStyleAndFontWeight=function(p,C){if("bold"==p&&"normal"==C||"bold"==p&&400==C||"normal"==p&&"italic"==C||"bold"==p&&"italic"==C)throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(p=400==C||"normal"===C?"italic"===p?"italic":"normal":700!=C&&"bold"!==C||"normal"!==p?(700==C?"bold":C)+""+p:"bold"),p};y.advancedAPI=function(p){var C=X===B.COMPAT;return C&&ut.call(this),"function"!=typeof p||(p(this),C&&At.call(this)),this},y.compatAPI=function(p){var C=X===B.ADVANCED;return C&&At.call(this),"function"!=typeof p||(p(this),C&&ut.call(this)),this},y.isAdvancedAPI=function(){return X===B.ADVANCED};var lt,J=function(p){if(X!==B.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},qt=y.roundToPrecision=y.__private__.roundToPrecision=function(p,C){var U=i||C;if(isNaN(p)||isNaN(U))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(U).replace(/0+$/,"")};lt=y.hpf=y.__private__.hpf="number"==typeof v?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,v)}:"smart"===v?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,16)};var Ft=y.f2=y.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return qt(p,2)},E=y.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return qt(p,3)},M=y.scale=y.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return X===B.COMPAT?p*ge:X===B.ADVANCED?p:void 0},G=function(p){return X===B.COMPAT?Dr()-p:X===B.ADVANCED?p:void 0},V=function(p){return M(G(p))};y.__private__.setPrecision=y.setPrecision=function(p){"number"==typeof parseInt(p,10)&&(i=parseInt(p,10))};var Pt,xt="00000000000000000000000000000000",It=y.__private__.getFileId=function(){return xt},ft=y.__private__.setFileId=function(p){return xt=void 0!==p&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():xt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==T&&(an=new vo(T.userPermissions,T.userPassword,T.ownerPassword,xt)),xt};y.setFileId=function(p){return ft(p),this},y.getFileId=function(){return It()};var Mt=y.__private__.convertDateToPDFDate=function(p){var C=p.getTimezoneOffset(),U=C<0?"+":"-",W=Math.floor(Math.abs(C/60)),at=Math.abs(C%60),Nt=[U,z(W),"'",z(at),"'"].join("");return["D:",p.getFullYear(),z(p.getMonth()+1),z(p.getDate()),z(p.getHours()),z(p.getMinutes()),z(p.getSeconds()),Nt].join("")},Et=y.__private__.convertPDFDateToDate=function(p){var C=parseInt(p.substr(2,4),10),U=parseInt(p.substr(6,2),10)-1,W=parseInt(p.substr(8,2),10),at=parseInt(p.substr(10,2),10),Nt=parseInt(p.substr(12,2),10),$t=parseInt(p.substr(14,2),10);return new Date(C,U,W,at,Nt,$t,0)},pe=y.__private__.setCreationDate=function(p){var C;if(void 0===p&&(p=new Date),p instanceof Date)C=Mt(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=p}return Pt=C},P=y.__private__.getCreationDate=function(p){var C=Pt;return"jsDate"===p&&(C=Et(Pt)),C};y.setCreationDate=function(p){return pe(p),this},y.getCreationDate=function(p){return P(p)};var j,z=y.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},K=y.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},ot=0,mt=[],yt=[],wt=0,oe=[],ne=[],me=!1,ve=yt,Be=function(){ot=0,wt=0,yt=[],mt=[],oe=[],pr=Oi(),En=Oi()};y.__private__.setCustomOutputDestination=function(p){me=!0,ve=p};var Dt=function(p){me||(ve=p)};y.__private__.resetCustomOutputDestination=function(){me=!1,ve=yt};var Y=y.__private__.out=function(p){return p=p.toString(),wt+=p.length+1,ve.push(p),ve},Je=y.__private__.write=function(p){return Y(1===arguments.length?p.toString():Array.prototype.join.call(arguments," "))},ke=y.__private__.getArrayBuffer=function(p){for(var C=p.length,U=new ArrayBuffer(C),W=new Uint8Array(U);C--;)W[C]=p.charCodeAt(C);return U},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ee};var ce=a.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(p){return ce=X===B.ADVANCED?p/ge:p,this};var fe,he=y.__private__.getFontSize=y.getFontSize=function(){return X===B.COMPAT?ce:ce*ge},Le=a.R2L||!1;y.__private__.setR2L=y.setR2L=function(p){return Le=p,this},y.__private__.getR2L=y.getR2L=function(){return Le};var He,We=y.__private__.setZoomMode=function(p){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))fe=p;else if(isNaN(p)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(p))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');fe=p}else fe=parseInt(p,10)};y.__private__.getZoomMode=function(){return fe};var $e,ri=y.__private__.setPageMode=function(p){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');He=p};y.__private__.getPageMode=function(){return He};var hi=y.__private__.setLayoutMode=function(p){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');$e=p};y.__private__.getLayoutMode=function(){return $e},y.__private__.setDisplayMode=y.setDisplayMode=function(p,C,U){return We(p),hi(C),ri(U),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(p){if(-1===Object.keys(Ue).indexOf(p))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[p]},y.__private__.getDocumentProperties=function(){return Ue},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(p){for(var C in Ue)Ue.hasOwnProperty(C)&&p[C]&&(Ue[C]=p[C]);return this},y.__private__.setDocumentProperty=function(p,C){if(-1===Object.keys(Ue).indexOf(p))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[p]=C};var Xe,ge,Xi,oi,In,pi={},wi={},ir=[],si={},to={},ki={},On={},dr=null,Pi=0,ze=[],ci=new Hc(y),eo=a.hotfixes||[],Ji={},nr={},rr=[],Fe=function p(C,U,W,at,Nt,$t){if(!(this instanceof p))return new p(C,U,W,at,Nt,$t);isNaN(C)&&(C=1),isNaN(U)&&(U=0),isNaN(W)&&(W=0),isNaN(at)&&(at=1),isNaN(Nt)&&(Nt=0),isNaN($t)&&($t=0),this._matrix=[C,U,W,at,Nt,$t]};Object.defineProperty(Fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Fe.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(lt).join(p)},Fe.prototype.multiply=function(p){return new Fe(p.sx*this.sx+p.shy*this.shx,p.sx*this.shy+p.shy*this.sy,p.shx*this.sx+p.sy*this.shx,p.shx*this.shy+p.sy*this.sy,p.tx*this.sx+p.ty*this.shx+this.tx,p.tx*this.shy+p.ty*this.sy+this.ty)},Fe.prototype.decompose=function(){var p=this.sx,C=this.shy,U=this.shx,W=this.sy,at=this.tx,Nt=this.ty,$t=Math.sqrt(p*p+C*C),_e=(p/=$t)*U+(C/=$t)*W;U-=p*_e,W-=C*_e;var De=Math.sqrt(U*U+W*W);return _e/=De,p*(W/=De)<C*(U/=De)&&(p=-p,C=-C,_e=-_e,$t=-$t),{scale:new Fe($t,0,0,De,0,0),translate:new Fe(1,0,0,1,at,Nt),rotate:new Fe(p,C,-C,p,0,0),skew:new Fe(1,0,_e,1,0,0)}},Fe.prototype.toString=function(p){return this.join(" ")},Fe.prototype.inversed=function(){var p=this.sx,C=this.shy,U=this.shx,W=this.sy,at=this.tx,Nt=this.ty,$t=1/(p*W-C*U),_e=W*$t,De=-C*$t,Ve=-U*$t,Ge=p*$t;return new Fe(_e,De,Ve,Ge,-_e*at-Ve*Nt,-De*at-Ge*Nt)},Fe.prototype.applyToPoint=function(p){return new Eo(p.x*this.sx+p.y*this.shx+this.tx,p.x*this.shy+p.y*this.sy+this.ty)},Fe.prototype.applyToRectangle=function(p){var C=this.applyToPoint(p),U=this.applyToPoint(new Eo(p.x+p.w,p.y+p.h));return new ma(C.x,C.y,U.x-C.x,U.y-C.y)},Fe.prototype.clone=function(){return new Fe(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},y.Matrix=Fe;var Mn=y.matrixMult=function(p,C){return C.multiply(p)},or=new Fe(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=or;var hn=function(p,C){if(!to[p]){var U=(C instanceof Ar?"Sh":"P")+(Object.keys(si).length+1).toString(10);C.id=U,to[p]=U,si[U]=C,ci.publish("addPattern",C)}};y.ShadingPattern=Ar,y.TilingPattern=jr,y.addShadingPattern=function(p,C){return J("addShadingPattern()"),hn(p,C),this},y.beginTilingPattern=function(p){J("beginTilingPattern()"),us(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},y.endTilingPattern=function(p,C){J("endTilingPattern()"),C.stream=ne[j].join("\n"),hn(p,C),ci.publish("endTilingPattern",C),rr.pop().restore()};var Ri=y.__private__.newObject=function(){var p=Oi();return mn(p,!0),p},Oi=y.__private__.newObjectDeferred=function(){return ot++,mt[ot]=function(){return wt},ot},mn=function(p,C){return C="boolean"==typeof C&&C,mt[p]=wt,C&&Y(p+" 0 obj"),p},wo=y.__private__.newAdditionalObject=function(){var p={objId:Oi(),content:""};return oe.push(p),p},pr=Oi(),En=Oi(),Fn=y.__private__.decodeColorString=function(p){var C=p.split(" ");if(2!==C.length||"g"!==C[1]&&"G"!==C[1])5===C.length&&("k"===C[4]||"K"===C[4])&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var U=parseFloat(C[0]);C=[U,U,U,"r"]}for(var W="#",at=0;at<3;at++)W+=("0"+Math.floor(255*parseFloat(C[at])).toString(16)).slice(-2);return W},qn=y.__private__.encodeColorString=function(p){var C;"string"==typeof p&&(p={ch1:p});var U=p.ch1,W=p.ch2,at=p.ch3,Nt=p.ch4,$t="draw"===p.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof U&&"#"!==U.charAt(0)){var _e=new Rc(U);if(_e.ok)U=_e.toHex();else if(!/^\d*\.?\d*$/.test(U))throw new Error('Invalid color "'+U+'" passed to jsPDF.encodeColorString.')}if("string"==typeof U&&/^#[0-9A-Fa-f]{3}$/.test(U)&&(U="#"+U[1]+U[1]+U[2]+U[2]+U[3]+U[3]),"string"==typeof U&&/^#[0-9A-Fa-f]{6}$/.test(U)){var De=parseInt(U.substr(1),16);U=De>>16&255,W=De>>8&255,at=255&De}if(void 0===W||void 0===Nt&&U===W&&W===at)C="string"==typeof U?U+" "+$t[0]:2===p.precision?Ft(U/255)+" "+$t[0]:E(U/255)+" "+$t[0];else if(void 0===Nt||"object"===Te(Nt)){if(Nt&&!isNaN(Nt.a)&&0===Nt.a)return["1.","1.","1.",$t[1]].join(" ");C="string"==typeof U?[U,W,at,$t[1]].join(" "):2===p.precision?[Ft(U/255),Ft(W/255),Ft(at/255),$t[1]].join(" "):[E(U/255),E(W/255),E(at/255),$t[1]].join(" ")}else C="string"==typeof U?[U,W,at,Nt,$t[2]].join(" "):2===p.precision?[Ft(U),Ft(W),Ft(at),Ft(Nt),$t[2]].join(" "):[E(U),E(W),E(at),E(Nt),$t[2]].join(" ");return C},ar=y.__private__.getFilters=function(){return f},An=y.__private__.putStream=function(p){var C=(p=p||{}).data||"",U=p.filters||ar(),W=p.alreadyAppliedFilters||[],at=p.addLength1||!1,Nt=C.length,$t=p.objectId,_e=function(tn){return tn};if(null!==T&&void 0===$t)throw new Error("ObjectId must be passed to putStream for file encryption");null!==T&&(_e=an.encryptor($t,0));var De={};!0===U&&(U=["FlateEncode"]);var Ve=p.additionalKeyValues||[],Ge=(De=void 0!==Ee.API.processDataByFilters?Ee.API.processDataByFilters(C,U):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(W)?W.join(" "):W.toString());if(0!==De.data.length&&(Ve.push({key:"Length",value:De.data.length}),!0===at&&Ve.push({key:"Length1",value:Nt})),0!=Ge.length)if(Ge.split("/").length-1==1)Ve.push({key:"Filter",value:Ge});else{Ve.push({key:"Filter",value:"["+Ge+"]"});for(var ii=0;ii<Ve.length;ii+=1)if("DecodeParms"===Ve[ii].key){for(var Ci=[],Ni=0;Ni<De.reverseChain.split("/").length-1;Ni+=1)Ci.push("null");Ci.push(Ve[ii].value),Ve[ii].value="["+Ci.join(" ")+"]"}}Y("<<");for(var Mi=0;Mi<Ve.length;Mi++)Y("/"+Ve[Mi].key+" "+Ve[Mi].value);Y(">>"),0!==De.data.length&&(Y("stream"),Y(_e(De.data)),Y("endstream"))},sr=y.__private__.putPage=function(p){var C=p.number,U=p.data,W=p.objId,at=p.contentsObjId;mn(W,!0),Y("<</Type /Page"),Y("/Parent "+p.rootDictionaryObjId+" 0 R"),Y("/Resources "+p.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(lt(p.mediaBox.bottomLeftX))+" "+parseFloat(lt(p.mediaBox.bottomLeftY))+" "+lt(p.mediaBox.topRightX)+" "+lt(p.mediaBox.topRightY)+"]"),null!==p.cropBox&&Y("/CropBox ["+lt(p.cropBox.bottomLeftX)+" "+lt(p.cropBox.bottomLeftY)+" "+lt(p.cropBox.topRightX)+" "+lt(p.cropBox.topRightY)+"]"),null!==p.bleedBox&&Y("/BleedBox ["+lt(p.bleedBox.bottomLeftX)+" "+lt(p.bleedBox.bottomLeftY)+" "+lt(p.bleedBox.topRightX)+" "+lt(p.bleedBox.topRightY)+"]"),null!==p.trimBox&&Y("/TrimBox ["+lt(p.trimBox.bottomLeftX)+" "+lt(p.trimBox.bottomLeftY)+" "+lt(p.trimBox.topRightX)+" "+lt(p.trimBox.topRightY)+"]"),null!==p.artBox&&Y("/ArtBox ["+lt(p.artBox.bottomLeftX)+" "+lt(p.artBox.bottomLeftY)+" "+lt(p.artBox.topRightX)+" "+lt(p.artBox.topRightY)+"]"),"number"==typeof p.userUnit&&1!==p.userUnit&&Y("/UserUnit "+p.userUnit),ci.publish("putPage",{objId:W,pageContext:ze[C],pageNumber:C,page:U}),Y("/Contents "+at+" 0 R"),Y(">>"),Y("endobj");var Nt=U.join("\n");return X===B.ADVANCED&&(Nt+="\nQ"),mn(at,!0),An({data:Nt,filters:ar(),objectId:at}),Y("endobj"),W},io=y.__private__.putPages=function(){var p,C,U=[];for(p=1;p<=Pi;p++)ze[p].objId=Oi(),ze[p].contentsObjId=Oi();for(p=1;p<=Pi;p++)U.push(sr({number:p,data:ne[p],objId:ze[p].objId,contentsObjId:ze[p].contentsObjId,mediaBox:ze[p].mediaBox,cropBox:ze[p].cropBox,bleedBox:ze[p].bleedBox,trimBox:ze[p].trimBox,artBox:ze[p].artBox,userUnit:ze[p].userUnit,rootDictionaryObjId:pr,resourceDictionaryObjId:En}));mn(pr,!0),Y("<</Type /Pages");var W="/Kids [";for(C=0;C<Pi;C++)W+=U[C]+" 0 R ";Y(W+"]"),Y("/Count "+Pi),Y(">>"),Y("endobj"),ci.publish("postPutPages")},Ao=function(p){ci.publish("putFont",{font:p,out:Y,newObject:Ri,putStream:An}),!0!==p.isAlreadyPutted&&(p.objectNumber=Ri(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+bo(p.postScriptName)),Y("/Subtype /Type1"),"string"==typeof p.encoding&&Y("/Encoding /"+p.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Co=function(){for(var p in pi)pi.hasOwnProperty(p)&&(!1===N||!0===N&&Z.hasOwnProperty(p))&&Ao(pi[p])},To=function(p){p.objectNumber=Ri();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[lt(p.x),lt(p.y),lt(p.x+p.width),lt(p.y+p.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var U=p.pages[1].join("\n");An({data:U,additionalKeyValues:C,objectId:p.objectNumber}),Y("endobj")},ko=function(){for(var p in Ji)Ji.hasOwnProperty(p)&&To(Ji[p])},Wa=function(p,C){var U,W=[],at=1/(C-1);for(U=0;U<1;U+=at)W.push(U);W.push(1),0!=p[0].offset&&p.unshift({offset:0,color:p[0].color}),1!=p[p.length-1].offset&&p.push({offset:1,color:p[p.length-1].color});for(var _e="",De=0,Ve=0;Ve<W.length;Ve++){for(U=W[Ve];U>p[De+1].offset;)De++;var Ge=p[De].offset,ii=(U-Ge)/(p[De+1].offset-Ge),Ci=p[De].color,Ni=p[De+1].color;_e+=K(Math.round((1-ii)*Ci[0]+ii*Ni[0]).toString(16))+K(Math.round((1-ii)*Ci[1]+ii*Ni[1]).toString(16))+K(Math.round((1-ii)*Ci[2]+ii*Ni[2]).toString(16))}return _e.trim()},Us=function(p,C){C||(C=21);var U=Ri(),W=Wa(p.colors,C),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+C+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),An({data:W,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:U}),Y("endobj"),p.objectNumber=Ri(),Y("<< /ShadingType "+p.type),Y("/ColorSpace /DeviceRGB");var Nt="/Coords ["+lt(parseFloat(p.coords[0]))+" "+lt(parseFloat(p.coords[1]))+" ";Nt+=2===p.type?lt(parseFloat(p.coords[2]))+" "+lt(parseFloat(p.coords[3])):lt(parseFloat(p.coords[2]))+" "+lt(parseFloat(p.coords[3]))+" "+lt(parseFloat(p.coords[4]))+" "+lt(parseFloat(p.coords[5])),Y(Nt+="]"),p.matrix&&Y("/Matrix ["+p.matrix.toString()+"]"),Y("/Function "+U+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},js=function(p,C){var U=Oi(),W=Ri();C.push({resourcesOid:U,objectOid:W}),p.objectNumber=W;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+p.boundingBox.map(lt).join(" ")+"]"}),at.push({key:"XStep",value:lt(p.xStep)}),at.push({key:"YStep",value:lt(p.yStep)}),at.push({key:"Resources",value:U+" 0 R"}),p.matrix&&at.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),An({data:p.stream,additionalKeyValues:at,objectId:p.objectNumber}),Y("endobj")},Po=function(p){var C;for(C in si)si.hasOwnProperty(C)&&(si[C]instanceof Ar?Us(si[C]):si[C]instanceof jr&&js(si[C],p))},Ga=function(p){for(var C in p.objectNumber=Ri(),Y("<<"),p)switch(C){case"opacity":Y("/ca "+Ft(p[C]));break;case"stroke-opacity":Y("/CA "+Ft(p[C]))}Y(">>"),Y("endobj")},Lr=function(){var p;for(p in ki)ki.hasOwnProperty(p)&&Ga(ki[p])},ca=function(){for(var p in Y("/XObject <<"),Ji)Ji.hasOwnProperty(p)&&Ji[p].objectNumber>=0&&Y("/"+p+" "+Ji[p].objectNumber+" 0 R");ci.publish("putXobjectDict"),Y(">>")},Hs=function(){an.oid=Ri(),Y("<<"),Y("/Filter /Standard"),Y("/V "+an.v),Y("/R "+an.r),Y("/U <"+an.toHexString(an.U)+">"),Y("/O <"+an.toHexString(an.O)+">"),Y("/P "+an.P),Y(">>"),Y("endobj")},Qa=function(){for(var p in Y("/Font <<"),pi)pi.hasOwnProperty(p)&&(!1===N||!0===N&&Z.hasOwnProperty(p))&&Y("/"+p+" "+pi[p].objectNumber+" 0 R");Y(">>")},zs=function(){if(Object.keys(si).length>0){for(var p in Y("/Shading <<"),si)si.hasOwnProperty(p)&&si[p]instanceof Ar&&si[p].objectNumber>=0&&Y("/"+p+" "+si[p].objectNumber+" 0 R");ci.publish("putShadingPatternDict"),Y(">>")}},dn=function(p){if(Object.keys(si).length>0){for(var C in Y("/Pattern <<"),si)si.hasOwnProperty(C)&&si[C]instanceof y.TilingPattern&&si[C].objectNumber>=0&&si[C].objectNumber<p&&Y("/"+C+" "+si[C].objectNumber+" 0 R");ci.publish("putTilingPatternDict"),Y(">>")}},Rn=function(){if(Object.keys(ki).length>0){var p;for(p in Y("/ExtGState <<"),ki)ki.hasOwnProperty(p)&&ki[p].objectNumber>=0&&Y("/"+p+" "+ki[p].objectNumber+" 0 R");ci.publish("putGStateDict"),Y(">>")}},Si=function(p){mn(p.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qa(),zs(),dn(p.objectOid),Rn(),ca(),Y(">>"),Y("endobj")},la=function(){var p=[];Co(),Lr(),ko(),Po(p),ci.publish("putResources"),p.forEach(Si),Si({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),ci.publish("postPutResources")},cr=function(){ci.publish("putAdditionalObjects");for(var p=0;p<oe.length;p++){var C=oe[p];mn(C.objId,!0),Y(C.content),Y("endobj")}ci.publish("postPutAdditionalObjects")},ei=function(p){wi[p.fontName]=wi[p.fontName]||{},wi[p.fontName][p.fontStyle]=p.id},bi=function(p,C,U,W,at){var Nt={id:"F"+(Object.keys(pi).length+1).toString(10),postScriptName:p,fontName:C,fontStyle:U,encoding:W,isStandardFont:at||!1,metadata:{}};return ci.publish("addFont",{font:Nt,instance:this}),pi[Nt.id]=Nt,ei(Nt),Nt.id},Ys=function(p){for(var C=0,U=ee.length;C<U;C++){var W=bi.call(this,p[C][0],p[C][1],p[C][2],ee[C][3],!0);!1===N&&(Z[W]=!0);var at=p[C][0].split("-");ei({id:W,fontName:at[0],fontStyle:at[1]||""})}ci.publish("addFonts",{fonts:pi,dictionary:wi})},_n=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(W){var C=W.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var U="Error in function "+C.split("\n")[0].split("<")[0]+": "+W.message;if(!Re.console)throw new Error(U);Re.console.error(U,W),Re.alert&&alert(U)}},p.foo.bar=p,p.foo},So=function(p,C){var U,W,at,Nt,$t,_e,De,Ve,Ge;if(at=(C=C||{}).sourceEncoding||"Unicode",$t=C.outputEncoding,(C.autoencode||$t)&&pi[Xe].metadata&&pi[Xe].metadata[at]&&pi[Xe].metadata[at].encoding&&(Nt=pi[Xe].metadata[at].encoding,!$t&&pi[Xe].encoding&&($t=pi[Xe].encoding),!$t&&Nt.codePages&&($t=Nt.codePages[0]),"string"==typeof $t&&($t=Nt[$t]),$t)){for(De=!1,_e=[],U=0,W=p.length;U<W;U++)(Ve=$t[p.charCodeAt(U)])?_e.push(String.fromCharCode(Ve)):_e.push(p[U]),_e[U].charCodeAt(0)>>8&&(De=!0);p=_e.join("")}for(U=p.length;void 0===De&&0!==U;)p.charCodeAt(U-1)>>8&&(De=!0),U--;if(!De)return p;for(_e=C.noBOM?[]:[254,255],U=0,W=p.length;U<W;U++){if((Ge=(Ve=p.charCodeAt(U))>>8)>>8)throw new Error("Character at position "+U+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_e.push(Ge),_e.push(Ve-(Ge<<8))}return String.fromCharCode.apply(void 0,_e)},vn=y.__private__.pdfEscape=y.pdfEscape=function(p,C){return So(p,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ua=y.__private__.beginPage=function(p){ne[++Pi]=[],ze[Pi]={objId:0,contentsObjId:0,userUnit:Number(_),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},Ka(Pi),Dt(ne[j])},$a=function(p,C){var U,W,at;switch(o=C||o,"string"==typeof p&&(U=I(p.toLowerCase()),Array.isArray(U)&&(W=U[0],at=U[1])),Array.isArray(p)&&(W=p[0]*ge,at=p[1]*ge),isNaN(W)&&(W=d[0],at=d[1]),(W>14400||at>14400)&&(di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),W=Math.min(14400,W),at=Math.min(14400,at)),d=[W,at],o.substr(0,1)){case"l":at>W&&(d=[at,W]);break;case"p":W>at&&(d=[at,W])}ua(d),os(Io),Y(Cn),0!==fa&&Y(fa+" J"),0!==ga&&Y(ga+" j"),ci.publish("addPage",{pageNumber:Pi})},Js=function(p){p>0&&p<=Pi&&(ne.splice(p,1),ze.splice(p,1),Pi--,j>Pi&&(j=Pi),this.setPage(j))},Ka=function(p){p>0&&p<=Pi&&(j=p)},Xa=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return ne.length-1},ts=function(p,C,U){var W,at=void 0;return U=U||{},C=void 0!==C?C:pi[Xe].fontStyle,W=(p=void 0!==p?p:pi[Xe].fontName).toLowerCase(),void 0!==wi[W]&&void 0!==wi[W][C]?at=wi[W][C]:void 0!==wi[p]&&void 0!==wi[p][C]?at=wi[p][C]:!1===U.disableWarning&&di.warn("Unable to look up font label for font '"+p+"', '"+C+"'. Refer to getFontList() for available fonts."),at||U.noFallback||null==(at=wi.times[C])&&(at=wi.times.normal),at},Vs=y.__private__.putInfo=function(){var p=Ri(),C=function(W){return W};for(var U in null!==T&&(C=an.encryptor(p,0)),Y("<<"),Y("/Producer ("+vn(C("jsPDF "+Ee.version))+")"),Ue)Ue.hasOwnProperty(U)&&Ue[U]&&Y("/"+U.substr(0,1).toUpperCase()+U.substr(1)+" ("+vn(C(Ue[U]))+")");Y("/CreationDate ("+vn(C(Pt))+")"),Y(">>"),Y("endobj")},No=y.__private__.putCatalog=function(p){var C=(p=p||{}).rootDictionaryObjId||pr;switch(Ri(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+C+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var U=""+fe;"%"===U.substr(U.length-1)&&(fe=parseInt(fe)/100),"number"==typeof fe&&Y("/OpenAction [3 0 R /XYZ null null "+Ft(fe)+"]")}switch($e||($e="continuous"),$e){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}He&&Y("/PageMode /"+He),ci.publish("putCatalog"),Y(">>"),Y("endobj")},cl=y.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ot+1)),Y("/Root "+ot+" 0 R"),Y("/Info "+(ot-1)+" 0 R"),null!==T&&Y("/Encrypt "+an.oid+" 0 R"),Y("/ID [ <"+xt+"> <"+xt+"> ]"),Y(">>")},Ws=y.__private__.putHeader=function(){Y("%PDF-"+R),Y("%\xba\xdf\xac\xe0")},Gs=y.__private__.putXRef=function(){var p="0000000000";Y("xref"),Y("0 "+(ot+1)),Y("0000000000 65535 f ");for(var C=1;C<=ot;C++)Y("function"==typeof mt[C]?(p+mt[C]()).slice(-10)+" 00000 n ":void 0!==mt[C]?(p+mt[C]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},fr=y.__private__.buildDocument=function(){Be(),Dt(yt),ci.publish("buildDocument"),Ws(),io(),cr(),la(),null!==T&&Hs(),Vs(),No();var p=wt;return Gs(),cl(),Y("startxref"),Y(""+p),Y("%%EOF"),Dt(ne[j]),yt.join("\n")},no=y.__private__.getBlob=function(p){return new Blob([ke(p)],{type:"application/pdf"})},Lo=y.output=y.__private__.output=_n(function(p,C){switch("string"==typeof(C=C||{})?C={filename:C}:C.filename=C.filename||"generated.pdf",p){case void 0:return fr();case"save":y.save(C.filename);break;case"arraybuffer":return ke(fr());case"blob":return no(fr());case"bloburi":case"bloburl":if(void 0!==Re.URL&&"function"==typeof Re.URL.createObjectURL)return Re.URL&&Re.URL.createObjectURL(no(fr()))||void 0;di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var U="",W=fr();try{U=ks(W)}catch(Ni){U=ks(unescape(encodeURIComponent(W)))}return"data:application/pdf;filename="+C.filename+";base64,"+U;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Re)){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(at=C.pdfObjectUrl,Nt="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",_e=Re.open();return null!==_e&&_e.document.write($t),_e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Re)){var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',Ve=Re.open();if(null!==Ve){Ve.document.write(De);var Ge=this;Ve.document.documentElement.querySelector("#pdfViewer").onload=function(){Ve.document.title=C.filename,Ve.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ge.output("bloburl"))}}return Ve}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Re))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Ci=Re.open();if(null!==Ci&&(Ci.document.write(ii),Ci.document.title=C.filename),Ci||"undefined"==typeof safari)return Ci;break;case"datauri":case"dataurl":return Re.document.location.href=this.output("datauristring",C);default:return null}}),Qs=function(p){return!0===Array.isArray(eo)&&eo.indexOf(p)>-1};switch(c){case"pt":ge=1;break;case"mm":ge=72/25.4;break;case"cm":ge=72/2.54;break;case"in":ge=72;break;case"px":ge=1==Qs("px_scaling")?.75:96/72;break;case"pc":case"em":ge=12;break;case"ex":ge=6;break;default:if("number"!=typeof c)throw new Error("Invalid unit: "+c);ge=c}var an=null;pe(),ft();var ll=function(p){return null!==T?an.encryptor(p,0):function(C){return C}},$s=y.__private__.getPageInfo=y.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ze[p].objId,pageNumber:p,pageContext:ze[p]}},Ye=y.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in ze)if(ze[C].objId===p)break;return $s(C)},ul=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:ze[j].objId,pageNumber:j,pageContext:ze[j]}};y.addPage=function(){return $a.apply(this,arguments),this},y.setPage=function(){return Ka.apply(this,arguments),Dt.call(this,ne[j]),this},y.insertPage=function(p){return this.addPage(),this.movePage(j,p),this},y.movePage=function(p,C){var U,W;if(p>C){U=ne[p],W=ze[p];for(var at=p;at>C;at--)ne[at]=ne[at-1],ze[at]=ze[at-1];ne[C]=U,ze[C]=W,this.setPage(C)}else if(p<C){U=ne[p],W=ze[p];for(var Nt=p;Nt<C;Nt++)ne[Nt]=ne[Nt+1],ze[Nt]=ze[Nt+1];ne[C]=U,ze[C]=W,this.setPage(C)}return this},y.deletePage=function(){return Js.apply(this,arguments),this},y.__private__.text=y.text=function(p,C,U,W,at){var Nt,$t,_e,De,Ve,Ge,ii,Ci,Ni,Mi=(W=W||{}).scope||this;if("number"==typeof p&&"number"==typeof C&&("string"==typeof U||Array.isArray(U))){var tn=U;U=C,C=p,p=tn}if(arguments[3]instanceof Fe?(J("The transform parameter of text() with a Matrix value"),Ni=at):(_e=arguments[4],De=arguments[5],"object"===Te(ii=arguments[3])&&null!==ii||("string"==typeof _e&&(De=_e,_e=null),"string"==typeof ii&&(De=ii,ii=null),"number"==typeof ii&&(_e=ii,ii=null),W={flags:ii,angle:_e,align:De})),isNaN(C)||isNaN(U)||null==p)throw new Error("Invalid arguments passed to jsPDF.text");if(0===p.length)return Mi;var ji="",Bn=!1,bn="number"==typeof W.lineHeightFactor?W.lineHeightFactor:oo,mr=Mi.internal.scaleFactor;function hs(yi){return yi=yi.split("\t").join(Array(W.TabLen||9).join(" ")),vn(yi,ii)}function ya(yi){for(var mi,Ei=yi.concat(),Hi=[],qr=Ei.length;qr--;)"string"==typeof(mi=Ei.shift())?Hi.push(mi):Array.isArray(yi)&&(1===mi.length||void 0===mi[1]&&void 0===mi[2])?Hi.push(mi[0]):Hi.push([mi[0],mi[1],mi[2]]);return Hi}function xa(yi,mi){var Ei;if("string"==typeof yi)Ei=mi(yi)[0];else if(Array.isArray(yi)){for(var Hi,qr,ho=yi.concat(),Sa=[],sc=ho.length;sc--;)"string"==typeof(Hi=ho.shift())?Sa.push(mi(Hi)[0]):Array.isArray(Hi)&&"string"==typeof Hi[0]&&(qr=mi(Hi[0],Hi[1],Hi[2]),Sa.push([qr[0],qr[1],qr[2]]));Ei=Sa}return Ei}var qo=!1,wa=!0;if("string"==typeof p)qo=!0;else if(Array.isArray(p)){var Aa=p.concat();$t=[];for(var Ro,fn=Aa.length;fn--;)("string"!=typeof(Ro=Aa.shift())||Array.isArray(Ro)&&"string"!=typeof Ro[0])&&(wa=!1);qo=wa}if(!1===qo)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');"string"==typeof p&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var Bo=ce/Mi.internal.scaleFactor,Uo=Bo*(bn-1);switch(W.baseline){case"bottom":U-=Uo;break;case"top":U+=Bo-Uo;break;case"hanging":U+=Bo-2*Uo;break;case"middle":U+=Bo/2-Uo}if((Ge=W.maxWidth||0)>0&&("string"==typeof p?p=Mi.splitTextToSize(p,Ge):"[object Array]"===Object.prototype.toString.call(p)&&(p=p.reduce(function(yi,mi){return yi.concat(Mi.splitTextToSize(mi,Ge))},[]))),ci.publish("preProcessText",Nt={text:p,x:C,y:U,options:W,mutex:{pdfEscape:vn,activeFontKey:Xe,fonts:pi,activeFontSize:ce}}),p=Nt.text,_e=(W=Nt.options).angle,Ni instanceof Fe||!_e||"number"!=typeof _e)_e&&_e instanceof Fe&&(Ni=_e);else{_e*=Math.PI/180,0===W.rotationDirection&&(_e=-_e),X===B.ADVANCED&&(_e=-_e);var jo=Math.cos(_e),Ca=Math.sin(_e);Ni=new Fe(jo,Ca,-Ca,jo,0,0)}X!==B.ADVANCED||Ni||(Ni=or),void 0!==(Ve=W.charSpace||Mo)&&(ji+=lt(M(Ve))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Ci=W.horizontalScale)&&(ji+=lt(100*Ci)+" Tz\n");var gn=-1,rc=void 0!==W.renderingMode?W.renderingMode:W.stroke,Ta=Mi.internal.getCurrentPageInfo().pageContext;switch(rc){case 0:case!1:case"fill":gn=0;break;case 1:case!0:case"stroke":gn=1;break;case 2:case"fillThenStroke":gn=2;break;case 3:case"invisible":gn=3;break;case 4:case"fillAndAddForClipping":gn=4;break;case 5:case"strokeAndAddPathForClipping":gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gn=6;break;case 7:case"addToPathForClipping":gn=7}var ds=void 0!==Ta.usedRenderingMode?Ta.usedRenderingMode:-1;-1!==gn?ji+=gn+" Tr\n":-1!==ds&&(ji+="0 Tr\n"),-1!==gn&&(Ta.usedRenderingMode=gn),De=W.align||"left";var Un,ka=ce*bn,oc=Mi.internal.pageSize.getWidth(),ac=pi[Xe];Ve=W.charSpace||Mo,Ge=W.maxWidth||0,ii=Object.assign({autoencode:!0,noBOM:!0},W.flags);var Ir=[];if("[object Array]"===Object.prototype.toString.call(p)){var Tn;$t=ya(p),"left"!==De&&(Un=$t.map(function(yi){return Mi.getStringUnitWidth(yi,{font:ac,charSpace:Ve,fontSize:ce,doKerning:!1})*ce/mr}));var jn,Or=0;if("right"===De){C-=Un[0],p=[],fn=$t.length;for(var ur=0;ur<fn;ur++)0===ur?(jn=lr(C),Tn=ao(U)):(jn=M(Or-Un[ur]),Tn=-ka),p.push([$t[ur],jn,Tn]),Or=Un[ur]}else if("center"===De){C-=Un[0]/2,p=[],fn=$t.length;for(var _r=0;_r<fn;_r++)0===_r?(jn=lr(C),Tn=ao(U)):(jn=M((Or-Un[_r])/2),Tn=-ka),p.push([$t[_r],jn,Tn]),Or=Un[_r]}else if("left"===De){p=[],fn=$t.length;for(var Ho=0;Ho<fn;Ho++)p.push($t[Ho])}else{if("justify"!==De)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');p=[],fn=$t.length,Ge=0!==Ge?Ge:oc;for(var Hn=0;Hn<fn;Hn++)Tn=0===Hn?ao(U):-ka,jn=0===Hn?lr(C):0,Ir.push(Hn<fn-1?lt(M((Ge-Un[Hn])/($t[Hn].split(" ").length-1))):0),p.push([$t[Hn],jn,Tn])}}var zo="boolean"==typeof W.R2L?W.R2L:Le;!0===zo&&(p=xa(p,function(yi,mi,Ei){return[yi.split("").reverse().join(""),mi,Ei]})),ci.publish("postProcessText",Nt={text:p,x:C,y:U,options:W,mutex:{pdfEscape:vn,activeFontKey:Xe,fonts:pi,activeFontSize:ce}}),p=Nt.text,Bn=Nt.mutex.isHex||!1;var Pa=pi[Xe].encoding;"WinAnsiEncoding"!==Pa&&"StandardEncoding"!==Pa||(p=xa(p,function(yi,mi,Ei){return[hs(yi),mi,Ei]})),$t=ya(p),p=[];for(var Mr,zn,Er,Yo=0,Jo=1,lo=Array.isArray($t[0])?Jo:Yo,uo="",ps=function(yi,mi,Ei){var Hi="";return Ei instanceof Fe?(Ei="number"==typeof W.angle?Mn(Ei,new Fe(1,0,0,1,yi,mi)):Mn(new Fe(1,0,0,1,yi,mi),Ei),X===B.ADVANCED&&(Ei=Mn(new Fe(1,0,0,-1,0,0),Ei)),Hi=Ei.join(" ")+" Tm\n"):Hi=lt(yi)+" "+lt(mi)+" Td\n",Hi},Yn=0;Yn<$t.length;Yn++){switch(uo="",lo){case Jo:Er=(Bn?"<":"(")+$t[Yn][0]+(Bn?">":")"),Mr=parseFloat($t[Yn][1]),zn=parseFloat($t[Yn][2]);break;case Yo:Er=(Bn?"<":"(")+$t[Yn]+(Bn?">":")"),Mr=lr(C),zn=ao(U)}void 0!==Ir&&void 0!==Ir[Yn]&&(uo=Ir[Yn]+" Tw\n"),0===Yn?p.push(uo+ps(Mr,zn,Ni)+Er):lo===Yo?p.push(uo+Er):lo===Jo&&p.push(uo+ps(Mr,zn,Ni)+Er)}p=p.join(lo===Yo?" Tj\nT* ":" Tj\n"),p+=" Tj\n";var Fr="BT\n/";return Fr+=Xe+" "+ce+" Tf\n",Fr+=lt(ce*bn)+" TL\n",Fr+=so+"\n",Fr+=ji,Fr+=p,Y(Fr+="ET"),Z[Xe]=!0,Mi};var Ks=y.__private__.clip=y.clip=function(p){return Y("evenodd"===p?"W*":"W"),this};y.clipEvenOdd=function(){return Ks("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Y("n"),this};var pn=y.__private__.isValidStyle=function(p){var C=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)&&(C=!0),C};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(p){return pn(p)&&(w=p),this};var es=y.__private__.getStyle=y.getStyle=function(p){var C=w;switch(p){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=p}return C},is=y.close=function(){return Y("h"),this};y.stroke=function(){return Y("S"),this},y.fill=function(p){return ha("f",p),this},y.fillEvenOdd=function(p){return ha("f*",p),this},y.fillStroke=function(p){return ha("B",p),this},y.fillStrokeEvenOdd=function(p){return ha("B*",p),this};var ha=function(p,C){"object"===Te(C)?rs(C,p):Y(p)},Zo=function(p){null===p||X===B.ADVANCED&&void 0===p||(p=es(p),Y(p))};function ns(p,C,U,W,at){var Nt=new jr(C||this.boundingBox,U||this.xStep,W||this.yStep,this.gState,at||this.matrix);Nt.stream=this.stream;var $t=p+"$$"+this.cloneIndex+++"$$";return hn($t,Nt),Nt}var rs=function(p,C){var U=to[p.key],W=si[U];if(W instanceof Ar)Y("q"),Y(Xs(C)),W.gState&&y.setGState(W.gState),Y(p.matrix.toString()+" cm"),Y("/"+U+" sh"),Y("Q");else if(W instanceof jr){var at=new Fe(1,0,0,-1,0,Dr());p.matrix&&(at=at.multiply(p.matrix||or),U=ns.call(W,p.key,p.boundingBox,p.xStep,p.yStep,at).id),Y("q"),Y("/Pattern cs"),Y("/"+U+" scn"),W.gState&&y.setGState(W.gState),Y(C),Y("Q")}},Xs=function(p){switch(p){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},da=y.moveTo=function(p,C){return Y(lt(M(p))+" "+lt(V(C))+" m"),this},ro=y.lineTo=function(p,C){return Y(lt(M(p))+" "+lt(V(C))+" l"),this},Zr=y.curveTo=function(p,C,U,W,at,Nt){return Y([lt(M(p)),lt(V(C)),lt(M(U)),lt(V(W)),lt(M(at)),lt(V(Nt)),"c"].join(" ")),this};y.__private__.line=y.line=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!pn(at))throw new Error("Invalid arguments passed to jsPDF.line");return X===B.COMPAT?this.lines([[U-p,W-C]],p,C,[1,1],at||"S"):this.lines([[U-p,W-C]],p,C,[1,1]).stroke()},y.__private__.lines=y.lines=function(p,C,U,W,at,Nt){var $t,_e,De,Ve,Ge,tn,ji,Bn;if("number"==typeof p&&(Bn=U,U=C,C=p,p=Bn),W=W||[1,1],Nt=Nt||!1,isNaN(C)||isNaN(U)||!Array.isArray(p)||!Array.isArray(W)||!pn(at)||"boolean"!=typeof Nt)throw new Error("Invalid arguments passed to jsPDF.lines");for(da(C,U),$t=W[0],_e=W[1],Ve=p.length,tn=C,ji=U,De=0;De<Ve;De++)2===(Ge=p[De]).length?ro(tn=Ge[0]*$t+tn,ji=Ge[1]*_e+ji):Zr(Ge[0]*$t+tn,Ge[1]*_e+ji,Ge[2]*$t+tn,Ge[3]*_e+ji,tn=Ge[4]*$t+tn,ji=Ge[5]*_e+ji);return Nt&&is(),Zo(at),this},y.path=function(p){for(var C=0;C<p.length;C++){var U=p[C],W=U.c;switch(U.op){case"m":da(W[0],W[1]);break;case"l":ro(W[0],W[1]);break;case"c":Zr.apply(this,W);break;case"h":is()}}return this},y.__private__.rect=y.rect=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!pn(at))throw new Error("Invalid arguments passed to jsPDF.rect");return X===B.COMPAT&&(W=-W),Y([lt(M(p)),lt(V(C)),lt(M(U)),lt(M(W)),"re"].join(" ")),Zo(at),this},y.__private__.triangle=y.triangle=function(p,C,U,W,at,Nt,$t){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(at)||isNaN(Nt)||!pn($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[U-p,W-C],[at-U,Nt-W],[p-at,C-Nt]],p,C,[1,1],$t,!0),this},y.__private__.roundedRect=y.roundedRect=function(p,C,U,W,at,Nt,$t){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(at)||isNaN(Nt)||!pn($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _e=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*U),Nt=Math.min(Nt,.5*W),this.lines([[U-2*at,0],[at*_e,0,at,Nt-Nt*_e,at,Nt],[0,W-2*Nt],[0,Nt*_e,-at*_e,Nt,-at,Nt],[2*at-U,0],[-at*_e,0,-at,-Nt*_e,-at,-Nt],[0,2*Nt-W],[0,-Nt*_e,at*_e,-Nt,at,-Nt]],p+at,C,[1,1],$t,!0),this},y.__private__.ellipse=y.ellipse=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!pn(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*U,$t=4/3*(Math.SQRT2-1)*W;return da(p+U,C),Zr(p+U,C-$t,p+Nt,C-W,p,C-W),Zr(p-Nt,C-W,p-U,C-$t,p-U,C),Zr(p-U,C+$t,p-Nt,C+W,p,C+W),Zr(p+Nt,C+W,p+U,C+$t,p+U,C),Zo(at),this},y.__private__.circle=y.circle=function(p,C,U,W){if(isNaN(p)||isNaN(C)||isNaN(U)||!pn(W))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,C,U,U,W)},y.setFont=function(p,C,U){return U&&(C=Wt(C,U)),Xe=ts(p,C,{disableWarning:!1}),this};var Do=y.__private__.getFont=y.getFont=function(){return pi[ts.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var p,C,U={};for(p in wi)if(wi.hasOwnProperty(p))for(C in U[p]=[],wi[p])wi[p].hasOwnProperty(C)&&U[p].push(C);return U},y.addFont=function(p,C,U,W,at){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Nt.indexOf(arguments[3])?at=arguments[3]:arguments[3]&&-1==Nt.indexOf(arguments[3])&&(U=Wt(U,W)),bi.call(this,p,C,U,at=at||"Identity-H")};var oo,Io=a.lineWidth||.200025,Oo=y.__private__.getLineWidth=y.getLineWidth=function(){return Io},os=y.__private__.setLineWidth=y.setLineWidth=function(p){return Io=p,Y(lt(M(p))+" w"),this};y.__private__.setLineDash=Ee.API.setLineDash=Ee.API.setLineDashPattern=function(p,C){if(p=p||[],C=C||0,isNaN(C)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(U){return lt(M(U))}).join(" "),C=lt(M(C)),Y("["+p+"] "+C+" d"),this};var as=y.__private__.getLineHeight=y.getLineHeight=function(){return ce*oo};y.__private__.getLineHeight=y.getLineHeight=function(){return ce*oo};var ss=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(p){return"number"==typeof(p=p||1.15)&&(oo=p),this},cs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return oo};ss(a.lineHeight);var lr=y.__private__.getHorizontalCoordinate=function(p){return M(p)},ao=y.__private__.getVerticalCoordinate=function(p){return X===B.ADVANCED?p:ze[j].mediaBox.topRightY-ze[j].mediaBox.bottomLeftY-M(p)},tc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(p){return lt(lr(p))},gr=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(p){return lt(ao(p))},Cn=a.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Fn(Cn)},y.__private__.setStrokeColor=y.setDrawColor=function(p,C,U,W){return Cn=qn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"draw",precision:2}),Y(Cn),this};var pa=a.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Fn(pa)},y.__private__.setFillColor=y.setFillColor=function(p,C,U,W){return pa=qn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"fill",precision:2}),Y(pa),this};var so=a.textColor||"0 g",ec=y.__private__.getTextColor=y.getTextColor=function(){return Fn(so)};y.__private__.setTextColor=y.setTextColor=function(p,C,U,W){return so=qn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"text",precision:3}),this};var Mo=a.charSpace,ic=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Mo||0)};y.__private__.setCharSpace=y.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mo=p,this};var fa=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(p){var C=y.CapJoinStyles[p];if(void 0===C)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fa=C,Y(C+" J"),this};var ga=0;y.__private__.setLineJoin=y.setLineJoin=function(p){var C=y.CapJoinStyles[p];if(void 0===C)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ga=C,Y(C+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(lt(M(p))+" M"),this},y.GState=ea,y.setGState=function(p){(p="string"==typeof p?ki[On[p]]:ls(null,p)).equals(dr)||(Y("/"+p.id+" gs"),dr=p)};var ls=function(p,C){if(!p||!On[p]){var U=!1;for(var W in ki)if(ki.hasOwnProperty(W)&&ki[W].equals(C)){U=!0;break}if(U)C=ki[W];else{var at="GS"+(Object.keys(ki).length+1).toString(10);ki[at]=C,C.id=at}return p&&(On[p]=C.id),ci.publish("addGState",C),C}};y.addGState=function(p,C){return ls(p,C),this},y.saveGraphicsState=function(){return Y("q"),ir.push({key:Xe,size:ce,color:so}),this},y.restoreGraphicsState=function(){Y("Q");var p=ir.pop();return Xe=p.key,ce=p.size,so=p.color,dr=null,this},y.setCurrentTransformationMatrix=function(p){return Y(p.toString()+" cm"),this},y.comment=function(p){return Y("#"+p),this};var Eo=function(p,C){var U=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return U},set:function(Nt){isNaN(Nt)||(U=parseFloat(Nt))}});var W=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return W},set:function(Nt){isNaN(Nt)||(W=parseFloat(Nt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Nt){at=Nt.toString()}}),this},ma=function(p,C,U,W){Eo.call(this,p,C),this.type="rect";var at=U||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function($t){isNaN($t)||(at=parseFloat($t))}});var Nt=W||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function($t){isNaN($t)||(Nt=parseFloat($t))}}),this},_a=function(){this.page=Pi,this.currentPage=j,this.pages=ne.slice(0),this.pagesContext=ze.slice(0),this.x=Xi,this.y=oi,this.matrix=In,this.width=co(j),this.height=Dr(j),this.outputDestination=ve,this.id="",this.objectNumber=-1};_a.prototype.restore=function(){Pi=this.page,ze=this.pagesContext,ne=this.pages,Xi=this.x,oi=this.y,In=this.matrix,va(j=this.currentPage,this.width),ba(j,this.height),ve=this.outputDestination};var us=function(p,C,U,W,at){rr.push(new _a),Pi=j=0,ne=[],Xi=p,oi=C,In=at,ua([U,W])},nc=function(p){if(nr[p])rr.pop().restore();else{var C=new _a,U="Xo"+(Object.keys(Ji).length+1).toString(10);C.id=U,nr[p]=U,Ji[U]=C,ci.publish("addFormObject",C),rr.pop().restore()}};for(var Fo in y.beginFormObject=function(p,C,U,W,at){return us(p,C,U,W,at),this},y.endFormObject=function(p){return nc(p),this},y.doFormObject=function(p,C){var U=Ji[nr[p]];return Y("q"),Y(C.toString()+" cm"),Y("/"+U.id+" Do"),Y("Q"),this},y.getFormObject=function(p){var C=Ji[nr[p]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},y.save=function(p,C){return p=p||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,!1===C.returnPromise?(Ur(no(fr()),p),"function"==typeof Ur.unload&&Re.setTimeout&&setTimeout(Ur.unload,911),this):new Promise(function(U,W){try{var at=Ur(no(fr()),p);"function"==typeof Ur.unload&&Re.setTimeout&&setTimeout(Ur.unload,911),U(at)}catch(Nt){W(Nt.message)}})},Ee.API)Ee.API.hasOwnProperty(Fo)&&("events"===Fo&&Ee.API.events.length?function(p,C){var W,at;for(at=C.length-1;-1!==at;at--)p.subscribe.apply(p,[C[at][0]].concat("function"==typeof(W=C[at][1])?[W]:W))}(ci,Ee.API.events):y[Fo]=Ee.API[Fo]);var co=y.getPageWidth=function(p){return(ze[p=p||j].mediaBox.topRightX-ze[p].mediaBox.bottomLeftX)/ge},va=y.setPageWidth=function(p,C){ze[p].mediaBox.topRightX=C*ge+ze[p].mediaBox.bottomLeftX},Dr=y.getPageHeight=function(p){return(ze[p=p||j].mediaBox.topRightY-ze[p].mediaBox.bottomLeftY)/ge},ba=y.setPageHeight=function(p,C){ze[p].mediaBox.topRightY=C*ge+ze[p].mediaBox.bottomLeftY};return y.internal={pdfEscape:vn,getStyle:es,getFont:Do,getFontSize:he,getCharSpace:ic,getTextColor:ec,getLineHeight:as,getLineHeightFactor:cs,getLineWidth:Oo,write:Je,getHorizontalCoordinate:lr,getVerticalCoordinate:ao,getCoordinateString:tc,getVerticalCoordinateString:gr,collections:{},newObject:Ri,newAdditionalObject:wo,newObjectDeferred:Oi,newObjectDeferredBegin:mn,getFilters:ar,putStream:An,events:ci,scaleFactor:ge,pageSize:{getWidth:function(){return co(j)},setWidth:function(p){va(j,p)},getHeight:function(){return Dr(j)},setHeight:function(p){ba(j,p)}},encryptionOptions:T,encryption:an,getEncryptor:ll,output:Lo,getNumberOfPages:Xa,pages:ne,out:Y,f2:Ft,f3:E,getPageInfo:$s,getPageInfoByObjId:Ye,getCurrentPageInfo:ul,getPDFVersion:O,Point:Eo,Rectangle:ma,Matrix:Fe,hasHotfix:Qs},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return co(j)},set:function(p){va(j,p)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Dr(j)},set:function(p){ba(j,p)},enumerable:!0,configurable:!0}),Ys.call(y,ee),Xe="F1",$a(d,o),ci.publish("initialized"),y}vo.prototype.lsbFirstWord=function(a){return String.fromCharCode(a>>0&255,a>>8&255,a>>16&255,a>>24&255)},vo.prototype.toHexString=function(a){return a.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vo.prototype.hexToBytes=function(a){for(var i=[],o=0;o<a.length;o+=2)i.push(String.fromCharCode(parseInt(a.substr(o,2),16)));return i.join("")},vo.prototype.processOwnerPassword=function(a,i){return Ns(Ss(i).substr(0,5),a)},vo.prototype.encryptor=function(a,i){var o=Ss(this.encryptionKey+String.fromCharCode(255&a,a>>8&255,a>>16&255,255&i,i>>8&255)).substr(0,10);return function(c){return Ns(o,c)}},ea.prototype.equals=function(a){var i,o="id,objectNumber,equals";if(!a||Te(a)!==Te(this))return!1;var c=0;for(i in this)if(!(o.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!a.hasOwnProperty(i)||this[i]!==a[i])return!1;c++}for(i in a)a.hasOwnProperty(i)&&o.indexOf(i)<0&&c--;return 0===c},Ee.API={events:[]},Ee.version="2.5.1";var Ti=Ee.API,Ls=1,Hr=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yo=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},je=function(a){return a.toFixed(2)},Cr=function(a){return a.toFixed(5)};Ti.__acroform__={};var ln=function(a,i){a.prototype=Object.create(i.prototype),a.prototype.constructor=a},Yc=function(a){return a*Ls},Kn=function(a){var i=new Vc,o=Ae.internal.getHeight(a)||0,c=Ae.internal.getWidth(a)||0;return i.BBox=[0,0,Number(je(c)),Number(je(o))],i},Hl=Ti.__acroform__.setBit=function(a,i){if(a=a||0,i=i||0,isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return a|1<<i},zl=Ti.__acroform__.clearBit=function(a,i){if(a=a||0,i=i||0,isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return a&~(1<<i)},Yl=Ti.__acroform__.getBit=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(a&1<<i)?0:1},Li=Ti.__acroform__.getBitForPdf=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yl(a,i-1)},Zi=Ti.__acroform__.setBitForPdf=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hl(a,i-1)},Di=Ti.__acroform__.clearBitForPdf=function(a,i){if(isNaN(a)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zl(a,i-1)},Jl=Ti.__acroform__.calculateCoordinates=function(a,i){var o=i.internal.getHorizontalCoordinate,c=i.internal.getVerticalCoordinate,d=a[0],h=a[1],f=a[2],_=a[3],v={};return v.lowerLeft_X=o(d)||0,v.lowerLeft_Y=c(h+_)||0,v.upperRight_X=o(d+f)||0,v.upperRight_Y=c(h)||0,[Number(je(v.lowerLeft_X)),Number(je(v.lowerLeft_Y)),Number(je(v.upperRight_X)),Number(je(v.upperRight_Y))]},Vl=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var i=[],c=Zs(a,a._V||a.DV),d=a.scope.internal.getFont(a.fontName,a.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(a.scope.__private__.encodeColorString(a.color)),i.push("/"+d+" "+je(c.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(c.text),i.push("ET"),i.push("Q"),i.push("EMC");var h=Kn(a);return h.scope=a.scope,h.stream=i.join("\n"),h}},Zs=function(a,i){var o=0===a.fontSize?a.maxFontSize:a.fontSize,c={text:"",fontSize:""},d=(i=")"==(i="("==i.substr(0,1)?i.substr(1):i).substr(i.length-1)?i.substr(0,i.length-1):i).split(" ");d=d.map(a.multiline?function(E){return E.split("\n")}:function(E){return[E]});var h=o,f=Ae.internal.getHeight(a)||0;f=f<0?-f:f;var E,_=Ae.internal.getWidth(a)||0;_=_<0?-_:_,h++;t:for(;h>0;){i="",h--;var w,T,N=Ra("3",a,h).height,Z=a.multiline?f-h:(f-N)/2,y=Z+=2,R=0,O=0,H=0;if(h<=0){i="(...) Tj\n",i+="% Width of Text: "+Ra(i,a,h=12).width+", FieldWidth:"+_+"\n";break}for(var I="",B=0,X=0;X<d.length;X++)if(d.hasOwnProperty(X)){var ut=!1;if(1!==d[X].length&&H!==d[X].length-1){if((N+2)*(B+2)+2>f)continue t;I+=d[X][H],ut=!0,O=X,X--}else{I=" "==(I+=d[X][H]+" ").substr(I.length-1)?I.substr(0,I.length-1):I;var At=parseInt(X),Wt=(E=At)+1<d.length&&Ra(I+" "+d[E+1][0],a,h).width<=_-4,lt=X>=d.length-1;if(Wt&&!lt){I+=" ",H=0;continue}if(Wt||lt){if(lt)O=At;else if(a.multiline&&(N+2)*(B+2)+2>f)continue t}else{if(!a.multiline||(N+2)*(B+2)+2>f)continue t;O=At}}for(var J="",qt=R;qt<=O;qt++){var Ft=d[qt];if(a.multiline){if(qt===O){J+=Ft[H]+" ",H=(H+1)%Ft.length;continue}if(qt===R){J+=Ft[Ft.length-1]+" ";continue}}J+=Ft[0]+" "}switch(J=" "==J.substr(J.length-1)?J.substr(0,J.length-1):J,T=Ra(J,a,h).width,a.textAlign){case"right":w=_-T-2;break;case"center":w=(_-T)/2;break;default:w=2}i+=je(w)+" "+je(y)+" Td\n",i+="("+Hr(J)+") Tj\n",i+=-je(w)+" 0 Td\n",y=-(h+2),T=0,R=ut?O:O+1,B++,I=""}break}return c.text=i,c.fontSize=h,c},Ra=function(a,i,o){var c=i.scope.internal.getFont(i.fontName,i.fontStyle),d=i.scope.getStringUnitWidth(a,{font:c,fontSize:parseFloat(o),charSpace:0})*parseFloat(o);return{height:i.scope.getStringUnitWidth("3",{font:c,fontSize:parseFloat(o),charSpace:0})*parseFloat(o)*1.5,width:d}},Wl={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gl=function(a,i){var o={type:"reference",object:a};void 0===i.internal.getPageInfo(a.page).pageContext.annotations.find(function(c){return c.type===o.type&&c.object===o.object})&&i.internal.getPageInfo(a.page).pageContext.annotations.push(o)},Jc=Ti.__acroform__.arrayToPdfArray=function(a,i,o){var c=function(f){return f};if(Array.isArray(a)){for(var d="[",h=0;h<a.length;h++)switch(0!==h&&(d+=" "),Te(a[h])){case"boolean":case"number":case"object":d+=a[h].toString();break;case"string":"/"!==a[h].substr(0,1)?(void 0!==i&&o&&(c=o.internal.getEncryptor(i)),d+="("+Hr(c(a[h].toString()))+")"):d+=a[h].toString()}return d+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ds=function(a,i,o){var c=function(d){return d};return void 0!==i&&o&&(c=o.internal.getEncryptor(i)),(a=a||"").toString(),"("+Hr(c(a))+")"},Xn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(a){this._objId=a}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xn.prototype.toString=function(){return this.objId+" 0 R"},Xn.prototype.putStream=function(){var a=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:a,objectId:this.objId}),this.scope.internal.out("endobj")},Xn.prototype.getKeyValueListForStream=function(){var a=[],i=Object.getOwnPropertyNames(this).filter(function(h){return"content"!=h&&"appearanceStreamContent"!=h&&"scope"!=h&&"objId"!=h&&"_"!=h.substring(0,1)});for(var o in i)if(!1===Object.getOwnPropertyDescriptor(this,i[o]).configurable){var c=i[o],d=this[c];d&&(Array.isArray(d)?a.push({key:c,value:Jc(d,this.objId,this.scope)}):d instanceof Xn?(d.scope=this.scope,a.push({key:c,value:d.objId+" 0 R"})):"function"!=typeof d&&a.push({key:c,value:d}))}return a};var Vc=function(){Xn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var a,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(o){a=o.trim()},get:function(){return a||null}})};ln(Vc,Xn);var Wc=function(){Xn.call(this);var a,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(a){var o=function(c){return c};return this.scope&&(o=this.scope.internal.getEncryptor(this.objId)),"("+Hr(o(a))+")"}},set:function(o){a=o}})};ln(Wc,Xn);var Zn=function a(){Xn.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');i=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(i,3))},set:function(I){this.F=!0===Boolean(I)?Zi(i,3):Di(i,3)}});var o=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return o},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');o=I}});var c=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==c.length)return c},set:function(I){c=void 0!==I?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[0])?0:c[0]},set:function(I){c[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[1])?0:c[1]},set:function(I){c[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[2])?0:c[2]},set:function(I){c[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!c||isNaN(c[3])?0:c[3]},set:function(I){c[3]=I}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var h=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!h||h.length<1){if(this instanceof Ba)return;h="FieldObject"+a.FieldNum++}var I=function(B){return B};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Hr(I(h))+")"},set:function(I){h=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return h},set:function(I){h=I}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var _="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return _},set:function(I){_=I}});var v=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return v},set:function(I){v=I}});var w=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===w?50/Ls:w},set:function(I){w=I}});var T="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return T},set:function(I){T=I}});var N="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!N||this instanceof Ba||this instanceof Tr))return Ds(N,this.objId,this.scope)},set:function(I){I=I.toString(),N=I}});var Z=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Z)return this instanceof qi?Z:Ds(Z,this.objId,this.scope)},set:function(I){I=I.toString(),Z=this instanceof qi?I:"("===I.substr(0,1)?yo(I.substr(1,I.length-2)):yo(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi?yo(Z.substr(1,Z.length-1)):Z},set:function(I){I=I.toString(),Z=this instanceof qi?"/"+I:I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof qi?y:Ds(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof qi?I:"("===I.substr(0,1)?yo(I.substr(1,I.length-2)):yo(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi?yo(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof qi?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(I){I=Boolean(I),O=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(I){R=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,1))},set:function(I){this.Ff=!0===Boolean(I)?Zi(this.Ff,1):Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,2))},set:function(I){this.Ff=!0===Boolean(I)?Zi(this.Ff,2):Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,3))},set:function(I){this.Ff=!0===Boolean(I)?Zi(this.Ff,3):Di(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==H)return H},set:function(I){if(-1===[0,1,2].indexOf(I))throw new Error('Invalid value "'+I+'" for attribute Q supplied.');H=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(H){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:H=2;break;case"center":case 1:H=1;break;default:H=0}}})};ln(Zn,Xn);var zr=function(){Zn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(o){a=o}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Jc(i,this.objId,this.scope)},set:function(o){var c,d;d=[],"string"==typeof(c=o)&&(d=function(h,f,_){_||(_=1);for(var v,w=[];v=f.exec(h);)w.push(v[_]);return w}(c,/\((.*?)\)/g)),i=d}}),this.getOptions=function(){return i},this.setOptions=function(o){i=o,this.sort&&i.sort()},this.addOption=function(o){o=(o=o||"").toString(),i.push(o),this.sort&&i.sort()},this.removeOption=function(o,c){for(c=c||!1,o=(o=o||"").toString();-1!==i.indexOf(o)&&(i.splice(i.indexOf(o),1),!1!==c););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,18))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,18):Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,19))},set:function(o){!0===this.combo&&(this.Ff=!0===Boolean(o)?Zi(this.Ff,19):Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,20))},set:function(o){!0===Boolean(o)?(this.Ff=Zi(this.Ff,20),i.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,22))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,22):Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,23))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,23):Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,27))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,27):Di(this.Ff,27)}}),this.hasAppearanceStream=!1};ln(zr,Zn);var Yr=function(){zr.call(this),this.fontName="helvetica",this.combo=!1};ln(Yr,zr);var Jr=function(){Yr.call(this),this.combo=!0};ln(Jr,Yr);var ia=function(){Jr.call(this),this.edit=!0};ln(ia,Jr);var qi=function(){Zn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,15))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,15):Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,16))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,16):Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,17))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,17):Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,26))},set:function(o){this.Ff=!0===Boolean(o)?Zi(this.Ff,26):Di(this.Ff,26)}});var a,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};if(this.scope&&(o=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(i).length){var c,d=[];for(c in d.push("<<"),i)d.push("/"+c+" ("+Hr(o(i[c]))+")");return d.push(">>"),d.join("\n")}},set:function(o){"object"===Te(o)&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){"string"==typeof o&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(o){a="/"+o}})};ln(qi,Zn);var na=function(){qi.call(this),this.pushButton=!0};ln(na,qi);var Vr=function(){qi.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(i){a=void 0!==i?i:[]}})};ln(Vr,qi);var Ba=function(){var a,i;Zn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return a},set:function(d){a=d}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(d){i=d}});var o,c={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var d=function(_){return _};this.scope&&(d=this.scope.internal.getEncryptor(this.objId));var h,f=[];for(h in f.push("<<"),c)f.push("/"+h+" ("+Hr(d(c[h]))+")");return f.push(">>"),f.join("\n")},set:function(d){"object"===Te(d)&&(c=d)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return c.CA||""},set:function(d){"string"==typeof d&&(c.CA=d)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(d){o="/"+d}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ae.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ln(Ba,Zn),Vr.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a)||!("getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var o=this.Kids[i];o.appearanceStreamContent=a.createAppearanceStream(o.optionName),o.caption=a.getCA()}},Vr.prototype.createOption=function(a){var i=new Ba;return i.Parent=this,i.optionName=a,this.Kids.push(i),Wr.call(this.scope,i),i};var ra=function(){qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ae.CheckBox.createAppearanceStream()};ln(ra,qi);var Tr=function(){Zn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,13))},set:function(i){this.Ff=!0===Boolean(i)?Zi(this.Ff,13):Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,21))},set:function(i){this.Ff=!0===Boolean(i)?Zi(this.Ff,21):Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,23))},set:function(i){this.Ff=!0===Boolean(i)?Zi(this.Ff,23):Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,24))},set:function(i){this.Ff=!0===Boolean(i)?Zi(this.Ff,24):Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,25))},set:function(i){this.Ff=!0===Boolean(i)?Zi(this.Ff,25):Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,26))},set:function(i){this.Ff=!0===Boolean(i)?Zi(this.Ff,26):Di(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(i){a=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(i){Number.isInteger(i)&&(a=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ln(Tr,Zn);var oa=function(){Tr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Li(this.Ff,14))},set:function(a){this.Ff=!0===Boolean(a)?Zi(this.Ff,14):Di(this.Ff,14)}}),this.password=!0};ln(oa,Tr);var Ae={CheckBox:{createAppearanceStream:function(){return{N:{On:Ae.CheckBox.YesNormal},D:{On:Ae.CheckBox.YesPushDown,Off:Ae.CheckBox.OffPushDown}}},YesPushDown:function(a){var i=Kn(a);i.scope=a.scope;var o=[],c=a.scope.internal.getFont(a.fontName,a.fontStyle).id,d=a.scope.__private__.encodeColorString(a.color),h=Zs(a,a.caption);return o.push("0.749023 g"),o.push("0 0 "+je(Ae.internal.getWidth(a))+" "+je(Ae.internal.getHeight(a))+" re"),o.push("f"),o.push("BMC"),o.push("q"),o.push("0 0 1 rg"),o.push("/"+c+" "+je(h.fontSize)+" Tf "+d),o.push("BT"),o.push(h.text),o.push("ET"),o.push("Q"),o.push("EMC"),i.stream=o.join("\n"),i},YesNormal:function(a){var i=Kn(a);i.scope=a.scope;var o=a.scope.internal.getFont(a.fontName,a.fontStyle).id,c=a.scope.__private__.encodeColorString(a.color),d=[],h=Ae.internal.getHeight(a),f=Ae.internal.getWidth(a),_=Zs(a,a.caption);return d.push("1 g"),d.push("0 0 "+je(f)+" "+je(h)+" re"),d.push("f"),d.push("q"),d.push("0 0 1 rg"),d.push("0 0 "+je(f-1)+" "+je(h-1)+" re"),d.push("W"),d.push("n"),d.push("0 g"),d.push("BT"),d.push("/"+o+" "+je(_.fontSize)+" Tf "+c),d.push(_.text),d.push("ET"),d.push("Q"),i.stream=d.join("\n"),i},OffPushDown:function(a){var i=Kn(a);i.scope=a.scope;var o=[];return o.push("0.749023 g"),o.push("0 0 "+je(Ae.internal.getWidth(a))+" "+je(Ae.internal.getHeight(a))+" re"),o.push("f"),i.stream=o.join("\n"),i}},RadioButton:{Circle:{createAppearanceStream:function(a){var i={D:{Off:Ae.RadioButton.Circle.OffPushDown},N:{}};return i.N[a]=Ae.RadioButton.Circle.YesNormal,i.D[a]=Ae.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(a){var i=Kn(a);i.scope=a.scope;var o=[],c=Ae.internal.getWidth(a)<=Ae.internal.getHeight(a)?Ae.internal.getWidth(a)/4:Ae.internal.getHeight(a)/4;c=Number((.9*c).toFixed(5));var h=Number((c*Ae.internal.Bezier_C).toFixed(5));return o.push("q"),o.push("1 0 0 1 "+Cr(Ae.internal.getWidth(a)/2)+" "+Cr(Ae.internal.getHeight(a)/2)+" cm"),o.push(c+" 0 m"),o.push(c+" "+h+" "+h+" "+c+" 0 "+c+" c"),o.push("-"+h+" "+c+" -"+c+" "+h+" -"+c+" 0 c"),o.push("-"+c+" -"+h+" -"+h+" -"+c+" 0 -"+c+" c"),o.push(h+" -"+c+" "+c+" -"+h+" "+c+" 0 c"),o.push("f"),o.push("Q"),i.stream=o.join("\n"),i},YesPushDown:function(a){var i=Kn(a);i.scope=a.scope;var o=[],c=Ae.internal.getWidth(a)<=Ae.internal.getHeight(a)?Ae.internal.getWidth(a)/4:Ae.internal.getHeight(a)/4;c=Number((.9*c).toFixed(5));var d=Number((2*c).toFixed(5)),h=Number((d*Ae.internal.Bezier_C).toFixed(5)),f=Number((c*Ae.internal.Bezier_C).toFixed(5));return o.push("0.749023 g"),o.push("q"),o.push("1 0 0 1 "+Cr(Ae.internal.getWidth(a)/2)+" "+Cr(Ae.internal.getHeight(a)/2)+" cm"),o.push(d+" 0 m"),o.push(d+" "+h+" "+h+" "+d+" 0 "+d+" c"),o.push("-"+h+" "+d+" -"+d+" "+h+" -"+d+" 0 c"),o.push("-"+d+" -"+h+" -"+h+" -"+d+" 0 -"+d+" c"),o.push(h+" -"+d+" "+d+" -"+h+" "+d+" 0 c"),o.push("f"),o.push("Q"),o.push("0 g"),o.push("q"),o.push("1 0 0 1 "+Cr(Ae.internal.getWidth(a)/2)+" "+Cr(Ae.internal.getHeight(a)/2)+" cm"),o.push(c+" 0 m"),o.push(c+" "+f+" "+f+" "+c+" 0 "+c+" c"),o.push("-"+f+" "+c+" -"+c+" "+f+" -"+c+" 0 c"),o.push("-"+c+" -"+f+" -"+f+" -"+c+" 0 -"+c+" c"),o.push(f+" -"+c+" "+c+" -"+f+" "+c+" 0 c"),o.push("f"),o.push("Q"),i.stream=o.join("\n"),i},OffPushDown:function(a){var i=Kn(a);i.scope=a.scope;var o=[],c=Ae.internal.getWidth(a)<=Ae.internal.getHeight(a)?Ae.internal.getWidth(a)/4:Ae.internal.getHeight(a)/4;c=Number((.9*c).toFixed(5));var d=Number((2*c).toFixed(5)),h=Number((d*Ae.internal.Bezier_C).toFixed(5));return o.push("0.749023 g"),o.push("q"),o.push("1 0 0 1 "+Cr(Ae.internal.getWidth(a)/2)+" "+Cr(Ae.internal.getHeight(a)/2)+" cm"),o.push(d+" 0 m"),o.push(d+" "+h+" "+h+" "+d+" 0 "+d+" c"),o.push("-"+h+" "+d+" -"+d+" "+h+" -"+d+" 0 c"),o.push("-"+d+" -"+h+" -"+h+" -"+d+" 0 -"+d+" c"),o.push(h+" -"+d+" "+d+" -"+h+" "+d+" 0 c"),o.push("f"),o.push("Q"),i.stream=o.join("\n"),i}},Cross:{createAppearanceStream:function(a){var i={D:{Off:Ae.RadioButton.Cross.OffPushDown},N:{}};return i.N[a]=Ae.RadioButton.Cross.YesNormal,i.D[a]=Ae.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(a){var i=Kn(a);i.scope=a.scope;var o=[],c=Ae.internal.calculateCross(a);return o.push("q"),o.push("1 1 "+je(Ae.internal.getWidth(a)-2)+" "+je(Ae.internal.getHeight(a)-2)+" re"),o.push("W"),o.push("n"),o.push(je(c.x1.x)+" "+je(c.x1.y)+" m"),o.push(je(c.x2.x)+" "+je(c.x2.y)+" l"),o.push(je(c.x4.x)+" "+je(c.x4.y)+" m"),o.push(je(c.x3.x)+" "+je(c.x3.y)+" l"),o.push("s"),o.push("Q"),i.stream=o.join("\n"),i},YesPushDown:function(a){var i=Kn(a);i.scope=a.scope;var o=Ae.internal.calculateCross(a),c=[];return c.push("0.749023 g"),c.push("0 0 "+je(Ae.internal.getWidth(a))+" "+je(Ae.internal.getHeight(a))+" re"),c.push("f"),c.push("q"),c.push("1 1 "+je(Ae.internal.getWidth(a)-2)+" "+je(Ae.internal.getHeight(a)-2)+" re"),c.push("W"),c.push("n"),c.push(je(o.x1.x)+" "+je(o.x1.y)+" m"),c.push(je(o.x2.x)+" "+je(o.x2.y)+" l"),c.push(je(o.x4.x)+" "+je(o.x4.y)+" m"),c.push(je(o.x3.x)+" "+je(o.x3.y)+" l"),c.push("s"),c.push("Q"),i.stream=c.join("\n"),i},OffPushDown:function(a){var i=Kn(a);i.scope=a.scope;var o=[];return o.push("0.749023 g"),o.push("0 0 "+je(Ae.internal.getWidth(a))+" "+je(Ae.internal.getHeight(a))+" re"),o.push("f"),i.stream=o.join("\n"),i}}},createDefaultAppearanceStream:function(a){var i=a.scope.internal.getFont(a.fontName,a.fontStyle).id,o=a.scope.__private__.encodeColorString(a.color);return"/"+i+" "+a.fontSize+" Tf "+o}};Ae.internal={Bezier_C:.551915024494,calculateCross:function(a){var i=Ae.internal.getWidth(a),o=Ae.internal.getHeight(a),c=Math.min(i,o);return{x1:{x:(i-c)/2,y:(o-c)/2+c},x2:{x:(i-c)/2+c,y:(o-c)/2},x3:{x:(i-c)/2,y:(o-c)/2},x4:{x:(i-c)/2+c,y:(o-c)/2+c}}}},Ae.internal.getWidth=function(a){var i=0;return"object"===Te(a)&&(i=Yc(a.Rect[2])),i},Ae.internal.getHeight=function(a){var i=0;return"object"===Te(a)&&(i=Yc(a.Rect[3])),i};var Wr=Ti.addField=function(a){if(function(a,i){if(i.scope=a,void 0!==a.internal&&(void 0===a.internal.acroformPlugin||!1===a.internal.acroformPlugin.isInitialized)){if(Zn.FieldNum=0,a.internal.acroformPlugin=JSON.parse(JSON.stringify(Wl)),a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ls=a.internal.scaleFactor,a.internal.acroformPlugin.acroFormDictionaryRoot=new Wc,a.internal.acroformPlugin.acroFormDictionaryRoot.scope=a,a.internal.acroformPlugin.acroFormDictionaryRoot._eventID=a.internal.events.subscribe("postPutResources",function(){var o;(o=a).internal.events.unsubscribe(o.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete o.internal.acroformPlugin.acroFormDictionaryRoot._eventID,o.internal.acroformPlugin.printedOut=!0}),a.internal.events.subscribe("buildDocument",function(){!function(o){o.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var c=o.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];h.objId=void 0,h.hasAnnotation&&Gl(h,o)}}(a)}),a.internal.events.subscribe("putCatalog",function(){!function(o){if(void 0===o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");o.internal.write("/AcroForm "+o.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(a)}),a.internal.events.subscribe("postPutPages",function(o){!function(c,d){var h=!c;for(var f in c||(d.internal.newObjectDeferredBegin(d.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),d.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),c=c||d.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(c.hasOwnProperty(f)){var _=c[f],v=[],w=_.Rect;if(_.Rect&&(_.Rect=Jl(_.Rect,d)),d.internal.newObjectDeferredBegin(_.objId,!0),_.DA=Ae.createDefaultAppearanceStream(_),"object"===Te(_)&&"function"==typeof _.getKeyValueListForStream&&(v=_.getKeyValueListForStream()),_.Rect=w,_.hasAppearanceStream&&!_.appearanceStreamContent){var T=Vl(_);v.push({key:"AP",value:"<</N "+T+">>"}),d.internal.acroformPlugin.xForms.push(T)}if(_.appearanceStreamContent){var N="";for(var Z in _.appearanceStreamContent)if(_.appearanceStreamContent.hasOwnProperty(Z)){var y=_.appearanceStreamContent[Z];if(N+="/"+Z+" ",N+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var f in y)if(y.hasOwnProperty(f)){var R=y[f];"function"==typeof R&&(R=R.call(d,_)),N+="/"+f+" "+R+" ",d.internal.acroformPlugin.xForms.indexOf(R)>=0||d.internal.acroformPlugin.xForms.push(R)}}else"function"==typeof(R=y)&&(R=R.call(d,_)),N+="/"+f+" "+R,d.internal.acroformPlugin.xForms.indexOf(R)>=0||d.internal.acroformPlugin.xForms.push(R);N+=">>"}v.push({key:"AP",value:"<<\n"+N+">>"})}d.internal.putStream({additionalKeyValues:v,objectId:_.objId}),d.internal.out("endobj")}h&&function(a,i){for(var o in a)if(a.hasOwnProperty(o)){var c=o,d=a[o];i.internal.newObjectDeferredBegin(d.objId,!0),"object"===Te(d)&&"function"==typeof d.putStream&&d.putStream(),delete a[c]}}(d.internal.acroformPlugin.xForms,d)}(o,a)}),a.internal.acroformPlugin.isInitialized=!0}}(this,a),!(a instanceof Zn))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=a).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),a.page=a.scope.internal.getCurrentPageInfo().pageNumber,this};Ti.AcroFormChoiceField=zr,Ti.AcroFormListBox=Yr,Ti.AcroFormComboBox=Jr,Ti.AcroFormEditBox=ia,Ti.AcroFormButton=qi,Ti.AcroFormPushButton=na,Ti.AcroFormRadioButton=Vr,Ti.AcroFormCheckBox=ra,Ti.AcroFormTextField=Tr,Ti.AcroFormPasswordField=oa,Ti.AcroFormAppearance=Ae,Ti.AcroForm={ChoiceField:zr,ListBox:Yr,ComboBox:Jr,EditBox:ia,Button:qi,PushButton:na,RadioButton:Vr,CheckBox:ra,TextField:Tr,PasswordField:oa,Appearance:Ae};var a,i,un=Ee.AcroForm={ChoiceField:zr,ListBox:Yr,ComboBox:Jr,EditBox:ia,Button:qi,PushButton:na,RadioButton:Vr,CheckBox:ra,TextField:Tr,PasswordField:oa,Appearance:Ae};function Ke(a){return a.reduce(function(i,o,c){return i[o]=c,i},{})}(function(a){a.__addimage__={};var i="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},c=a.__addimage__.getImageFileTypeByImageData=function(E,M){var G,V,Pt,xt,It,ft=i;if("RGBA"===(M=M||i)||void 0!==E.data&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Wt(E))for(It in o)for(Pt=o[It],G=0;G<Pt.length;G+=1){for(xt=!0,V=0;V<Pt[G].length;V+=1)if(void 0!==Pt[G][V]&&Pt[G][V]!==E[V]){xt=!1;break}if(!0===xt){ft=It;break}}else for(It in o)for(Pt=o[It],G=0;G<Pt.length;G+=1){for(xt=!0,V=0;V<Pt[G].length;V+=1)if(void 0!==Pt[G][V]&&Pt[G][V]!==E.charCodeAt(V)){xt=!1;break}if(!0===xt){ft=It;break}}return ft===i&&M!==i&&(ft=M),ft},d=function E(M){for(var G=this.internal.write,V=this.internal.putStream,Pt=(0,this.internal.getFilters)();-1!==Pt.indexOf("FlateEncode");)Pt.splice(Pt.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var xt=[];if(xt.push({key:"Type",value:"/XObject"}),xt.push({key:"Subtype",value:"/Image"}),xt.push({key:"Width",value:M.width}),xt.push({key:"Height",value:M.height}),M.colorSpace===H.INDEXED?xt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&void 0!==M.sMask?M.objectId+2:M.objectId+1)+" 0 R]"}):(xt.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===H.DEVICE_CMYK&&xt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xt.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&void 0!==M.decodeParameters&&xt.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var It="",ft=0,Mt=M.transparency.length;ft<Mt;ft++)It+=M.transparency[ft]+" "+M.transparency[ft]+" ";xt.push({key:"Mask",value:"["+It+"]"})}if(void 0!==M.sMask&&xt.push({key:"SMask",value:M.objectId+1+" 0 R"}),V({data:M.data,additionalKeyValues:xt,alreadyAppliedFilters:void 0!==M.filter?["/"+M.filter]:void 0,objectId:M.objectId}),G("endobj"),"sMask"in M&&void 0!==M.sMask){var P={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:"/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,data:M.sMask};"filter"in M&&(P.filter=M.filter),E.call(this,P)}if(M.colorSpace===H.INDEXED){var j=this.internal.newObject();V({data:J(new Uint8Array(M.palette)),objectId:j}),G("endobj")}},h=function(){var E=this.internal.collections.addImage_images;for(var M in E)d.call(this,E[M])},f=function(){var E,M=this.internal.collections.addImage_images,G=this.internal.write;for(var V in M)G("/I"+(E=M[V]).index,E.objectId,"0","R")},_=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",f))},v=function(){var E=this.internal.collections.addImage_images;return _.call(this),E},w=function(){return Object.keys(this.internal.collections.addImage_images).length},T=function(E){return"function"==typeof a["process"+E.toUpperCase()]},N=function(E){return"object"===Te(E)&&1===E.nodeType},Z=function(E,M){if("IMG"===E.nodeName&&E.hasAttribute("src")){var G=""+E.getAttribute("src");if(0===G.indexOf("data:image/"))return ta(unescape(G).split("base64,").pop());var V=a.loadFile(G,!0);if(void 0!==V)return V}if("CANVAS"===E.nodeName){if(0===E.width||0===E.height)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Pt;switch(M){case"PNG":Pt="image/png";break;case"WEBP":Pt="image/webp";break;default:Pt="image/jpeg"}return ta(E.toDataURL(Pt,1).split("base64,").pop())}},y=function(E){var M=this.internal.collections.addImage_images;if(M)for(var G in M)if(E===M[G].alias)return M[G]},R=function(E,M,G){return E||M||(E=-96,M=-96),E<0&&(E=-1*G.width*72/E/this.internal.scaleFactor),M<0&&(M=-1*G.height*72/M/this.internal.scaleFactor),0===E&&(E=M*G.width/G.height),0===M&&(M=E*G.height/G.width),[E,M]},O=function(E,M,G,V,Pt,xt){var It=R.call(this,G,V,Pt),ft=this.internal.getCoordinateString,Mt=this.internal.getVerticalCoordinateString,Et=v.call(this);if(G=It[0],V=It[1],Et[Pt.index]=Pt,xt){xt*=Math.PI/180;var pe=Math.cos(xt),P=Math.sin(xt),j=function(K){return K.toFixed(4)},z=[j(pe),j(P),j(-1*P),j(pe),0,0,"cm"]}this.internal.write("q"),xt?(this.internal.write([1,"0","0",1,ft(E),Mt(M+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([ft(G),"0","0",ft(V),"0","0","cm"].join(" "))):this.internal.write([ft(G),"0","0",ft(V),ft(E),Mt(M+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Pt.index+" Do"),this.internal.write("Q")},H=a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=a.__addimage__.sHashCode=function(E){var M,G,V=0;if("string"==typeof E)for(G=E.length,M=0;M<G;M++)V=(V<<5)-V+E.charCodeAt(M),V|=0;else if(Wt(E))for(G=E.byteLength/2,M=0;M<G;M++)V=(V<<5)-V+E[M],V|=0;return V},X=a.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var M=!0;return 0===E.length&&(M=!1),E.length%4!=0&&(M=!1),!1===/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))&&(M=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))&&(M=!1),M},ut=a.__addimage__.extractImageFromDataUrl=function(E){var M=(E=E||"").split("base64,"),G=null;if(2===M.length){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(V)&&(G={mimeType:V[1],charset:V[2],data:M[1]})}return G},At=a.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};a.__addimage__.isArrayBuffer=function(E){return At()&&E instanceof ArrayBuffer};var Wt=a.__addimage__.isArrayBufferView=function(E){return At()&&"undefined"!=typeof Uint32Array&&(E instanceof Int8Array||E instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},lt=a.__addimage__.binaryStringToUint8Array=function(E){for(var M=E.length,G=new Uint8Array(M),V=0;V<M;V++)G[V]=E.charCodeAt(V);return G},J=a.__addimage__.arrayBufferToBinaryString=function(E){for(var M="",G=Wt(E)?E:new Uint8Array(E),V=0;V<G.length;V+=8192)M+=String.fromCharCode.apply(null,G.subarray(V,V+8192));return M};a.addImage=function(){var E,M,G,V,Pt,xt,It,ft,Mt;if("number"==typeof arguments[1]?(M=i,G=arguments[1],V=arguments[2],Pt=arguments[3],xt=arguments[4],It=arguments[5],ft=arguments[6],Mt=arguments[7]):(M=arguments[1],G=arguments[2],V=arguments[3],Pt=arguments[4],xt=arguments[5],It=arguments[6],ft=arguments[7],Mt=arguments[8]),"object"===Te(E=arguments[0])&&!N(E)&&"imageData"in E){var Et=E;E=Et.imageData,M=Et.format||M||i,G=Et.x||G||0,V=Et.y||V||0,Pt=Et.w||Et.width||Pt,xt=Et.h||Et.height||xt,It=Et.alias||It,ft=Et.compression||ft,Mt=Et.rotation||Et.angle||Mt}var pe=this.internal.getFilters();if(void 0===ft&&-1!==pe.indexOf("FlateEncode")&&(ft="SLOW"),isNaN(G)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");_.call(this);var P=qt.call(this,E,M,It,ft);return O.call(this,G,V,Pt,xt,P,Mt),this};var qt=function(E,M,G,V){var Pt,xt,It,Mt;if("string"==typeof E&&c(E)===i){E=unescape(E);var ft=Ft(E,!1);(""!==ft||void 0!==(ft=a.loadFile(E,!0)))&&(E=ft)}if(N(E)&&(E=Z(E,M)),M=c(E,M),!T(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if((null==(It=G)||0===It.length)&&(G="string"==typeof(Mt=E)||Wt(Mt)?B(Mt):Wt(Mt.data)?B(Mt.data):null),(Pt=y.call(this,G))||(At()&&(E instanceof Uint8Array||"RGBA"===M||(xt=E,E=lt(E))),Pt=this["process"+M.toUpperCase()](E,w.call(this),G,function(Mt){return Mt&&"string"==typeof Mt&&(Mt=Mt.toUpperCase()),Mt in a.image_compression?Mt:I.NONE}(V),xt)),!Pt)throw new Error("An unknown error occurred whilst processing the image.");return Pt},Ft=a.__addimage__.convertBase64ToBinaryString=function(E,M){var G;M="boolean"!=typeof M||M;var V,Pt="";if("string"==typeof E){V=null!==(G=ut(E))?G.data:E;try{Pt=ta(V)}catch(xt){if(M)throw X(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Pt};a.getImageProperties=function(E){var M,G,V="";if(N(E)&&(E=Z(E)),"string"==typeof E&&c(E)===i&&(""===(V=Ft(E,!1))&&(V=a.loadFile(E)||""),E=V),G=c(E),!T(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!At()||E instanceof Uint8Array||(E=lt(E)),!(M=this["process"+G.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=G,M}})(Ee.API),a=Ee.API,i=function(o){if(void 0!==o&&""!=o)return!0},Ee.API.events.push(["addPage",function(o){this.internal.getPageInfo(o.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(o){for(var c,d,h,f=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString,v=this.internal.getPageInfoByObjId(o.objId),w=o.pageContext.annotations,T=!1,N=0;N<w.length&&!T;N++)switch((c=w[N]).type){case"link":(i(c.options.url)||i(c.options.pageNumber))&&(T=!0);break;case"reference":case"text":case"freetext":T=!0}if(0!=T){this.internal.write("/Annots [");for(var Z=0;Z<w.length;Z++){c=w[Z];var y=this.internal.pdfEscape,R=this.internal.getEncryptor(o.objId);switch(c.type){case"reference":this.internal.write(" "+c.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(O.objId),B=c.title||"Note";h="<</Type /Annot /Subtype /Text "+(d="/Rect ["+f(c.bounds.x)+" "+_(c.bounds.y+c.bounds.h)+" "+f(c.bounds.x+c.bounds.w)+" "+_(c.bounds.y)+"] ")+"/Contents ("+y(I(c.contents))+")",h+=" /Popup "+H.objId+" 0 R",h+=" /P "+v.objId+" 0 R",h+=" /T ("+y(I(B))+") >>",O.content=h;var X=O.objId+" 0 R";h="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+f(c.bounds.x+30)+" "+_(c.bounds.y+c.bounds.h)+" "+f(c.bounds.x+c.bounds.w+30)+" "+_(c.bounds.y)+"] ")+" /Parent "+X,c.open&&(h+=" /Open true"),H.content=h+=" >>",this.internal.write(O.objId,"0 R",H.objId,"0 R");break;case"freetext":d="/Rect ["+f(c.bounds.x)+" "+_(c.bounds.y)+" "+f(c.bounds.x+c.bounds.w)+" "+_(c.bounds.y+c.bounds.h)+"] ";var ut=c.color||"#000000";h="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+y(R(c.contents))+")",h+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ut+")",h+=" /Border [0 0 0]",this.internal.write(h+=" >>");break;case"link":if(c.options.name){var At=this.annotations._nameMap[c.options.name];c.options.pageNumber=At.page,c.options.top=At.y}else c.options.top||(c.options.top=0);if(d="/Rect ["+c.finalBounds.x+" "+c.finalBounds.y+" "+c.finalBounds.w+" "+c.finalBounds.h+"] ",h="",c.options.url)h="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+y(R(c.options.url))+") >>";else if(c.options.pageNumber)switch(h="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(c.options.pageNumber).objId+" 0 R",c.options.magFactor=c.options.magFactor||"XYZ",c.options.magFactor){case"Fit":h+=" /Fit]";break;case"FitH":h+=" /FitH "+c.options.top+"]";break;case"FitV":c.options.left=c.options.left||0,h+=" /FitV "+c.options.left+"]";break;default:var Wt=_(c.options.top);c.options.left=c.options.left||0,void 0===c.options.zoom&&(c.options.zoom=0),h+=" /XYZ "+c.options.left+" "+Wt+" "+c.options.zoom+"]"}""!=h&&this.internal.write(h+=" >>")}}this.internal.write("]")}}]),a.createAnnotation=function(o){var c=this.internal.getCurrentPageInfo();switch(o.type){case"link":this.link(o.bounds.x,o.bounds.y,o.bounds.w,o.bounds.h,o);break;case"text":case"freetext":c.pageContext.annotations.push(o)}},a.link=function(o,c,d,h,f){var _=this.internal.getCurrentPageInfo(),v=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString;_.pageContext.annotations.push({finalBounds:{x:v(o),y:w(c),w:v(o+d),h:w(c+h)},options:f,type:"link"})},a.textWithLink=function(o,c,d,h){var f,_,v=this.getTextWidth(o),w=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==h.maxWidth){var T=this.splitTextToSize(o,_=h.maxWidth).length;f=Math.ceil(w*T)}else _=v,f=w;return this.text(o,c,d,h),"center"===h.align&&(c-=v/2),"right"===h.align&&(c-=v),this.link(c,(d+=.2*w)-w,_,f,h),v},a.getTextWidth=function(o){var c=this.internal.getFontSize();return this.getStringUnitWidth(o)*c/this.internal.scaleFactor},function(a){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},o={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},c={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},d=[1570,1571,1573,1575];a.__arabicParser__={};var h=a.__arabicParser__.isInArabicSubstitutionA=function(O){return void 0!==i[O.charCodeAt(0)]},f=a.__arabicParser__.isArabicLetter=function(O){return"string"==typeof O&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},_=a.__arabicParser__.isArabicEndLetter=function(O){return f(O)&&h(O)&&i[O.charCodeAt(0)].length<=2},v=a.__arabicParser__.isArabicAlfLetter=function(O){return f(O)&&d.indexOf(O.charCodeAt(0))>=0};a.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return f(O)&&h(O)&&i[O.charCodeAt(0)].length>=1};var w=a.__arabicParser__.arabicLetterHasFinalForm=function(O){return f(O)&&h(O)&&i[O.charCodeAt(0)].length>=2};a.__arabicParser__.arabicLetterHasInitialForm=function(O){return f(O)&&h(O)&&i[O.charCodeAt(0)].length>=3};var T=a.__arabicParser__.arabicLetterHasMedialForm=function(O){return f(O)&&h(O)&&4==i[O.charCodeAt(0)].length},N=a.__arabicParser__.resolveLigatures=function(O){var H=0,I=o,B="",X=0;for(H=0;H<O.length;H+=1)void 0!==I[O.charCodeAt(H)]?(X++,"number"==typeof(I=I[O.charCodeAt(H)])&&(B+=String.fromCharCode(I),I=o,X=0),H===O.length-1&&(I=o,B+=O.charAt(H-(X-1)),H-=X-1,X=0)):(I=o,B+=O.charAt(H-X),H-=X,X=0);return B};a.__arabicParser__.isArabicDiacritic=function(O){return void 0!==O&&void 0!==c[O.charCodeAt(0)]};var Z=a.__arabicParser__.getCorrectForm=function(O,H,I){return f(O)?!1===h(O)?-1:!w(O)||!f(H)&&!f(I)||!f(I)&&_(H)||_(O)&&!f(H)||_(O)&&v(H)||_(O)&&_(H)?0:T(O)&&f(H)&&!_(H)&&f(I)&&w(I)?3:_(O)||!f(I)?1:2:-1},y=function(O){var H=0,I=0,B=0,X="",ut="",At="",Wt=(O=O||"").split("\\s+"),lt=[];for(H=0;H<Wt.length;H+=1){for(lt.push(""),I=0;I<Wt[H].length;I+=1)ut=Wt[H][I-1],At=Wt[H][I+1],f(X=Wt[H][I])?(B=Z(X,ut,At),lt[H]+=-1!==B?String.fromCharCode(i[X.charCodeAt(0)][B]):X):lt[H]+=X;lt[H]=N(lt[H])}return lt.join(" ")},R=a.__arabicParser__.processArabic=a.processArabic=function(){var O,H="string"==typeof arguments[0]?arguments[0]:arguments[0].text,I=[];if(Array.isArray(H)){var B=0;for(I=[],B=0;B<H.length;B+=1)Array.isArray(H[B])?I.push([y(H[B][0]),H[B][1],H[B][2]]):I.push([y(H[B])]);O=I}else O=y(H);return"string"==typeof arguments[0]?O:(arguments[0].text=O,arguments[0])};a.events.push(["preProcessText",R])}(Ee.API),Ee.API.autoPrint=function(a){var i;return"javascript"===((a=a||{}).variant=a.variant||"non-conform",a.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})),this},function(a){var i=function(){var o=void 0;Object.defineProperty(this,"pdf",{get:function(){return o},set:function(_){o=_}});var c=150;Object.defineProperty(this,"width",{get:function(){return c},set:function(_){c=isNaN(_)||!1===Number.isInteger(_)||_<0?150:_,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=c+1)}});var d=300;Object.defineProperty(this,"height",{get:function(){return d},set:function(_){d=isNaN(_)||!1===Number.isInteger(_)||_<0?300:_,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=d+1)}});var h=[];Object.defineProperty(this,"childNodes",{get:function(){return h},set:function(_){h=_}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(_){f=_}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(o,c){var d;if("2d"!==(o=o||"2d"))return null;for(d in c)this.pdf.context2d.hasOwnProperty(d)&&(this.pdf.context2d[d]=c[d]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(Ee.API),function(a){var i={left:0,top:0,bottom:0,right:0},o=!1,c=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),d.call(this))},d=function(){this.internal.__cell__.lastCell=new h,this.internal.__cell__.pages=1},h=function(){var v=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return v},set:function(O){v=O}});var w=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(O){w=O}});var T=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return T},set:function(O){T=O}});var N=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return N},set:function(O){N=O}});var Z=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Z},set:function(O){Z=O}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(O){y=O}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(O){R=O}}),this};h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},h.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},a.setHeaderFunction=function(v){return c.call(this),this.internal.__cell__.headerFunction="function"==typeof v?v:void 0,this},a.getTextDimensions=function(v,w){c.call(this);var T=(w=w||{}).fontSize||this.getFontSize(),N=w.font||this.getFont(),Z=w.scaleFactor||this.internal.scaleFactor,y=0,R=0,O=0,H=this;if(!Array.isArray(v)&&"string"!=typeof v){if("number"!=typeof v)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");v=String(v)}var I=w.maxWidth;I>0?"string"==typeof v?v=this.splitTextToSize(v,I):"[object Array]"===Object.prototype.toString.call(v)&&(v=v.reduce(function(X,ut){return X.concat(H.splitTextToSize(ut,I))},[])):v=Array.isArray(v)?v:[v];for(var B=0;B<v.length;B++)y<(O=this.getStringUnitWidth(v[B],{font:N})*T)&&(y=O);return 0!==y&&(R=v.length),{w:y/=Z,h:Math.max((R*T*this.getLineHeightFactor()-T*(this.getLineHeightFactor()-1))/Z,0)}},a.cellAddPage=function(){c.call(this),this.addPage();var v=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new h(v.left,v.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=a.cell=function(){var v;v=arguments[0]instanceof h?arguments[0]:new h(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),c.call(this);var w=this.internal.__cell__.lastCell,T=this.internal.__cell__.padding,N=this.internal.__cell__.margins||i,Z=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return void 0!==w.lineNumber&&(w.lineNumber===v.lineNumber?(v.x=(w.x||0)+(w.width||0),v.y=w.y||0):w.y+w.height+v.height+N.bottom>this.getPageHeight()?(this.cellAddPage(),v.y=N.top,y&&Z&&(this.printHeaderRow(v.lineNumber,!0),v.y+=Z[0].height)):v.y=w.y+w.height||v.y),void 0!==v.text[0]&&(this.rect(v.x,v.y,v.width,v.height,!0===o?"FD":void 0),"right"===v.align?this.text(v.text,v.x+v.width-T,v.y+T,{align:"right",baseline:"top"}):"center"===v.align?this.text(v.text,v.x+v.width/2,v.y+T,{align:"center",baseline:"top",maxWidth:v.width-T-T}):this.text(v.text,v.x+T,v.y+T,{align:"left",baseline:"top",maxWidth:v.width-T-T})),this.internal.__cell__.lastCell=v,this};a.table=function(v,w,T,N,Z){if(c.call(this),!T)throw new Error("No data for PDF table.");var y,R,O,H,I=[],B=[],X=[],ut={},At={},Wt=[],lt=[],J=(Z=Z||{}).autoSize||!1,qt=!1!==Z.printHeaders,Ft=Z.css&&void 0!==Z.css["font-size"]?16*Z.css["font-size"]:Z.fontSize||12,E=Z.margins||Object.assign({width:this.getPageWidth()},i),M="number"==typeof Z.padding?Z.padding:3,G=Z.headerBackgroundColor||"#c8c8c8",V=Z.headerTextColor||"#000";if(d.call(this),this.internal.__cell__.printHeaders=qt,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=Ft,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=V,this.setFontSize(Ft),null==N)B=I=Object.keys(T[0]),X=I.map(function(){return"left"});else if(Array.isArray(N)&&"object"===Te(N[0]))for(I=N.map(function(Et){return Et.name}),B=N.map(function(Et){return Et.prompt||Et.name||""}),X=N.map(function(Et){return Et.align||"left"}),y=0;y<N.length;y+=1)At[N[y].name]=N[y].width*(19.049976/25.4);else Array.isArray(N)&&"string"==typeof N[0]&&(B=I=N,X=I.map(function(){return"left"}));if(J||Array.isArray(N)&&"string"==typeof N[0])for(y=0;y<I.length;y+=1){for(ut[H=I[y]]=T.map(function(Et){return Et[H]}),this.setFont(void 0,"bold"),Wt.push(this.getTextDimensions(B[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=ut[H],this.setFont(void 0,"normal"),O=0;O<R.length;O+=1)Wt.push(this.getTextDimensions(R[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);At[H]=Math.max.apply(null,Wt)+M+M,Wt=[]}if(qt){var Pt={};for(y=0;y<I.length;y+=1)Pt[I[y]]={},Pt[I[y]].text=B[y],Pt[I[y]].align=X[y];var xt=_.call(this,Pt,At);lt=I.map(function(Et){return new h(v,w,At[Et],xt,Pt[Et].text,void 0,Pt[Et].align)}),this.setTableHeaderRow(lt),this.printHeaderRow(1,!1)}var It=N.reduce(function(Et,pe){return Et[pe.name]=pe.align,Et},{});for(y=0;y<T.length;y+=1){"rowStart"in Z&&Z.rowStart instanceof Function&&Z.rowStart({row:y,data:T[y]},this);var ft=_.call(this,T[y],At);for(O=0;O<I.length;O+=1){var Mt=T[y][I[O]];"cellStart"in Z&&Z.cellStart instanceof Function&&Z.cellStart({row:y,col:O,data:Mt},this),f.call(this,new h(v,w,At[I[O]],ft,Mt,y+2,It[I[O]]))}}return this.internal.__cell__.table_x=v,this.internal.__cell__.table_y=w,this};var _=function(v,w){var T=this.internal.__cell__.padding,N=this.internal.__cell__.table_font_size,Z=this.internal.scaleFactor;return Object.keys(v).map(function(y){var R=v[y];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,w[y]-T-T)},this).map(function(y){return this.getLineHeightFactor()*y.length*N/Z+T+T},this).reduce(function(y,R){return Math.max(y,R)},0)};a.setTableHeaderRow=function(v){c.call(this),this.internal.__cell__.tableHeaderRow=v},a.printHeaderRow=function(v,w){if(c.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var T;if(o=!0,"function"==typeof this.internal.__cell__.headerFunction){var N=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new h(N[0],N[1],N[2],N[3],void 0,-1)}this.setFont(void 0,"bold");for(var Z=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){T=this.internal.__cell__.tableHeaderRow[y].clone(),w&&(T.y=this.internal.__cell__.margins.top||0,Z.push(T)),T.lineNumber=v;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,T),this.setTextColor(R)}Z.length>0&&this.setTableHeaderRow(Z),this.setFont(void 0,"normal"),o=!1}}(Ee.API);var li={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gr=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Is=Ke(Gr),Gc=[100,200,300,400,500,600,700,800,900],Kl=Ke(Gc);function Os(a){var h,i=a.family.replace(/"|'/g,"").toLowerCase(),o=li[h=(h=a.style)||"normal"]?h:"normal",c=function(h){return h?"number"==typeof h?h>=100&&h<=900&&h%100==0?h:400:/^\d00$/.test(h)?parseInt(h):"bold"===h?700:400:400}(a.weight),d=function(h){return"number"==typeof Is[h=h||"normal"]?h:"normal"}(a.stretch);return{family:i,style:o,weight:c,stretch:d,src:a.src||[],ref:a.ref||{name:i,style:[d,o,c].join(" ")}}}function Ms(a,i,o,c){var d;for(d=o;d>=0&&d<i.length;d+=c)if(a[i[d]])return a[i[d]];for(d=o;d>=0&&d<i.length;d-=c)if(a[i[d]])return a[i[d]]}var tr={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kr={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Qr(a){return[a.stretch,a.style,a.weight,a.family].join(" ")}function er(a){return a.trimLeft()}function $c(a,i){for(var o=0;o<a.length;){if(a.charAt(o)===i)return[a.substring(0,o),a.substring(o+1)];o+=1}return null}function Ua(a){var i=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===i?null:[i[0],a.substring(i[0].length)]}var Pr,$r,ja,Sr=["times"];(function(a){var i,o,c,d,h,f,_,v,w,T=function(P){return this.isStrokeTransparent=(P=P||{}).isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=void 0!==P.transform?P.transform.clone():new v,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new f,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new f,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof P.ignoreClearRect||P.ignoreClearRect,this};a.events.push(["initialized",function(){this.context2d=new N(this),i=this.internal.f2,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getHorizontalCoordinate,h=this.internal.getVerticalCoordinate,f=this.internal.Point,_=this.internal.Rectangle,v=this.internal.Matrix,w=new T}]);var N=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=P;Object.defineProperty(this,"pdf",{get:function(){return j}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Dt){z=Boolean(Dt)}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Dt){K=Boolean(Dt)}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(Dt){isNaN(Dt)||(ot=Dt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(Dt){isNaN(Dt)||(mt=Dt)}}),Object.defineProperty(this,"margin",{get:function(){return w.margin},set:function(Dt){var Y;"number"==typeof Dt?Y=[Dt,Dt,Dt,Dt]:((Y=new Array(4))[0]=Dt[0],Y[1]=Dt.length>=2?Dt[1]:Y[0],Y[2]=Dt.length>=3?Dt[2]:Y[0],Y[3]=Dt.length>=4?Dt[3]:Y[1]),w.margin=Y}});var yt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yt},set:function(Dt){yt=Dt}});var wt=0;Object.defineProperty(this,"lastBreak",{get:function(){return wt},set:function(Dt){wt=Dt}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(Dt){oe=Dt}}),Object.defineProperty(this,"ctx",{get:function(){return w},set:function(Dt){Dt instanceof T&&(w=Dt)}}),Object.defineProperty(this,"path",{get:function(){return w.path},set:function(Dt){w.path=Dt}});var ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return ne},set:function(Dt){ne=Dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Dt){var Y;Y=Z(Dt),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=0===Y.a,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Dt){var Y=Z(Dt);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=0===Y.a,this.ctx.strokeOpacity=Y.a,0===Y.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Y.r,Y.g,Y.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Dt){-1!==["butt","round","square"].indexOf(Dt)&&(this.ctx.lineCap=Dt,this.pdf.setLineCap(Dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Dt){isNaN(Dt)||(this.ctx.lineWidth=Dt,this.pdf.setLineWidth(Dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Dt){-1!==["bevel","round","miter"].indexOf(Dt)&&(this.ctx.lineJoin=Dt,this.pdf.setLineJoin(Dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Dt){isNaN(Dt)||(this.ctx.miterLimit=Dt,this.pdf.setMiterLimit(Dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Dt){this.ctx.textBaseline=Dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Dt){-1!==["right","end","center","left","start"].indexOf(Dt)&&(this.ctx.textAlign=Dt)}});var me=null,Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(Dt){me=null,Be=Dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Dt){var Y;if(this.ctx.font=Dt,null!==(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Dt))){var Je=Y[1],ke=Y[3],ee=Y[4],ce=Y[6],fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ee)[2];ee=Math.floor("px"===fe?parseFloat(ee)*this.pdf.internal.scaleFactor:"em"===fe?parseFloat(ee)*this.pdf.getFontSize():parseFloat(ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ee);var he=function(Ue){var Xe,ge,Xi=[],oi=Ue.trim();if(""===oi)return Sr;if(oi in kr)return[kr[oi]];for(;""!==oi;){switch(ge=null,Xe=(oi=er(oi)).charAt(0)){case'"':case"'":ge=$c(oi.substring(1),Xe);break;default:ge=Ua(oi)}if(null===ge||(Xi.push(ge[0]),""!==(oi=er(ge[1]))&&","!==oi.charAt(0)))return Sr;oi=oi.replace(/^,/,"")}return Xi}(ce);if(this.fontFaces){var Le=function Qc(a,i,o){for(var c=(o=o||{}).defaultFontFamily||"times",d=Object.assign({},tr,o.genericFontFamilies||{}),h=null,f=null,_=0;_<i.length;++_)if(d[(h=Os(i[_])).family]&&(h.family=d[h.family]),a.hasOwnProperty(h.family)){f=a[h.family];break}if(!(f=f||a[c]))throw new Error("Could not find a font-family for the rule '"+Qr(h)+"' and default family '"+c+"'.");if(f=function(v,w){if(w[v])return w[v];var T=Is[v],Z=Ms(w,Gr,T,T<=Is.normal?-1:1);if(!Z)throw new Error("Could not find a matching font-stretch value for "+v);return Z}(h.stretch,f),f=function(v,w){if(w[v])return w[v];for(var T=li[v],N=0;N<T.length;++N)if(w[T[N]])return w[T[N]];throw new Error("Could not find a matching font-style for "+v)}(h.style,f),!(f=function(v,w){if(w[v])return w[v];if(400===v&&w[500])return w[500];if(500===v&&w[400])return w[400];var N=Ms(w,Gc,Kl[v],v<400?-1:1);if(!N)throw new Error("Could not find a matching font-weight for value "+v);return N}(h.weight,f)))throw new Error("Failed to resolve a font for the rule '"+Qr(h)+"'.");return f}(function ve(Dt,Y){if(null===me){var Je=(ke=Dt.getFontList(),ee=[],Object.keys(ke).forEach(function(ce){ke[ce].forEach(function(fe){var he=null;switch(fe){case"bold":he={family:ce,weight:"bold"};break;case"italic":he={family:ce,style:"italic"};break;case"bolditalic":he={family:ce,weight:"bold",style:"italic"};break;case"":case"normal":he={family:ce}}null!==he&&(he.ref={name:ce,style:fe},ee.push(he))})}),ee);me=function(ke){for(var ee={},ce=0;ce<ke.length;++ce){var fe=Os(ke[ce]),he=fe.family,Le=fe.stretch,He=fe.style,We=fe.weight;ee[he]=ee[he]||{},ee[he][Le]=ee[he][Le]||{},ee[he][Le][He]=ee[he][Le][He]||{},ee[he][Le][He][We]=fe}return ee}(Je.concat(Y))}var ke,ee;return me}(this.pdf,this.fontFaces),he.map(function(Ue){return{family:Ue,stretch:"normal",weight:ke,style:Je}}));this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var He="";("bold"===ke||parseInt(ke,10)>=700||"bold"===Je)&&(He="bold"),"italic"===Je&&(He+="italic"),0===He.length&&(He="normal");for(var We="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ri=0;ri<he.length;ri++){if(void 0!==this.pdf.internal.getFont(he[ri],He,{noFallback:!0,disableWarning:!0})){We=he[ri];break}if("bolditalic"===He&&void 0!==this.pdf.internal.getFont(he[ri],"bold",{noFallback:!0,disableWarning:!0}))We=he[ri],He="bold";else if(void 0!==this.pdf.internal.getFont(he[ri],"normal",{noFallback:!0,disableWarning:!0})){We=he[ri],He="normal";break}}if(""===We)for(var hi=0;hi<he.length;hi++)if($e[he[hi]]){We=$e[he[hi]];break}this.pdf.setFont(We=""===We?"Times":We,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Dt){this.ctx.globalCompositeOperation=Dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Dt){this.ctx.globalAlpha=Dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Dt){this.ctx.lineDashOffset=Dt,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Dt){this.ctx.lineDash=Dt,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Dt){this.ctx.ignoreClearRect=Boolean(Dt)}})};N.prototype.setLineDash=function(P){this.lineDash=P},N.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},N.prototype.fill=function(){ut.call(this,"fill",!1)},N.prototype.stroke=function(){ut.call(this,"stroke",!1)},N.prototype.beginPath=function(){this.path=[{type:"begin"}]},N.prototype.moveTo=function(P,j){if(isNaN(P)||isNaN(j))throw di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new f(P,j));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new f(P,j)},N.prototype.closePath=function(){var P=new f(0,0),j=0;for(j=this.path.length-1;-1!==j;j--)if("begin"===this.path[j].type&&"object"===Te(this.path[j+1])&&"number"==typeof this.path[j+1].x){P=new f(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(P.x,P.y)},N.prototype.lineTo=function(P,j){if(isNaN(P)||isNaN(j))throw di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new f(P,j));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new f(z.x,z.y)},N.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ut.call(this,null,!0)},N.prototype.quadraticCurveTo=function(P,j,z,K){if(isNaN(z)||isNaN(K)||isNaN(P)||isNaN(j))throw di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new f(z,K)),mt=this.ctx.transform.applyToPoint(new f(P,j));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new f(ot.x,ot.y)},N.prototype.bezierCurveTo=function(P,j,z,K,ot,mt){if(isNaN(ot)||isNaN(mt)||isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K))throw di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yt=this.ctx.transform.applyToPoint(new f(ot,mt)),wt=this.ctx.transform.applyToPoint(new f(P,j)),oe=this.ctx.transform.applyToPoint(new f(z,K));this.path.push({type:"bct",x1:wt.x,y1:wt.y,x2:oe.x,y2:oe.y,x:yt.x,y:yt.y}),this.ctx.lastPoint=new f(yt.x,yt.y)},N.prototype.arc=function(P,j,z,K,ot,mt){if(isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K)||isNaN(ot))throw di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=Boolean(mt),!this.ctx.transform.isIdentity){var yt=this.ctx.transform.applyToPoint(new f(P,j));P=yt.x,j=yt.y;var wt=this.ctx.transform.applyToPoint(new f(0,z)),oe=this.ctx.transform.applyToPoint(new f(0,0));z=Math.sqrt(Math.pow(wt.x-oe.x,2)+Math.pow(wt.y-oe.y,2))}Math.abs(ot-K)>=2*Math.PI&&(K=0,ot=2*Math.PI),this.path.push({type:"arc",x:P,y:j,radius:z,startAngle:K,endAngle:ot,counterclockwise:mt})},N.prototype.arcTo=function(P,j,z,K,ot){throw new Error("arcTo not implemented.")},N.prototype.rect=function(P,j,z,K){if(isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K))throw di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,j),this.lineTo(P+z,j),this.lineTo(P+z,j+K),this.lineTo(P,j+K),this.lineTo(P,j),this.lineTo(P+z,j),this.lineTo(P,j)},N.prototype.fillRect=function(P,j,z,K){if(isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K))throw di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ot={};"butt"!==this.lineCap&&(ot.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,j,z,K),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},N.prototype.strokeRect=function(P,j,z,K){if(isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K))throw di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(P,j,z,K),this.stroke())},N.prototype.clearRect=function(P,j,z,K){if(isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K))throw di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,j,z,K))},N.prototype.save=function(P){P="boolean"!=typeof P||P;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new T(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},N.prototype.restore=function(P){P="boolean"!=typeof P||P;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(j),P&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},N.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Z=function(P){var j,z,K,ot;if(!0===P.isCanvasGradient&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))j=0,z=0,K=0,ot=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(null!==mt)j=parseInt(mt[1]),z=parseInt(mt[2]),K=parseInt(mt[3]),ot=1;else if(null!==(mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P)))j=parseInt(mt[1]),z=parseInt(mt[2]),K=parseInt(mt[3]),ot=parseFloat(mt[4]);else{if(ot=1,"string"==typeof P&&"#"!==P.charAt(0)){var yt=new Rc(P);P=yt.ok?yt.toHex():"#000000"}4===P.length?(j=P.substring(1,2),j+=j,z=P.substring(2,3),z+=z,K=P.substring(3,4),K+=K):(j=P.substring(1,3),z=P.substring(3,5),K=P.substring(5,7)),j=parseInt(j,16),z=parseInt(z,16),K=parseInt(K,16)}}return{r:j,g:z,b:K,a:ot,style:P}},y=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},R=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};N.prototype.fillText=function(P,j,z,K){if(isNaN(j)||isNaN(z)||"string"!=typeof P)throw di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!y.call(this)){var ot=ft(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;M.call(this,{text:P,x:j,y:z,scale:mt,angle:ot,align:this.textAlign,maxWidth:K})}},N.prototype.strokeText=function(P,j,z,K){if(isNaN(j)||isNaN(z)||"string"!=typeof P)throw di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){K=isNaN(K)?void 0:K;var ot=ft(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;M.call(this,{text:P,x:j,y:z,scale:mt,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:K})}},N.prototype.measureText=function(P){if("string"!=typeof P)throw di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,z=this.pdf.internal.scaleFactor,K=j.internal.getFontSize(),ot=j.getStringUnitWidth(P)*K/j.internal.scaleFactor,mt=function(yt){var wt=(yt=yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return wt}}),this};return new mt({width:ot*=Math.round(96*z/72*1e4)/1e4})},N.prototype.scale=function(P,j){if(isNaN(P)||isNaN(j))throw di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new v(P,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},N.prototype.rotate=function(P){if(isNaN(P))throw di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new v(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},N.prototype.translate=function(P,j){if(isNaN(P)||isNaN(j))throw di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new v(1,0,0,1,P,j);this.ctx.transform=this.ctx.transform.multiply(z)},N.prototype.transform=function(P,j,z,K,ot,mt){if(isNaN(P)||isNaN(j)||isNaN(z)||isNaN(K)||isNaN(ot)||isNaN(mt))throw di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yt=new v(P,j,z,K,ot,mt);this.ctx.transform=this.ctx.transform.multiply(yt)},N.prototype.setTransform=function(P,j,z,K,ot,mt){P=isNaN(P)?1:P,j=isNaN(j)?0:j,z=isNaN(z)?0:z,K=isNaN(K)?1:K,ot=isNaN(ot)?0:ot,mt=isNaN(mt)?0:mt,this.ctx.transform=new v(P,j,z,K,ot,mt)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};N.prototype.drawImage=function(P,j,z,K,ot,mt,yt,wt,oe){var ne=this.pdf.getImageProperties(P),me=1,ve=1,Be=1,Dt=1;void 0!==K&&void 0!==wt&&(Be=wt/K,Dt=oe/ot,me=ne.width/K*wt/K,ve=ne.height/ot*oe/ot),void 0===mt&&(mt=j,yt=z,j=0,z=0),void 0!==K&&void 0===wt&&(wt=K,oe=ot),void 0===K&&void 0===wt&&(wt=ne.width,oe=ne.height);for(var Y,Je=this.ctx.transform.decompose(),ke=ft(Je.rotate.shx),ee=new v,ce=(ee=(ee=(ee=ee.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new _(mt-j*Be,yt-z*Dt,K*me,ot*ve)),fe=H.call(this,ce),he=[],Le=0;Le<fe.length;Le+=1)-1===he.indexOf(fe[Le])&&he.push(fe[Le]);if(X(he),this.autoPaging)for(var He=he[0],We=he[he.length-1],$e=He;$e<We+1;$e++){this.pdf.setPage($e);var ri=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hi=1===$e?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=1===$e?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+($e-2)*Xe;if(0!==this.ctx.clip_path.length){var Xi=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Y,this.posX+this.margin[3],-ge+hi+this.ctx.prevPageLastElemOffset),At.call(this,"fill",!0),this.path=Xi}var oi=JSON.parse(JSON.stringify(ce));oi=B([oi],this.posX+this.margin[3],-ge+hi+this.ctx.prevPageLastElemOffset)[0];var In=($e>He||$e<We)&&O.call(this);In&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ri,Xe,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",oi.x,oi.y,oi.w,oi.h,null,null,ke),In&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,ke)};var H=function(P,j,z){var K=[];j=j||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":K.push(Math.floor((P.y+ot)/z)+1);break;case"arc":K.push(Math.floor((P.y+ot-P.radius)/z)+1),K.push(Math.floor((P.y+ot+P.radius)/z)+1);break;case"qct":var mt=Mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);K.push(Math.floor((mt.y+ot)/z)+1),K.push(Math.floor((mt.y+mt.h+ot)/z)+1);break;case"bct":var yt=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);K.push(Math.floor((yt.y+ot)/z)+1),K.push(Math.floor((yt.y+yt.h+ot)/z)+1);break;case"rect":K.push(Math.floor((P.y+ot)/z)+1),K.push(Math.floor((P.y+P.h+ot)/z)+1)}for(var wt=0;wt<K.length;wt+=1)for(;this.pdf.internal.getNumberOfPages()<K[wt];)I.call(this);return K},I=function(){var P=this.fillStyle,j=this.strokeStyle,z=this.font,K=this.lineCap,ot=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=j,this.font=z,this.lineCap=K,this.lineWidth=ot,this.lineJoin=mt},B=function(P,j,z){for(var K=0;K<P.length;K++)switch(P[K].type){case"bct":P[K].x2+=j,P[K].y2+=z;case"qct":P[K].x1+=j,P[K].y1+=z;default:P[K].x+=j,P[K].y+=z}return P},X=function(P){return P.sort(function(j,z){return j-z})},ut=function(P,j){for(var z,K,ot=this.fillStyle,mt=this.strokeStyle,yt=this.lineCap,wt=this.lineWidth,oe=Math.abs(wt*this.ctx.transform.scaleX),ne=this.lineJoin,me=JSON.parse(JSON.stringify(this.path)),ve=JSON.parse(JSON.stringify(this.path)),Be=[],Dt=0;Dt<ve.length;Dt++)if(void 0!==ve[Dt].x)for(var Y=H.call(this,ve[Dt]),Je=0;Je<Y.length;Je+=1)-1===Be.indexOf(Y[Je])&&Be.push(Y[Je]);for(var ke=0;ke<Be.length;ke++)for(;this.pdf.internal.getNumberOfPages()<Be[ke];)I.call(this);if(X(Be),this.autoPaging)for(var ee=Be[0],ce=Be[Be.length-1],fe=ee;fe<ce+1;fe++){this.pdf.setPage(fe),this.fillStyle=ot,this.strokeStyle=mt,this.lineCap=yt,this.lineWidth=oe,this.lineJoin=ne;var he=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=1===fe?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=1===fe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(fe-2)*We;if(0!==this.ctx.clip_path.length){var ri=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(z,this.posX+this.margin[3],-$e+Le+this.ctx.prevPageLastElemOffset),At.call(this,P,!0),this.path=ri}if(K=JSON.parse(JSON.stringify(me)),this.path=B(K,this.posX+this.margin[3],-$e+Le+this.ctx.prevPageLastElemOffset),!1===j||0===fe){var hi=(fe>ee||fe<ce)&&O.call(this);hi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],he,We,null).clip().discardPath()),At.call(this,P,j),hi&&this.pdf.restoreGraphicsState()}this.lineWidth=wt}else this.lineWidth=oe,At.call(this,P,j),this.lineWidth=wt;this.path=me},At=function(P,j){if(("stroke"!==P||j||!R.call(this))&&("stroke"===P||j||!y.call(this))){for(var z,K,ot=[],mt=this.path,yt=0;yt<mt.length;yt++){var wt=mt[yt];switch(wt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:wt,deltas:[],abs:[]});break;case"lt":var oe=ot.length;if(mt[yt-1]&&!isNaN(mt[yt-1].x)&&(z=[wt.x-mt[yt-1].x,wt.y-mt[yt-1].y],oe>0))for(;oe>=0;oe--)if(!0!==ot[oe-1].close&&!0!==ot[oe-1].begin){ot[oe-1].deltas.push(z),ot[oe-1].abs.push(wt);break}break;case"bct":ot[ot.length-1].deltas.push(z=[wt.x1-mt[yt-1].x,wt.y1-mt[yt-1].y,wt.x2-mt[yt-1].x,wt.y2-mt[yt-1].y,wt.x-mt[yt-1].x,wt.y-mt[yt-1].y]);break;case"qct":ot[ot.length-1].deltas.push(z=[mt[yt-1].x+2/3*(wt.x1-mt[yt-1].x)-mt[yt-1].x,mt[yt-1].y+2/3*(wt.y1-mt[yt-1].y)-mt[yt-1].y,wt.x+2/3*(wt.x1-wt.x)-mt[yt-1].x,wt.y+2/3*(wt.y1-wt.y)-mt[yt-1].y,wt.x-mt[yt-1].x,wt.y-mt[yt-1].y]);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(wt)}}K=j?null:"stroke"===P?"stroke":"fill";for(var Je=!1,ke=0;ke<ot.length;ke++)if(ot[ke].arc)for(var ee=ot[ke].abs,ce=0;ce<ee.length;ce++){var fe=ee[ce];"arc"===fe.type?J.call(this,fe.x,fe.y,fe.radius,fe.startAngle,fe.endAngle,fe.counterclockwise,void 0,j,!Je):G.call(this,fe.x,fe.y),Je=!0}else!0===ot[ke].close?(this.pdf.internal.out("h"),Je=!1):!0!==ot[ke].begin&&(V.call(this,ot[ke].deltas,ot[ke].start.x,ot[ke].start.y),Je=!0);K&&qt.call(this,K),j&&Ft.call(this)}},Wt=function(P){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-z;case"top":return P+j-z;case"hanging":return P+j-2*z;case"middle":return P+j/2-z;default:return P}},lt=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};N.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(j,z){this.colorStops.push([j,z])},P.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},N.prototype.createPattern=function(){return this.createLinearGradient()},N.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(P,j,z,K,ot,mt,yt,wt,oe){for(var ne=xt.call(this,z,K,ot,mt),me=0;me<ne.length;me++){var ve=ne[me];0===me&&(oe?E.call(this,ve.x1+P,ve.y1+j):G.call(this,ve.x1+P,ve.y1+j)),Pt.call(this,P,j,ve.x2,ve.y2,ve.x3,ve.y3,ve.x4,ve.y4)}wt?Ft.call(this):qt.call(this,yt)},qt=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ft=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,j){this.pdf.internal.out(o(P)+" "+c(j)+" m")},M=function(P){var j;switch(P.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var z=this.pdf.getTextDimensions(P.text),K=Wt.call(this,P.y),ot=lt.call(this,K)-z.h,mt=this.ctx.transform.applyToPoint(new f(P.x,K)),yt=this.ctx.transform.decompose(),wt=new v;wt=(wt=(wt=wt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale);for(var oe,ne,me,ve=this.ctx.transform.applyToRectangle(new _(P.x,K,z.w,z.h)),Be=wt.applyToRectangle(new _(P.x,ot,z.w,z.h)),Dt=H.call(this,Be),Y=[],Je=0;Je<Dt.length;Je+=1)-1===Y.indexOf(Dt[Je])&&Y.push(Dt[Je]);if(X(Y),this.autoPaging)for(var ke=Y[0],ee=Y[Y.length-1],ce=ke;ce<ee+1;ce++){this.pdf.setPage(ce);var fe=1===ce?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.margin[2],He=Le-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],$e=We-this.margin[3],ri=1===ce?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ce-2)*He;if(0!==this.ctx.clip_path.length){var hi=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(oe,this.posX+this.margin[3],-1*ri+fe),At.call(this,"fill",!0),this.path=hi}var Ue=B([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-ri+fe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*P.scale),this.lineWidth=(me=this.lineWidth)*P.scale);var Xe="text"!==this.autoPaging;if(Xe||Ue.y+Ue.h<=Le){if(Xe||Ue.y>=fe&&Ue.x<=We){var ge=Xe?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||We-Ue.x)[0],Xi=B([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-ri+fe+this.ctx.prevPageLastElemOffset)[0],oi=Xe&&(ce>ke||ce<ee)&&O.call(this);oi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,He,null).clip().discardPath()),this.pdf.text(ge,Xi.x,Xi.y,{angle:P.angle,align:j,renderingMode:P.renderingMode}),oi&&this.pdf.restoreGraphicsState()}}else Ue.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-Ue.y);P.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=me)}else P.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*P.scale),this.lineWidth=(me=this.lineWidth)*P.scale),this.pdf.text(P.text,mt.x+this.posX,mt.y+this.posY,{angle:P.angle,align:j,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=me)},G=function(P,j,z,K){K=K||0,this.pdf.internal.out(o(P+(z=z||0))+" "+c(j+K)+" l")},V=function(P,j,z){return this.pdf.lines(P,j,z,null,null)},Pt=function(P,j,z,K,ot,mt,yt,wt){this.pdf.internal.out([i(d(z+P)),i(h(K+j)),i(d(ot+P)),i(h(mt+j)),i(d(yt+P)),i(h(wt+j)),"c"].join(" "))},xt=function(P,j,z,K){for(var ot=2*Math.PI,mt=Math.PI/2;j>z;)j-=ot;var yt=Math.abs(z-j);yt<ot&&K&&(yt=ot-yt);for(var wt=[],oe=K?-1:1,ne=j;yt>1e-5;){var me=ne+oe*Math.min(yt,mt);wt.push(It.call(this,P,ne,me)),yt-=Math.abs(me-ne),ne=me}return wt},It=function(P,j,z){var K=(z-j)/2,ot=P*Math.cos(K),mt=P*Math.sin(K),yt=ot,wt=-mt,oe=yt*yt+wt*wt,ne=oe+yt*ot+wt*mt,me=4/3*(Math.sqrt(2*oe*ne)-ne)/(yt*mt-wt*ot),ve=yt-me*wt,Be=wt+me*yt,Dt=ve,Y=-Be,Je=K+j,ke=Math.cos(Je),ee=Math.sin(Je);return{x1:P*Math.cos(j),y1:P*Math.sin(j),x2:ve*ke-Be*ee,y2:ve*ee+Be*ke,x3:Dt*ke-Y*ee,y3:Dt*ee+Y*ke,x4:P*Math.cos(z),y4:P*Math.sin(z)}},ft=function(P){return 180*P/Math.PI},Mt=function(P,j,z,K,ot,mt){var yt=P+.5*(z-P),wt=j+.5*(K-j),oe=ot+.5*(z-ot),ne=mt+.5*(K-mt),me=Math.min(P,ot,yt,oe),ve=Math.max(P,ot,yt,oe),Be=Math.min(j,mt,wt,ne),Dt=Math.max(j,mt,wt,ne);return new _(me,Be,ve-me,Dt-Be)},Et=function(P,j,z,K,ot,mt,yt,wt){var oe,ne,me,ve,Be,Dt,Y,Je,ke,ee,ce,fe,he,Le,He=z-P,We=K-j,$e=ot-z,ri=mt-K,hi=yt-ot,Ue=wt-mt;for(ne=0;ne<41;ne++)ke=(Y=(me=P+(oe=ne/40)*He)+oe*((Be=z+oe*$e)-me))+oe*(Be+oe*(ot+oe*hi-Be)-Y),ee=(Je=(ve=j+oe*We)+oe*((Dt=K+oe*ri)-ve))+oe*(Dt+oe*(mt+oe*Ue-Dt)-Je),0==ne?(ce=ke,fe=ee,he=ke,Le=ee):(ce=Math.min(ce,ke),fe=Math.min(fe,ee),he=Math.max(he,ke),Le=Math.max(Le,ee));return new _(Math.round(ce),Math.round(fe),Math.round(he-ce),Math.round(Le-fe))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Ee.API),function(a){var i=function(h){var f,_,v,w,T,N,Z,y,R,O;for(/[^\x00-\xFF]/.test(h),_=[],v=0,w=(h+=f="\0\0\0\0".slice(h.length%4||4)).length;w>v;v+=4)0!==(T=(h.charCodeAt(v)<<24)+(h.charCodeAt(v+1)<<16)+(h.charCodeAt(v+2)<<8)+h.charCodeAt(v+3))?(N=(T=((T=((T=((T=(T-(O=T%85))/85)-(R=T%85))/85)-(y=T%85))/85)-(Z=T%85))/85)%85,_.push(N+33,Z+33,y+33,R+33,O+33)):_.push(122);return function(H,I){for(var B=I;B>0;B--)H.pop()}(_,f.length),String.fromCharCode.apply(String,_)+"~>"},o=function(h){var f,_,v,w,T,N=String,Z="length",y=255,R="charCodeAt",O="slice",H="replace";for(h[O](-2),h=h[O](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),v=[],w=0,T=(h+=f="uuuuu"[O](h[Z]%5||5))[Z];T>w;w+=5)_=52200625*(h[R](w)-33)+614125*(h[R](w+1)-33)+7225*(h[R](w+2)-33)+85*(h[R](w+3)-33)+(h[R](w+4)-33),v.push(y&_>>24,y&_>>16,y&_>>8,y&_);return function(I,B){for(var X=B;X>0;X--)I.pop()}(v,f[Z]),N.fromCharCode.apply(N,v)},c=function(h){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(h=h.replace(/\s/g,"")).indexOf(">")&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),!1===f.test(h))return"";for(var _="",v=0;v<h.length;v+=2)_+=String.fromCharCode("0x"+(h[v]+h[v+1]));return _},d=function(h){for(var f=new Uint8Array(h.length),_=h.length;_--;)f[_]=h.charCodeAt(_);return(f=Xo(f)).reduce(function(v,w){return v+String.fromCharCode(w)},"")};a.processDataByFilters=function(h,f){var _=0,v=h||"",w=[];for("string"==typeof(f=f||[])&&(f=[f]),_=0;_<f.length;_+=1)switch(f[_]){case"ASCII85Decode":case"/ASCII85Decode":v=o(v),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=i(v),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=c(v),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=v.split("").map(function(T){return("0"+T.charCodeAt().toString(16)).slice(-2)}).join("")+">",w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=d(v),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[_]+'" is not implemented')}return{data:v,reverseChain:w.reverse().join(" ")}}}(Ee.API),function(a){a.loadFile=function(i,o,c){return function(d,h,f){h=!1!==h,f="function"==typeof f?f:function(){};var _=void 0;try{_=function(v,w,T){var N=new XMLHttpRequest,Z=0,y=function(R){var O=R.length,H=[],I=String.fromCharCode;for(Z=0;Z<O;Z+=1)H.push(I(255&R.charCodeAt(Z)));return H.join("")};if(N.open("GET",v,!w),N.overrideMimeType("text/plain; charset=x-user-defined"),!1===w&&(N.onload=function(){T(200===N.status?y(this.responseText):void 0)}),N.send(null),w&&200===N.status)return y(N.responseText)}(d,h,f)}catch(v){}return _}(i,o,c)},a.loadImageFile=a.loadFile}(Ee.API),function(a){function i(){return(Re.html2canvas?Promise.resolve(Re.html2canvas):re.e(159).then(re.t.bind(re,4159,23))).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function o(){return(Re.DOMPurify?Promise.resolve(Re.DOMPurify):re.e(735).then(re.t.bind(re,2735,23))).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var c=function(f){var _=Te(f);return"undefined"===_?"undefined":"string"===_||f instanceof String?"string":"number"===_||f instanceof Number?"number":"function"===_||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&1===f.nodeType?"element":"object"===_?"object":"unknown"},d=function(f,_){var v=document.createElement(f);for(var w in _.className&&(v.className=_.className),_.innerHTML&&_.dompurify&&(v.innerHTML=_.dompurify.sanitize(_.innerHTML)),_.style)v.style[w]=_.style[w];return v},h=function f(_){var v=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),w=f.convert(Promise.resolve(),v);return(w=w.setProgress(1,f,1,[f])).set(_)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(f,_){return f.__proto__=_||h.prototype,f},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(f,_){return this.then(function(){switch(_=_||function(v){switch(c(v)){case"string":return"string";case"element":return"canvas"===v.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(o).then(function(v){return this.set({src:d("div",{innerHTML:f,dompurify:v})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},h.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},_=function v(w,T){for(var N=3===w.nodeType?document.createTextNode(w.nodeValue):w.cloneNode(!1),Z=w.firstChild;Z;Z=Z.nextSibling)!0!==T&&1===Z.nodeType&&"SCRIPT"===Z.nodeName||N.appendChild(v(Z,T));return 1===w.nodeType&&("CANVAS"===w.nodeName?(N.width=w.width,N.height=w.height,N.getContext("2d").drawImage(w,0,0)):"TEXTAREA"!==w.nodeName&&"SELECT"!==w.nodeName||(N.value=w.value),N.addEventListener("load",function(){N.scrollTop=w.scrollTop,N.scrollLeft=w.scrollLeft},!0)),N}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===_.tagName&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=d("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=d("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(_),this.prop.container.firstChild.appendChild(d("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(_){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,_(this.prop.container,v)}).then(function(_){(this.opt.html2canvas.onrendered||function(){})(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(_){var v=this.opt.jsPDF,w=this.opt.fontFaces,T="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:T,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,v.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=w,w)for(var Z=0;Z<w.length;++Z){var y=w[Z],R=y.src.find(function(O){return"truetype"===O.format});R&&v.addFont(R.url,y.ref.name,y.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=0==N.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,v.context2d.save(!0),_(this.prop.container,N)}).then(function(_){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(f,_,v){return"img"===(v=v||"pdf").toLowerCase()||"image"===v.toLowerCase()?this.outputImg(f,_):this.outputPdf(f,_)},h.prototype.outputPdf=function(f,_){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,_)})},h.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},h.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(f){if("object"!==c(f))return this;var _=Object.keys(f||{}).map(function(v){if(v in h.template.prop)return function(){this.prop[v]=f[v]};switch(v){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[v]=f[v]}}},this);return this.then(function(){return this.thenList(_)})},h.prototype.get=function(f,_){return this.then(function(){var v=f in h.template.prop?this.prop[f]:this.opt[f];return _?_(v):v})},h.prototype.setMargin=function(f){return this.then(function(){switch(c(f)){case"number":f=[f,f,f,f];case"array":if(2===f.length&&(f=[f[0],f[1],f[0],f[1]]),4===f.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},h.prototype.setPageSize=function(f){function _(v,w){return Math.floor(v*w/72*96)}return this.then(function(){(f=f||Ee.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:_(f.inner.width,f.k),height:_(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},h.prototype.setProgress=function(f,_,v,w){return null!=f&&(this.progress.val=f),null!=_&&(this.progress.state=_),null!=v&&(this.progress.n=v),null!=w&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(f,_,v,w){return this.setProgress(f?this.progress.val+f:null,_||null,v?this.progress.n+v:null,w?this.progress.stack.concat(w):null)},h.prototype.then=function(f,_){var v=this;return this.thenCore(f,_,function(w,T){return v.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(N){return v.updateProgress(null,w),N}).then(w,T).then(function(N){return v.updateProgress(1),N})})},h.prototype.thenCore=function(f,_,v){v=v||Promise.prototype.then,f&&(f=f.bind(this)),_&&(_=_.bind(this));var w=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:h.convert(Object.assign({},this),Promise.prototype),T=v.call(w,f,_);return h.convert(T,this.__proto__)},h.prototype.thenExternal=function(f,_){return Promise.prototype.then.call(this,f,_)},h.prototype.thenList=function(f){var _=this;return f.forEach(function(v){_=_.thenCore(v)}),_},h.prototype.catch=function(f){f&&(f=f.bind(this));var _=Promise.prototype.catch.call(this,f);return h.convert(_,this)},h.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},h.prototype.error=function(f){return this.then(function(){throw new Error(f)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Ee.getPageSize=function(f,_,v){if("object"===Te(f)){var w=f;f=w.orientation,_=w.unit||_,v=w.format||v}_=_||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var T,N=(""+v).toLowerCase(),Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(_){case"pt":T=1;break;case"mm":T=72/25.4;break;case"cm":T=72/2.54;break;case"in":T=72;break;case"px":T=.75;break;case"pc":case"em":T=12;break;case"ex":T=6;break;default:throw"Invalid unit: "+_}var y,R=0,O=0;if(Z.hasOwnProperty(N))R=Z[N][1]/T,O=Z[N][0]/T;else try{R=v[1],O=v[0]}catch(H){throw new Error("Invalid format: "+v)}if("p"===f||"portrait"===f)f="p",O>R&&(y=O,O=R,R=y);else{if("l"!==f&&"landscape"!==f)throw"Invalid orientation: "+f;f="l",R>O&&(y=O,O=R,R=y)}return{width:O,height:R,unit:_,k:T,orientation:f}},a.html=function(f,_){(_=_||{}).callback=_.callback||function(){},_.html2canvas=_.html2canvas||{},_.html2canvas.canvas=_.html2canvas.canvas||this.canvas,_.jsPDF=_.jsPDF||this,_.fontFaces=_.fontFaces?_.fontFaces.map(Os):null;var v=new h(_);return _.worker?v:v.from(f).doCallback()}}(Ee.API),Ee.API.addJS=function(a){return ja=a,this.internal.events.subscribe("postPutResources",function(){Pr=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pr+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ja+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Pr&&void 0!==$r&&this.internal.out("/Names <</JavaScript "+Pr+" 0 R>>")}),this},function(a){var i;a.events.push(["postPutResources",function(){var o=this,c=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var d=o.outline.render().split(/\r\n/),h=0;h<d.length;h++){var f=d[h],_=c.exec(f);null!=_&&o.internal.newObjectDeferredBegin(_[1],!1),o.internal.write(f)}if(this.outline.createNamedDestinations){var w=this.internal.pages.length,T=[];for(h=0;h<w;h++){var N=o.internal.newObject();T.push(N);var Z=o.internal.getPageInfo(h+1);o.internal.write("<< /D["+Z.objId+" 0 R /XYZ null null null]>> endobj")}var y=o.internal.newObject();for(o.internal.write("<< /Names [ "),h=0;h<T.length;h++)o.internal.write("(page_"+(h+1)+")"+T[h]+" 0 R");o.internal.write(" ] >>","endobj"),i=o.internal.newObject(),o.internal.write("<< /Dests "+y+" 0 R"),o.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),a.events.push(["initialized",function(){var o=this;o.outline={createNamedDestinations:!1,root:{children:[]}},o.outline.add=function(c,d,h){var f={title:d,options:h,children:[]};return null==c&&(c=this.root),c.children.push(f),f},o.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=o,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},o.outline.genIds_r=function(c){c.id=o.internal.newObjectDeferred();for(var d=0;d<c.children.length;d++)this.genIds_r(c.children[d])},o.outline.renderRoot=function(c){this.objStart(c),this.line("/Type /Outlines"),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1]))),this.line("/Count "+this.count_r({count:0},c)),this.objEnd()},o.outline.renderItems=function(c){for(var d=this.ctx.pdf.internal.getVerticalCoordinateString,h=0;h<c.children.length;h++){var f=c.children[h];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(c)),h>0&&this.line("/Prev "+this.makeRef(c.children[h-1])),h<c.children.length-1&&this.line("/Next "+this.makeRef(c.children[h+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var _=this.count=this.count_r({count:0},f);if(_>0&&this.line("/Count "+_),f.options&&f.options.pageNumber){var v=o.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+v.objId+" 0 R /XYZ 0 "+d(0)+" 0]")}this.objEnd()}for(var w=0;w<c.children.length;w++)this.renderItems(c.children[w])},o.outline.line=function(c){this.ctx.val+=c+"\r\n"},o.outline.makeRef=function(c){return c.id+" 0 R"},o.outline.makeString=function(c){return"("+o.internal.pdfEscape(c)+")"},o.outline.objStart=function(c){this.ctx.val+="\r\n"+c.id+" 0 obj\r\n<<\r\n"},o.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},o.outline.count_r=function(c,d){for(var h=0;h<d.children.length;h++)c.count++,this.count_r(c,d.children[h]);return c.count}}])}(Ee.API),function(a){var i=[192,193,194,195,196,197,198,199];a.processJPEG=function(o,c,d,h,f,_){var v,w=this.decode.DCT_DECODE,T=null;if("string"==typeof o||this.__addimage__.isArrayBuffer(o)||this.__addimage__.isArrayBufferView(o)){switch(o=this.__addimage__.isArrayBuffer(o=f||o)?new Uint8Array(o):o,(v=function(N){for(var Z,y=256*N.charCodeAt(4)+N.charCodeAt(5),R=N.length,O={width:0,height:0,numcomponents:1},H=4;H<R;H+=2){if(-1!==i.indexOf(N.charCodeAt((H+=y)+1))){Z=256*N.charCodeAt(H+5)+N.charCodeAt(H+6),O={width:256*N.charCodeAt(H+7)+N.charCodeAt(H+8),height:Z,numcomponents:N.charCodeAt(H+9)};break}y=256*N.charCodeAt(H+2)+N.charCodeAt(H+3)}return O}(o=this.__addimage__.isArrayBufferView(o)?this.__addimage__.arrayBufferToBinaryString(o):o)).numcomponents){case 1:_=this.color_spaces.DEVICE_GRAY;break;case 4:_=this.color_spaces.DEVICE_CMYK;break;case 3:_=this.color_spaces.DEVICE_RGB}T={data:o,width:v.width,height:v.height,colorSpace:_,bitsPerComponent:8,filter:w,index:c,alias:d}}return T}}(Ee.API);var Kr,Xr,Es,Kc,Ha,Fs=function(){var a,i,o;function c(h){var f,v,w,T,N,Z,y,R,O,H,I,B,X;for(this.data=h,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},N=null;;){switch(f=this.readUInt32(),R=function(){var ut,At;for(At=[],ut=0;ut<4;++ut)At.push(String.fromCharCode(this.data[this.pos++]));return At}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":N&&this.animation.frames.push(N),this.pos+=4,N={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},T=this.readUInt16(),w=this.readUInt16()||100,N.delay=1e3*T/w,N.disposeOp=this.data[this.pos++],N.blendOp=this.data[this.pos++],N.data=[];break;case"IDAT":case"fdAT":for("fdAT"===R&&(this.pos+=4,f-=4),h=(null!=N?N.data:void 0)||this.imgData,I=0;0<=f?I<f:I>f;0<=f?++I:--I)h.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(v=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>v)throw new Error("More transparent colors than palette size");if((O=v-this.transparency.indexed.length)>0)for(B=0;0<=O?B<O:B>O;0<=O?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":Z=(H=this.read(f)).indexOf(0),y=String.fromCharCode.apply(String,H.slice(0,Z)),this.text[y]=String.fromCharCode.apply(String,H.slice(Z+1));break;case"IEND":return N&&this.animation.frames.push(N),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(X=this.colorType)||6===X,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}c.prototype.read=function(h){var f,_;for(_=[],f=0;0<=h?f<h:f>h;0<=h?++f:--f)_.push(this.data[this.pos++]);return _},c.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},c.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},c.prototype.decodePixels=function(h){var f=this.pixelBitlength/8,_=new Uint8Array(this.width*this.height*f),v=0,w=this;if(null==h&&(h=this.imgData),0===h.length)return new Uint8Array(0);function T(N,Z,y,R){var O,H,I,B,X,ut,At,Wt,J,qt,Ft,E,M,G,V,Pt,xt,It,ft,Mt,Et=Math.ceil((w.width-N)/y),pe=Math.ceil((w.height-Z)/R),P=w.width==Et&&w.height==pe;for(M=f*Et,Ft=P?_:new Uint8Array(M*pe),ut=h.length,E=0,H=0;E<pe&&v<ut;){switch(h[v++]){case 0:for(B=Pt=0;Pt<M;B=Pt+=1)Ft[H++]=h[v++];break;case 1:for(B=xt=0;xt<M;B=xt+=1)O=h[v++],X=B<f?0:Ft[H-f],Ft[H++]=(O+X)%256;break;case 2:for(B=It=0;It<M;B=It+=1)O=h[v++],I=(B-B%f)/f,Ft[H++]=((G=E&&Ft[(E-1)*M+I*f+B%f])+O)%256;break;case 3:for(B=ft=0;ft<M;B=ft+=1)O=h[v++],I=(B-B%f)/f,X=B<f?0:Ft[H-f],G=E&&Ft[(E-1)*M+I*f+B%f],Ft[H++]=(O+Math.floor((X+G)/2))%256;break;case 4:for(B=Mt=0;Mt<M;B=Mt+=1)O=h[v++],I=(B-B%f)/f,0===E?G=V=0:(G=Ft[(E-1)*M+I*f+B%f],V=I&&Ft[(E-1)*M+(I-1)*f+B%f]),At=(X=B<f?0:Ft[H-f])+G-V,Wt=Math.abs(At-X),J=Math.abs(At-G),qt=Math.abs(At-V),Ft[H++]=(O+(Wt<=J&&Wt<=qt?X:J<=qt?G:V))%256;break;default:throw new Error("Invalid filter algorithm: "+h[v-1])}if(!P){var j=((Z+E*R)*w.width+N)*f,z=E*M;for(B=0;B<Et;B+=1){for(var K=0;K<f;K+=1)_[j++]=Ft[z++];j+=(y-1)*f}}E++}}return h=Ma(h),1==w.interlaceMethod?(T(0,0,8,8),T(4,0,8,8),T(0,4,4,8),T(2,0,4,4),T(0,2,2,4),T(1,0,2,2),T(0,1,1,2)):T(0,0,1,1),_},c.prototype.decodePalette=function(){var h,f,_,v,w,T,N,Z,y;for(_=this.palette,T=this.transparency.indexed||[],w=new Uint8Array((T.length||0)+_.length),v=0,h=0,f=N=0,Z=_.length;N<Z;f=N+=3)w[v++]=_[f],w[v++]=_[f+1],w[v++]=_[f+2],w[v++]=null!=(y=T[h++])?y:255;return w},c.prototype.copyToImageData=function(h,f){var _,v,w,T,N,Z,y,R,O,H,I;if(v=this.colors,O=null,_=this.hasAlphaChannel,this.palette.length&&(O=null!=(I=this._decodedPalette)?I:this._decodedPalette=this.decodePalette(),v=4,_=!0),R=(w=h.data||h).length,N=O||f,T=Z=0,1===v)for(;T<R;)y=O?4*f[T/4]:Z,H=N[y++],w[T++]=H,w[T++]=H,w[T++]=H,w[T++]=_?N[y++]:255,Z=y;else for(;T<R;)y=O?4*f[T/4]:Z,w[T++]=N[y++],w[T++]=N[y++],w[T++]=N[y++],w[T++]=_?N[y++]:255,Z=y},c.prototype.decode=function(){var h;return h=new Uint8Array(this.width*this.height*4),this.copyToImageData(h,this.decodePixels()),h};var d=function(){if("[object Window]"===Object.prototype.toString.call(Re)){try{i=Re.document.createElement("canvas"),o=i.getContext("2d")}catch(h){return!1}return!0}return!1};return d(),a=function(h){var f;if(!0===d())return o.width=h.width,o.height=h.height,o.clearRect(0,0,h.width,h.height),o.putImageData(h,0,0),(f=new Image).src=i.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},c.prototype.decodeFrames=function(h){var f,_,v,w,T,N,Z,y;if(this.animation){for(y=[],_=T=0,N=(Z=this.animation.frames).length;T<N;_=++T)v=h.createImageData((f=Z[_]).width,f.height),w=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(v,w),f.imageData=v,y.push(f.image=a(v));return y}},c.prototype.renderFrame=function(h,f){var _,v,w;return _=(v=this.animation.frames)[f],w=v[f-1],0===f&&h.clearRect(0,0,this.width,this.height),1===(null!=w?w.disposeOp:void 0)?h.clearRect(w.xOffset,w.yOffset,w.width,w.height):2===(null!=w?w.disposeOp:void 0)&&h.putImageData(w.imageData,w.xOffset,w.yOffset),0===_.blendOp&&h.clearRect(_.xOffset,_.yOffset,_.width,_.height),h.drawImage(_.image,_.xOffset,_.yOffset)},c.prototype.animate=function(h){var f,_,v,w,T,N,Z=this;return _=0,w=(N=this.animation).numFrames,v=N.frames,T=N.numPlays,(f=function(){var y,R;if(y=_++%w,R=v[y],Z.renderFrame(h,y),w>1&&_/w<T)return Z.animation._timeout=setTimeout(f,R.delay)})()},c.prototype.stopAnimation=function(){var h;return clearTimeout(null!=(h=this.animation)?h._timeout:void 0)},c.prototype.render=function(h){var f,_;return h._png&&h._png.stopAnimation(),h._png=this,h.width=this.width,h.height=this.height,f=h.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(_=f.createImageData(this.width,this.height),this.copyToImageData(_,this.decodePixels()),f.putImageData(_,0,0))},c}();function qs(a){var i=0;if(71!==a[i++]||73!==a[i++]||70!==a[i++]||56!==a[i++]||56!=(a[i++]+1&253)||97!==a[i++])throw new Error("Invalid GIF 87a/89a header.");var o=a[i++]|a[i++]<<8,c=a[i++]|a[i++]<<8,d=a[i++],f=1<<1+(7&d);i++,i++;var _=null,v=null;d>>7&&(_=i,v=f,i+=3*f);var w=!0,T=[],N=0,Z=null,y=0,R=null;for(this.width=o,this.height=c;w&&i<a.length;)switch(a[i++]){case 33:switch(a[i++]){case 255:if(11!==a[i]||78==a[i+1]&&69==a[i+2]&&84==a[i+3]&&83==a[i+4]&&67==a[i+5]&&65==a[i+6]&&80==a[i+7]&&69==a[i+8]&&50==a[i+9]&&46==a[i+10]&&48==a[i+11]&&3==a[i+12]&&1==a[i+13]&&0==a[i+16])i+=14,R=a[i++]|a[i++]<<8,i++;else for(i+=12;;){if(!((E=a[i++])>=0))throw Error("Invalid block size");if(0===E)break;i+=E}break;case 249:if(4!==a[i++]||0!==a[i+4])throw new Error("Invalid graphics extension block.");var O=a[i++];N=a[i++]|a[i++]<<8,Z=a[i++],0==(1&O)&&(Z=null),y=O>>2&7,i++;break;case 254:for(;;){if(!((E=a[i++])>=0))throw Error("Invalid block size");if(0===E)break;i+=E}break;default:throw new Error("Unknown graphic control label: 0x"+a[i-1].toString(16))}break;case 44:var H=a[i++]|a[i++]<<8,I=a[i++]|a[i++]<<8,B=a[i++]|a[i++]<<8,X=a[i++]|a[i++]<<8,ut=a[i++],At=ut>>6&1,Wt=1<<1+(7&ut),lt=_,J=v,qt=!1;ut>>7&&(qt=!0,lt=i,J=Wt,i+=3*Wt);var Ft=i;for(i++;;){var E;if(!((E=a[i++])>=0))throw Error("Invalid block size");if(0===E)break;i+=E}T.push({x:H,y:I,width:B,height:X,has_local_palette:qt,palette_offset:lt,palette_size:J,data_offset:Ft,data_length:i-Ft,transparent_index:Z,interlaced:!!At,delay:N,disposal:y});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+a[i-1].toString(16))}this.numFrames=function(){return T.length},this.loopCount=function(){return R},this.frameInfo=function(M){if(M<0||M>=T.length)throw new Error("Frame index out of range.");return T[M]},this.decodeAndBlitFrameBGRA=function(M,G){var V=this.frameInfo(M),Pt=V.width*V.height,xt=new Uint8Array(Pt);xo(a,V.data_offset,xt,Pt);var It=V.palette_offset,ft=V.transparent_index;null===ft&&(ft=256);var Mt=V.width,Et=o-Mt,pe=Mt,P=4*(V.y*o+V.x),j=4*((V.y+V.height)*o+V.x),z=P,K=4*Et;!0===V.interlaced&&(K+=4*o*7);for(var ot=8,mt=0,yt=xt.length;mt<yt;++mt){var wt=xt[mt];if(0===pe&&(pe=Mt,(z+=K)>=j&&(K=4*Et+4*o*(ot-1),z=P+(Mt+Et)*(ot<<1),ot>>=1)),wt===ft)z+=4;else{var oe=a[It+3*wt],ne=a[It+3*wt+1];G[z++]=a[It+3*wt+2],G[z++]=ne,G[z++]=oe,G[z++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(M,G){var V=this.frameInfo(M),Pt=V.width*V.height,xt=new Uint8Array(Pt);xo(a,V.data_offset,xt,Pt);var It=V.palette_offset,ft=V.transparent_index;null===ft&&(ft=256);var Mt=V.width,Et=o-Mt,pe=Mt,P=4*(V.y*o+V.x),j=4*((V.y+V.height)*o+V.x),z=P,K=4*Et;!0===V.interlaced&&(K+=4*o*7);for(var ot=8,mt=0,yt=xt.length;mt<yt;++mt){var wt=xt[mt];if(0===pe&&(pe=Mt,(z+=K)>=j&&(K=4*Et+4*o*(ot-1),z=P+(Mt+Et)*(ot<<1),ot>>=1)),wt===ft)z+=4;else{var ne=a[It+3*wt+1],me=a[It+3*wt+2];G[z++]=a[It+3*wt],G[z++]=ne,G[z++]=me,G[z++]=255}--pe}}}function xo(a,i,o,c){for(var d=a[i++],h=1<<d,f=h+1,_=f+1,v=d+1,w=(1<<v)-1,T=0,N=0,Z=0,y=a[i++],R=new Int32Array(4096),O=null;;){for(;T<16&&0!==y;)N|=a[i++]<<T,T+=8,1===y?y=a[i++]:--y;if(T<v)break;var H=N&w;if(N>>=v,T-=v,H!==h){if(H===f)break;for(var I=H<_?H:O,B=0,X=I;X>h;)X=R[X]>>8,++B;var ut=X;if(Z+B+(I!==H?1:0)>c)return void di.log("Warning, gif stream longer than expected.");o[Z++]=ut;var At=Z+=B;for(I!==H&&(o[Z++]=ut),X=I;B--;)o[--At]=255&(X=R[X]),X>>=8;null!==O&&_<4096&&(R[_++]=O<<8|ut,_>=w+1&&v<12&&(++v,w=w<<1|1)),O=H}else _=f+1,w=(1<<(v=d+1))-1,O=null}return Z!==c&&di.log("Warning, gif stream shorter than expected."),o}function za(a){var i,o,c,d,h,f=Math.floor,_=new Array(64),v=new Array(64),w=new Array(64),T=new Array(64),N=new Array(65535),Z=new Array(65535),y=new Array(64),R=new Array(64),O=[],H=0,I=7,B=new Array(64),X=new Array(64),ut=new Array(64),At=new Array(256),Wt=new Array(2048),lt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],qt=[0,1,2,3,4,5,6,7,8,9,10,11],Ft=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xt(P,j){for(var z=0,K=0,ot=new Array,mt=1;mt<=16;mt++){for(var yt=1;yt<=P[mt];yt++)ot[j[K]]=[],ot[j[K]][0]=z,ot[j[K]][1]=mt,K++,z++;z*=2}return ot}function It(P){for(var j=P[0],z=P[1]-1;z>=0;)j&1<<z&&(H|=1<<I),z--,--I<0&&(255==H?(ft(255),ft(0)):ft(H),I=7,H=0)}function ft(P){O.push(P)}function Mt(P){ft(P>>8&255),ft(255&P)}function Et(P,j,z,K,ot){for(var mt,yt=ot[0],wt=ot[240],oe=function(ee,ce){var fe,he,Le,He,We,$e,ri,hi,Ue,Xe,ge=0;for(Ue=0;Ue<8;++Ue){var Xi=(fe=ee[ge])+(hi=ee[ge+7]),oi=fe-hi,In=(he=ee[ge+1])+(ri=ee[ge+6]),pi=he-ri,wi=(Le=ee[ge+2])+($e=ee[ge+5]),ir=Le-$e,si=(He=ee[ge+3])+(We=ee[ge+4]),to=He-We,ki=Xi+si,On=Xi-si,dr=In+wi,Pi=In-wi;ee[ge]=ki+dr,ee[ge+4]=ki-dr;var ze=.707106781*(Pi+On);ee[ge+2]=On+ze,ee[ge+6]=On-ze;var ci=.382683433*((ki=to+ir)-(Pi=pi+oi)),eo=.5411961*ki+ci,Ji=1.306562965*Pi+ci,nr=.707106781*(dr=ir+pi),rr=oi+nr,Fe=oi-nr;ee[ge+5]=Fe+eo,ee[ge+3]=Fe-eo,ee[ge+1]=rr+Ji,ee[ge+7]=rr-Ji,ge+=8}for(ge=0,Ue=0;Ue<8;++Ue){var Mn=(fe=ee[ge])+(hi=ee[ge+56]),or=fe-hi,hn=(he=ee[ge+8])+(ri=ee[ge+48]),Ri=he-ri,Oi=(Le=ee[ge+16])+($e=ee[ge+40]),mn=Le-$e,wo=(He=ee[ge+24])+(We=ee[ge+32]),pr=He-We,En=Mn+wo,Fn=Mn-wo,qn=hn+Oi,ar=hn-Oi;ee[ge]=En+qn,ee[ge+32]=En-qn;var An=.707106781*(ar+Fn);ee[ge+16]=Fn+An,ee[ge+48]=Fn-An;var sr=.382683433*((En=pr+mn)-(ar=Ri+or)),io=.5411961*En+sr,Ao=1.306562965*ar+sr,Co=.707106781*(qn=mn+Ri),To=or+Co,ko=or-Co;ee[ge+40]=ko+io,ee[ge+24]=ko-io,ee[ge+8]=To+Ao,ee[ge+56]=To-Ao,ge++}for(Ue=0;Ue<64;++Ue)y[Ue]=(Xe=ee[Ue]*ce[Ue])>0?Xe+.5|0:Xe-.5|0;return y}(P,j),ne=0;ne<64;++ne)R[lt[ne]]=oe[ne];var me=R[0]-z;z=R[0],0==me?It(K[0]):(It(K[Z[mt=32767+me]]),It(N[mt]));for(var ve=63;ve>0&&0==R[ve];)ve--;if(0==ve)return It(yt),z;for(var Be,Dt=1;Dt<=ve;){for(var Y=Dt;0==R[Dt]&&Dt<=ve;)++Dt;var Je=Dt-Y;if(Je>=16){Be=Je>>4;for(var ke=1;ke<=Be;++ke)It(wt);Je&=15}It(ot[(Je<<4)+Z[mt=32767+R[Dt]]]),It(N[mt]),Dt++}return 63!=ve&&It(yt),z}function pe(P){P=Math.min(Math.max(P,1),100),h!=P&&(function(j){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ot=f((z[K]*j+50)/100);ot=Math.min(Math.max(ot,1),255),_[lt[K]]=ot}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yt=0;yt<64;yt++){var wt=f((mt[yt]*j+50)/100);wt=Math.min(Math.max(wt,1),255),v[lt[yt]]=wt}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ne=0,me=0;me<8;me++)for(var ve=0;ve<8;ve++)w[ne]=1/(_[lt[ne]]*oe[me]*oe[ve]*8),T[ne]=1/(v[lt[ne]]*oe[me]*oe[ve]*8),ne++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),h=P)}this.encode=function(P,j){var he,Le;j&&pe(j),O=new Array,H=0,I=7,Mt(65496),Mt(65504),Mt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),Mt(1),Mt(1),ft(0),ft(0),function(){Mt(65499),Mt(132),ft(0);for(var he=0;he<64;he++)ft(_[he]);ft(1);for(var Le=0;Le<64;Le++)ft(v[Le])}(),he=P.width,Le=P.height,Mt(65472),Mt(17),ft(8),Mt(Le),Mt(he),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1),function(){Mt(65476),Mt(418),ft(0);for(var he=0;he<16;he++)ft(J[he+1]);for(var Le=0;Le<=11;Le++)ft(qt[Le]);ft(16);for(var He=0;He<16;He++)ft(Ft[He+1]);for(var We=0;We<=161;We++)ft(E[We]);ft(1);for(var $e=0;$e<16;$e++)ft(M[$e+1]);for(var ri=0;ri<=11;ri++)ft(G[ri]);ft(17);for(var hi=0;hi<16;hi++)ft(V[hi+1]);for(var Ue=0;Ue<=161;Ue++)ft(Pt[Ue])}(),Mt(65498),Mt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var z=0,K=0,ot=0;H=0,I=7,this.encode.displayName="_encode_";for(var mt,yt,wt,oe,ne,me,ve,Be,Dt,Y=P.data,ke=P.height,ee=4*P.width,ce=0;ce<ke;){for(mt=0;mt<ee;){for(ne=ee*ce+mt,ve=-1,Be=0,Dt=0;Dt<64;Dt++)me=ne+(Be=Dt>>3)*ee+(ve=4*(7&Dt)),ce+Be>=ke&&(me-=ee*(ce+1+Be-ke)),mt+ve>=ee&&(me-=mt+ve-ee+4),yt=Y[me++],wt=Y[me++],oe=Y[me++],B[Dt]=(Wt[yt]+Wt[wt+256>>0]+Wt[oe+512>>0]>>16)-128,X[Dt]=(Wt[yt+768>>0]+Wt[wt+1024>>0]+Wt[oe+1280>>0]>>16)-128,ut[Dt]=(Wt[yt+1280>>0]+Wt[wt+1536>>0]+Wt[oe+1792>>0]>>16)-128;z=Et(B,w,z,i,c),K=Et(X,T,K,o,d),ot=Et(ut,T,ot,o,d),mt+=32}ce+=8}if(I>=0){var fe=[];fe[1]=I+1,fe[0]=(1<<I+1)-1,It(fe)}return Mt(65497),new Uint8Array(O)},a=a||50,function(){for(var P=String.fromCharCode,j=0;j<256;j++)At[j]=P(j)}(),i=xt(J,qt),o=xt(M,G),c=xt(Ft,E),d=xt(V,Pt),function(){for(var P=1,j=2,z=1;z<=15;z++){for(var K=P;K<j;K++)Z[32767+K]=z,N[32767+K]=[],N[32767+K][1]=z,N[32767+K][0]=K;for(var ot=-(j-1);ot<=-P;ot++)Z[32767+ot]=z,N[32767+ot]=[],N[32767+ot][1]=z,N[32767+ot][0]=j-1+ot;P<<=1,j<<=1}}(),function(){for(var P=0;P<256;P++)Wt[P]=19595*P,Wt[P+256>>0]=38470*P,Wt[P+512>>0]=7471*P+32768,Wt[P+768>>0]=-11059*P,Wt[P+1024>>0]=-21709*P,Wt[P+1280>>0]=32768*P+8421375,Wt[P+1536>>0]=-27439*P,Wt[P+1792>>0]=-5329*P}(),pe(a)}function xn(a,i){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Rs(a){function i(J){if(!J)throw Error("assert :P")}function o(J,qt,Ft){for(var E=0;4>E;E++)if(J[qt+E]!=Ft.charCodeAt(E))return!0;return!1}function c(J,qt,Ft,E,M){for(var G=0;G<M;G++)J[qt+G]=Ft[E+G]}function d(J,qt,Ft,E){for(var M=0;M<E;M++)J[qt+M]=Ft}function h(J){return new Int32Array(J)}function f(J,qt){for(var Ft=[],E=0;E<J;E++)Ft.push(new qt);return Ft}function _(J,qt){var Ft=[];return function E(M,G,V){for(var Pt=V[G],xt=0;xt<Pt&&(M.push(V.length>G+1?[]:new qt),!(V.length<G+1));xt++)E(M[xt],G+1,V)}(Ft,0,J),Ft}var v=function(){var J=this;function qt(n,u){for(var g=1<<u-1>>>0;n&g;)g>>>=1;return g?(n&g-1)+g:n}function Ft(n,u,g,b,A){i(!(b%g));do{n[u+(b-=g)]=A}while(0<b)}function E(n,u,g,b,A){if(i(2328>=A),512>=A)var k=h(512);else if(null==(k=h(A)))return 0;return function(S,L,D,q,Q,ht){var dt,rt,Vt=L,St=1<<D,$=h(16),it=h(16);for(i(0!=Q),i(null!=q),i(null!=S),i(0<D),rt=0;rt<Q;++rt){if(15<q[rt])return 0;++$[q[rt]]}if($[0]==Q)return 0;for(it[1]=0,dt=1;15>dt;++dt){if($[dt]>1<<dt)return 0;it[dt+1]=it[dt]+$[dt]}for(rt=0;rt<Q;++rt)dt=q[rt],0<q[rt]&&(ht[it[dt]++]=rt);if(1==it[15])return(q=new M).g=0,q.value=ht[0],Ft(S,Vt,1,St,q),St;var jt,Gt=-1,Yt=St-1,be=0,le=1,qe=1,de=1<<D;for(rt=0,dt=1,Q=2;dt<=D;++dt,Q<<=1){if(le+=qe<<=1,0>(qe-=$[dt]))return 0;for(;0<$[dt];--$[dt])(q=new M).g=dt,q.value=ht[rt++],Ft(S,Vt+be,Q,de,q),be=qt(be,dt)}for(dt=D+1,Q=2;15>=dt;++dt,Q<<=1){if(le+=qe<<=1,0>(qe-=$[dt]))return 0;for(;0<$[dt];--$[dt]){if(q=new M,(be&Yt)!=Gt){for(Vt+=de,jt=1<<(Gt=dt)-D;15>Gt&&!(0>=(jt-=$[Gt]));)++Gt,jt<<=1;St+=de=1<<(jt=Gt-D),S[L+(Gt=be&Yt)].g=jt+D,S[L+Gt].value=Vt-L-Gt}q.g=dt-D,q.value=ht[rt++],Ft(S,Vt+(be>>D),Q,de,q),be=qt(be,dt)}}return le!=2*it[15]-1?0:St}(n,u,g,b,A,k)}function M(){this.value=this.g=0}function G(){this.value=this.g=0}function V(){this.G=f(5,M),this.H=h(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(fn,G)}function Pt(n,u,g,b){i(null!=n),i(null!=u),i(2147483648>b),n.Ca=254,n.I=0,n.b=-8,n.Ka=0,n.oa=u,n.pa=g,n.Jd=u,n.Yc=g+b,n.Zc=4<=b?g+b-4+1:g,mt(n)}function xt(n,u){for(var g=0;0<u--;)g|=wt(n,128)<<u;return g}function It(n,u){var g=xt(n,u);return yt(n)?-g:g}function ft(n,u,g,b){var A,k=0;for(i(null!=n),i(null!=u),i(4294967288>b),n.Sb=b,n.Ra=0,n.u=0,n.h=0,4<b&&(b=4),A=0;A<b;++A)k+=u[g+A]<<8*A;n.Ra=k,n.bb=b,n.oa=u,n.pa=g}function Mt(n){for(;8<=n.u&&n.bb<n.Sb;)n.Ra>>>=8,n.Ra+=n.oa[n.pa+n.bb]<<jo-8>>>0,++n.bb,n.u-=8;z(n)&&(n.h=1,n.u=0)}function Et(n,u){if(i(0<=u),!n.h&&u<=Uo){var g=j(n)&Bo[u];return n.u+=u,Mt(n),g}return n.h=1,n.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(n){return n.Ra>>>(n.u&jo-1)>>>0}function z(n){return i(n.bb<=n.Sb),n.h||n.bb==n.Sb&&n.u>jo}function K(n,u){n.u=u,n.h=z(n)}function ot(n){n.u>=Ca&&(i(n.u>=Ca),Mt(n))}function mt(n){i(null!=n&&null!=n.oa),n.pa<n.Zc?(n.I=(n.oa[n.pa++]|n.I<<8)>>>0,n.b+=8):(i(null!=n&&null!=n.oa),n.pa<n.Yc?(n.b+=8,n.I=n.oa[n.pa++]|n.I<<8):n.Ka?n.b=0:(n.I<<=8,n.b+=8,n.Ka=1))}function yt(n){return xt(n,1)}function wt(n,u){var g=n.Ca;0>n.b&&mt(n);var b=n.b,A=g*u>>>8,k=(n.I>>>b>A)+0;for(k?(g-=A,n.I-=A+1<<b>>>0):g=A+1,b=g,A=0;256<=b;)A+=8,b>>=8;return n.b-=b=7^A+gn[b],n.Ca=(g<<b)-1,k}function oe(n,u,g){n[u+0]=g>>24&255,n[u+1]=g>>16&255,n[u+2]=g>>8&255,n[u+3]=g>>0&255}function ne(n,u){return n[u+0]<<0|n[u+1]<<8}function me(n,u){return ne(n,u)|n[u+2]<<16}function ve(n,u){return ne(n,u)|ne(n,u+2)<<16}function Be(n,u){var g=1<<u;return i(null!=n),i(0<u),n.X=h(g),null==n.X?0:(n.Mb=32-u,n.Xa=u,1)}function Dt(n,u){i(null!=n),i(null!=u),i(n.Xa==u.Xa),c(u.X,0,n.X,0,1<<u.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function Je(n,u,g,b){i(null!=g),i(null!=b);var A=g[0],k=b[0];return 0==A&&(A=(n*k+u/2)/u),0==k&&(k=(u*A+n/2)/n),0>=A||0>=k?0:(g[0]=A,b[0]=k,1)}function ke(n,u){return n+(1<<u)-1>>>u}function ee(n,u){return((4278255360&n)+(4278255360&u)>>>0&4278255360)+((16711935&n)+(16711935&u)>>>0&16711935)>>>0}function ce(n,u){J[u]=function(g,b,A,k,S,L,D){var q;for(q=0;q<S;++q){var Q=J[n](L[D+q-1],A,k+q);L[D+q]=ee(g[b+q],Q)}}}function fe(){this.ud=this.hd=this.jd=0}function he(n,u){return((4278124286&(n^u))>>>1)+(n&u)>>>0}function Le(n){return 0<=n&&256>n?n:0>n?0:255<n?255:void 0}function He(n,u){return Le(n+(n-u+.5>>1))}function We(n,u,g){return Math.abs(u-g)-Math.abs(n-g)}function $e(n,u,g,b,A,k,S){for(b=k[S-1],g=0;g<A;++g)k[S+g]=b=ee(n[u+g],b)}function ri(n,u,g,b,A){var k;for(k=0;k<g;++k){var S=n[u+k],L=S>>8&255,D=16711935&(D=(D=16711935&S)+((L<<16)+L));b[A+k]=(4278255360&S)+D>>>0}}function hi(n,u){u.jd=n>>0&255,u.hd=n>>8&255,u.ud=n>>16&255}function Ue(n,u,g,b,A,k){var S;for(S=0;S<b;++S){var L=u[g+S],D=L>>>8,q=L,Q=255&(Q=(Q=L>>>16)+((n.jd<<24>>24)*(D<<24>>24)>>>5));q=255&(q=(q+=(n.hd<<24>>24)*(D<<24>>24)>>>5)+((n.ud<<24>>24)*(Q<<24>>24)>>>5)),A[k+S]=(4278255360&L)+(Q<<16)+q}}function Xe(n,u,g,b,A){J[u]=function(k,S,L,D,q,Q,ht,dt,rt){for(D=ht;D<dt;++D)for(ht=0;ht<rt;++ht)q[Q++]=A(L[b(k[S++])])},J[n]=function(k,S,L,D,q,Q,ht){var dt=8>>k.b,rt=k.Ea,Vt=k.K[0],St=k.w;if(8>dt)for(k=(1<<k.b)-1,St=(1<<dt)-1;S<L;++S){var $,it=0;for($=0;$<rt;++$)$&k||(it=b(D[q++])),Q[ht++]=A(Vt[it&St]),it>>=dt}else J["VP8LMapColor"+g](D,q,Vt,St,Q,ht,S,L,rt)}}function ge(n,u,g,b,A){for(g=u+g;u<g;){var k=n[u++];b[A++]=k>>16&255,b[A++]=k>>8&255,b[A++]=k>>0&255}}function Xi(n,u,g,b,A){for(g=u+g;u<g;){var k=n[u++];b[A++]=k>>16&255,b[A++]=k>>8&255,b[A++]=k>>0&255,b[A++]=k>>24&255}}function oi(n,u,g,b,A){for(g=u+g;u<g;){var k=(S=n[u++])>>16&240|S>>12&15,S=S>>0&240|S>>28&15;b[A++]=k,b[A++]=S}}function In(n,u,g,b,A){for(g=u+g;u<g;){var k=(S=n[u++])>>16&248|S>>13&7,S=S>>5&224|S>>3&31;b[A++]=k,b[A++]=S}}function pi(n,u,g,b,A){for(g=u+g;u<g;){var k=n[u++];b[A++]=k>>0&255,b[A++]=k>>8&255,b[A++]=k>>16&255}}function wi(n,u,g,b,A,k){if(0==k)for(g=u+g;u<g;)oe(b,((k=n[u++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),A+=32;else c(b,A,n,u,g)}function ir(n,u){J[u][0]=J[n+"0"],J[u][1]=J[n+"1"],J[u][2]=J[n+"2"],J[u][3]=J[n+"3"],J[u][4]=J[n+"4"],J[u][5]=J[n+"5"],J[u][6]=J[n+"6"],J[u][7]=J[n+"7"],J[u][8]=J[n+"8"],J[u][9]=J[n+"9"],J[u][10]=J[n+"10"],J[u][11]=J[n+"11"],J[u][12]=J[n+"12"],J[u][13]=J[n+"13"],J[u][14]=J[n+"0"],J[u][15]=J[n+"0"]}function si(n){return n==Na||n==gc||n==mc||n==pl}function to(){this.eb=[],this.size=this.A=this.fb=0}function ki(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function On(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new to,this.f.kb=new ki,this.sd=null}function dr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ze(n){return alert("todo:WebPSamplerProcessPlane"),n.T}function ci(n,u){var g=n.T,b=u.ba.f.RGBA,A=b.eb,k=b.fb+n.ka*b.A,S=r[u.ba.S],L=n.y,D=n.O,q=n.f,Q=n.N,ht=n.ea,dt=n.W,rt=u.cc,Vt=u.dc,St=u.Mc,$=u.Nc,it=n.ka,jt=n.ka+n.T,Gt=n.U,Yt=Gt+1>>1;for(0==it?S(L,D,null,null,q,Q,ht,dt,q,Q,ht,dt,A,k,null,null,Gt):(S(u.ec,u.fc,L,D,rt,Vt,St,$,q,Q,ht,dt,A,k-b.A,A,k,Gt),++g);it+2<jt;it+=2)S(L,(D+=2*n.fa)-n.fa,L,D,rt=q,Vt=Q,St=ht,$=dt,q,Q+=n.Rc,ht,dt+=n.Rc,A,(k+=2*b.A)-b.A,A,k,Gt);return D+=n.fa,n.j+jt<n.o?(c(u.ec,u.fc,L,D,Gt),c(u.cc,u.dc,q,Q,Yt),c(u.Mc,u.Nc,ht,dt,Yt),g--):1&jt||S(L,D,null,null,q,Q,ht,dt,q,Q,ht,dt,A,k+b.A,null,null,Gt),g}function eo(n,u,g){var b=n.F,A=[n.J];if(null!=b){var k=n.U,S=u.ba.S,L=S==pc||S==mc;u=u.ba.f.RGBA;var D=[0],q=n.ka;D[0]=n.T,n.Kb&&(0==q?--D[0]:(--q,A[0]-=n.width),n.j+n.ka+n.T==n.o&&(D[0]=n.o-n.j-q));var Q=u.eb;n=sc(b,A[0],n.width,k,D,Q,(q=u.fb+q*u.A)+(L?0:3),u.A),i(g==D),n&&si(S)&&ho(Q,q,L,k,D,u.A)}return 0}function Ji(n){var u=n.ma,g=u.ba.S,b=11>g,A=g==hc||g==dc||g==pc||g==fc||12==g||si(g);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!wa(u.Oa,n,A?11:12))return 0;if(A&&si(g)&&$t(),n.da)alert("todo:use_scaling");else{if(b){if(u.Ib=ze,n.Kb){if(u.memory=h(n.U+2*(g=n.U+1>>1)),null==u.memory)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+n.U,u.Mc=u.cc,u.Nc=u.dc+g,u.Ib=ci,$t()}}else alert("todo:EmitYUV");A&&(u.Jb=eo,b&&at())}if(b&&!gl){for(n=0;256>n;++n)ml[n]=89858*(n-128)+Vi>>_i,yh[n]=-22014*(n-128)+Vi,_l[n]=-45773*(n-128),vc[n]=113618*(n-128)+Vi>>_i;for(n=en;n<Wn;++n)xh[n-en]=bn(u=76283*(n-16)+Vi>>_i,255),wh[n-en]=bn(u+8>>4,15);gl=1}return 1}function nr(n){var u=n.ma,g=n.U,b=n.T;return i(!(1&n.ka)),0>=g||0>=b?0:(g=u.Ib(n,u),null!=u.Jb&&u.Jb(n,u,g),u.Dc+=g,1)}function rr(n){n.ma.memory=null}function Fe(n,u,g,b){return 47!=Et(n,8)?0:(u[0]=Et(n,14)+1,g[0]=Et(n,14)+1,b[0]=Et(n,1),0!=Et(n,3)?0:!n.h)}function Mn(n,u){if(4>n)return n+1;var g=n-2>>1;return(2+(1&n)<<g)+Et(u,g)+1}function or(n,u){return 120<u?u-120:1<=(g=((g=uu[u-1])>>4)*n+(8-(15&g)))?g:1;var g}function hn(n,u,g){var b=j(g),A=n[u+=255&b].g-8;return 0<A&&(K(g,g.u+8),b=j(g),u+=n[u].value,u+=b&(1<<A)-1),K(g,g.u+n[u].g),n[u].value}function Ri(n,u,g){return g.g+=n.g,g.value+=n.value<<u>>>0,i(8>=g.g),n.g}function Oi(n,u,g){var b=n.xc;return i((u=0==b?0:n.vc[n.md*(g>>b)+(u>>b)])<n.Wb),n.Ya[u]}function mn(n,u,g,b){var A=n.ab,k=n.c*u,S=n.C;u=S+u;var L=g,D=b;for(b=n.Ta,g=n.Ua;0<A--;){var q=n.gc[A],Q=S,ht=u,dt=L,rt=D,Vt=(D=b,L=g,q.Ea);switch(i(Q<ht),i(ht<=q.nc),q.hc){case 2:ds(dt,rt,(ht-Q)*Vt,D,L);break;case 0:var St=Q,$=ht,it=D,jt=L,Gt=(de=q).Ea;0==St&&(rc(dt,rt,null,null,1,it,jt),$e(dt,rt+1,0,0,Gt-1,it,jt+1),rt+=Gt,jt+=Gt,++St);for(var Yt=1<<de.b,be=Yt-1,le=ke(Gt,de.b),qe=de.K,de=de.w+(St>>de.b)*le;St<$;){var ui=qe,fi=de,ai=1;for(Ta(dt,rt,it,jt-Gt,1,it,jt);ai<Gt;){var ni=(ai&~be)+Yt;ni>Gt&&(ni=Gt),(0,Ir[ui[fi++]>>8&15])(dt,rt+ +ai,it,jt+ai-Gt,ni-ai,it,jt+ai),ai=ni}rt+=Gt,jt+=Gt,++St&be||(de+=le)}ht!=q.nc&&c(D,L-Vt,D,L+(ht-Q-1)*Vt,Vt);break;case 1:for(Vt=dt,$=rt,Gt=(dt=q.Ea)-(jt=dt&~(it=(rt=1<<q.b)-1)),St=ke(dt,q.b),Yt=q.K,q=q.w+(Q>>q.b)*St;Q<ht;){for(be=Yt,le=q,qe=new fe,de=$+jt,ui=$+dt;$<de;)hi(be[le++],qe),Tn(qe,Vt,$,rt,D,L),$+=rt,L+=rt;$<ui&&(hi(be[le++],qe),Tn(qe,Vt,$,Gt,D,L),$+=Gt,L+=Gt),++Q&it||(q+=St)}break;case 3:if(dt==D&&rt==L&&0<q.b){for($=D,dt=Vt=L+(ht-Q)*Vt-(jt=(ht-Q)*ke(q.Ea,q.b)),rt=D,it=L,St=[],jt=(Gt=jt)-1;0<=jt;--jt)St[jt]=rt[it+jt];for(jt=Gt-1;0<=jt;--jt)$[dt+jt]=St[jt];Un(q,Q,ht,D,Vt,D,L)}else Un(q,Q,ht,dt,rt,D,L)}L=b,D=g}D!=g&&c(b,g,L,D,k)}function wo(n,u){var g=n.V,b=n.Ba+n.c*n.C,A=u-n.C;if(i(u<=n.l.o),i(16>=A),0<A){var k=n.l,S=n.Ta,L=n.Ua,D=k.width;if(mn(n,A,g,b),A=L=[L],i((g=n.C)<(b=u)),i(k.v<k.va),b>k.o&&(b=k.o),g<k.j){var q=k.j-g;g=k.j,A[0]+=q*D}if(g>=b?g=0:(A[0]+=4*k.v,k.ka=g-k.j,k.U=k.va-k.v,k.T=b-g,g=1),g){if(L=L[0],11>(g=n.ca).S){var Q=g.f.RGBA,ht=(b=g.S,A=k.U,k=k.T,q=Q.eb,Q.A),dt=k;for(Q=Q.fb+n.Ma*Q.A;0<dt--;){var rt=S,Vt=L,St=A,$=q,it=Q;switch(b){case uc:jn(rt,Vt,St,$,it);break;case hc:Or(rt,Vt,St,$,it);break;case Na:Or(rt,Vt,St,$,it),ho($,it,0,St,1,0);break;case su:Ho(rt,Vt,St,$,it);break;case dc:wi(rt,Vt,St,$,it,1);break;case gc:wi(rt,Vt,St,$,it,1),ho($,it,0,St,1,0);break;case pc:wi(rt,Vt,St,$,it,0);break;case mc:wi(rt,Vt,St,$,it,0),ho($,it,1,St,1,0);break;case fc:ur(rt,Vt,St,$,it);break;case pl:ur(rt,Vt,St,$,it),Sa($,it,St,1,0);break;case dl:_r(rt,Vt,St,$,it);break;default:i(0)}L+=D,Q+=ht}n.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");i(n.Ma<=g.height)}}n.C=u,i(n.C<=n.i)}function pr(n){var u;if(0<n.ua)return 0;for(u=0;u<n.Wb;++u){var g=n.Ya[u].G,b=n.Ya[u].H;if(0<g[1][b[1]+0].g||0<g[2][b[2]+0].g||0<g[3][b[3]+0].g)return 0}return 1}function En(n,u,g,b,A,k){if(0!=n.Z){var S=n.qd,L=n.rd;for(i(null!=e[n.Z]);u<g;++u)e[n.Z](S,L,b,A,b,A,k),S=b,L=A,A+=k;n.qd=S,n.rd=L}}function Fn(n,u){var g=n.l.ma,b=0==g.Z||1==g.Z?n.l.j:n.C;if(b=n.C<b?b:n.C,i(u<=n.l.o),u>b){var A=n.l.width,k=g.ca,S=g.tb+A*b,L=n.V,D=n.Ba+n.c*b,q=n.gc;i(1==n.ab),i(3==q[0].hc),oc(q[0],b,u,L,D,k,S),En(g,b,u,k,S,A)}n.C=n.Ma=u}function qn(n,u,g,b,A,k,S){var L=n.$/b,D=n.$%b,q=n.m,Q=n.s,ht=g+n.$,dt=ht;A=g+b*A;var rt=g+b*k,Vt=280+Q.ua,St=n.Pb?L:16777216,$=0<Q.ua?Q.Wa:null,it=Q.wc,jt=ht<rt?Oi(Q,D,L):null;i(n.C<k),i(rt<=A);var Gt=!1;t:for(;;){for(;Gt||ht<rt;){var Yt=0;if(L>=St){var be=ht-g;i((St=n).Pb),St.wd=St.m,St.xd=be,0<St.s.ua&&Dt(St.s.Wa,St.s.vb),St=L+Xu}if(D&it||(jt=Oi(Q,D,L)),i(null!=jt),jt.Qb&&(u[ht]=jt.qb,Gt=!0),!Gt)if(ot(q),jt.jc){be=u;var le=ht,qe=jt.pd[j(Yt=q)&fn-1];i(jt.jc),256>qe.g?(K(Yt,Yt.u+qe.g),be[le]=qe.value,Yt=0):(K(Yt,Yt.u+qe.g-256),i(256<=qe.value),Yt=qe.value),0==Yt&&(Gt=!0)}else Yt=hn(jt.G[0],jt.H[0],q);if(q.h)break;if(Gt||256>Yt){if(!Gt)if(jt.nd)u[ht]=(jt.qb|Yt<<8)>>>0;else{if(ot(q),Gt=hn(jt.G[1],jt.H[1],q),ot(q),be=hn(jt.G[2],jt.H[2],q),le=hn(jt.G[3],jt.H[3],q),q.h)break;u[ht]=(le<<24|Gt<<16|Yt<<8|be)>>>0}if(Gt=!1,++ht,++D>=b&&(D=0,++L,null!=S&&L<=k&&!(L%16)&&S(n,L),null!=$))for(;dt<ht;)Yt=u[dt++],$.X[(506832829*Yt&4294967295)>>>$.Mb]=Yt}else if(280>Yt){if(Yt=Mn(Yt-256,q),be=hn(jt.G[4],jt.H[4],q),ot(q),be=or(b,be=Mn(be,q)),q.h)break;if(ht-g<be||A-ht<Yt)break t;for(le=0;le<Yt;++le)u[ht+le]=u[ht+le-be];for(ht+=Yt,D+=Yt;D>=b;)D-=b,++L,null!=S&&L<=k&&!(L%16)&&S(n,L);if(i(ht<=A),D&it&&(jt=Oi(Q,D,L)),null!=$)for(;dt<ht;)Yt=u[dt++],$.X[(506832829*Yt&4294967295)>>>$.Mb]=Yt}else{if(!(Yt<Vt))break t;for(Gt=Yt-280,i(null!=$);dt<ht;)Yt=u[dt++],$.X[(506832829*Yt&4294967295)>>>$.Mb]=Yt;Yt=ht,i(!(Gt>>>(be=$).Xa)),u[Yt]=be.X[Gt],Gt=!0}Gt||i(q.h==z(q))}if(n.Pb&&q.h&&ht<A)i(n.m.h),n.a=5,n.m=n.wd,n.$=n.xd,0<n.s.ua&&Dt(n.s.vb,n.s.Wa);else{if(q.h)break t;null!=S&&S(n,L>k?k:L),n.a=0,n.$=ht-g}return 1}return n.a=3,0}function ar(n){i(null!=n),n.vc=null,n.yc=null,n.Ya=null;var u=n.Wa;null!=u&&(u.X=null),n.vb=null,i(null!=n)}function An(){var n=new nc;return null==n?null:(n.a=0,n.xb=l,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),ds=ri,Tn=Ue,jn=ge,Or=Xi,ur=oi,_r=In,Ho=pi,J.VP8LMapColor32b=ka,J.VP8LMapColor8b=ac,n)}function sr(n,u,g,b,A){var k=1,S=[n],L=[u],D=b.m,q=b.s,Q=null,ht=0;t:for(;;){if(g)for(;k&&Et(D,1);){var dt=S,rt=L,Vt=b,St=1,$=Vt.m,it=Vt.gc[Vt.ab],jt=Et($,2);if(Vt.Oc&1<<jt)k=0;else{switch(Vt.Oc|=1<<jt,it.hc=jt,it.Ea=dt[0],it.nc=rt[0],it.K=[null],++Vt.ab,i(4>=Vt.ab),jt){case 0:case 1:it.b=Et($,3)+2,St=sr(ke(it.Ea,it.b),ke(it.nc,it.b),0,Vt,it.K),it.K=it.K[0];break;case 3:var Gt,Yt=Et($,8)+1,be=16<Yt?0:4<Yt?1:2<Yt?2:3;if(dt[0]=ke(it.Ea,be),it.b=be,Gt=St=sr(Yt,1,0,Vt,it.K)){var le,qe=Yt,de=it,ui=1<<(8>>de.b),fi=h(ui);if(null==fi)Gt=0;else{var ai=de.K[0],ni=de.w;for(fi[0]=de.K[0][0],le=1;le<1*qe;++le)fi[le]=ee(ai[ni+le],fi[le-1]);for(;le<4*ui;++le)fi[le]=0;de.K[0]=null,de.K[0]=fi,Gt=1}}St=Gt;break;case 2:break;default:i(0)}k=St}}if(S=S[0],L=L[0],k&&Et(D,1)&&!(k=1<=(ht=Et(D,4))&&11>=ht)){b.a=3;break t}var xi;if(xi=k)e:{var vi,Qe,zi,Sn=b,Yi=S,Nn=L,gi=ht,Gn=g,Qn=Sn.m,nn=Sn.s,sn=[null],yn=1,hr=0,Br=Ku[gi];i:for(;;){if(Gn&&Et(Qn,1)){var rn=Et(Qn,3)+2,fo=ke(Yi,rn),Za=ke(Nn,rn),gs=fo*Za;if(!sr(fo,Za,0,Sn,sn))break i;for(sn=sn[0],nn.xc=rn,vi=0;vi<gs;++vi){var Vo=sn[vi]>>8&65535;sn[vi]=Vo,Vo>=yn&&(yn=Vo+1)}}if(Qn.h)break i;for(Qe=0;5>Qe;++Qe){var Fi=cu[Qe];!Qe&&0<gi&&(Fi+=1<<gi),hr<Fi&&(hr=Fi)}var fu=f(yn*Br,M),oh=yn,ah=f(oh,V);if(null==ah)var bl=null;else i(65536>=oh),bl=ah;var bc=h(hr);if(null==bl||null==bc||null==fu){Sn.a=1;break i}var yl=fu;for(vi=zi=0;vi<yn;++vi){var br=bl[vi],ms=br.G,_s=br.H,sh=0,xl=1,ch=0;for(Qe=0;5>Qe;++Qe){Fi=cu[Qe],ms[Qe]=yl,_s[Qe]=zi,!Qe&&0<gi&&(Fi+=1<<gi);r:{var wl,gu=Fi,Al=Sn,yc=bc,Th=yl,kh=zi,mu=0,Wo=Al.m,Ph=Et(Wo,1);if(d(yc,0,0,gu),Ph){var Sh=Et(Wo,1)+1,Nh=Et(Wo,1),lh=Et(Wo,0==Nh?1:8);yc[lh]=1,2==Sh&&(yc[lh=Et(Wo,8)]=1);var Cl=1}else{var uh=h(19),hh=Et(Wo,4)+4;if(19<hh){Al.a=3;var Tl=0;break r}for(wl=0;wl<hh;++wl)uh[lu[wl]]=Et(Wo,3);var _u=void 0,xc=void 0,dh=Al,Lh=uh,kl=gu,ph=yc,vu=0,Go=dh.m,fh=8,gh=f(128,M);n:for(;E(gh,0,7,Lh,19);){if(Et(Go,1)){var Zh=2+2*Et(Go,3);if((_u=2+Et(Go,Zh))>kl)break n}else _u=kl;for(xc=0;xc<kl&&_u--;){ot(Go);var mh=gh[0+(127&j(Go))];K(Go,Go.u+mh.g);var vs=mh.value;if(16>vs)ph[xc++]=vs,0!=vs&&(fh=vs);else{var Dh=16==vs,_h=vs-16,Ih=Qu[_h],vh=Et(Go,Gu[_h])+Ih;if(xc+vh>kl)break n;for(var Oh=Dh?fh:0;0<vh--;)ph[xc++]=Oh}}vu=1;break n}vu||(dh.a=3),Cl=vu}(Cl=Cl&&!Wo.h)&&(mu=E(Th,kh,8,yc,gu)),Cl&&0!=mu?Tl=mu:(Al.a=3,Tl=0)}if(0==Tl)break i;if(xl&&1==$u[Qe]&&(xl=0==yl[zi].g),sh+=yl[zi].g,zi+=Tl,3>=Qe){var wc,bu=bc[0];for(wc=1;wc<Fi;++wc)bc[wc]>bu&&(bu=bc[wc]);ch+=bu}}if(br.nd=xl,br.Qb=0,xl&&(br.qb=(ms[3][_s[3]+0].value<<24|ms[1][_s[1]+0].value<<16|ms[2][_s[2]+0].value)>>>0,0==sh&&256>ms[0][_s[0]+0].value&&(br.Qb=1,br.qb+=ms[0][_s[0]+0].value<<8)),br.jc=!br.Qb&&6>ch,br.jc){var Pl,go=br;for(Pl=0;Pl<fn;++Pl){var Qo=Pl,$o=go.pd[Qo],Sl=go.G[0][go.H[0]+Qo];256<=Sl.value?($o.g=Sl.g+256,$o.value=Sl.value):($o.g=0,$o.value=0,Qo>>=Ri(Sl,8,$o),Qo>>=Ri(go.G[1][go.H[1]+Qo],16,$o),Qo>>=Ri(go.G[2][go.H[2]+Qo],0,$o),Ri(go.G[3][go.H[3]+Qo],24,$o))}}}nn.vc=sn,nn.Wb=yn,nn.Ya=bl,nn.yc=fu,xi=1;break e}xi=0}if(!(k=xi)){b.a=3;break t}if(0<ht){if(q.ua=1<<ht,!Be(q.Wa,ht)){b.a=1,k=0;break t}}else q.ua=0;var yu=b,bh=S,Mh=L,xu=yu.s,wu=xu.xc;if(yu.c=bh,yu.i=Mh,xu.md=ke(bh,wu),xu.wc=0==wu?-1:(1<<wu)-1,g){b.xb=s;break t}if(null==(Q=h(S*L))){b.a=1,k=0;break t}k=(k=qn(b,Q,0,S,L,L,null))&&!D.h;break t}return k?(null!=A?A[0]=Q:(i(null==Q),i(g)),b.$=0,g||ar(q)):ar(q),k}function io(n,u){var g=n.c*n.i,b=g+u+16*u;return i(n.c<=u),n.V=h(b),null==n.V?(n.Ta=null,n.Ua=0,n.a=1,0):(n.Ta=n.V,n.Ua=n.Ba+g+u,1)}function Ao(n,u){var g=n.C,b=u-g,A=n.V,k=n.Ba+n.c*g;for(i(u<=n.l.o);0<b;){var S=16<b?16:b,L=n.l.ma,D=n.l.width,q=D*S,Q=L.ca,ht=L.tb+D*g,dt=n.Ta,rt=n.Ua;mn(n,S,A,k),iu(dt,rt,Q,ht,q),En(L,g,g+S,Q,ht,D),b-=S,A+=S*n.c,g+=S}i(g==u),n.C=n.Ma=u}function Co(){this.ub=this.yd=this.td=this.Rb=0}function To(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ko(){this.Fb=this.Bb=this.Cb=0,this.Zb=h(4),this.Lb=h(4)}function Wa(){var n;this.Yb=(function u(g,b,A){for(var k=A[b],S=0;S<k&&(g.push(A.length>b+1?[]:0),!(A.length<b+1));S++)u(g[S],b+1,A)}(n=[],0,[3,11]),n)}function Us(){this.jb=h(3),this.Wc=_([4,8],Wa),this.Xc=_([4,17],Wa)}function js(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new h(4),this.od=new h(4)}function Po(){this.ld=this.La=this.dd=this.tc=0}function Ga(){this.Na=this.la=0}function Lr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ca(){this.ad=h(384),this.Za=0,this.Ob=h(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Po),this.Y=0,this.ya=Array(new ca),this.aa=0,this.l=new dn}function Qa(){this.y=h(16),this.f=h(8),this.ea=h(8)}function zs(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new Co,this.Kc=new To,this.ed=new js,this.Qa=new ko,this.Ic=this.$c=this.Aa=0,this.D=new Hs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,pe),this.ia=0,this.pb=f(4,Lr),this.Pa=new Us,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qa),this.Hd=0,this.rb=Array(new Ga),this.sb=0,this.wa=Array(new Po),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ca),this.L=this.aa=0,this.gd=_([4,2],Po),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rn(){var n=new zs;return null!=n&&(n.a=0,n.sc="OK",n.cb=0,n.Xb=0,La||(La=ei)),n}function Si(n,u,g){return 0==n.a&&(n.a=u,n.sc=g,n.cb=0),0}function la(n,u,g){return 3<=g&&157==n[u+0]&&1==n[u+1]&&42==n[u+2]}function cr(n,u){if(null==n)return 0;if(n.a=0,n.sc="OK",null==u)return Si(n,2,"null VP8Io passed to VP8GetHeaders()");var g=u.data,b=u.w,A=u.ha;if(4>A)return Si(n,7,"Truncated header.");var k=g[b+0]|g[b+1]<<8|g[b+2]<<16,S=n.Od;if(S.Rb=!(1&k),S.td=k>>1&7,S.yd=k>>4&1,S.ub=k>>5,3<S.td)return Si(n,3,"Incorrect keyframe parameters.");if(!S.yd)return Si(n,4,"Frame not displayable.");b+=3,A-=3;var L=n.Kc;if(S.Rb){if(7>A)return Si(n,7,"cannot parse picture header");if(!la(g,b,A))return Si(n,3,"Bad code word");L.c=16383&(g[b+4]<<8|g[b+3]),L.Td=g[b+4]>>6,L.i=16383&(g[b+6]<<8|g[b+5]),L.Ud=g[b+6]>>6,b+=7,A-=7,n.za=L.c+15>>4,n.Ub=L.i+15>>4,u.width=L.c,u.height=L.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,d((k=n.Pa).jb,0,255,k.jb.length),i(null!=(k=n.Qa)),k.Cb=0,k.Bb=0,k.Fb=1,d(k.Zb,0,0,k.Zb.length),d(k.Lb,0,0,k.Lb)}if(S.ub>A)return Si(n,7,"bad partition length");Pt(k=n.m,g,b,S.ub),b+=S.ub,A-=S.ub,S.Rb&&(L.Ld=yt(k),L.Kd=yt(k)),L=n.Qa;var D,q=n.Pa;if(i(null!=k),i(null!=L),L.Cb=yt(k),L.Cb){if(L.Bb=yt(k),yt(k)){for(L.Fb=yt(k),D=0;4>D;++D)L.Zb[D]=yt(k)?It(k,7):0;for(D=0;4>D;++D)L.Lb[D]=yt(k)?It(k,6):0}if(L.Bb)for(D=0;3>D;++D)q.jb[D]=yt(k)?xt(k,8):255}else L.Bb=0;if(k.Ka)return Si(n,3,"cannot parse segment header");if((L=n.ed).zd=yt(k),L.Tb=xt(k,6),L.wb=xt(k,3),L.Pc=yt(k),L.Pc&&yt(k)){for(q=0;4>q;++q)yt(k)&&(L.vd[q]=It(k,6));for(q=0;4>q;++q)yt(k)&&(L.od[q]=It(k,6))}if(n.L=0==L.Tb?0:L.zd?1:2,k.Ka)return Si(n,3,"cannot parse filter header");var Q=A;if(A=D=b,b=D+Q,L=Q,n.Xb=(1<<xt(n.m,2))-1,Q<3*(q=n.Xb))g=7;else{for(D+=3*q,L-=3*q,Q=0;Q<q;++Q){var ht=g[A+0]|g[A+1]<<8|g[A+2]<<16;ht>L&&(ht=L),Pt(n.Jc[+Q],g,D,ht),D+=ht,L-=ht,A+=3}Pt(n.Jc[+q],g,D,L),g=D<b?0:5}if(0!=g)return Si(n,g,"cannot parse partitions");for(g=xt(D=n.m,7),A=yt(D)?It(D,4):0,b=yt(D)?It(D,4):0,L=yt(D)?It(D,4):0,q=yt(D)?It(D,4):0,D=yt(D)?It(D,4):0,Q=n.Qa,ht=0;4>ht;++ht){if(Q.Cb){var dt=Q.Zb[ht];Q.Fb||(dt+=g)}else{if(0<ht){n.pb[ht]=n.pb[0];continue}dt=g}var rt=n.pb[ht];rt.Sc[0]=fs[bn(dt+A,127)],rt.Sc[1]=_c[bn(dt+0,127)],rt.Eb[0]=2*fs[bn(dt+b,127)],rt.Eb[1]=101581*_c[bn(dt+L,127)]>>16,8>rt.Eb[1]&&(rt.Eb[1]=8),rt.Qc[0]=fs[bn(dt+q,117)],rt.Qc[1]=_c[bn(dt+D,127)],rt.lc=dt+D}if(!S.Rb)return Si(n,4,"Not a key frame.");for(yt(k),S=n.Pa,g=0;4>g;++g){for(A=0;8>A;++A)for(b=0;3>b;++b)for(L=0;11>L;++L)q=wt(k,ih[g][A][b][L])?xt(k,8):du[g][A][b][L],S.Wc[g][A].Yb[b][L]=q;for(A=0;17>A;++A)S.Xc[g][A]=S.Wc[g][pu[A]]}return n.kc=yt(k),n.kc&&(n.Bd=xt(k,8)),n.cb=1}function ei(n,u,g,b,A,k,S){var L=u[A].Yb[g];for(g=0;16>A;++A){if(!wt(n,L[g+0]))return A;for(;!wt(n,L[g+1]);)if(L=u[++A].Yb[0],g=0,16==A)return 16;var D=u[A+1].Yb;if(wt(n,L[g+2])){var q=n,Q=0;if(wt(q,(dt=L)[(ht=g)+3]))if(wt(q,dt[ht+6])){for(L=0,ht=2*(Q=wt(q,dt[ht+8]))+(dt=wt(q,dt[ht+9+Q])),Q=0,dt=hu[ht];dt[L];++L)Q+=Q+wt(q,dt[L]);Q+=3+(8<<ht)}else wt(q,dt[ht+7])?(Q=7+2*wt(q,165),Q+=wt(q,145)):Q=5+wt(q,159);else Q=wt(q,dt[ht+4])?3+wt(q,dt[ht+5]):2;L=D[2]}else Q=1,L=D[1];D=S+th[A],0>(q=n).b&&mt(q);var ht,dt=q.b,rt=(ht=q.Ca>>1)-(q.I>>dt)>>31;--q.b,q.Ca+=rt,q.Ca|=1,q.I-=(ht+1&rt)<<dt,k[D]=((Q^rt)-rt)*b[(0<A)+0]}return 16}function bi(n){var u=n.rb[n.sb-1];u.la=0,u.Na=0,d(n.zc,0,0,n.zc.length),n.ja=0}function _n(n,u,g,b,A){n[u+g+32*b]=-256&(A=n[u+g+32*b]+(A>>3))?0>A?0:255:A}function So(n,u,g,b,A,k){_n(n,u,0,g,b+A),_n(n,u,1,g,b+k),_n(n,u,2,g,b-k),_n(n,u,3,g,b-A)}function vn(n){return(20091*n>>16)+n}function ua(n,u,g,b){var A,k=0,S=h(16);for(A=0;4>A;++A){var L=n[u+0]+n[u+8],D=n[u+0]-n[u+8],q=(35468*n[u+4]>>16)-vn(n[u+12]),Q=vn(n[u+4])+(35468*n[u+12]>>16);S[k+0]=L+Q,S[k+1]=D+q,S[k+2]=D-q,S[k+3]=L-Q,k+=4,u++}for(A=k=0;4>A;++A)L=(n=S[k+0]+4)+S[k+8],D=n-S[k+8],q=(35468*S[k+4]>>16)-vn(S[k+12]),_n(g,b,0,0,L+(Q=vn(S[k+4])+(35468*S[k+12]>>16))),_n(g,b,1,0,D+q),_n(g,b,2,0,D-q),_n(g,b,3,0,L-Q),k++,b+=32}function $a(n,u,g,b){var A=n[u+0]+4,k=35468*n[u+4]>>16,S=vn(n[u+4]),L=35468*n[u+1]>>16;So(g,b,0,A+S,n=vn(n[u+1]),L),So(g,b,1,A+k,n,L),So(g,b,2,A-k,n,L),So(g,b,3,A-S,n,L)}function Js(n,u,g,b,A){ua(n,u,g,b),A&&ua(n,u+16,g,b+4)}function Ka(n,u,g,b){zo(n,u+0,g,b,1),zo(n,u+32,g,b+128,1)}function Xa(n,u,g,b){var A;for(n=n[u+0]+4,A=0;4>A;++A)for(u=0;4>u;++u)_n(g,b,u,A,n)}function ts(n,u,g,b){n[u+0]&&zn(n,u+0,g,b),n[u+16]&&zn(n,u+16,g,b+4),n[u+32]&&zn(n,u+32,g,b+128),n[u+48]&&zn(n,u+48,g,b+128+4)}function Vs(n,u,g,b){var A,k=h(16);for(A=0;4>A;++A){var S=n[u+0+A]+n[u+12+A],L=n[u+4+A]+n[u+8+A],D=n[u+4+A]-n[u+8+A],q=n[u+0+A]-n[u+12+A];k[0+A]=S+L,k[8+A]=S-L,k[4+A]=q+D,k[12+A]=q-D}for(A=0;4>A;++A)S=(n=k[0+4*A]+3)+k[3+4*A],D=k[1+4*A]-k[2+4*A],q=n-k[3+4*A],g[b+0]=S+(L=k[1+4*A]+k[2+4*A])>>3,g[b+16]=q+D>>3,g[b+32]=S-L>>3,g[b+48]=q-D>>3,b+=64}function No(n,u,g){var b,A=u-32,k=kn,S=255-n[A-1];for(b=0;b<g;++b){var L,D=k,q=S+n[u-1];for(L=0;L<g;++L)n[u+L]=D[q+n[A+L]];u+=32}}function cl(n,u){No(n,u,4)}function Ws(n,u){No(n,u,8)}function Gs(n,u){No(n,u,16)}function fr(n,u){var g;for(g=0;16>g;++g)c(n,u+32*g,n,u-32,16)}function no(n,u){var g;for(g=16;0<g;--g)d(n,u,n[u-1],16),u+=32}function Lo(n,u,g){var b;for(b=0;16>b;++b)d(u,g+32*b,n,16)}function Qs(n,u){var g,b=16;for(g=0;16>g;++g)b+=n[u-1+32*g]+n[u+g-32];Lo(b>>5,n,u)}function an(n,u){var g,b=8;for(g=0;16>g;++g)b+=n[u-1+32*g];Lo(b>>4,n,u)}function ll(n,u){var g,b=8;for(g=0;16>g;++g)b+=n[u+g-32];Lo(b>>4,n,u)}function $s(n,u){Lo(128,n,u)}function Ye(n,u,g){return n+2*u+g+2>>2}function ul(n,u){var g,b=u-32;for(b=new Uint8Array([Ye(n[b-1],n[b+0],n[b+1]),Ye(n[b+0],n[b+1],n[b+2]),Ye(n[b+1],n[b+2],n[b+3]),Ye(n[b+2],n[b+3],n[b+4])]),g=0;4>g;++g)c(n,u+32*g,b,0,b.length)}function Ks(n,u){var g=n[u-1],b=n[u-1+32],A=n[u-1+64],k=n[u-1+96];oe(n,u+0,16843009*Ye(n[u-1-32],g,b)),oe(n,u+32,16843009*Ye(g,b,A)),oe(n,u+64,16843009*Ye(b,A,k)),oe(n,u+96,16843009*Ye(A,k,k))}function pn(n,u){var g,b=4;for(g=0;4>g;++g)b+=n[u+g-32]+n[u-1+32*g];for(b>>=3,g=0;4>g;++g)d(n,u+32*g,b,4)}function es(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],k=n[u-1-32],S=n[u+0-32],L=n[u+1-32],D=n[u+2-32],q=n[u+3-32];n[u+0+96]=Ye(b,A,n[u-1+96]),n[u+1+96]=n[u+0+64]=Ye(g,b,A),n[u+2+96]=n[u+1+64]=n[u+0+32]=Ye(k,g,b),n[u+3+96]=n[u+2+64]=n[u+1+32]=n[u+0+0]=Ye(S,k,g),n[u+3+64]=n[u+2+32]=n[u+1+0]=Ye(L,S,k),n[u+3+32]=n[u+2+0]=Ye(D,L,S),n[u+3+0]=Ye(q,D,L)}function is(n,u){var g=n[u+1-32],b=n[u+2-32],A=n[u+3-32],k=n[u+4-32],S=n[u+5-32],L=n[u+6-32],D=n[u+7-32];n[u+0+0]=Ye(n[u+0-32],g,b),n[u+1+0]=n[u+0+32]=Ye(g,b,A),n[u+2+0]=n[u+1+32]=n[u+0+64]=Ye(b,A,k),n[u+3+0]=n[u+2+32]=n[u+1+64]=n[u+0+96]=Ye(A,k,S),n[u+3+32]=n[u+2+64]=n[u+1+96]=Ye(k,S,L),n[u+3+64]=n[u+2+96]=Ye(S,L,D),n[u+3+96]=Ye(L,D,D)}function ha(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],k=n[u-1-32],S=n[u+0-32],L=n[u+1-32],D=n[u+2-32],q=n[u+3-32];n[u+0+0]=n[u+1+64]=k+S+1>>1,n[u+1+0]=n[u+2+64]=S+L+1>>1,n[u+2+0]=n[u+3+64]=L+D+1>>1,n[u+3+0]=D+q+1>>1,n[u+0+96]=Ye(A,b,g),n[u+0+64]=Ye(b,g,k),n[u+0+32]=n[u+1+96]=Ye(g,k,S),n[u+1+32]=n[u+2+96]=Ye(k,S,L),n[u+2+32]=n[u+3+96]=Ye(S,L,D),n[u+3+32]=Ye(L,D,q)}function Zo(n,u){var g=n[u+0-32],b=n[u+1-32],A=n[u+2-32],k=n[u+3-32],S=n[u+4-32],L=n[u+5-32],D=n[u+6-32],q=n[u+7-32];n[u+0+0]=g+b+1>>1,n[u+1+0]=n[u+0+64]=b+A+1>>1,n[u+2+0]=n[u+1+64]=A+k+1>>1,n[u+3+0]=n[u+2+64]=k+S+1>>1,n[u+0+32]=Ye(g,b,A),n[u+1+32]=n[u+0+96]=Ye(b,A,k),n[u+2+32]=n[u+1+96]=Ye(A,k,S),n[u+3+32]=n[u+2+96]=Ye(k,S,L),n[u+3+64]=Ye(S,L,D),n[u+3+96]=Ye(L,D,q)}function ns(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],k=n[u-1+96];n[u+0+0]=g+b+1>>1,n[u+2+0]=n[u+0+32]=b+A+1>>1,n[u+2+32]=n[u+0+64]=A+k+1>>1,n[u+1+0]=Ye(g,b,A),n[u+3+0]=n[u+1+32]=Ye(b,A,k),n[u+3+32]=n[u+1+64]=Ye(A,k,k),n[u+3+64]=n[u+2+64]=n[u+0+96]=n[u+1+96]=n[u+2+96]=n[u+3+96]=k}function rs(n,u){var g=n[u-1+0],b=n[u-1+32],A=n[u-1+64],k=n[u-1+96],S=n[u-1-32],L=n[u+0-32],D=n[u+1-32],q=n[u+2-32];n[u+0+0]=n[u+2+32]=g+S+1>>1,n[u+0+32]=n[u+2+64]=b+g+1>>1,n[u+0+64]=n[u+2+96]=A+b+1>>1,n[u+0+96]=k+A+1>>1,n[u+3+0]=Ye(L,D,q),n[u+2+0]=Ye(S,L,D),n[u+1+0]=n[u+3+32]=Ye(g,S,L),n[u+1+32]=n[u+3+64]=Ye(b,g,S),n[u+1+64]=n[u+3+96]=Ye(A,b,g),n[u+1+96]=Ye(k,A,b)}function Xs(n,u){var g;for(g=0;8>g;++g)c(n,u+32*g,n,u-32,8)}function da(n,u){var g;for(g=0;8>g;++g)d(n,u,n[u-1],8),u+=32}function ro(n,u,g){var b;for(b=0;8>b;++b)d(u,g+32*b,n,8)}function Zr(n,u){var g,b=8;for(g=0;8>g;++g)b+=n[u+g-32]+n[u-1+32*g];ro(b>>4,n,u)}function Do(n,u){var g,b=4;for(g=0;8>g;++g)b+=n[u+g-32];ro(b>>3,n,u)}function oo(n,u){var g,b=4;for(g=0;8>g;++g)b+=n[u-1+32*g];ro(b>>3,n,u)}function Io(n,u){ro(128,n,u)}function Oo(n,u,g){var b=n[u-g],A=n[u+0],k=3*(A-b)+hl[1020+n[u-2*g]-n[u+g]],S=lc[112+(k+4>>3)];n[u-g]=kn[255+b+lc[112+(k+3>>3)]],n[u+0]=kn[255+A-S]}function os(n,u,g,b){return Jn[255+n[u-2*g]-n[u-g]]>b||Jn[255+n[u+g]-n[u+0]]>b}function as(n,u,g,b){return 4*Jn[255+n[u-g]-n[u+0]]+Jn[255+n[u-2*g]-n[u+g]]<=b}function ss(n,u,g,b,A){var k=n[u-3*g],S=n[u-2*g],L=n[u-g],D=n[u+0],q=n[u+g],Q=n[u+2*g];return 4*Jn[255+L-D]+Jn[255+S-q]>b?0:Jn[255+n[u-4*g]-k]<=A&&Jn[255+k-S]<=A&&Jn[255+S-L]<=A&&Jn[255+n[u+3*g]-Q]<=A&&Jn[255+Q-q]<=A&&Jn[255+q-D]<=A}function cs(n,u,g,b){var A=2*b+1;for(b=0;16>b;++b)as(n,u+b,g,A)&&Oo(n,u+b,g)}function lr(n,u,g,b){var A=2*b+1;for(b=0;16>b;++b)as(n,u+b*g,1,A)&&Oo(n,u+b*g,1)}function ao(n,u,g,b){var A;for(A=3;0<A;--A)cs(n,u+=4*g,g,b)}function tc(n,u,g,b){var A;for(A=3;0<A;--A)lr(n,u+=4,g,b)}function gr(n,u,g,b,A,k,S,L){for(k=2*k+1;0<A--;){if(ss(n,u,g,k,S))if(os(n,u,g,L))Oo(n,u,g);else{var D=n,q=u,Q=g,ht=D[q-2*Q],dt=D[q-Q],rt=D[q+0],Vt=D[q+Q],St=D[q+2*Q],$=27*(jt=hl[1020+3*(rt-dt)+hl[1020+ht-Vt]])+63>>7,it=18*jt+63>>7,jt=9*jt+63>>7;D[q-3*Q]=kn[255+D[q-3*Q]+jt],D[q-2*Q]=kn[255+ht+it],D[q-Q]=kn[255+dt+$],D[q+0]=kn[255+rt-$],D[q+Q]=kn[255+Vt-it],D[q+2*Q]=kn[255+St-jt]}u+=b}}function Cn(n,u,g,b,A,k,S,L){for(k=2*k+1;0<A--;){if(ss(n,u,g,k,S))if(os(n,u,g,L))Oo(n,u,g);else{var D=n,q=u,Q=g,ht=D[q-Q],dt=D[q+0],rt=D[q+Q],Vt=lc[112+(4+(St=3*(dt-ht))>>3)],St=lc[112+(St+3>>3)],$=Vt+1>>1;D[q-2*Q]=kn[255+D[q-2*Q]+$],D[q-Q]=kn[255+ht+St],D[q+0]=kn[255+dt-Vt],D[q+Q]=kn[255+rt-$]}u+=b}}function pa(n,u,g,b,A,k){gr(n,u,g,1,16,b,A,k)}function so(n,u,g,b,A,k){gr(n,u,1,g,16,b,A,k)}function ec(n,u,g,b,A,k){var S;for(S=3;0<S;--S)Cn(n,u+=4*g,g,1,16,b,A,k)}function Mo(n,u,g,b,A,k){var S;for(S=3;0<S;--S)Cn(n,u+=4,1,g,16,b,A,k)}function ic(n,u,g,b,A,k,S,L){gr(n,u,A,1,8,k,S,L),gr(g,b,A,1,8,k,S,L)}function fa(n,u,g,b,A,k,S,L){gr(n,u,1,A,8,k,S,L),gr(g,b,1,A,8,k,S,L)}function ga(n,u,g,b,A,k,S,L){Cn(n,u+4*A,A,1,8,k,S,L),Cn(g,b+4*A,A,1,8,k,S,L)}function ls(n,u,g,b,A,k,S,L){Cn(n,u+4,1,A,8,k,S,L),Cn(g,b+4,1,A,8,k,S,L)}function Eo(){this.ba=new On,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ma(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _a(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function us(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new M}function nc(){this.xb=this.a=0,this.l=new dn,this.ca=new On,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new us,this.ab=0,this.gc=f(4,_a),this.Oc=0}function Fo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function co(n,u,g,b,A,k,S){for(n=null==n?0:n[u+0],u=0;u<S;++u)A[k+u]=n+g[b+u]&255,n=A[k+u]}function va(n,u,g,b,A,k,S){var L;if(null==n)co(null,null,g,b,A,k,S);else for(L=0;L<S;++L)A[k+L]=n[u+L]+g[b+L]&255}function Dr(n,u,g,b,A,k,S){if(null==n)co(null,null,g,b,A,k,S);else{var L,D=n[u+0],q=D,Q=D;for(L=0;L<S;++L)q=Q+(D=n[u+L])-q,Q=g[b+L]+(-256&q?0>q?0:255:q)&255,q=D,A[k+L]=Q}}function ba(n,u,g,b){var A=u.width,k=u.o;if(i(null!=n&&null!=u),0>g||0>=b||g+b>k)return null;if(!n.Cc){if(null==n.ga){var S;if(n.ga=new Fo,(S=null==n.ga)||(S=u.width*u.o,i(0==n.Gb.length),n.Gb=h(S),n.Uc=0,null==n.Gb?S=0:(n.mb=n.Gb,n.nb=n.Uc,n.rc=null,S=1),S=!S),!S){var L=n.Fa,D=n.P,q=n.qc,Q=n.mb,ht=n.nb,dt=D+1,rt=q-1,Vt=(S=n.ga).l;if(i(null!=L&&null!=Q&&null!=u),e[0]=null,e[1]=co,e[2]=va,e[3]=Dr,S.ca=Q,S.tb=ht,S.c=u.width,S.i=u.height,i(0<S.c&&0<S.i),1>=q)u=0;else if(S.$a=L[D+0]>>0&3,S.Z=L[D+0]>>2&3,S.Lc=L[D+0]>>4&3,D=L[D+0]>>6&3,0>S.$a||1<S.$a||4<=S.Z||1<S.Lc||D)u=0;else if(Vt.put=nr,Vt.ac=Ji,Vt.bc=rr,Vt.ma=S,Vt.width=u.width,Vt.height=u.height,Vt.Da=u.Da,Vt.v=u.v,Vt.va=u.va,Vt.j=u.j,Vt.o=u.o,S.$a)t:{i(1==S.$a),u=An();e:for(;;){if(null==u){u=0;break t}if(i(null!=S),S.mc=u,u.c=S.c,u.i=S.i,u.l=S.l,u.l.ma=S,u.l.width=S.c,u.l.height=S.i,u.a=0,ft(u.m,L,dt,rt),!sr(S.c,S.i,1,u,null)||(1==u.ab&&3==u.gc[0].hc&&pr(u.s)?(S.ic=1,L=u.c*u.i,u.Ta=null,u.Ua=0,u.V=h(L),u.Ba=0,null==u.V?(u.a=1,u=0):u=1):(S.ic=0,u=io(u,S.c)),!u))break e;u=1;break t}S.mc=null,u=0}else u=rt>=S.c*S.i;S=!u}if(S)return null;1!=n.ga.Lc?n.Ga=0:b=k-g}i(null!=n.ga),i(g+b<=k);t:{if(u=(L=n.ga).c,k=L.l.o,0==L.$a){if(dt=n.rc,rt=n.Vc,Vt=n.Fa,q=n.mb,Q=n.nb+g*u,i((D=n.P+1+g*u)<=n.P+n.qc),0!=L.Z)for(i(null!=e[L.Z]),S=0;S<b;++S)e[L.Z](dt,rt,Vt,D,q,Q,u),dt=q,rt=Q,Q+=u,D+=u;else for(S=0;S<b;++S)c(q,Q,Vt,D,u),dt=q,rt=Q,Q+=u,D+=u;n.rc=dt,n.Vc=rt}else{if(i(null!=L.mc),u=g+b,i(null!=(S=L.mc)),i(u<=S.i),S.C>=u)u=1;else if(L.ic||at(),L.ic){L=S.V,dt=S.Ba;var St=S.i,$=(Vt=1,D=S.$/(rt=S.c),q=S.$%rt,Q=S.m,ht=S.s,S.$),it=rt*St,jt=rt*u,Gt=ht.wc,Yt=$<jt?Oi(ht,q,D):null;i($<=it),i(u<=St),i(pr(ht));e:for(;;){for(;!Q.h&&$<jt;){if(q&Gt||(Yt=Oi(ht,q,D)),i(null!=Yt),ot(Q),256>(St=hn(Yt.G[0],Yt.H[0],Q)))L[dt+$]=St,++$,++q>=rt&&(q=0,++D<=u&&!(D%16)&&Fn(S,D));else{if(!(280>St)){Vt=0;break e}St=Mn(St-256,Q);var be,le=hn(Yt.G[4],Yt.H[4],Q);if(ot(Q),!($>=(le=or(rt,le=Mn(le,Q)))&&it-$>=St)){Vt=0;break e}for(be=0;be<St;++be)L[dt+$+be]=L[dt+$+be-le];for($+=St,q+=St;q>=rt;)q-=rt,++D<=u&&!(D%16)&&Fn(S,D);$<jt&&q&Gt&&(Yt=Oi(ht,q,D))}i(Q.h==z(Q))}Fn(S,D>u?u:D);break e}!Vt||Q.h&&$<it?(Vt=0,S.a=Q.h?5:3):S.$=$,u=Vt}else u=qn(S,S.V,S.Ba,S.c,S.i,u,Ao);if(!u){b=0;break t}}g+b>=k&&(n.Cc=1),b=1}if(!b)return null;if(n.Cc&&(null!=(b=n.ga)&&(b.mc=null),n.ga=null,0<n.Ga))return alert("todo:WebPDequantizeLevels"),null}return n.nb+g*A}function p(n,u,g,b,A,k){for(;0<A--;){var S,L=n,D=u+(g?1:0),q=n,Q=u+(g?0:3);for(S=0;S<b;++S){var ht=q[Q+4*S];255!=ht&&(L[D+4*S+0]=L[D+4*S+0]*(ht*=32897)>>23,L[D+4*S+1]=L[D+4*S+1]*ht>>23,L[D+4*S+2]=L[D+4*S+2]*ht>>23)}u+=k}}function C(n,u,g,b,A){for(;0<b--;){var k;for(k=0;k<g;++k){var S=n[u+2*k+0],L=15&(q=n[u+2*k+1]),D=4369*L,q=(240&q|q>>4)*D>>16;n[u+2*k+0]=(240&S|S>>4)*D>>16&240|(15&S|S<<4)*D>>16>>4&15,n[u+2*k+1]=240&q|L}u+=A}}function U(n,u,g,b,A,k,S,L){var D,q,Q=255;for(q=0;q<A;++q){for(D=0;D<b;++D){var ht=n[u+D];k[S+4*D]=ht,Q&=ht}u+=g,S+=L}return 255!=Q}function W(n,u,g,b,A){var k;for(k=0;k<A;++k)g[b+k]=n[u+k]>>8}function at(){ho=p,Sa=C,sc=U,iu=W}function Nt(n,u,g){J[n]=function(b,A,k,S,L,D,q,Q,ht,dt,rt,Vt,St,$,it,jt,Gt){var Yt,be=Gt-1>>1,le=L[D+0]|q[Q+0]<<16,qe=ht[dt+0]|rt[Vt+0]<<16;i(null!=b);var de=3*le+qe+131074>>2;for(u(b[A+0],255&de,de>>16,St,$),null!=k&&u(k[S+0],255&(de=3*qe+le+131074>>2),de>>16,it,jt),Yt=1;Yt<=be;++Yt){var ui=L[D+Yt]|q[Q+Yt]<<16,fi=ht[dt+Yt]|rt[Vt+Yt]<<16,ai=le+ui+qe+fi+524296,ni=ai+2*(ui+qe)>>3;de=ni+le>>1,le=(ai=ai+2*(le+fi)>>3)+ui>>1,u(b[A+2*Yt-1],255&de,de>>16,St,$+(2*Yt-1)*g),u(b[A+2*Yt-0],255&le,le>>16,St,$+(2*Yt-0)*g),null!=k&&(le=ni+fi>>1,u(k[S+2*Yt-1],255&(de=ai+qe>>1),de>>16,it,jt+(2*Yt-1)*g),u(k[S+2*Yt+0],255&le,le>>16,it,jt+(2*Yt+0)*g)),le=ui,qe=fi}1&Gt||(u(b[A+Gt-1],255&(de=3*le+qe+131074>>2),de>>16,St,$+(Gt-1)*g),null!=k&&u(k[S+Gt-1],255&(de=3*qe+le+131074>>2),de>>16,it,jt+(Gt-1)*g))}}function $t(){r[uc]=m,r[hc]=F,r[su]=x,r[dc]=nt,r[pc]=Jt,r[fc]=ue,r[dl]=Pe,r[Na]=F,r[gc]=nt,r[mc]=Jt,r[pl]=ue}function _e(n){return n&~Pn?0>n?0:255:n>>po}function De(n,u){return _e((19077*n>>8)+(26149*u>>8)-14234)}function Ve(n,u,g){return _e((19077*n>>8)-(6419*u>>8)-(13320*g>>8)+8708)}function Ge(n,u){return _e((19077*n>>8)+(33050*u>>8)-17685)}function ii(n,u,g,b,A){b[A+0]=De(n,g),b[A+1]=Ve(n,u,g),b[A+2]=Ge(n,u)}function Ci(n,u,g,b,A){b[A+0]=Ge(n,u),b[A+1]=Ve(n,u,g),b[A+2]=De(n,g)}function Ni(n,u,g,b,A){var k=Ve(n,u,g);u=k<<3&224|Ge(n,u)>>3,b[A+0]=248&De(n,g)|k>>5,b[A+1]=u}function Mi(n,u,g,b,A){var k=240&Ge(n,u)|15;b[A+0]=240&De(n,g)|Ve(n,u,g)>>4,b[A+1]=k}function tn(n,u,g,b,A){b[A+0]=255,ii(n,u,g,b,A+1)}function ji(n,u,g,b,A){Ci(n,u,g,b,A),b[A+3]=255}function Bn(n,u,g,b,A){ii(n,u,g,b,A),b[A+3]=255}function bn(n,u){return 0>n?0:n>u?u:n}function mr(n,u,g){J[n]=function(b,A,k,S,L,D,q,Q,ht){for(var dt=Q+(-2&ht)*g;Q!=dt;)u(b[A+0],k[S+0],L[D+0],q,Q),u(b[A+1],k[S+0],L[D+0],q,Q+g),A+=2,++S,++D,Q+=2*g;1&ht&&u(b[A+0],k[S+0],L[D+0],q,Q)}}function hs(n,u,g){return 0==g?0==n?0==u?6:5:0==u?4:0:g}function ya(n,u,g,b,A){switch(n>>>30){case 3:zo(u,g,b,A,0);break;case 2:Pa(u,g,b,A);break;case 1:zn(u,g,b,A)}}function xa(n,u){var g,b,A=u.M,k=u.Nb,S=n.oc,L=n.pc+40,D=n.oc,q=n.pc+584,Q=n.oc,ht=n.pc+600;for(g=0;16>g;++g)S[L+32*g-1]=129;for(g=0;8>g;++g)D[q+32*g-1]=129,Q[ht+32*g-1]=129;for(0<A?S[L-1-32]=D[q-1-32]=Q[ht-1-32]=129:(d(S,L-32-1,127,21),d(D,q-32-1,127,9),d(Q,ht-32-1,127,9)),b=0;b<n.za;++b){var dt=u.ya[u.aa+b];if(0<b){for(g=-1;16>g;++g)c(S,L+32*g-4,S,L+32*g+12,4);for(g=-1;8>g;++g)c(D,q+32*g-4,D,q+32*g+4,4),c(Q,ht+32*g-4,Q,ht+32*g+4,4)}var rt=n.Gd,Vt=n.Hd+b,St=dt.ad,$=dt.Hc;if(0<A&&(c(S,L-32,rt[Vt].y,0,16),c(D,q-32,rt[Vt].f,0,8),c(Q,ht-32,rt[Vt].ea,0,8)),dt.Za){var it=S,jt=L-32+16;for(0<A&&(b>=n.za-1?d(it,jt,rt[Vt].y[15],4):c(it,jt,rt[Vt+1].y,0,4)),g=0;4>g;g++)it[jt+128+g]=it[jt+256+g]=it[jt+384+g]=it[jt+0+g];for(g=0;16>g;++g,$<<=2)Vn[dt.Ob[g]](it=S,jt=L+nh[g]),ya($,St,16*+g,it,jt)}else if(it=hs(b,A,dt.Ob[0]),Rr[it](S,L),0!=$)for(g=0;16>g;++g,$<<=2)ya($,St,16*+g,S,L+nh[g]);for(g=dt.Gc,it=hs(b,A,dt.Dd),vr[it](D,q),vr[it](Q,ht),$=St,it=D,jt=q,255&(dt=g>>0)&&(170&dt?Mr($,256,it,jt):Er($,256,it,jt)),dt=Q,$=ht,255&(g>>=8)&&(170&g?Mr(St,320,dt,$):Er(St,320,dt,$)),A<n.Ub-1&&(c(rt[Vt].y,0,S,L+480,16),c(rt[Vt].f,0,D,q+224,8),c(rt[Vt].ea,0,Q,ht+224,8)),rt=n.sa,Vt=n.ta+16*b+16*k*n.R,St=n.qa,dt=n.ra+8*b+(g=8*k*n.B),$=n.Ha,it=n.Ia+8*b+g,g=0;16>g;++g)c(rt,Vt+g*n.R,S,L+32*g,16);for(g=0;8>g;++g)c(St,dt+g*n.B,D,q+32*g,8),c($,it+g*n.B,Q,ht+32*g,8)}}function qo(n,u,g,b,A,k,S,L,D){var q=[0],Q=[0],ht=0,dt=null!=D?D.kd:0,rt=null!=D?D:new ma;if(null==n||12>g)return 7;rt.data=n,rt.w=u,rt.ha=g,u=[u],g=[g],rt.gb=[rt.gb];t:{var Vt=u,St=g,$=rt.gb;if(i(null!=n),i(null!=St),i(null!=$),$[0]=0,12<=St[0]&&!o(n,Vt[0],"RIFF")){if(o(n,Vt[0]+8,"WEBP")){$=3;break t}var it=ve(n,Vt[0]+4);if(12>it||4294967286<it){$=3;break t}if(dt&&it>St[0]-8){$=7;break t}$[0]=it,Vt[0]+=12,St[0]-=12}$=0}if(0!=$)return $;for(it=0<rt.gb[0],g=g[0];;){t:{var jt=n;St=u,$=g;var Gt=q,Yt=Q,be=Vt=[0];if((de=ht=[ht])[0]=0,8>$[0])$=7;else{if(!o(jt,St[0],"VP8X")){if(10!=ve(jt,St[0]+4)){$=3;break t}if(18>$[0]){$=7;break t}var le=ve(jt,St[0]+8),qe=1+me(jt,St[0]+12);if(2147483648<=qe*(jt=1+me(jt,St[0]+15))){$=3;break t}null!=be&&(be[0]=le),null!=Gt&&(Gt[0]=qe),null!=Yt&&(Yt[0]=jt),St[0]+=18,$[0]-=18,de[0]=1}$=0}}if(ht=ht[0],0!=$)return $;if(St=!!(2&(Vt=Vt[0])),!it&&ht)return 3;if(null!=k&&(k[0]=!!(16&Vt)),null!=S&&(S[0]=St),null!=L&&(L[0]=0),S=q[0],Vt=Q[0],ht&&St&&null==D){$=0;break}if(4>g){$=7;break}if(it&&ht||!it&&!ht&&!o(n,u[0],"ALPH")){g=[g],rt.na=[rt.na],rt.P=[rt.P],rt.Sa=[rt.Sa];t:{$=u,it=g;var de=rt.gb;Gt=rt.na,Yt=rt.P,be=rt.Sa,qe=22,i(null!=(le=n)),i(null!=it),jt=$[0];var ui=it[0];for(i(null!=Gt),i(null!=be),Gt[0]=null,Yt[0]=null,be[0]=0;;){if($[0]=jt,it[0]=ui,8>ui){$=7;break t}var fi=ve(le,jt+4);if(4294967286<fi){$=3;break t}var ai=8+fi+1&-2;if(qe+=ai,0<de&&qe>de){$=3;break t}if(!o(le,jt,"VP8 ")||!o(le,jt,"VP8L")){$=0;break t}if(ui[0]<ai){$=7;break t}o(le,jt,"ALPH")||(Gt[0]=le,Yt[0]=jt+8,be[0]=fi),jt+=ai,ui-=ai}}if(g=g[0],rt.na=rt.na[0],rt.P=rt.P[0],rt.Sa=rt.Sa[0],0!=$)break}g=[g],rt.Ja=[rt.Ja],rt.xa=[rt.xa];t:if(de=n,$=u,it=g,Gt=rt.gb[0],Yt=rt.Ja,be=rt.xa,le=$[0],jt=!o(de,le,"VP8 "),qe=!o(de,le,"VP8L"),i(null!=de),i(null!=it),i(null!=Yt),i(null!=be),8>it[0])$=7;else{if(jt||qe){if(de=ve(de,le+4),12<=Gt&&de>Gt-12){$=3;break t}if(dt&&de>it[0]-8){$=7;break t}Yt[0]=de,$[0]+=8,it[0]-=8,be[0]=qe}else be[0]=5<=it[0]&&47==de[le+0]&&!(de[le+4]>>5),Yt[0]=it[0];$=0}if(g=g[0],rt.Ja=rt.Ja[0],rt.xa=rt.xa[0],u=u[0],0!=$)break;if(4294967286<rt.Ja)return 3;if(null==L||St||(L[0]=rt.xa?2:1),S=[S],Vt=[Vt],rt.xa){if(5>g){$=7;break}L=S,dt=Vt,St=k,null==n||5>g?n=0:5<=g&&47==n[u+0]&&!(n[u+4]>>5)?(it=[0],de=[0],Gt=[0],ft(Yt=new P,n,u,g),Fe(Yt,it,de,Gt)?(null!=L&&(L[0]=it[0]),null!=dt&&(dt[0]=de[0]),null!=St&&(St[0]=Gt[0]),n=1):n=0):n=0}else{if(10>g){$=7;break}L=Vt,null==n||10>g||!la(n,u+3,g-3)?n=0:(dt=n[u+0]|n[u+1]<<8|n[u+2]<<16,St=16383&(n[u+7]<<8|n[u+6]),n=16383&(n[u+9]<<8|n[u+8]),1&dt||3<(dt>>1&7)||!(dt>>4&1)||dt>>5>=rt.Ja||!St||!n?n=0:(S&&(S[0]=St),L&&(L[0]=n),n=1))}if(!n||(S=S[0],Vt=Vt[0],ht&&(q[0]!=S||Q[0]!=Vt)))return 3;null!=D&&(D[0]=rt,D.offset=u-D.w,i(4294967286>u-D.w),i(D.offset==D.ha-g));break}return 0==$||7==$&&ht&&null==D?(null!=k&&(k[0]|=null!=rt.na&&0<rt.na.length),null!=b&&(b[0]=S),null!=A&&(A[0]=Vt),0):$}function wa(n,u,g){var b=u.width,A=u.height,k=0,S=0,L=b,D=A;if(u.Da=null!=n&&0<n.Da,u.Da&&(L=n.cd,D=n.bd,k=n.v,S=n.j,11>g||(k&=-2,S&=-2),0>k||0>S||0>=L||0>=D||k+L>b||S+D>A))return 0;if(u.v=k,u.j=S,u.va=k+L,u.o=S+D,u.U=L,u.T=D,u.da=null!=n&&0<n.da,u.da){if(!Je(L,D,g=[n.ib],k=[n.hb]))return 0;u.ib=g[0],u.hb=k[0]}return u.ob=null!=n&&n.ob,u.Kb=null==n||!n.Sd,u.da&&(u.ob=u.ib<3*b/4&&u.hb<3*A/4,u.Kb=0),1}function Aa(n){if(null==n)return 2;if(11>n.S){var u=n.f.RGBA;u.fb+=(n.height-1)*u.A,u.A=-u.A}else(u=n.f.kb).O+=((n=n.height)-1)*u.fa,u.fa=-u.fa,u.N+=(n-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(n-1>>1)*u.Db,u.Db=-u.Db,null!=u.F&&(u.J+=(n-1)*u.lb,u.lb=-u.lb);return 0}function Ro(n,u,g,b){if(null==b||0>=n||0>=u)return 2;if(null!=g){if(g.Da){var A=g.cd,k=g.bd,S=-2&g.v,L=-2&g.j;if(0>S||0>L||0>=A||0>=k||S+A>n||L+k>u)return 2;n=A,u=k}if(g.da){if(!Je(n,u,A=[g.ib],k=[g.hb]))return 2;n=A[0],u=k[0]}}b.width=n,b.height=u;t:{var D=b.width,q=b.height;if(n=b.S,0>=D||0>=q||!(n>=uc&&13>n))n=2;else{if(0>=b.Rd&&null==b.sd){S=k=A=u=0;var Q=(L=D*rh[n])*q;if(11>n||(k=(q+1)/2*(u=(D+1)/2),12==n&&(S=(A=D)*q)),null==(q=h(Q+2*k+S))){n=1;break t}b.sd=q,11>n?((D=b.f.RGBA).eb=q,D.fb=0,D.A=L,D.size=Q):((D=b.f.kb).y=q,D.O=0,D.fa=L,D.Fd=Q,D.f=q,D.N=0+Q,D.Ab=u,D.Cd=k,D.ea=q,D.W=0+Q+k,D.Db=u,D.Ed=k,12==n&&(D.F=q,D.J=0+Q+2*k),D.Tc=S,D.lb=A)}if(u=1,k=b.width,S=b.height,(A=b.S)>=uc&&13>A)if(11>A)n=b.f.RGBA,u&=(L=Math.abs(n.A))*(S-1)+k<=n.size,u&=L>=k*rh[A],u&=null!=n.eb;else{n=b.f.kb,L=(k+1)/2,Q=(S+1)/2,D=Math.abs(n.fa),q=Math.abs(n.Ab);var ht=Math.abs(n.Db),dt=Math.abs(n.lb);u&=D*(S-1)+k<=n.Fd,u&=q*(Q-1)+L<=n.Cd,u=(u&=ht*(Q-1)+L<=n.Ed)&D>=k&q>=L&ht>=L,u&=null!=n.y,u&=null!=n.f,u&=null!=n.ea,12==A&&(u&=dt>=k,u&=dt*(S-1)+k<=n.Tc,u&=null!=n.F)}else u=0;n=u?0:2}}return 0!=n||null!=g&&g.fd&&(n=Aa(b)),n}var fn=64,Bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Uo=24,jo=32,Ca=8,gn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),J.Predictor0=function(){return 4278190080},J.Predictor1=function(n){return n},J.Predictor2=function(n,u,g){return u[g+0]},J.Predictor3=function(n,u,g){return u[g+1]},J.Predictor4=function(n,u,g){return u[g-1]},J.Predictor5=function(n,u,g){return he(he(n,u[g+1]),u[g+0])},J.Predictor6=function(n,u,g){return he(n,u[g-1])},J.Predictor7=function(n,u,g){return he(n,u[g+0])},J.Predictor8=function(n,u,g){return he(u[g-1],u[g+0])},J.Predictor9=function(n,u,g){return he(u[g+0],u[g+1])},J.Predictor10=function(n,u,g){return he(he(n,u[g-1]),he(u[g+0],u[g+1]))},J.Predictor11=function(n,u,g){var b=u[g+0];return 0>=We(b>>24&255,n>>24&255,(u=u[g-1])>>24&255)+We(b>>16&255,n>>16&255,u>>16&255)+We(b>>8&255,n>>8&255,u>>8&255)+We(255&b,255&n,255&u)?b:n},J.Predictor12=function(n,u,g){var b=u[g+0];return(Le((n>>24&255)+(b>>24&255)-((u=u[g-1])>>24&255))<<24|Le((n>>16&255)+(b>>16&255)-(u>>16&255))<<16|Le((n>>8&255)+(b>>8&255)-(u>>8&255))<<8|Le((255&n)+(255&b)-(255&u)))>>>0},J.Predictor13=function(n,u,g){var b=u[g-1];return(He((n=he(n,u[g+0]))>>24&255,b>>24&255)<<24|He(n>>16&255,b>>16&255)<<16|He(n>>8&255,b>>8&255)<<8|He(n>>0&255,b>>0&255))>>>0};var rc=J.PredictorAdd0;J.PredictorAdd1=$e,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var Ta=J.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(n){return n>>8&255},function(n){return n}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(n){return n},function(n){return n>>8&255});var ds,Un=J.ColorIndexInverseTransform,ka=J.MapARGB,oc=J.VP8LColorIndexInverseTransformAlpha,ac=J.MapAlpha,Ir=J.VP8LPredictorsAdd=[];Ir.length=16,(J.VP8LPredictors=[]).length=16,(J.VP8LPredictorsAdd_C=[]).length=16,(J.VP8LPredictors_C=[]).length=16;var Tn,jn,Or,ur,_r,Ho,Hn,zo,Pa,Mr,zn,Er,Yo,Jo,lo,uo,ps,Yn,Fr,yi,mi,Ei,Hi,qr,ho,Sa,sc,iu,nu=h(511),cc=h(2041),ru=h(225),ou=h(767),au=0,hl=cc,lc=ru,kn=ou,Jn=nu,uc=0,hc=1,su=2,dc=3,pc=4,fc=5,dl=6,Na=7,gc=8,mc=9,pl=10,Gu=[2,3,7],Qu=[3,3,11],cu=[280,256,256,256,40],$u=[0,1,1,1,0],lu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ku=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xu=8,fs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_c=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],La=null,hu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],th=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],du=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ih=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rr=[],Vn=[],vr=[],s=1,l=2,e=[],r=[];Nt("UpsampleRgbLinePair",ii,3),Nt("UpsampleBgrLinePair",Ci,3),Nt("UpsampleRgbaLinePair",Bn,4),Nt("UpsampleBgraLinePair",ji,4),Nt("UpsampleArgbLinePair",tn,4),Nt("UpsampleRgba4444LinePair",Mi,2),Nt("UpsampleRgb565LinePair",Ni,2);var m=J.UpsampleRgbLinePair,x=J.UpsampleBgrLinePair,F=J.UpsampleRgbaLinePair,nt=J.UpsampleBgraLinePair,Jt=J.UpsampleArgbLinePair,ue=J.UpsampleRgba4444LinePair,Pe=J.UpsampleRgb565LinePair,_i=16,Vi=1<<_i-1,en=-227,Wn=482,po=6,Pn=(256<<po)-1,gl=0,ml=h(256),vc=h(256),_l=h(256),yh=h(256),xh=h(Wn-en),wh=h(Wn-en);mr("YuvToRgbRow",ii,3),mr("YuvToBgrRow",Ci,3),mr("YuvToRgbaRow",Bn,4),mr("YuvToBgraRow",ji,4),mr("YuvToArgbRow",tn,4),mr("YuvToRgba4444Row",Mi,2),mr("YuvToRgb565Row",Ni,2);var nh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vl=[0,2,8],Ah=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(n,u,g,b,A){var k=hc,S=new Eo,L=new On;S.ba=L,L.S=k,L.width=[L.width],L.height=[L.height];var D=L.width,q=L.height,Q=new dr;if(null==Q||null==n)var ht=2;else i(null!=Q),ht=qo(n,u,g,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(0!=ht?D=0:(null!=D&&(D[0]=Q.width[0]),null!=q&&(q[0]=Q.height[0]),D=1),D){L.width=L.width[0],L.height=L.height[0],null!=b&&(b[0]=L.width),null!=A&&(A[0]=L.height);t:{if(b=new dn,(A=new ma).data=n,A.w=u,A.ha=g,A.kd=1,u=[0],i(null!=A),(0==(n=qo(A.data,A.w,A.ha,null,null,null,u,null,A))||7==n)&&u[0]&&(n=4),0==(u=n)){if(i(null!=S),b.data=A.data,b.w=A.w+A.offset,b.ha=A.ha-A.offset,b.put=nr,b.ac=Ji,b.bc=rr,b.ma=S,A.xa){if(null==(n=An())){S=1;break t}if(function(dt,rt){var Vt=[0],St=[0],$=[0];e:for(;;){if(null==dt)return 0;if(null==rt)return dt.a=2,0;if(dt.l=rt,dt.a=0,ft(dt.m,rt.data,rt.w,rt.ha),!Fe(dt.m,Vt,St,$)){dt.a=3;break e}if(dt.xb=l,rt.width=Vt[0],rt.height=St[0],!sr(Vt[0],St[0],1,dt,null))break e;return 1}return i(0!=dt.a),0}(n,b)){if(b=0==(u=Ro(b.width,b.height,S.Oa,S.ba))){e:{b=n;i:for(;;){if(null==b){b=0;break e}if(i(null!=b.s.yc),i(null!=b.s.Ya),i(0<b.s.Wb),i(null!=(g=b.l)),i(null!=(A=g.ma)),0!=b.xb){if(b.ca=A.ba,b.tb=A.tb,i(null!=b.ca),!wa(A.Oa,g,dc)){b.a=2;break i}if(!io(b,g.width)||g.da)break i;if((g.da||si(b.ca.S))&&at(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=b.ca.f.kb.F&&at()),b.Pb&&0<b.s.ua&&null==b.s.vb.X&&!Be(b.s.vb,b.s.Wa.Xa)){b.a=1;break i}b.xb=0}if(!qn(b,b.V,b.Ba,b.c,b.i,g.o,wo))break i;A.Dc=b.Ma,b=1;break e}i(0!=b.a),b=0}b=!b}b&&(u=n.a)}else u=n.a}else{if(null==(n=new Rn)){S=1;break t}if(n.Fa=A.na,n.P=A.P,n.qc=A.Sa,cr(n,b)){if(0==(u=Ro(b.width,b.height,S.Oa,S.ba))){if(n.Aa=0,g=S.Oa,i(null!=(A=n)),null!=g){if(0<(D=0>(D=g.Md)?0:100<D?255:255*D/100)){for(q=Q=0;4>q;++q)12>(ht=A.pb[q]).lc&&(ht.ia=D*Ah[0>ht.lc?0:ht.lc]>>3),Q|=ht.ia;Q&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=g.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function Ys(n,u){if(null==n)return 0;if(null==u)return Si(n,2,"NULL VP8Io parameter in VP8Decode().");if(!n.cb&&!cr(n,u))return 0;if(i(n.cb),null==u.ac||u.ac(u)){u.ob&&(n.L=0);var g=vl[n.L];if(2==n.L?(n.yb=0,n.zb=0):(n.yb=u.v-g>>4,n.zb=u.j-g>>4,0>n.yb&&(n.yb=0),0>n.zb&&(n.zb=0)),n.Va=u.o+15+g>>4,n.Hb=u.va+15+g>>4,n.Hb>n.za&&(n.Hb=n.za),n.Va>n.Ub&&(n.Va=n.Ub),0<n.L){var b=n.ed;for(g=0;4>g;++g){var A;if(n.Qa.Cb){var k=n.Qa.Lb[g];n.Qa.Fb||(k+=b.Tb)}else k=b.Tb;for(A=0;1>=A;++A){var S=n.gd[g][A],L=k;if(b.Pc&&(L+=b.vd[0],A&&(L+=b.od[0])),0<(L=0>L?0:63<L?63:L)){var D=L;0<b.wb&&(D=4<b.wb?D>>2:D>>1)>9-b.wb&&(D=9-b.wb),1>D&&(D=1),S.dd=D,S.tc=2*L+D,S.ld=40<=L?2:15<=L?1:0}else S.tc=0;S.La=A}}}g=0}else Si(n,6,"Frame setup failed"),g=n.a;if(g=0==g){if(g){n.$c=0,0<n.Aa||(n.Ic=1);t:{b=4*(D=n.za);var q=32*D,Q=D+1,ht=0<n.L?D*(0<n.Aa?2:1):0,dt=(2==n.Aa?2:1)*D;if((S=b+832+(A=3*(16*(g=n.Ic)+vl[n.L])/2*q)+(k=null!=n.Fa&&0<n.Fa.length?n.Kc.c*n.Kc.i:0))!=S)g=0;else{if(S>n.Vb){if(n.Vb=0,n.Ec=h(S),n.Fc=0,null==n.Ec){g=Si(n,1,"no memory during frame initialization.");break t}n.Vb=S}L=n.Fc,n.Ac=S=n.Ec,n.Bc=L,L+=b,n.Gd=f(q,Qa),n.Hd=0,n.rb=f(Q+1,Ga),n.sb=1,n.wa=ht?f(ht,Po):null,n.Y=0,n.D.Nb=0,n.D.wa=n.wa,n.D.Y=n.Y,0<n.Aa&&(n.D.Y+=D),i(!0),n.oc=S,n.pc=L,L+=832,n.ya=f(dt,ca),n.aa=0,n.D.ya=n.ya,n.D.aa=n.aa,2==n.Aa&&(n.D.aa+=D),n.R=16*D,n.B=8*D,D=(q=vl[n.L])*n.R,q=q/2*n.B,n.sa=S,n.ta=L+D,n.qa=n.sa,n.ra=n.ta+16*g*n.R+q,n.Ha=n.qa,n.Ia=n.ra+8*g*n.B+q,n.$c=0,L+=A,n.mb=k?S:null,n.nb=k?L:null,i(L+k<=n.Fc+n.Vb),bi(n),d(n.Ac,n.Bc,0,b),g=1}}if(g){if(u.ka=0,u.y=n.sa,u.O=n.ta,u.f=n.qa,u.N=n.ra,u.ea=n.Ha,u.Vd=n.Ia,u.fa=n.R,u.Rc=n.B,u.F=null,u.J=0,!au){for(g=-255;255>=g;++g)nu[255+g]=0>g?-g:g;for(g=-1020;1020>=g;++g)cc[1020+g]=-128>g?-128:127<g?127:g;for(g=-112;112>=g;++g)ru[112+g]=-16>g?-16:15<g?15:g;for(g=-255;510>=g;++g)ou[255+g]=0>g?0:255<g?255:g;au=1}Hn=Vs,zo=Js,Mr=Ka,zn=Xa,Er=ts,Pa=$a,Yo=pa,Jo=so,lo=ic,uo=fa,ps=ec,Yn=Mo,Fr=ga,yi=ls,mi=cs,Ei=lr,Hi=ao,qr=tc,Vn[0]=pn,Vn[1]=cl,Vn[2]=ul,Vn[3]=Ks,Vn[4]=es,Vn[5]=ha,Vn[6]=is,Vn[7]=Zo,Vn[8]=rs,Vn[9]=ns,Rr[0]=Qs,Rr[1]=Gs,Rr[2]=fr,Rr[3]=no,Rr[4]=an,Rr[5]=ll,Rr[6]=$s,vr[0]=Zr,vr[1]=Ws,vr[2]=Xs,vr[3]=da,vr[4]=oo,vr[5]=Do,vr[6]=Io,g=1}else g=0}g&&(g=function(rt,Vt){for(rt.M=0;rt.M<rt.Va;++rt.M){var St,$=rt.Jc[rt.M&rt.Xb],it=rt.m,jt=rt;for(St=0;St<jt.za;++St){var Gt=it,Yt=jt,be=Yt.Ac,le=Yt.Bc+4*St,qe=Yt.zc,de=Yt.ya[Yt.aa+St];if(de.$b=Yt.Qa.Bb?wt(Gt,Yt.Pa.jb[0])?2+wt(Gt,Yt.Pa.jb[2]):wt(Gt,Yt.Pa.jb[1]):0,Yt.kc&&(de.Ad=wt(Gt,Yt.Bd)),de.Za=!wt(Gt,145)+0,de.Za){var ui=de.Ob,fi=0;for(Yt=0;4>Yt;++Yt){var ai,ni=qe[0+Yt];for(ai=0;4>ai;++ai){for(var xi=fl[wt(Gt,(ni=eh[be[le+ai]][ni])[0])];0<xi;)xi=fl[2*xi+wt(Gt,ni[xi])];be[le+ai]=ni=-xi}c(ui,fi,be,le,4),fi+=4,qe[0+Yt]=ni}}else ni=wt(Gt,156)?wt(Gt,128)?1:3:wt(Gt,163)?2:0,de.Ob[0]=ni,d(be,le,ni,4),d(qe,0,ni,4);de.Dd=wt(Gt,142)?wt(Gt,114)?wt(Gt,183)?1:3:2:0}if(jt.m.Ka)return Si(rt,7,"Premature end-of-partition0 encountered.");for(;rt.ja<rt.za;++rt.ja){if(jt=$,Gt=(it=rt).rb[it.sb-1],be=it.rb[it.sb+it.ja],St=it.ya[it.aa+it.ja],le=it.kc?St.Ad:0)Gt.la=be.la=0,St.Za||(Gt.Na=be.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var vi,Qe;if(Gt=be,be=jt,le=it.Pa.Xc,de=it.pb[(qe=it.ya[it.aa+it.ja]).$b],fi=it.rb[it.sb-1],ni=ai=0,d(Yt=qe.ad,ui=0,0,384),qe.Za)var zi=0,Sn=le[3];else{xi=h(16);var Yi=Gt.Na+fi.Na;if(Yi=La(be,le[1],Yi,de.Eb,0,xi,0),Gt.Na=fi.Na=(0<Yi)+0,1<Yi)Hn(xi,0,Yt,ui);else{var Nn=xi[0]+3>>3;for(xi=0;256>xi;xi+=16)Yt[ui+xi]=Nn}zi=1,Sn=le[0]}var gi=15&Gt.la,Gn=15&fi.la;for(xi=0;4>xi;++xi){var Qn=1&Gn;for(Nn=Qe=0;4>Nn;++Nn)gi=gi>>1|(Qn=(Yi=La(be,Sn,Yi=Qn+(1&gi),de.Sc,zi,Yt,ui))>zi)<<7,Qe=Qe<<2|(3<Yi?3:1<Yi?2:0!=Yt[ui+0]),ui+=16;gi>>=4,Gn=Gn>>1|Qn<<7,ai=(ai<<8|Qe)>>>0}for(Sn=gi,zi=Gn>>4,vi=0;4>vi;vi+=2){for(Qe=0,gi=Gt.la>>4+vi,Gn=fi.la>>4+vi,xi=0;2>xi;++xi){for(Qn=1&Gn,Nn=0;2>Nn;++Nn)gi=gi>>1|(Qn=0<(Yi=La(be,le[2],Yi=Qn+(1&gi),de.Qc,0,Yt,ui)))<<3,Qe=Qe<<2|(3<Yi?3:1<Yi?2:0!=Yt[ui+0]),ui+=16;gi>>=2,Gn=Gn>>1|Qn<<5}ni|=Qe<<4*vi,Sn|=gi<<4<<vi,zi|=(240&Gn)<<vi}Gt.la=Sn,fi.la=zi,qe.Hc=ai,qe.Gc=ni,qe.ia=43690&ni?0:de.ia,le=!(ai|ni)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[St.$b][St.Za],it.wa[it.Y+it.ja].La|=!le),jt.Ka)return Si(rt,7,"Premature end-of-file encountered.")}if(bi(rt),it=Vt,jt=1,St=($=rt).D,Gt=0<$.L&&$.M>=$.zb&&$.M<=$.Va,0==$.Aa)t:{if(St.M=$.M,St.uc=Gt,xa($,St),jt=1,St=(Qe=$.D).Nb,Gt=(ni=vl[$.L])*$.R,le=$.sa,qe=$.ta-Gt+(xi=16*St*$.R),de=$.qa,Yt=$.ra-(be=ni/2*$.B)+(Nn=8*St*$.B),ui=$.Ha,fi=$.Ia-be+Nn,Gn=0==(gi=Qe.M),ai=gi>=$.Va-1,2==$.Aa&&xa($,Qe),Qe.uc)for(Qn=(Yi=$).D.M,i(Yi.D.uc),Qe=Yi.yb;Qe<Yi.Hb;++Qe){Sn=Qn;var nn=(sn=(Fi=Yi).D).Nb,sn=sn.wa[sn.Y+(zi=Qe)],yn=Fi.sa,hr=Fi.ta+16*nn*(vi=Fi.R)+16*zi,Br=sn.dd,rn=sn.tc;if(0!=rn)if(i(3<=rn),1==Fi.L)0<zi&&Ei(yn,hr,vi,rn+4),sn.La&&qr(yn,hr,vi,rn),0<Sn&&mi(yn,hr,vi,rn+4),sn.La&&Hi(yn,hr,vi,rn);else{var fo=Fi.B,Za=Fi.qa,gs=Fi.ra+8*nn*fo+8*zi,Vo=Fi.Ha,Fi=Fi.Ia+8*nn*fo+8*zi;nn=sn.ld,0<zi&&(Jo(yn,hr,vi,rn+4,Br,nn),uo(Za,gs,Vo,Fi,fo,rn+4,Br,nn)),sn.La&&(Yn(yn,hr,vi,rn,Br,nn),yi(Za,gs,Vo,Fi,fo,rn,Br,nn)),0<Sn&&(Yo(yn,hr,vi,rn+4,Br,nn),lo(Za,gs,Vo,Fi,fo,rn+4,Br,nn)),sn.La&&(ps(yn,hr,vi,rn,Br,nn),Fr(Za,gs,Vo,Fi,fo,rn,Br,nn))}}if($.ia&&alert("todo:DitherRow"),null!=it.put){if(Qe=16*gi,gi=16*(gi+1),Gn?(it.y=$.sa,it.O=$.ta+xi,it.f=$.qa,it.N=$.ra+Nn,it.ea=$.Ha,it.W=$.Ia+Nn):(Qe-=ni,it.y=le,it.O=qe,it.f=de,it.N=Yt,it.ea=ui,it.W=fi),ai||(gi-=ni),gi>it.o&&(gi=it.o),it.F=null,it.J=null,null!=$.Fa&&0<$.Fa.length&&Qe<gi&&(it.J=ba($,it,Qe,gi-Qe),it.F=$.mb,null==it.F&&0==it.F.length)){jt=Si($,3,"Could not decode alpha data.");break t}Qe<it.j&&(ni=it.j-Qe,Qe=it.j,i(!(1&ni)),it.O+=$.R*ni,it.N+=$.B*(ni>>1),it.W+=$.B*(ni>>1),null!=it.F&&(it.J+=it.width*ni)),Qe<gi&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,null!=it.F&&(it.J+=it.v),it.ka=Qe-it.j,it.U=it.va-it.v,it.T=gi-Qe,jt=it.put(it))}St+1!=$.Ic||ai||(c($.sa,$.ta-Gt,le,qe+16*$.R,Gt),c($.qa,$.ra-be,de,Yt+8*$.B,be),c($.Ha,$.Ia-be,ui,fi+8*$.B,be))}if(!jt)return Si(rt,6,"Output aborted.")}return 1}(n,u)),null!=u.bc&&u.bc(u),g&=1}return g?(n.cb=0,g):0})(n,b)||(u=n.a)}}else u=n.a}0==u&&null!=S.Oa&&S.Oa.fd&&(u=Aa(S.ba))}S=u}k=0!=S?null:11>k?L.f.RGBA.eb:L.f.kb.y}else k=null;return k};var rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function w(J,qt){for(var Ft="",E=0;E<4;E++)Ft+=String.fromCharCode(J[qt++]);return Ft}function T(J,qt){return(J[qt+0]<<0|J[qt+1]<<8|J[qt+2]<<16)>>>0}function N(J,qt){return(J[qt+0]<<0|J[qt+1]<<8|J[qt+2]<<16|J[qt+3]<<24)>>>0}new v;var Z=[0],y=[0],R=[],O=new v,H=a,I=function(J,qt){var Ft={},E=0,M=!1,G=0,V=0;if(Ft.frames=[],!function(j,z,K,ot){for(var mt=0;mt<4;mt++)if(j[z+mt]!="RIFF".charCodeAt(mt))return!0;return!1}(J,qt)){var Pt,xt;for(N(J,qt+=4),qt+=8;qt<J.length;){var It=w(J,qt),ft=N(J,qt+=4);qt+=4;var Mt=ft+(1&ft);switch(It){case"VP8 ":case"VP8L":void 0===Ft.frames[E]&&(Ft.frames[E]={}),(P=Ft.frames[E]).src_off=M?V:qt-8,P.src_size=G+ft+8,E++,M&&(M=!1,G=0,V=0);break;case"VP8X":(P=Ft.header={}).feature_flags=J[qt];var Et=qt+4;P.canvas_width=1+T(J,Et),P.canvas_height=1+T(J,Et+=3),Et+=3;break;case"ALPH":M=!0,G=Mt+8,V=qt-8;break;case"ANIM":(P=Ft.header).bgcolor=N(J,qt),P.loop_count=(Pt=J)[(xt=Et=qt+4)+0]<<0|Pt[xt+1]<<8,Et+=2;break;case"ANMF":var pe,P;(P=Ft.frames[E]={}).offset_x=2*T(J,qt),P.offset_y=2*T(J,qt+=3),P.width=1+T(J,qt+=3),P.height=1+T(J,qt+=3),P.duration=T(J,qt+=3),qt+=3,pe=J[qt++],P.dispose=1&pe,P.blend=pe>>1&1}"ANMF"!=It&&(qt+=Mt)}return Ft}}(H,0);I.response=H,I.rgbaoutput=!0,I.dataurl=!1;var B=I.header?I.header:null,X=I.frames?I.frames:null;if(B){B.loop_counter=B.loop_count,Z=[B.canvas_height],y=[B.canvas_width];for(var ut=0;ut<X.length&&0!=X[ut].blend;ut++);}var At=X[0],Wt=O.WebPDecodeRGBA(H,At.src_off,At.src_size,y,Z);At.rgba=Wt,At.imgwidth=y[0],At.imgheight=Z[0];for(var lt=0;lt<y[0]*Z[0]*4;lt++)R[lt]=Wt[lt];return this.width=y,this.height=Z,this.data=R,this}(function(a){var o=function(Z,y,R,O){var H=4,I=f;switch(O){case a.image_compression.FAST:H=1,I=h;break;case a.image_compression.MEDIUM:H=6,I=_;break;case a.image_compression.SLOW:H=9,I=v}var B=Xo(Z=c(Z,y,R,I),{level:H});return a.__addimage__.arrayBufferToBinaryString(B)},c=function(Z,y,R,O){for(var H,I,B,X=Z.length/y,ut=new Uint8Array(Z.length+X),At=T(),Wt=0;Wt<X;Wt+=1){if(H=Z.subarray(B=Wt*y,B+y),O)ut.set(O(H,R,I),B+Wt);else{for(var lt,J=At.length,qt=[];lt<J;lt+=1)qt[lt]=At[lt](H,R,I);var Ft=N(qt.concat());ut.set(qt[Ft],B+Wt)}I=H}return ut},d=function(Z){var y=Array.apply([],Z);return y.unshift(0),y},h=function(Z,y){var O=[],H=Z.length;O[0]=1;for(var I=0;I<H;I+=1)O[I+1]=Z[I]-(Z[I-y]||0)+256&255;return O},f=function(Z,y,R){var H=[],I=Z.length;H[0]=2;for(var B=0;B<I;B+=1)H[B+1]=Z[B]-(R&&R[B]||0)+256&255;return H},_=function(Z,y,R){var I=[],B=Z.length;I[0]=3;for(var X=0;X<B;X+=1)I[X+1]=Z[X]+256-((Z[X-y]||0)+(R&&R[X]||0)>>>1)&255;return I},v=function(Z,y,R){var B,X=[],ut=Z.length;X[0]=4;for(var At=0;At<ut;At+=1)B=w(Z[At-y]||0,R&&R[At]||0,R&&R[At-y]||0),X[At+1]=Z[At]-B+256&255;return X},w=function(Z,y,R){if(Z===y&&y===R)return Z;var O=Math.abs(y-R),H=Math.abs(Z-R),I=Math.abs(Z+y-R-R);return O<=H&&O<=I?Z:H<=I?y:R},T=function(){return[d,h,f,_,v]},N=function(Z){var y=Z.map(function(R){return R.reduce(function(O,H){return O+Math.abs(H)},0)});return y.indexOf(Math.min.apply(null,y))};a.processPNG=function(Z,y,R,O){var H,I,B,X,ut,At,Wt,lt,J,qt,Ft,E,M,G,V,Pt=this.decode.FLATE_DECODE,xt="";if(this.__addimage__.isArrayBuffer(Z)&&(Z=new Uint8Array(Z)),this.__addimage__.isArrayBufferView(Z)){if(Z=(B=new Fs(Z)).imgData,I=B.bits,H=B.colorSpace,ut=B.colors,-1!==[4,6].indexOf(B.colorType)){if(8===B.bits){J=(lt=32==B.pixelBitlength?new Uint32Array(B.decodePixels().buffer):16==B.pixelBitlength?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,Ft=new Uint8Array(J*B.colors),qt=new Uint8Array(J);var It,ft=B.pixelBitlength-B.bits;for(G=0,V=0;G<J;G++){for(M=lt[G],It=0;It<ft;)Ft[V++]=M>>>It&255,It+=B.bits;qt[G]=M>>>It&255}}if(16===B.bits){J=(lt=new Uint32Array(B.decodePixels().buffer)).length,Ft=new Uint8Array(J*(32/B.pixelBitlength)*B.colors),qt=new Uint8Array(J*(32/B.pixelBitlength)),E=B.colors>1,G=0,V=0;for(var Mt=0;G<J;)M=lt[G++],Ft[V++]=M>>>0&255,E&&(Ft[V++]=M>>>16&255,M=lt[G++],Ft[V++]=M>>>0&255),qt[Mt++]=M>>>16&255;I=8}O!==a.image_compression.NONE?(Z=o(Ft,B.width*B.colors,B.colors,O),Wt=o(qt,B.width,1,O)):(Z=Ft,Wt=qt,Pt=void 0)}if(3===B.colorType&&(H=this.color_spaces.INDEXED,At=B.palette,B.transparency.indexed)){var Et=B.transparency.indexed,pe=0;for(G=0,J=Et.length;G<J;++G)pe+=Et[G];if((pe/=255)==J-1&&-1!==Et.indexOf(0))X=[Et.indexOf(0)];else if(pe!==J){for(lt=B.decodePixels(),qt=new Uint8Array(lt.length),G=0,J=lt.length;G<J;G++)qt[G]=Et[lt[G]];Wt=o(qt,B.width,1)}}var P=function(j){var z;switch(j){case a.image_compression.FAST:z=11;break;case a.image_compression.MEDIUM:z=13;break;case a.image_compression.SLOW:z=14;break;default:z=12}return z}(O);return Pt===this.decode.FLATE_DECODE&&(xt="/Predictor "+P+" "),xt+="/Colors "+ut+" /BitsPerComponent "+I+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),(Wt&&this.__addimage__.isArrayBuffer(Wt)||this.__addimage__.isArrayBufferView(Wt))&&(Wt=this.__addimage__.arrayBufferToBinaryString(Wt)),{alias:R,data:Z,index:y,filter:Pt,decodeParameters:xt,transparency:X,palette:At,sMask:Wt,predictor:P,width:B.width,height:B.height,bitsPerComponent:I,colorSpace:H}}}})(Ee.API),function(a){a.processGIF89A=function(i,o,c,d){var h=new qs(i),f=h.width,_=h.height,v=[];h.decodeAndBlitFrameRGBA(0,v);var w={data:v,width:f,height:_},T=new za(100).encode(w,100);return a.processJPEG.call(this,T,o,c,d)},a.processGIF87A=a.processGIF89A}(Ee.API),xn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var i=0;i<a;i++){var o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:d,green:c,blue:o,quad:h}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xn.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[a]()}catch(o){di.log("bit decode error:"+o)}},xn.prototype.bit1=function(){var a,i=Math.ceil(this.width/8),o=i%4;for(a=this.height-1;a>=0;a--){for(var c=this.bottom_up?a:this.height-1-a,d=0;d<i;d++)for(var h=this.datav.getUint8(this.pos++,!0),f=c*this.width*4+8*d*4,_=0;_<8&&8*d+_<this.width;_++){var v=this.palette[h>>7-_&1];this.data[f+4*_]=v.blue,this.data[f+4*_+1]=v.green,this.data[f+4*_+2]=v.red,this.data[f+4*_+3]=255}0!==o&&(this.pos+=4-o)}},xn.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),i=a%4,o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,d=0;d<a;d++){var h=this.datav.getUint8(this.pos++,!0),f=c*this.width*4+2*d*4,v=15&h,w=this.palette[h>>4];if(this.data[f]=w.blue,this.data[f+1]=w.green,this.data[f+2]=w.red,this.data[f+3]=255,2*d+1>=this.width)break;this.data[f+4]=(w=this.palette[v]).blue,this.data[f+4+1]=w.green,this.data[f+4+2]=w.red,this.data[f+4+3]=255}0!==i&&(this.pos+=4-i)}},xn.prototype.bit8=function(){for(var a=this.width%4,i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,c=0;c<this.width;c++){var d=this.datav.getUint8(this.pos++,!0),h=o*this.width*4+4*c;if(d<this.palette.length){var f=this.palette[d];this.data[h]=f.red,this.data[h+1]=f.green,this.data[h+2]=f.blue,this.data[h+3]=255}else this.data[h]=255,this.data[h+1]=255,this.data[h+2]=255,this.data[h+3]=255}0!==a&&(this.pos+=4-a)}},xn.prototype.bit15=function(){for(var a=this.width%3,i=parseInt("11111",2),o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,d=0;d<this.width;d++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(h&i)/i*255|0,_=(h>>5&i)/i*255|0,w=h>>15?255:0,T=c*this.width*4+4*d;this.data[T]=(h>>10&i)/i*255|0,this.data[T+1]=_,this.data[T+2]=f,this.data[T+3]=w}this.pos+=a}},xn.prototype.bit16=function(){for(var a=this.width%3,i=parseInt("11111",2),o=parseInt("111111",2),c=this.height-1;c>=0;c--){for(var d=this.bottom_up?c:this.height-1-c,h=0;h<this.width;h++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var _=(f&i)/i*255|0,v=(f>>5&o)/o*255|0,T=d*this.width*4+4*h;this.data[T]=(f>>11)/i*255|0,this.data[T+1]=v,this.data[T+2]=_,this.data[T+3]=255}this.pos+=a}},xn.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),f=i*this.width*4+4*o;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=c,this.data[f+3]=255}this.pos+=this.width%4}},xn.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),_=i*this.width*4+4*o;this.data[_]=h,this.data[_+1]=d,this.data[_+2]=c,this.data[_+3]=f}},xn.prototype.getData=function(){return this.data},function(a){a.processBMP=function(i,o,c,d){var h=new xn(i,!1),f=h.width,_=h.height,v={data:h.getData(),width:f,height:_},w=new za(100).encode(v,100);return a.processJPEG.call(this,w,o,c,d)}}(Ee.API),Rs.prototype.getData=function(){return this.data},function(a){a.processWEBP=function(i,o,c,d){var h=new Rs(i,!1),f=h.width,_=h.height,v={data:h.getData(),width:f,height:_},w=new za(100).encode(v,100);return a.processJPEG.call(this,w,o,c,d)}}(Ee.API),Ee.API.processRGBA=function(a,i,o){for(var c=a.data,d=c.length,h=new Uint8Array(d/4*3),f=new Uint8Array(d/4),_=0,v=0,w=0;w<d;w+=4){var N=c[w+1],Z=c[w+2],y=c[w+3];h[_++]=c[w],h[_++]=N,h[_++]=Z,f[v++]=y}var R=this.__addimage__.arrayBufferToBinaryString(h);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:R,index:i,alias:o,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height}},Ee.API.setLanguage=function(a){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[a]&&(this.internal.languageSettings.languageCode=a,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xr=(Kr=Ee.API).getCharWidthsArray=function(a,i){var o,c,d=(i=i||{}).font||this.internal.getFont(),h=i.fontSize||this.internal.getFontSize(),f=i.charSpace||this.internal.getCharSpace(),_=i.widths?i.widths:d.metadata.Unicode.widths,v=_.fof?_.fof:1,w=i.kerning?i.kerning:d.metadata.Unicode.kerning,T=w.fof?w.fof:1,N=!1!==i.doKerning,Z=0,y=a.length,R=0,O=_[0]||v,H=[];for(o=0;o<y;o++)c=a.charCodeAt(o),"function"==typeof d.metadata.widthOfString?H.push((d.metadata.widthOfGlyph(d.metadata.characterToGlyph(c))+f*(1e3/h)||0)/1e3):(Z=N&&"object"===Te(w[c])&&!isNaN(parseInt(w[c][R],10))?w[c][R]/T:0,H.push((_[c]||O)/v+Z)),R=c;return H},Es=Kr.getStringUnitWidth=function(a,i){var o=(i=i||{}).fontSize||this.internal.getFontSize(),c=i.font||this.internal.getFont(),d=i.charSpace||this.internal.getCharSpace();return Kr.processArabic&&(a=Kr.processArabic(a)),"function"==typeof c.metadata.widthOfString?c.metadata.widthOfString(a,o,d)/o:Xr.apply(this,arguments).reduce(function(h,f){return h+f},0)},Kc=function(a,i,o,c){for(var d=[],h=0,f=a.length,_=0;h!==f&&_+i[h]<o;)_+=i[h],h++;d.push(a.slice(0,h));var v=h;for(_=0;h!==f;)_+i[h]>c&&(d.push(a.slice(v,h)),_=0,v=h),_+=i[h],h++;return v!==h&&d.push(a.slice(v,h)),d},Ha=function(a,i,o){o||(o={});var c,d,h,f,_,v,T=[],N=[T],Z=o.textIndent||0,y=0,R=0,O=a.split(" "),H=Xr.apply(this,[" ",o])[0];if(v=-1===o.lineIndent?O[0].length+2:o.lineIndent||0){var I=Array(v).join(" "),B=[];O.map(function(ut){(ut=ut.split(/\s*\n/)).length>1?B=B.concat(ut.map(function(At,Wt){return(Wt&&At.length?"\n":"")+At})):B.push(ut[0])}),O=B,v=Es.apply(this,[I,o])}for(h=0,f=O.length;h<f;h++){var X=0;if(c=O[h],v&&"\n"==c[0]&&(c=c.substr(1),X=1),Z+y+(R=(d=Xr.apply(this,[c,o])).reduce(function(ut,At){return ut+At},0))>i||X){if(R>i){for(_=Kc.apply(this,[c,d,i-(Z+y),i]),T.push(_.shift()),T=[_.pop()];_.length;)N.push([_.shift()]);R=d.slice(c.length-(T[0]?T[0].length:0)).reduce(function(ut,At){return ut+At},0)}else T=[c];N.push(T),Z=R+v,y=H}else T.push(c),Z+=y+R,y=H}return N.map(v?function(ut,At){return(At?I:"")+ut.join(" ")}:function(ut){return ut.join(" ")})},Kr.splitTextToSize=function(a,i,o){var c,d=(o=o||{}).fontSize||this.internal.getFontSize(),h=function(T){if(T.widths&&T.kerning)return{widths:T.widths,kerning:T.kerning};var N=this.internal.getFont(T.fontName,T.fontStyle);return N.metadata.Unicode?{widths:N.metadata.Unicode.widths||{0:1},kerning:N.metadata.Unicode.kerning||{}}:{font:N.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,o);c=Array.isArray(a)?a:String(a).split(/\r?\n/);var f=1*this.internal.scaleFactor*i/d;h.textIndent=o.textIndent?1*o.textIndent*this.internal.scaleFactor/d:0,h.lineIndent=o.lineIndent;var _,v,w=[];for(_=0,v=c.length;_<v;_++)w=w.concat(Ha.apply(this,[c[_],f,h]));return w},function(a){a.__fontmetrics__=a.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",o={},c={},d=0;d<i.length;d++)o[i[d]]="0123456789abcdef"[d],c["0123456789abcdef"[d]]=i[d];var h=function(N){return"0x"+parseInt(N,10).toString(16)},f=a.__fontmetrics__.compress=function(N){var Z,y,R,O,H=["{"];for(var I in N){if(Z=N[I],isNaN(parseInt(I,10))?y="'"+I+"'":(I=parseInt(I,10),y=(y=h(I).slice(2)).slice(0,-1)+c[y.slice(-1)]),"number"==typeof Z)Z<0?(R=h(Z).slice(3),O="-"):(R=h(Z).slice(2),O=""),R=O+R.slice(0,-1)+c[R.slice(-1)];else{if("object"!==Te(Z))throw new Error("Don't know what to do with value type "+Te(Z)+".");R=f(Z)}H.push(y+R)}return H.push("}"),H.join("")},_=a.__fontmetrics__.uncompress=function(N){if("string"!=typeof N)throw new Error("Invalid argument passed to uncompress.");for(var Z,y,R,O,H={},I=1,B=H,X=[],ut="",At="",Wt=N.length-1,lt=1;lt<Wt;lt+=1)"'"==(O=N[lt])?Z?(R=Z.join(""),Z=void 0):Z=[]:Z?Z.push(O):"{"==O?(X.push([B,R]),B={},R=void 0):"}"==O?((y=X.pop())[0][y[1]]=B,R=void 0,B=y[0]):"-"==O?I=-1:void 0===R?o.hasOwnProperty(O)?(ut+=o[O],R=parseInt(ut,16)*I,I=1,ut=""):ut+=O:o.hasOwnProperty(O)?(At+=o[O],B[R]=parseInt(At,16)*I,I=1,R=void 0,At=""):At+=O;return H},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:_("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},T={Unicode:{"Courier-Oblique":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":_("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":_("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":_("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:_("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:_("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":_("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:_("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":_("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":_("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":_("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(N){var Z=N.font,y=T.Unicode[Z.postScriptName];y&&(Z.metadata.Unicode={},Z.metadata.Unicode.widths=y.widths,Z.metadata.Unicode.kerning=y.kerning);var R=w.Unicode[Z.postScriptName];R&&(Z.metadata.Unicode.encoding=R,Z.encoding=R.codePages[0])}])}(Ee.API),function(a){var i=function(o){for(var c=o.length,d=new Uint8Array(c),h=0;h<c;h++)d[h]=o.charCodeAt(h);return d};a.API.events.push(["addFont",function(o){var f,_,c=void 0,d=o.font,h=o.instance;if(!d.isStandardFont){if(void 0===h)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");if("string"!=typeof(c=!1===h.existsFileInVFS(d.postScriptName)?h.loadFile(d.postScriptName):h.getFileFromVFS(d.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");f=d,_=/^\x00\x01\x00\x00/.test(_=c)?i(_):i(ta(_)),f.metadata=a.API.TTFFont.open(_),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]}}])}(Ee),function(a){function i(){return(Re.canvg?Promise.resolve(Re.canvg):re.e(399).then(re.bind(re,7399))).catch(function(o){return Promise.reject(new Error("Could not load canvg: "+o))}).then(function(o){return o.default?o.default:o})}Ee.API.addSvgAsImage=function(o,c,d,h,f,_,v,w){if(isNaN(c)||isNaN(d))throw di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(h)||isNaN(f))throw di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var T=document.createElement("canvas");T.width=h,T.height=f;var N=T.getContext("2d");N.fillStyle="#fff",N.fillRect(0,0,T.width,T.height);var Z={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return i().then(function(R){return R.fromString(N,o,Z)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(Z)}).then(function(){y.addImage(T.toDataURL("image/jpeg",1),c,d,h,f,v,w)})}}(),Ee.API.putTotalPages=function(a){var i,o=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(a,"g"),o=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),o=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var c=1;c<=this.internal.getNumberOfPages();c++)for(var d=0;d<this.internal.pages[c].length;d++)this.internal.pages[c][d]=this.internal.pages[c][d].replace(i,o);return this},Ee.API.viewerPreferences=function(a,i){var o;a=a||{},i=i||!1;var c,d,h,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},_=Object.keys(f),v=[],w=0,T=0,N=0;function Z(R,O){var H,I=!1;for(H=0;H<R.length;H+=1)R[H]===O&&(I=!0);return I}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),o=this.internal.viewerpreferences.configuration,"reset"===a||!0===i){var y=_.length;for(N=0;N<y;N+=1)o[_[N]].value=o[_[N]].defaultValue,o[_[N]].explicitSet=!1}if("object"===Te(a))for(d in a)if(h=a[d],Z(_,d)&&void 0!==h){if("boolean"===o[d].type&&"boolean"==typeof h)o[d].value=h;else if("name"===o[d].type&&Z(o[d].valueSet,h))o[d].value=h;else if("integer"===o[d].type&&Number.isInteger(h))o[d].value=h;else if("array"===o[d].type){for(w=0;w<h.length;w+=1)if(c=!0,1===h[w].length&&"number"==typeof h[w][0])v.push(String(h[w]-1));else if(h[w].length>1){for(T=0;T<h[w].length;T+=1)"number"!=typeof h[w][T]&&(c=!1);!0===c&&v.push([h[w][0]-1,h[w][1]-1].join(" "))}o[d].value="["+v.join(" ")+"]"}else o[d].value=o[d].defaultValue;o[d].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var R,O=[];for(R in o)!0===o[R].explicitSet&&O.push("name"===o[R].type?"/"+R+" /"+o[R].value:"/"+R+" "+o[R].value);0!==O.length&&this.internal.write("/ViewerPreferences\n<<\n"+O.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=o,this},function(a){var i=function(){var c='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',d=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),h=unescape(encodeURIComponent(c)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),_=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),v=unescape(encodeURIComponent("</x:xmpmeta>")),w=h.length+f.length+_.length+d.length+v.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+w+" >>"),this.internal.write("stream"),this.internal.write(d+h+f+_+v),this.internal.write("endstream"),this.internal.write("endobj")},o=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};a.addMetadata=function(c,d){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:c,namespaceuri:d||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",o),this.internal.events.subscribe("postPutResources",i)),this}}(Ee.API),function(a){var i=a.API,o=i.pdfEscape16=function(h,f){for(var _,v=f.metadata.Unicode.widths,w=["","0","00","000","0000"],T=[""],N=0,Z=h.length;N<Z;++N){if(_=f.metadata.characterToGlyph(h.charCodeAt(N)),f.metadata.glyIdsUsed.push(_),f.metadata.toUnicode[_]=h.charCodeAt(N),-1==v.indexOf(_)&&(v.push(_),v.push([parseInt(f.metadata.widthOfGlyph(_),10)])),"0"==_)return T.join("");_=_.toString(16),T.push(w[4-_.length],_)}return T.join("")},c=function(h){var f,_,v,w,T,N,Z;for(T="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",v=[],N=0,Z=(_=Object.keys(h).sort(function(y,R){return y-R})).length;N<Z;N++)f=_[N],v.length>=100&&(T+="\n"+v.length+" beginbfchar\n"+v.join("\n")+"\nendbfchar",v=[]),null!=h[f]&&"function"==typeof h[f].toString&&(w=("0000"+h[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),v.push("<"+f+"><"+w+">"));return v.length&&(T+="\n"+v.length+" beginbfchar\n"+v.join("\n")+"\nendbfchar\n"),T+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(h){!function(f){var _=f.font,v=f.out,w=f.newObject,T=f.putStream;if(_.metadata instanceof a.API.TTFFont&&"Identity-H"===_.encoding){for(var N=_.metadata.Unicode.widths,Z=_.metadata.subset.encode(_.metadata.glyIdsUsed,1),y="",R=0;R<Z.length;R++)y+=String.fromCharCode(Z[R]);var O=w();T({data:y,addLength1:!0,objectId:O}),v("endobj");var H=w();T({data:c(_.metadata.toUnicode),addLength1:!0,objectId:H}),v("endobj");var I=w();v("<<"),v("/Type /FontDescriptor"),v("/FontName /"+bo(_.fontName)),v("/FontFile2 "+O+" 0 R"),v("/FontBBox "+a.API.PDFObject.convert(_.metadata.bbox)),v("/Flags "+_.metadata.flags),v("/StemV "+_.metadata.stemV),v("/ItalicAngle "+_.metadata.italicAngle),v("/Ascent "+_.metadata.ascender),v("/Descent "+_.metadata.decender),v("/CapHeight "+_.metadata.capHeight),v(">>"),v("endobj");var B=w();v("<<"),v("/Type /Font"),v("/BaseFont /"+bo(_.fontName)),v("/FontDescriptor "+I+" 0 R"),v("/W "+a.API.PDFObject.convert(N)),v("/CIDToGIDMap /Identity"),v("/DW 1000"),v("/Subtype /CIDFontType2"),v("/CIDSystemInfo"),v("<<"),v("/Supplement 0"),v("/Registry (Adobe)"),v("/Ordering ("+_.encoding+")"),v(">>"),v(">>"),v("endobj"),_.objectNumber=w(),v("<<"),v("/Type /Font"),v("/Subtype /Type0"),v("/ToUnicode "+H+" 0 R"),v("/BaseFont /"+bo(_.fontName)),v("/Encoding /"+_.encoding),v("/DescendantFonts ["+B+" 0 R]"),v(">>"),v("endobj"),_.isAlreadyPutted=!0}}(h)}]),i.events.push(["putFont",function(h){!function(f){var _=f.font,v=f.out,w=f.newObject,T=f.putStream;if(_.metadata instanceof a.API.TTFFont&&"WinAnsiEncoding"===_.encoding){for(var N=_.metadata.rawData,Z="",y=0;y<N.length;y++)Z+=String.fromCharCode(N[y]);var R=w();T({data:Z,addLength1:!0,objectId:R}),v("endobj");var O=w();T({data:c(_.metadata.toUnicode),addLength1:!0,objectId:O}),v("endobj");var H=w();v("<<"),v("/Descent "+_.metadata.decender),v("/CapHeight "+_.metadata.capHeight),v("/StemV "+_.metadata.stemV),v("/Type /FontDescriptor"),v("/FontFile2 "+R+" 0 R"),v("/Flags 96"),v("/FontBBox "+a.API.PDFObject.convert(_.metadata.bbox)),v("/FontName /"+bo(_.fontName)),v("/ItalicAngle "+_.metadata.italicAngle),v("/Ascent "+_.metadata.ascender),v(">>"),v("endobj"),_.objectNumber=w();for(var I=0;I<_.metadata.hmtx.widths.length;I++)_.metadata.hmtx.widths[I]=parseInt(_.metadata.hmtx.widths[I]*(1e3/_.metadata.head.unitsPerEm));v("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+bo(_.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+_.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(_.metadata.hmtx.widths)+">>"),v("endobj"),_.isAlreadyPutted=!0}}(h)}]);var d=function(h){var f,_=h.text||"",v=h.x,w=h.y,T=h.options||{},N=h.mutex||{},Z=N.pdfEscape,y=N.activeFontKey,R=N.fonts,O=y,H="",I=0,B="",X=R[O].encoding;if("Identity-H"!==R[O].encoding)return{text:_,x:v,y:w,options:T,mutex:N};for(B=_,O=y,Array.isArray(_)&&(B=_[0]),I=0;I<B.length;I+=1)R[O].metadata.hasOwnProperty("cmap")&&(f=R[O].metadata.cmap.unicode.codeMap[B[I].charCodeAt(0)]),f||B[I].charCodeAt(0)<256&&R[O].metadata.hasOwnProperty("Unicode")?H+=B[I]:H+="";var ut="";return parseInt(O.slice(1))<14||"WinAnsiEncoding"===X?ut=Z(H,O).split("").map(function(At){return At.charCodeAt(0).toString(16)}).join(""):"Identity-H"===X&&(ut=o(H,R[O])),N.isHex=!0,{text:ut,x:v,y:w,options:T,mutex:N}};i.events.push(["postProcessText",function(h){var f=h.text||"",_=[],v={text:f,x:h.x,y:h.y,options:h.options,mutex:h.mutex};if(Array.isArray(f)){var w=0;for(w=0;w<f.length;w+=1)Array.isArray(f[w])&&3===f[w].length?_.push([d(Object.assign({},v,{text:f[w][0]})).text,f[w][1],f[w][2]]):_.push(d(Object.assign({},v,{text:f[w]})).text);h.text=_}else h.text=d(Object.assign({},v,{text:f})).text}])}(Ee),function(a){var i=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};a.existsFileInVFS=function(o){return i.call(this),void 0!==this.internal.vFS[o]},a.addFileToVFS=function(o,c){return i.call(this),this.internal.vFS[o]=c,this},a.getFileFromVFS=function(o){return i.call(this),void 0!==this.internal.vFS[o]?this.internal.vFS[o]:null}}(Ee.API),function(a){a.__bidiEngine__=a.prototype.__bidiEngine__=function(c){var d,h,f,_,v,w,T,N=i,Z=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,X=0;this.__bidiEngine__={};var ut=function(E){var M=E.charCodeAt(),G=M>>8,V=O[G];return void 0!==V?N[256*V+(255&M)]:252===G||253===G?"AL":I.test(G)?"L":8===G?"R":"N"},At=function(E){for(var M,G=0;G<E.length;G++){if("L"===(M=ut(E.charAt(G))))return!1;if("R"===M)return!0}return!1},Wt=function(E,M,G,V){var Pt,xt,It,ft,Mt=M[V];switch(Mt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(Mt="AN");break;case"AL":B=!0,Mt="R";break;case"WS":case"BN":Mt="N";break;case"CS":V<1||V+1>=M.length||"EN"!==(Pt=G[V-1])&&"AN"!==Pt||"EN"!==(xt=M[V+1])&&"AN"!==xt?Mt="N":B&&(xt="AN"),Mt=xt===Pt?xt:"N";break;case"ES":Mt="EN"===(Pt=V>0?G[V-1]:"B")&&V+1<M.length&&"EN"===M[V+1]?"EN":"N";break;case"ET":if(V>0&&"EN"===G[V-1]){Mt="EN";break}if(B){Mt="N";break}for(It=V+1,ft=M.length;It<ft&&"ET"===M[It];)It++;Mt=It<ft&&"EN"===M[It]?"EN":"N";break;case"NSM":if(f&&!_){for(ft=M.length,It=V+1;It<ft&&"NSM"===M[It];)It++;if(It<ft){var Et=E[V];if(Pt=M[It],(Et>=1425&&Et<=2303||64286===Et)&&("R"===Pt||"AL"===Pt)){Mt="R";break}}}Mt=V<1||"B"===(Pt=M[V-1])?"N":G[V-1];break;case"B":B=!1,d=!0,Mt=X;break;case"S":h=!0,Mt="N"}return Mt},lt=function(E,M,G){var V=E.split("");return G&&J(V,G,{hiLevel:X}),V.reverse(),M&&M.reverse(),V.join("")},J=function(E,M,G){var V,Pt,xt,It,ft,Mt=-1,Et=E.length,pe=0,P=[],j=X?y:Z,z=[];for(B=!1,d=!1,h=!1,Pt=0;Pt<Et;Pt++)z[Pt]=ut(E[Pt]);for(xt=0;xt<Et;xt++){if(ft=pe,P[xt]=Wt(E,z,P,xt),V=240&(pe=j[ft][R[P[xt]]]),M[xt]=It=j[pe&=15][5],V>0)if(16===V){for(Pt=Mt;Pt<xt;Pt++)M[Pt]=1;Mt=-1}else Mt=-1;if(j[pe][6])-1===Mt&&(Mt=xt);else if(Mt>-1){for(Pt=Mt;Pt<xt;Pt++)M[Pt]=It;Mt=-1}"B"===z[xt]&&(M[xt]=0),G.hiLevel|=It}h&&function(K,ot,mt){for(var yt=0;yt<mt;yt++)if("S"===K[yt]){ot[yt]=X;for(var wt=yt-1;wt>=0&&"WS"===K[wt];wt--)ot[wt]=X}}(z,M,Et)},qt=function(E,M,G,V,Pt){if(!(Pt.hiLevel<E)){if(1===E&&1===X&&!d)return M.reverse(),void(G&&G.reverse());for(var xt,It,ft,Mt,Et=M.length,pe=0;pe<Et;){if(V[pe]>=E){for(ft=pe+1;ft<Et&&V[ft]>=E;)ft++;for(Mt=pe,It=ft-1;Mt<It;Mt++,It--)xt=M[Mt],M[Mt]=M[It],M[It]=xt,G&&(xt=G[Mt],G[Mt]=G[It],G[It]=xt);pe=ft}pe++}}},Ft=function(E,M,G){var V=E.split(""),Pt={hiLevel:X};return G||(G=[]),J(V,G,Pt),function(xt,It,ft){if(0!==ft.hiLevel&&T)for(var Mt,Et=0;Et<xt.length;Et++)1===It[Et]&&(Mt=H.indexOf(xt[Et]))>=0&&(xt[Et]=H[Mt+1])}(V,G,Pt),qt(2,V,M,G,Pt),qt(1,V,M,G,Pt),V.join("")};return this.__bidiEngine__.doBidiReorder=function(E,M,G){if(function(Pt,xt){if(xt)for(var It=0;It<Pt.length;It++)xt[It]=It;void 0===_&&(_=At(Pt)),void 0===w&&(w=At(Pt))}(E,M),f||!v||w)if(f&&v&&_^w)X=_?1:0,E=lt(E,M,G);else if(!f&&v&&w)X=_?1:0,E=Ft(E,M,G),E=lt(E,M);else if(!f||_||v||w){if(f&&!v&&_^w)E=lt(E,M),_?(X=0,E=Ft(E,M,G)):(X=1,E=Ft(E,M,G),E=lt(E,M));else if(f&&_&&!v&&w)X=1,E=Ft(E,M,G),E=lt(E,M);else if(!f&&!v&&_^w){var V=T;_?(X=1,E=Ft(E,M,G),X=0,T=!1,E=Ft(E,M,G),T=V):(X=0,E=Ft(E,M,G),E=lt(E,M),X=1,T=!1,E=Ft(E,M,G),T=V,E=lt(E,M))}}else X=0,E=Ft(E,M,G);else X=_?1:0,E=Ft(E,M,G);return E},this.__bidiEngine__.setOptions=function(E){E&&(f=E.isInputVisual,v=E.isOutputVisual,_=E.isInputRtl,w=E.isOutputRtl,T=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(c),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],o=new a.__bidiEngine__({isInputVisual:!0});a.API.events.push(["postProcessText",function(c){var d=c.text,h=c.options||{},f=[];if(h.isInputVisual="boolean"!=typeof h.isInputVisual||h.isInputVisual,o.setOptions(h),"[object Array]"===Object.prototype.toString.call(d)){var _=0;for(f=[],_=0;_<d.length;_+=1)"[object Array]"===Object.prototype.toString.call(d[_])?f.push([o.doBidiReorder(d[_][0]),d[_][1],d[_][2]]):f.push([o.doBidiReorder(d[_])]);c.text=f}else c.text=o.doBidiReorder(d);o.setOptions({isInputVisual:!0})}])}(Ee),Ee.API.TTFFont=function(){function a(i){var o;if(this.rawData=i,o=this.contents=new Nr(i),this.contents.pos=4,"ttcf"===o.readString(4))throw new Error("TTCF not supported.");o.pos=0,this.parse(),this.subset=new eu(this),this.registerTTF()}return a.open=function(i){return new a(i)},a.prototype.parse=function(){return this.directory=new Xc(this.contents),this.head=new Ya(this),this.name=new nl(this),this.cmap=new Ja(this),this.toUnicode={},this.hhea=new Xl(this),this.maxp=new rl(this),this.hmtx=new Bs(this),this.post=new il(this),this.os2=new Va(this),this.loca=new al(this),this.glyf=new Wu(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var o,c,d,h;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var f,_,v,w;for(w=[],f=0,_=(v=this.bbox).length;f<_;f++)w.push(Math.round(v[f]*this.scaleFactor));return w}.call(this),this.stemV=0,this.post.exists?(c=255&(d=this.post.italic_angle),0!=(32768&(o=d>>16))&&(o=-(1+(65535^o))),this.italicAngle=+(o+"."+c)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(h=this.familyClass)||2===h||3===h||4===h||5===h||7===h,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(i){var o;return(null!=(o=this.cmap.unicode)?o.codeMap[i]:void 0)||0},a.prototype.widthOfGlyph=function(i){var o;return o=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*o},a.prototype.widthOfString=function(i,o,c){var d,h,f,_;for(f=0,h=0,_=(i=""+i).length;0<=_?h<_:h>_;h=0<=_?++h:--h)d=i.charCodeAt(h),f+=this.widthOfGlyph(this.characterToGlyph(d))+c*(1e3/o)||0;return f*(o/1e3)},a.prototype.lineHeight=function(i,o){return null==o&&(o=!1),(this.ascender+(o?this.lineGap:0)-this.decender)/1e3*i},a}();var wn,Nr=function(){function a(i){this.data=null!=i?i:[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(i){return this.data[this.pos++]=i},a.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},a.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},a.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},a.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},a.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},a.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},a.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},a.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},a.prototype.readString=function(i){var o,c;for(c=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)c[o]=String.fromCharCode(this.readByte());return c.join("")},a.prototype.writeString=function(i){var o,c,d;for(d=[],o=0,c=i.length;0<=c?o<c:o>c;o=0<=c?++o:--o)d.push(this.writeByte(i.charCodeAt(o)));return d},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(i){return this.writeInt16(i)},a.prototype.readLongLong=function(){var i,o,c,d,h,f,_,v;return i=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),f=this.readByte(),_=this.readByte(),v=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^o)+1099511627776*(255^c)+4294967296*(255^d)+16777216*(255^h)+65536*(255^f)+256*(255^_)+(255^v)+1):72057594037927940*i+281474976710656*o+1099511627776*c+4294967296*d+16777216*h+65536*f+256*_+v},a.prototype.writeLongLong=function(i){var o,c;return o=Math.floor(i/4294967296),c=4294967295&i,this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o),this.writeByte(c>>24&255),this.writeByte(c>>16&255),this.writeByte(c>>8&255),this.writeByte(255&c)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(i){return this.writeInt32(i)},a.prototype.read=function(i){var o,c;for(o=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)o.push(this.readByte());return o},a.prototype.write=function(i){var c,d,h;for(h=[],c=0,d=i.length;c<d;c++)h.push(this.writeByte(i[c]));return h},a}(),Xc=function(){var a;function i(o){var c,d,h;for(this.scalarType=o.readInt(),this.tableCount=o.readShort(),this.searchRange=o.readShort(),this.entrySelector=o.readShort(),this.rangeShift=o.readShort(),this.tables={},d=0,h=this.tableCount;0<=h?d<h:d>h;d=0<=h?++d:--d)c={tag:o.readString(4),checksum:o.readInt(),offset:o.readInt(),length:o.readInt()},this.tables[c.tag]=c}return i.prototype.encode=function(o){var c,d,f,_,v,w,T,N,Z,y,R,O;for(O in y=Object.keys(o).length,v=Math.log(2),N=16*Math.floor(Math.log(y)/v),f=Math.floor(N/v),T=16*y-N,(d=new Nr).writeInt(this.scalarType),d.writeShort(y),d.writeShort(N),d.writeShort(f),d.writeShort(T),w=d.pos+16*y,_=null,R=[],o)for(Z=o[O],d.writeString(O),d.writeInt(a(Z)),d.writeInt(w),d.writeInt(Z.length),R=R.concat(Z),"head"===O&&(_=w),w+=Z.length;w%4;)R.push(0),w++;return d.write(R),c=2981146554-a(d.data),d.pos=_+8,d.writeUInt32(c),d.data},a=function(o){var c,d,h,f;for(o=tu.call(o);o.length%4;)o.push(0);for(h=new Nr(o),d=0,c=0,f=o.length;c<f;c=c+=4)d+=h.readUInt32();return 4294967295&d},i}(),tl={}.hasOwnProperty,Dn=function(a,i){for(var o in i)tl.call(i,o)&&(a[o]=i[o]);function c(){this.constructor=a}return c.prototype=i.prototype,a.prototype=new c,a.__super__=i.prototype,a};wn=function(){function a(i){var o;this.file=i,this.exists=!!(o=this.file.directory.tables[this.tag]),o&&(this.offset=o.offset,this.length=o.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var Ya=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="head",i.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.revision=o.readInt(),this.checkSumAdjustment=o.readInt(),this.magicNumber=o.readInt(),this.flags=o.readShort(),this.unitsPerEm=o.readShort(),this.created=o.readLongLong(),this.modified=o.readLongLong(),this.xMin=o.readShort(),this.yMin=o.readShort(),this.xMax=o.readShort(),this.yMax=o.readShort(),this.macStyle=o.readShort(),this.lowestRecPPEM=o.readShort(),this.fontDirectionHint=o.readShort(),this.indexToLocFormat=o.readShort(),this.glyphDataFormat=o.readShort()},i.prototype.encode=function(o){var c;return(c=new Nr).writeInt(this.version),c.writeInt(this.revision),c.writeInt(this.checkSumAdjustment),c.writeInt(this.magicNumber),c.writeShort(this.flags),c.writeShort(this.unitsPerEm),c.writeLongLong(this.created),c.writeLongLong(this.modified),c.writeShort(this.xMin),c.writeShort(this.yMin),c.writeShort(this.xMax),c.writeShort(this.yMax),c.writeShort(this.macStyle),c.writeShort(this.lowestRecPPEM),c.writeShort(this.fontDirectionHint),c.writeShort(o),c.writeShort(this.glyphDataFormat),c.data},i}(),el=function(){function a(i,o){var c,d,h,f,_,v,w,T,N,Z,y,R,O,H,I,B,X;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=o+i.readInt(),N=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(v=0;v<256;++v)this.codeMap[v]=i.readByte();break;case 4:for(y=i.readUInt16(),Z=y/2,i.pos+=6,h=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(i.readUInt16());return At}(),i.pos+=2,O=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(i.readUInt16());return At}(),w=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(i.readUInt16());return At}(),T=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(i.readUInt16());return At}(),d=(this.length-i.pos+this.offset)/2,_=function(){var ut,At;for(At=[],v=ut=0;0<=d?ut<d:ut>d;v=0<=d?++ut:--ut)At.push(i.readUInt16());return At}(),v=I=0,X=h.length;I<X;v=++I)for(H=h[v],c=B=R=O[v];R<=H?B<=H:B>=H;c=R<=H?++B:--B)0===T[v]?f=c+w[v]:0!==(f=_[T[v]/2+(c-R)-(Z-v)]||0)&&(f+=w[v]),this.codeMap[c]=65535&f}i.pos=N}return a.encode=function(i,o){var c,d,h,f,_,v,w,T,N,Z,y,R,O,H,I,B,X,At,Wt,lt,J,qt,Ft,E,M,G,V,Pt,xt,It,ft,Mt,Et,pe,P,j,z,K,ot,mt,yt,wt,oe,ne,me;switch(V=new Nr,f=Object.keys(i).sort(function(ve,Be){return ve-Be}),o){case"macroman":for(O=0,H=function(){var ve=[];for(R=0;R<256;++R)ve.push(0);return ve}(),B={0:0},h={},Pt=0,Mt=f.length;Pt<Mt;Pt++)null==B[wt=i[d=f[Pt]]]&&(B[wt]=++O),h[d]={old:i[d],new:B[i[d]]},H[d]=B[i[d]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(H),{charMap:h,subtable:V.data,maxGlyphID:O+1};case"unicode":for(M=[],N=[],X=0,B={},c={},I=w=null,xt=0,Et=f.length;xt<Et;xt++)null==B[At=i[d=f[xt]]]&&(B[At]=++X),c[d]={old:At,new:B[At]},_=B[At]-d,null!=I&&_===w||(I&&N.push(I),M.push(d),w=_),I=d;for(I&&N.push(I),N.push(65535),M.push(65535),Ft=2*(qt=M.length),J=2*Math.pow(Math.log(qt)/Math.LN2,2),Z=Math.log(J/2)/Math.LN2,lt=2*qt-J,v=[],Wt=[],y=[],R=It=0,pe=M.length;It<pe;R=++It){if(T=N[R],65535===(E=M[R])){v.push(0),Wt.push(0);break}if(E-(G=c[E].new)>=32768)for(v.push(0),Wt.push(2*(y.length+qt-R)),d=ft=E;E<=T?ft<=T:ft>=T;d=E<=T?++ft:--ft)y.push(c[d].new);else v.push(G-E),Wt.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*qt+2*y.length),V.writeUInt16(0),V.writeUInt16(Ft),V.writeUInt16(J),V.writeUInt16(Z),V.writeUInt16(lt),mt=0,P=N.length;mt<P;mt++)V.writeUInt16(d=N[mt]);for(V.writeUInt16(0),yt=0,j=M.length;yt<j;yt++)V.writeUInt16(d=M[yt]);for(oe=0,z=v.length;oe<z;oe++)V.writeUInt16(_=v[oe]);for(ne=0,K=Wt.length;ne<K;ne++)V.writeUInt16(Wt[ne]);for(me=0,ot=y.length;me<ot;me++)V.writeUInt16(O=y[me]);return{charMap:c,subtable:V.data,maxGlyphID:X+1}}},a}(),Ja=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="cmap",i.prototype.parse=function(o){var c,d,h;for(o.pos=this.offset,this.version=o.readUInt16(),h=o.readUInt16(),this.tables=[],this.unicode=null,d=0;0<=h?d<h:d>h;d=0<=h?++d:--d)c=new el(o,this.offset),this.tables.push(c),c.isUnicode&&null==this.unicode&&(this.unicode=c);return!0},i.encode=function(o,c){var d,h;return null==c&&(c="macroman"),d=el.encode(o,c),(h=new Nr).writeUInt16(0),h.writeUInt16(1),d.table=h.data.concat(d.subtable),d},i}(),Xl=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="hhea",i.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.ascender=o.readShort(),this.decender=o.readShort(),this.lineGap=o.readShort(),this.advanceWidthMax=o.readShort(),this.minLeftSideBearing=o.readShort(),this.minRightSideBearing=o.readShort(),this.xMaxExtent=o.readShort(),this.caretSlopeRise=o.readShort(),this.caretSlopeRun=o.readShort(),this.caretOffset=o.readShort(),o.pos+=8,this.metricDataFormat=o.readShort(),this.numberOfMetrics=o.readUInt16()},i}(),Va=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="OS/2",i.prototype.parse=function(o){if(o.pos=this.offset,this.version=o.readUInt16(),this.averageCharWidth=o.readShort(),this.weightClass=o.readUInt16(),this.widthClass=o.readUInt16(),this.type=o.readShort(),this.ySubscriptXSize=o.readShort(),this.ySubscriptYSize=o.readShort(),this.ySubscriptXOffset=o.readShort(),this.ySubscriptYOffset=o.readShort(),this.ySuperscriptXSize=o.readShort(),this.ySuperscriptYSize=o.readShort(),this.ySuperscriptXOffset=o.readShort(),this.ySuperscriptYOffset=o.readShort(),this.yStrikeoutSize=o.readShort(),this.yStrikeoutPosition=o.readShort(),this.familyClass=o.readShort(),this.panose=function(){var c,d;for(d=[],c=0;c<10;++c)d.push(o.readByte());return d}(),this.charRange=function(){var c,d;for(d=[],c=0;c<4;++c)d.push(o.readInt());return d}(),this.vendorID=o.readString(4),this.selection=o.readShort(),this.firstCharIndex=o.readShort(),this.lastCharIndex=o.readShort(),this.version>0&&(this.ascent=o.readShort(),this.descent=o.readShort(),this.lineGap=o.readShort(),this.winAscent=o.readShort(),this.winDescent=o.readShort(),this.codePageRange=function(){var c,d;for(d=[],c=0;c<2;c=++c)d.push(o.readInt());return d}(),this.version>1))return this.xHeight=o.readShort(),this.capHeight=o.readShort(),this.defaultChar=o.readShort(),this.breakChar=o.readShort(),this.maxContext=o.readShort()},i}(),il=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="post",i.prototype.parse=function(o){var c,d,h;switch(o.pos=this.offset,this.format=o.readInt(),this.italicAngle=o.readInt(),this.underlinePosition=o.readShort(),this.underlineThickness=o.readShort(),this.isFixedPitch=o.readInt(),this.minMemType42=o.readInt(),this.maxMemType42=o.readInt(),this.minMemType1=o.readInt(),this.maxMemType1=o.readInt(),this.format){case 65536:case 196608:break;case 131072:var f;for(d=o.readUInt16(),this.glyphNameIndex=[],f=0;0<=d?f<d:f>d;f=0<=d?++f:--f)this.glyphNameIndex.push(o.readUInt16());for(this.names=[],h=[];o.pos<this.offset+this.length;)c=o.readByte(),h.push(this.names.push(o.readString(c)));return h;case 151552:return d=o.readUInt16(),this.offsets=o.read(d);case 262144:return this.map=function(){var _,v,w;for(w=[],f=_=0,v=this.file.maxp.numGlyphs;0<=v?_<v:_>v;f=0<=v?++_:--_)w.push(o.readUInt32());return w}.call(this)}},i}(),aa=function(a,i){this.raw=a,this.length=a.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},nl=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="name",i.prototype.parse=function(o){var c,d,h,f,_,v,w,T,N,Z,y;for(o.pos=this.offset,o.readShort(),c=o.readShort(),v=o.readShort(),d=[],f=0;0<=c?f<c:f>c;f=0<=c?++f:--f)d.push({platformID:o.readShort(),encodingID:o.readShort(),languageID:o.readShort(),nameID:o.readShort(),length:o.readShort(),offset:this.offset+v+o.readShort()});for(w={},f=N=0,Z=d.length;N<Z;f=++N)o.pos=(h=d[f]).offset,T=o.readString(h.length),_=new aa(T,h),null==w[y=h.nameID]&&(w[y]=[]),w[h.nameID].push(_);this.strings=w,this.copyright=w[0],this.fontFamily=w[1],this.fontSubfamily=w[2],this.uniqueSubfamily=w[3],this.fontName=w[4],this.version=w[5];try{this.postscriptName=w[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(R){this.postscriptName=w[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=w[7],this.manufacturer=w[8],this.designer=w[9],this.description=w[10],this.vendorUrl=w[11],this.designerUrl=w[12],this.license=w[13],this.licenseUrl=w[14],this.preferredFamily=w[15],this.preferredSubfamily=w[17],this.compatibleFull=w[18],this.sampleText=w[19]},i}(),rl=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="maxp",i.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.numGlyphs=o.readUInt16(),this.maxPoints=o.readUInt16(),this.maxContours=o.readUInt16(),this.maxCompositePoints=o.readUInt16(),this.maxComponentContours=o.readUInt16(),this.maxZones=o.readUInt16(),this.maxTwilightPoints=o.readUInt16(),this.maxStorage=o.readUInt16(),this.maxFunctionDefs=o.readUInt16(),this.maxInstructionDefs=o.readUInt16(),this.maxStackElements=o.readUInt16(),this.maxSizeOfInstructions=o.readUInt16(),this.maxComponentElements=o.readUInt16(),this.maxComponentDepth=o.readUInt16()},i}(),Bs=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="hmtx",i.prototype.parse=function(o){var c,d,h,_,v,w;for(o.pos=this.offset,this.metrics=[],c=0,v=this.file.hhea.numberOfMetrics;0<=v?c<v:c>v;c=0<=v?++c:--c)this.metrics.push({advance:o.readUInt16(),lsb:o.readInt16()});for(h=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var T,N;for(N=[],c=T=0;0<=h?T<h:T>h;c=0<=h?++T:--T)N.push(o.readInt16());return N}(),this.widths=function(){var T,N,Z,y;for(y=[],T=0,N=(Z=this.metrics).length;T<N;T++)y.push(Z[T].advance);return y}.call(this),d=this.widths[this.widths.length-1],w=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)w.push(this.widths.push(d));return w},i.prototype.forGlyph=function(o){return o in this.metrics?this.metrics[o]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[o-this.metrics.length]}},i}(),tu=[].slice,Wu=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(o){var c,d,h,f,_,v,w,T,N,Z;return o in this.cache?this.cache[o]:(c=this.file.contents,d=(f=this.file.loca).indexOf(o),0===(h=f.lengthOf(o))?this.cache[o]=null:(c.pos=this.offset+d,_=(v=new Nr(c.read(h))).readShort(),T=v.readShort(),Z=v.readShort(),w=v.readShort(),N=v.readShort(),this.cache[o]=-1===_?new ol(v,T,Z,w,N):new sa(v,_,T,Z,w,N),this.cache[o]))},i.prototype.encode=function(o,c,d){var h,f,_,v,w;for(_=[],f=[],v=0,w=c.length;v<w;v++)h=o[c[v]],f.push(_.length),h&&(_=_.concat(h.encode(d)));return f.push(_.length),{table:_,offsets:f}},i}(),sa=function(){function a(i,o,c,d,h,f){this.raw=i,this.numberOfContours=o,this.xMin=c,this.yMin=d,this.xMax=h,this.yMax=f,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),ol=function(){function a(i,o,c,d,h){var f,_;for(this.raw=i,this.xMin=o,this.yMin=c,this.xMax=d,this.yMax=h,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;_=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&_;)f.pos+=1&_?4:2,128&_?f.pos+=8:64&_?f.pos+=4:8&_&&(f.pos+=2)}return a.prototype.encode=function(){var i,o,c;for(o=new Nr(tu.call(this.raw.data)),i=0,c=this.glyphIDs.length;i<c;++i)o.pos=this.glyphOffsets[i];return o.data},a}(),al=function(a){function i(){return i.__super__.constructor.apply(this,arguments)}return Dn(i,wn),i.prototype.tag="loca",i.prototype.parse=function(o){var d;return o.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var h,f;for(f=[],d=0,h=this.length;d<h;d+=2)f.push(2*o.readUInt16());return f}.call(this):function(){var h,f;for(f=[],d=0,h=this.length;d<h;d+=4)f.push(o.readUInt32());return f}.call(this)},i.prototype.indexOf=function(o){return this.offsets[o]},i.prototype.lengthOf=function(o){return this.offsets[o+1]-this.offsets[o]},i.prototype.encode=function(o,c){for(var d=new Uint32Array(this.offsets.length),h=0,f=0,_=0;_<d.length;++_)if(d[_]=h,f<c.length&&c[f]==_){++f,d[_]=h;var w=this.offsets[_+1]-this.offsets[_];w>0&&(h+=w)}for(var T=new Array(4*d.length),N=0;N<d.length;++N)T[4*N+3]=255&d[N],T[4*N+2]=(65280&d[N])>>8,T[4*N+1]=(16711680&d[N])>>16,T[4*N]=(4278190080&d[N])>>24;return T},i}(),eu=function(){function a(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var i,o,d,h;for(o in d=this.font.cmap.tables[0].codeMap,i={},h=this.subset)i[o]=d[h[o]];return i},a.prototype.glyphsFor=function(i){var o,c,d,h,f,_,v;for(d={},f=0,_=i.length;f<_;f++)d[h=i[f]]=this.font.glyf.glyphFor(h);for(h in o=[],d)(null!=(c=d[h])?c.compound:void 0)&&o.push.apply(o,c.glyphIDs);if(o.length>0)for(h in v=this.glyphsFor(o))d[h]=c=v[h];return d},a.prototype.encode=function(i,o){var c,d,h,f,v,w,T,N,Z,y,R,O,H,I;for(d in c=Ja.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(i),y={0:0},I=c.charMap)y[(v=I[d]).old]=v.new;for(R in Z=c.maxGlyphID,f)R in y||(y[R]=Z++);return T=function(B){var X,ut;for(X in ut={},B)ut[B[X]]=X;return ut}(y),N=Object.keys(T).sort(function(B,X){return B-X}),O=function(){var B,X,ut;for(ut=[],B=0,X=N.length;B<X;B++)ut.push(T[N[B]]);return ut}(),h=this.font.glyf.encode(f,O,y),w=this.font.loca.encode(h.offsets,O),H={cmap:this.font.cmap.raw(),glyf:h.table,loca:w,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(o)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},a}();Ee.API.PDFObject=function(){var a;function i(){}return a=function(o,c){return(Array(c+1).join("0")+o).slice(-c)},i.convert=function(o){var d,h;if(Array.isArray(o))return"["+function(){var _,v,w;for(w=[],_=0,v=o.length;_<v;_++)w.push(i.convert(o[_]));return w}().join(" ")+"]";if("string"==typeof o)return"/"+o;if(null!=o?o.isString:void 0)return"("+o+")";if(o instanceof Date)return"(D:"+a(o.getUTCFullYear(),4)+a(o.getUTCMonth(),2)+a(o.getUTCDate(),2)+a(o.getUTCHours(),2)+a(o.getUTCMinutes(),2)+a(o.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(o)){for(d in h=["<<"],o)h.push("/"+d+" "+i.convert(o[d]));return h.push(">>"),h.join("\n")}return""+o},i}();const sl=Ee}}]);