(self.webpackChunkproducts_system=self.webpackChunkproducts_system||[]).push([[616],{2616:(va,ro,ne)=>{"use strict";ne.r(ro),ne.d(ro,{ProductsModule:()=>bu});var Ae=ne(9808),yi=ne(1083),Gt=ne(3075),t=ne(5e3),Xe=ne(1038),Ce=ne(5146),Rt=ne(7261),se=ne(1357),ye=ne(9224),Ot=ne(3251),Lt=ne(4834),_t=ne(3874),gt=ne(7322),Ht=ne(7531),Bt=ne(7423),Ct=ne(4107),tt=ne(508),et=ne(3954);let st=(()=>{class s{transform(e,r){let m=[];for(let x=0;x<e.length;x++)e[x].parent==r&&m.push(e[x]);return m}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"parent",type:s,pure:!0}),s})();function ct(s,c){1&s&&t._uU(0," Manage Categories ")}function bt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(6).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit;t.xp6(1),t.hij("",e.name," ")}}function yt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(5).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,bt,5,1,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(5);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function kt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(4).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,yt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(4);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Zt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(3).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,kt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(3);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function zt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(2).selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,Zt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Xt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"a",30),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw().selectCategory(x.id)}),t.TgZ(3,"mat-icon",31),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"ul"),t.YNc(6,zt,8,5,"li",8),t.ALo(7,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij("",e.name," "),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function te(s,c){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35),t.TgZ(2,"mat-form-field",36),t.TgZ(3,"mat-label"),t._uU(4,"Attribute Name"),t.qZA(),t._UZ(5,"input",37),t.qZA(),t.TgZ(6,"button",38),t.NdJ("click",function(){const x=t.CHM(e).index;return t.oxw(2).removeNewAttribute(x)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function ft(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"mat-card",5),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"mat-divider"),t.TgZ(5,"div",19),t.TgZ(6,"form",26),t.ynx(7,28),t.YNc(8,te,9,1,"ng-container",8),t.BQk(),t.TgZ(9,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(10,"mat-icon"),t._uU(11,"add_circle_outline"),t.qZA(),t._uU(12," Add Field "),t.qZA(),t.TgZ(13,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("update")}),t._uU(14,"Save Attributes"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(3),t.hij("",e.selectedCatName," Attributes"),t.xp6(3),t.Q6J("formGroup",e.categoryForm),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls)}}function xe(s,c){if(1&s&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ze(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"add_circle_outline"),t.qZA(),t._uU(2," New Category "))}function Ut(s,c){if(1&s&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Tt(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("",e.newCategoryName," Attributes")}}function ie(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," attribute")}}function ae(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Adding ",e.attrCount," Attributes")}}function Pe(s,c){if(1&s&&(t.TgZ(0,"div",35),t.TgZ(1,"mat-grid-list",41),t.TgZ(2,"mat-grid-tile"),t.TgZ(3,"mat-form-field",12),t.TgZ(4,"mat-label"),t._uU(5,"Attribute Name"),t.qZA(),t._UZ(6,"input",37),t.qZA(),t.qZA(),t._UZ(7,"mat-grid-tile"),t.qZA(),t.qZA()),2&s){const e=t.oxw().index;t.Q6J("formGroupName",e)}}function be(s,c){if(1&s&&(t.ynx(0),t._uU(1),t.YNc(2,Pe,8,1,"div",40),t.BQk()),2&s){const e=c.index,r=t.oxw();t.xp6(1),t.hij(" ",r.hasValue()," "),t.xp6(1),t.Q6J("ngIf",e>=r.tempLength)}}function ke(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAttributes("new")}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.disableSaveAttrBtn),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}let Ie=(()=>{class s{constructor(e,r,m,x,q){this.navbar=e,this.api=r,this.formBuilder=m,this._snackBar=x,this.info=q,this.newCategoryId=0,this.newCategoryName="",this.categoriesList=[],this.attributesFields=[],this.selectedCatName="",this.selectedCatId=0,this.selectedCatParentId="",this.selectedCatParentName="",this.currentStep=1,this.disableSaveCatBtn=!1,this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.saveCatBtnText="Save Category",this.saveAttrBtnText="Save Attributes",this.goToCategoriesBtn=!1,this.hasParent=!1,this.roles=[],this.permission=!1,this.tempLength=0}ngOnInit(){this.info.auth(),this.attrCount=0,this.navbar.show(),this.getAllCategories(),this.selectCategory(205),this.permission=this.info.role(60),this.addCategory=this.formBuilder.group({name:["",Gt.kI.required],parent:[""]}),this.updateCategory=this.formBuilder.group({name:[""],parent:[""]}),this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("cats",e),this.categoriesList=e},error:e=>{alert(e)}})}addNewCategory(){this.addCategory.valid?(this.disableSaveCatBtn=!0,this.saveCatBtnText="Saving...",this.api.POST("categories",this.addCategory.value).subscribe({next:e=>{console.log(e.id),this.newCategoryId=e.id,this.newCategoryName=e.name,this.disableAddAttrBtn=!1,this.disableSaveAttrBtn=!1,this.info.activity(`Added a new category: ${e.name}`,0),this.saveCatBtnText="Category Saved",this.getAllCategories(),this.openSnackBar(e.name+" Added","Okay")},error:e=>{console.log("AddNewCategory Error: "+e.message),this.openSnackBar("Failed to save category. Please try again or contact Administrator.","Okay"),this.disableSaveCatBtn=!1,this.saveCatBtnText="Failed. Try again"}})):console.log("Form input invalid.")}get attributes(){return this.categoryForm.get("attributes")}addNewAttribute(){const e=this.formBuilder.group({attrName:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}updateAttributes(e){if(this.attributes.valid){this.disableSaveAttrBtn=!0,this.disableAddAttrBtn=!0,this.goToCategoriesBtn=!0,this.saveAttrBtnText="Saving...";let r=[];for(let x=0;x<this.categoryForm.value.attributes.length;x++)r.push(this.categoryForm.value.attributes[x].attrName);let m="new"==e?this.newCategoryId:this.selectedCatId;this.api.POST(`categories/update/${m}`,r).subscribe({next:x=>{this.saveAttrBtnText="Attributes Saved",this.openSnackBar(this.attrCount+" attribute(s) added","Okay"),this.info.activity(`Updated attributes for category: ${m}`,0),this.getAllCategories()},error:x=>{this.openSnackBar(x.message,"Okay")}})}else this.openSnackBar("Please enter value","Okay")}updateParent(){console.log("updating: "+this.selectedCatId),this.api.POST(`categories/update-parent/${this.selectedCatId}`,this.updateCategory.value).subscribe({next:e=>{console.log(e),this.getAllCategories()},error:e=>{this.openSnackBar(e.message,"Okay")}})}selectCategory(e){this.clearSelectedCat(),console.log(e);try{let r=this.categoriesList.find(x=>x.id===e),m=null==r?void 0:r.attributes;m=JSON.parse(m),this.attributesFields=m,console.log("Fields: ",this.attributesFields),this.selectedCatId=null==r?void 0:r.id,this.selectedCatName=null==r?void 0:r.name,this.selectedCatParentId=null==r?void 0:r.parent,this.getParent(parseInt(this.selectedCatParentId));for(let x=0;x<this.attributesFields.length;x++){const q=this.formBuilder.group({attrName:[this.attributesFields[x]]});this.attributes.push(q)}}catch(r){console.log(r)}}getParent(e){if(e>0){let r=this.categoriesList.find(m=>m.id===e);this.selectedCatParentName=null==r?void 0:r.name,this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,Gt.kI.required],parent:[{value:this.selectedCatParentName,disabled:!1}]})}else this.updateCategory=this.formBuilder.group({name:[this.selectedCatName,Gt.kI.required],parent:[{value:"",disabled:!1}]})}openSnackBar(e,r){this._snackBar.open(e,r)}clearSelectedCat(){this.getAllCategories(),this.selectedCatId=0,this.selectedCatName="",this.categoryForm=this.formBuilder.group({attributes:this.formBuilder.array([])})}selectParentCategory(e){this.hasParent=!0}refresh(){location.reload()}hasValue(){}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(Xe.I),t.Y36(Ce.s),t.Y36(Gt.qu),t.Y36(Rt.ux),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-categories"]],decls:81,vars:22,consts:[["routerLink","../../"],["dynamicHeight","",3,"selectedTabChange"],["mat-tab-label",""],[1,"row"],[1,"col-md-4"],[2,"margin-top","1rem","margin-bottom","9rem"],[2,"margin-top","2rem","font-size","small"],[1,"catList"],[4,"ngFor","ngForOf"],["class","col-md-4 show",4,"ngIf"],[1,"col-md-4","show",3,"hidden"],[2,"margin-top","2rem",3,"formGroup"],["appearance","outline",2,"width","100%"],["name","name","matInput","","formControlName","name","placeholder","Edit Category Name",1,"capitalize"],["name","categories","formControlName","parent",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"click"],[3,"disabled"],[1,"col-md-5"],[2,"margin-top","2rem"],[3,"formGroup","ngSubmit"],["cols","3","rowHeight","80px"],["name","category_name","matInput","","formControlName","name","placeholder","Enter Category Name","required","",1,"capitalize"],["mat-raised-button","","type","submit","color","primary",1,"mb-3",3,"disabled"],[1,"col-md-7"],[4,"ngIf"],[3,"formGroup"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem","margin-bottom","1rem",3,"disabled","click"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","primary",2,"margin-left","1rem",3,"hidden","click"],[3,"click"],[1,"edit"],[1,"col-md-4","show"],["mat-raised-button","","type","button","color","basic",3,"click"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[3,"formGroupName"],["appearance","outline"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","E.g. colour","required","",1,"capitalize"],["mat-mini-fab","","type","button","color","warn",2,"margin-left","1rem",3,"click"],[3,"value"],[3,"formGroupName",4,"ngIf"],["cols","2","rowHeight","80px"],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Categories\n"),t.qZA(),t.TgZ(4,"mat-card"),t.TgZ(5,"mat-tab-group",1),t.NdJ("selectedTabChange",function(){return r.clearSelectedCat()}),t.TgZ(6,"mat-tab"),t.YNc(7,ct,1,0,"ng-template",2),t.TgZ(8,"div",3),t.TgZ(9,"div",4),t.TgZ(10,"mat-card",5),t.TgZ(11,"h2"),t._uU(12,"Categories"),t.qZA(),t._UZ(13,"mat-divider"),t.TgZ(14,"div",6),t.TgZ(15,"ul",7),t.YNc(16,Xt,8,5,"li",8),t.ALo(17,"parent"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,ft,15,3,"div",9),t.TgZ(19,"div",10),t.TgZ(20,"mat-card",5),t.TgZ(21,"h2"),t._uU(22),t.qZA(),t._UZ(23,"mat-divider"),t.TgZ(24,"form",11),t.TgZ(25,"mat-form-field",12),t.TgZ(26,"mat-label"),t._uU(27,"Category Name"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field",12),t.TgZ(30,"mat-label"),t._uU(31,"Parent Category"),t.qZA(),t.TgZ(32,"mat-select",14),t.NdJ("selectionChange",function(x){return r.selectParentCategory(x)}),t.YNc(33,xe,2,2,"mat-option",15),t.qZA(),t.qZA(),t.TgZ(34,"button",16),t.NdJ("click",function(){return r.updateParent()}),t._uU(35,"Save Details"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"mat-tab",17),t.YNc(37,Ze,3,0,"ng-template",2),t.TgZ(38,"div",3),t.TgZ(39,"div",18),t.TgZ(40,"mat-card",5),t.TgZ(41,"h2"),t._uU(42,"New Category"),t.qZA(),t._UZ(43,"mat-divider"),t.TgZ(44,"div",19),t.TgZ(45,"form",20),t.NdJ("ngSubmit",function(){return r.addNewCategory()}),t.TgZ(46,"mat-grid-list",21),t.TgZ(47,"mat-grid-tile"),t.TgZ(48,"mat-form-field",12),t.TgZ(49,"mat-label"),t._uU(50,"Category Name"),t.qZA(),t._UZ(51,"input",22),t.qZA(),t.qZA(),t.TgZ(52,"mat-grid-tile"),t.TgZ(53,"mat-form-field",12),t.TgZ(54,"mat-label"),t._uU(55,"Parent Category"),t.qZA(),t.TgZ(56,"mat-select",14),t.NdJ("selectionChange",function(x){return r.selectParentCategory(x)}),t.YNc(57,Ut,2,2,"mat-option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"mat-grid-tile"),t.TgZ(59,"button",23),t._uU(60),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",24),t.TgZ(62,"mat-card",5),t.TgZ(63,"h2"),t.YNc(64,Tt,2,1,"span",25),t.YNc(65,ie,2,1,"span",25),t.YNc(66,ae,2,1,"span",25),t.qZA(),t._UZ(67,"mat-divider"),t.TgZ(68,"div",19),t.TgZ(69,"form",26),t.TgZ(70,"button",27),t.NdJ("click",function(){return r.addNewAttribute()}),t.TgZ(71,"mat-icon"),t._uU(72,"add_circle_outline"),t.qZA(),t._uU(73," Add Attribute "),t.qZA(),t.ynx(74,28),t.YNc(75,be,3,2,"ng-container",8),t.BQk(),t.YNc(76,ke,3,2,"div",25),t._UZ(77,"br"),t._UZ(78,"br"),t.TgZ(79,"button",29),t.NdJ("click",function(){return r.refresh()}),t._uU(80,"Go To Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",t.xi3(17,19,r.categoriesList,"0")),t.xp6(2),t.Q6J("ngIf",""!==r.selectedCatName),t.xp6(1),t.Q6J("hidden",""==r.selectedCatName),t.xp6(3),t.hij("",r.selectedCatName," Details"),t.xp6(2),t.Q6J("formGroup",r.updateCategory),t.xp6(9),t.Q6J("ngForOf",r.categoriesList),t.xp6(3),t.Q6J("disabled",!r.permission),t.xp6(9),t.Q6J("formGroup",r.addCategory),t.xp6(12),t.Q6J("ngForOf",r.categoriesList),t.xp6(2),t.Q6J("disabled",r.disableSaveCatBtn),t.xp6(1),t.Oqu(r.saveCatBtnText),t.xp6(4),t.Q6J("ngIf",r.attrCount<1),t.xp6(1),t.Q6J("ngIf",1==r.attrCount),t.xp6(1),t.Q6J("ngIf",r.attrCount>1),t.xp6(3),t.Q6J("formGroup",r.categoryForm),t.xp6(1),t.Q6J("disabled",r.disableAddAttrBtn),t.xp6(5),t.Q6J("ngForOf",r.attributes.controls),t.xp6(1),t.Q6J("ngIf",r.attrCount>0),t.xp6(3),t.Q6J("hidden",!r.goToCategoriesBtn))},directives:[yi.yS,ye.a8,Ot.SP,Ot.uX,Ot.uD,Lt.d,Ae.sg,_t.Hw,Ae.O5,Gt._Y,Gt.JL,Gt.sg,Gt.CE,Gt.x0,gt.KE,gt.hX,Ht.Nt,Gt.Fj,Gt.JJ,Gt.u,Gt.Q7,Bt.lW,Ct.gD,tt.ey,et.Il,et.DX],pipes:[st],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.catList[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:larger;text-transform:uppercase}.step-active[_ngcontent-%COMP%]{background-color:#28e3fc;border-radius:50%;padding:4px 10px}.step-inactive[_ngcontent-%COMP%]{background-color:#d4ddd8;color:#8d8d8d;border-radius:50%;padding:4px 10px}.step-done[_ngcontent-%COMP%]{background-color:#2dc954;color:#fff;border-radius:50%;padding:4px 10px}ul[_ngcontent-%COMP%]{line-height:2rem;list-style-type:square}li[_ngcontent-%COMP%]:hover{color:#d3526a}.edit[_ngcontent-%COMP%]{font-size:medium;cursor:pointer}.show[_ngcontent-%COMP%]{transition-timing-function:ease-in}"]}),s})();var Ne=ne(6087),De=ne(4847),$t=ne(8279),en=ne(631),zi=ne(6689),Xi=ne(776),Zi=ne(5664),Hn=ne(5899),gr=ne(7877);function rc(s,c){1&s&&t._UZ(0,"mat-progress-bar",24)}function oc(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1," SKU "),t.qZA())}function ba(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function xl(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1," Name "),t.qZA())}function ac(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function rs(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Short description"),t.qZA())}function os(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.shortDescription," ")}}function wl(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Description"),t.qZA())}function Al(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function Cl(s,c){1&s&&(t.TgZ(0,"th",25),t._uU(1,"Categories"),t.qZA())}function Tl(s,c){if(1&s&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setProductCategories(e.id)," ")}}function mr(s,c){1&s&&t._UZ(0,"tr",27)}function as(s,c){1&s&&t._UZ(0,"tr",28)}function oo(s,c){if(1&s&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",30),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Nu=function(){return[10,25,100]};let Lu=(()=>{class s extends en._k{constructor(e,r,m,x,q,rt,Vt,i){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=x,this.api=q,this._snackBar=rt,this._liveAnnouncer=Vt,this.info=i,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.displayedColumns=["sku","name","shortDescription","description","categories"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(l=>{this.loggedIn=l})}ngOnInit(){this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getImages(),this.getProductCategories(),this.getAllCategories(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log(e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("Categories",e),this.categoriesList=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getImages(){this.productsLoader=!0,this.api.GET("images").subscribe({next:e=>{console.log(e),this.images=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}productImages(e){return this.images.filter(r=>r.product_id==e)}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{console.log(e),this.typesList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getProductCategories(){this.api.GET("product-categories").subscribe({next:e=>{console.log("Products categories",e),this.productCategoryList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}setAttributesName(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrName:""}setAttributesValue(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrValue:""}setProductCategories(e){let r=[],m=[];for(let q=0;q<this.productCategoryList.length;q++)this.productCategoryList[q].product_id==e&&r.push(this.productCategoryList[q].category_id);for(let q=0;q<r.length;q++)try{let rt=this.categoriesList.find(Vt=>Vt.id==r[q]);m.push(rt.name)}catch(rt){return""}return m}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(Xe.I),t.Y36(zi.Z),t.Y36(Xe.I),t.Y36(Xi.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Zi.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-export-csv"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ne.NW,5),t.Gf(De.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:44,vars:6,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",3,"click"],["mat-raised-button","","disabled","",1,"m-1"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","sku"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","categories"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"button",2),t.TgZ(9,"mat-icon"),t._uU(10,"file_upload"),t.qZA(),t._uU(11," Import Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(q){return r.applyFilter(q)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,rc,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(q){return r.announceSortChange(q)}),t.ynx(25,13),t.YNc(26,oc,2,0,"th",14),t.YNc(27,ba,2,1,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,xl,2,0,"th",14),t.YNc(30,ac,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,rs,2,0,"th",14),t.YNc(33,os,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,wl,2,0,"th",14),t.YNc(36,Al,2,1,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,Cl,2,0,"th",14),t.YNc(39,Tl,2,1,"td",15),t.BQk(),t.YNc(40,mr,1,0,"tr",20),t.YNc(41,as,1,0,"tr",21),t.YNc(42,oo,3,1,"tr",22),t.qZA(),t._UZ(43,"mat-paginator",23),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(22),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(17),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,Nu)))},directives:[yi.yS,Bt.lW,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ae.O5,Hn.pW,$t.BZ,gr.jt,De.YE,$t.w1,$t.fO,$t.ge,De.nU,$t.Dz,$t.ev,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ne.NW],styles:[""]}),s})();function wn(s,c){1&s&&t._UZ(0,"mat-progress-bar",69)}function qi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Type "),t.qZA())}function Ri(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," simple "),t.qZA())}function sc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," SKU "),t.qZA())}function cc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.sku," ")}}function lc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Name "),t.qZA())}function uc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function hc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Published "),t.qZA())}function dc(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 1 "),t.qZA())}function Zu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Is featured? "),t.qZA())}function Du(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Iu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Visibility in catalog"),t.qZA())}function Pl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," visible "),t.qZA())}function ya(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Short description"),t.qZA())}function Mu(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.shortDescription," ")}}function Ou(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Description"),t.qZA())}function pc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function zo(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Tax status"),t.qZA())}function Eu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"taxable"),t.qZA())}function Fu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"In stock?"),t.qZA())}function qu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function fc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Weight (kg)"),t.qZA())}function Ru(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Bu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Length (cm)"),t.qZA())}function kl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function ss(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Width (cm)"),t.qZA())}function Uu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function ju(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Height (cm)"),t.qZA())}function Hu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Yo(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Regular Price"),t.qZA())}function zu(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function Yu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Allow customer reviews?"),t.qZA())}function Sl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1," 0 "),t.qZA())}function xa(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Categories"),t.qZA())}function Ju(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setProductCategories(e.id)," ")}}function Vu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Tags"),t.qZA())}function Wu(s,c){1&s&&t._UZ(0,"td",71)}function Gu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Images "),t.qZA())}function cs(s,c){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hij("",r.storageUrl+e.path.replace("public/",""),", ")}}function gc(s,c){if(1&s&&(t.TgZ(0,"td",71),t.YNc(1,cs,2,1,"span",72),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.productImages(e.id))}}function Nl(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1,"Parent"),t.qZA())}function mc(s,c){1&s&&t._UZ(0,"td",71)}function _c(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 name "),t.qZA())}function Ll(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,0)," ")}}function wa(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 value(s) "),t.qZA())}function vc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,0)," ")}}function Qu(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 1 visible "),t.qZA())}function $u(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ku(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 name "),t.qZA())}function Xu(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,1)," ")}}function Fe(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 value(s) "),t.qZA())}function ls(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,1)," ")}}function hi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 2 visible "),t.qZA())}function us(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function bc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 name "),t.qZA())}function Aa(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,2)," ")}}function Jo(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 value(s) "),t.qZA())}function hs(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,2)," ")}}function Dr(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 3 visible "),t.qZA())}function yc(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function ds(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 name "),t.qZA())}function Ca(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,3)," ")}}function Yi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 value(s) "),t.qZA())}function Ji(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,3)," ")}}function Vi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 4 visible "),t.qZA())}function Wi(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function xc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 name "),t.qZA())}function Zl(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,4)," ")}}function wc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 value(s) "),t.qZA())}function Dl(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,4)," ")}}function Il(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 5 visible "),t.qZA())}function ps(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ml(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 name "),t.qZA())}function _r(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,5)," ")}}function fs(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 value(s) "),t.qZA())}function Ac(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,5)," ")}}function ao(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 6 visible "),t.qZA())}function so(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Cc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 name "),t.qZA())}function Vo(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,6)," ")}}function Tc(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 value(s) "),t.qZA())}function vr(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,6)," ")}}function Ir(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 7 visible "),t.qZA())}function Me(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function wi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 name "),t.qZA())}function gs(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,7)," ")}}function Mr(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 value(s) "),t.qZA())}function co(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,7)," ")}}function He(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 8 visible "),t.qZA())}function br(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function nn(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 name "),t.qZA())}function Pc(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,8)," ")}}function zn(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 value(s)"),t.qZA())}function Ol(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,8)," ")}}function El(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 9 visible "),t.qZA())}function Fl(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Pi(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 name "),t.qZA())}function ki(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesName(e.attributes,5)," ")}}function Si(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 value(s) "),t.qZA())}function ql(s,c){if(1&s&&(t.TgZ(0,"td",71),t._uU(1),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hij(" ",r.setAttributesValue(e.attributes,9)," ")}}function Rl(s,c){1&s&&(t.TgZ(0,"th",70),t._uU(1," Attribute 10 visible "),t.qZA())}function ms(s,c){1&s&&(t.TgZ(0,"td",71),t._uU(1,"1"),t.qZA())}function Ta(s,c){1&s&&t._UZ(0,"tr",73)}function Bl(s,c){1&s&&t._UZ(0,"tr",74)}function Ul(s,c){if(1&s&&(t.TgZ(0,"tr",75),t.TgZ(1,"td",76),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(18);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const jl=function(){return[10,25,100]};let Hl=(()=>{class s extends en._k{constructor(e,r,m,x,q,rt,Vt,i){super(),this.navbar=e,this.sideNav=r,this.topNav=m,this.treeNav=x,this.api=q,this._snackBar=rt,this._liveAnnouncer=Vt,this.info=i,this.productsList=[],this.categoriesList=[],this.productCategoryList=[],this.typesList=[],this.images=[],this.displayedColumns=["type","sku","name","published","featured","visibility","shortDescription","description","tax","inStock","weight","width","height","price","reviews","categories","tags","images","parent","attr1Name","attr1Value","attr2Name","attr2Value","attr3Name","attr3Value","attr4Name","attr4Value","attr5Name","attr5Value","attr6Name","attr6Value","attr7Name","attr7Value","attr8Name","attr8Value","attr9Name","attr9Value","attr10Name","attr10Value"],this.productsLoader=!1,this.loggedIn=!1,this.info.isUserLoggedIn.subscribe(l=>{this.loggedIn=l})}ngOnInit(){console.log("EXPORT"),this.loggedIn&&(this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getImages(),this.getProductCategories(),this.getAllCategories(),this.storageUrl=this.api.getStorageUrl()),this.info.auth()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){this.productsLoader=!0,this.api.GET("products").subscribe({next:e=>{console.log(e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getAllCategories(){this.api.GET("categories").subscribe({next:e=>{console.log("Categories",e),this.categoriesList=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}getImages(){this.productsLoader=!0,this.api.GET("images").subscribe({next:e=>{console.log(e),this.images=e},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}productImages(e){return this.images.filter(r=>r.product_id==e)}openSnackBar(e,r){this._snackBar.open(e,r)}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:e=>{console.log(e),this.typesList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getProductCategories(){this.api.GET("product-categories").subscribe({next:e=>{console.log("Products categories",e),this.productCategoryList=e},error:e=>{console.log("Failed to communicate with the server: "+e.message)}})}getBrandName(e){let r=0;return r=parseInt(e)-1,null==this.typesList[r]?"":this.typesList[r].name}setAttributesName(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrName:""}setAttributesValue(e,r){const m=JSON.parse(e);return m.attributes[r]?m.attributes[r].attrValue:""}setProductCategories(e){let r=[],m=[];for(let q=0;q<this.productCategoryList.length;q++)this.productCategoryList[q].product_id==e&&r.push(this.productCategoryList[q].category_id);for(let q=0;q<r.length;q++)try{let rt=this.categoriesList.find(Vt=>Vt.id==r[q]);m.push(rt.name)}catch(rt){return""}return m}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(Xe.I),t.Y36(zi.Z),t.Y36(Xe.I),t.Y36(Xi.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Zi.Kd),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-export"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ne.NW,5),t.Gf(De.YE,5)),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first),t.iGM(m=t.CRH())&&(r.sort=m.first)}},features:[t.qOj],decls:179,vars:6,consts:[["routerLink","/"],["mat-raised-button","","color","accent",1,"m-1",3,"click"],["mat-raised-button","","disabled","",1,"m-1"],[1,"row"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",2,"width","30%"],["matInput","","placeholder","Search for sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sku"],["matColumnDef","name"],["matColumnDef","published"],["matColumnDef","featured"],["matColumnDef","visibility"],["matColumnDef","shortDescription"],["matColumnDef","description"],["matColumnDef","tax"],["matColumnDef","inStock"],["matColumnDef","weight"],["matColumnDef","length"],["matColumnDef","width"],["matColumnDef","height"],["matColumnDef","price"],["matColumnDef","reviews"],["matColumnDef","categories"],["matColumnDef","tags"],["matColumnDef","images"],["matColumnDef","parent"],["matColumnDef","attr1Name"],["matColumnDef","attr1Value"],["matColumnDef","attr1Visible"],["matColumnDef","attr2Name"],["matColumnDef","attr2Value"],["matColumnDef","attr2Visible"],["matColumnDef","attr3Name"],["matColumnDef","attr3Value"],["matColumnDef","attr3Visible"],["matColumnDef","attr4Name"],["matColumnDef","attr4Value"],["matColumnDef","attr4Visible"],["matColumnDef","attr5Name"],["matColumnDef","attr5Value"],["matColumnDef","attr5Visible"],["matColumnDef","attr6Name"],["matColumnDef","attr6Value"],["matColumnDef","attr6Visible"],["matColumnDef","attr7Name"],["matColumnDef","attr7Value"],["matColumnDef","attr7Visible"],["matColumnDef","attr8Name"],["matColumnDef","attr8Value"],["matColumnDef","attr8Visible"],["matColumnDef","attr9Name"],["matColumnDef","attr9Value"],["matColumnDef","attr9Visible"],["matColumnDef","attr10Name"],["matColumnDef","attr10Value"],["matColumnDef","attr10Visible"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){if(1&e){const m=t.EpF();t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Export Products\n"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return t.CHM(m),t.MAs(24).exportTable("csv",{fileName:"products_system"})}),t.TgZ(5,"mat-icon"),t._uU(6,"download"),t.qZA(),t._uU(7," Download CSV\n"),t.qZA(),t.TgZ(8,"button",2),t.TgZ(9,"mat-icon"),t._uU(10,"file_upload"),t.qZA(),t._uU(11," Import Products\n"),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"div",4),t.TgZ(14,"mat-form-field",5),t.TgZ(15,"mat-label"),t._uU(16,"Search"),t.qZA(),t.TgZ(17,"input",6,7),t.NdJ("keyup",function(q){return r.applyFilter(q)}),t.qZA(),t.TgZ(19,"mat-icon",8),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"div",9),t.YNc(22,wn,1,0,"mat-progress-bar",10),t.TgZ(23,"table",11,12),t.NdJ("matSortChange",function(q){return r.announceSortChange(q)}),t.ynx(25,13),t.YNc(26,qi,2,0,"th",14),t.YNc(27,Ri,2,0,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,sc,2,0,"th",14),t.YNc(30,cc,2,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,lc,2,0,"th",14),t.YNc(33,uc,2,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,hc,2,0,"th",14),t.YNc(36,dc,2,0,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,Zu,2,0,"th",14),t.YNc(39,Du,2,0,"td",15),t.BQk(),t.ynx(40,20),t.YNc(41,Iu,2,0,"th",14),t.YNc(42,Pl,2,0,"td",15),t.BQk(),t.ynx(43,21),t.YNc(44,ya,2,0,"th",14),t.YNc(45,Mu,2,1,"td",15),t.BQk(),t.ynx(46,22),t.YNc(47,Ou,2,0,"th",14),t.YNc(48,pc,2,1,"td",15),t.BQk(),t.ynx(49,23),t.YNc(50,zo,2,0,"th",14),t.YNc(51,Eu,2,0,"td",15),t.BQk(),t.ynx(52,24),t.YNc(53,Fu,2,0,"th",14),t.YNc(54,qu,2,0,"td",15),t.BQk(),t.ynx(55,25),t.YNc(56,fc,2,0,"th",14),t.YNc(57,Ru,2,0,"td",15),t.BQk(),t.ynx(58,26),t.YNc(59,Bu,2,0,"th",14),t.YNc(60,kl,2,0,"td",15),t.BQk(),t.ynx(61,27),t.YNc(62,ss,2,0,"th",14),t.YNc(63,Uu,2,0,"td",15),t.BQk(),t.ynx(64,28),t.YNc(65,ju,2,0,"th",14),t.YNc(66,Hu,2,0,"td",15),t.BQk(),t.ynx(67,29),t.YNc(68,Yo,2,0,"th",14),t.YNc(69,zu,2,0,"td",15),t.BQk(),t.ynx(70,30),t.YNc(71,Yu,2,0,"th",14),t.YNc(72,Sl,2,0,"td",15),t.BQk(),t.ynx(73,31),t.YNc(74,xa,2,0,"th",14),t.YNc(75,Ju,2,1,"td",15),t.BQk(),t.ynx(76,32),t.YNc(77,Vu,2,0,"th",14),t.YNc(78,Wu,1,0,"td",15),t.BQk(),t.ynx(79,33),t.YNc(80,Gu,2,0,"th",14),t.YNc(81,gc,2,1,"td",15),t.BQk(),t.ynx(82,34),t.YNc(83,Nl,2,0,"th",14),t.YNc(84,mc,1,0,"td",15),t.BQk(),t.ynx(85,35),t.YNc(86,_c,2,0,"th",14),t.YNc(87,Ll,2,1,"td",15),t.BQk(),t.ynx(88,36),t.YNc(89,wa,2,0,"th",14),t.YNc(90,vc,2,1,"td",15),t.BQk(),t.ynx(91,37),t.YNc(92,Qu,2,0,"th",14),t.YNc(93,$u,2,0,"td",15),t.BQk(),t.ynx(94,38),t.YNc(95,Ku,2,0,"th",14),t.YNc(96,Xu,2,1,"td",15),t.BQk(),t.ynx(97,39),t.YNc(98,Fe,2,0,"th",14),t.YNc(99,ls,2,1,"td",15),t.BQk(),t.ynx(100,40),t.YNc(101,hi,2,0,"th",14),t.YNc(102,us,2,0,"td",15),t.BQk(),t.ynx(103,41),t.YNc(104,bc,2,0,"th",14),t.YNc(105,Aa,2,1,"td",15),t.BQk(),t.ynx(106,42),t.YNc(107,Jo,2,0,"th",14),t.YNc(108,hs,2,1,"td",15),t.BQk(),t.ynx(109,43),t.YNc(110,Dr,2,0,"th",14),t.YNc(111,yc,2,0,"td",15),t.BQk(),t.ynx(112,44),t.YNc(113,ds,2,0,"th",14),t.YNc(114,Ca,2,1,"td",15),t.BQk(),t.ynx(115,45),t.YNc(116,Yi,2,0,"th",14),t.YNc(117,Ji,2,1,"td",15),t.BQk(),t.ynx(118,46),t.YNc(119,Vi,2,0,"th",14),t.YNc(120,Wi,2,0,"td",15),t.BQk(),t.ynx(121,47),t.YNc(122,xc,2,0,"th",14),t.YNc(123,Zl,2,1,"td",15),t.BQk(),t.ynx(124,48),t.YNc(125,wc,2,0,"th",14),t.YNc(126,Dl,2,1,"td",15),t.BQk(),t.ynx(127,49),t.YNc(128,Il,2,0,"th",14),t.YNc(129,ps,2,0,"td",15),t.BQk(),t.ynx(130,50),t.YNc(131,Ml,2,0,"th",14),t.YNc(132,_r,2,1,"td",15),t.BQk(),t.ynx(133,51),t.YNc(134,fs,2,0,"th",14),t.YNc(135,Ac,2,1,"td",15),t.BQk(),t.ynx(136,52),t.YNc(137,ao,2,0,"th",14),t.YNc(138,so,2,0,"td",15),t.BQk(),t.ynx(139,53),t.YNc(140,Cc,2,0,"th",14),t.YNc(141,Vo,2,1,"td",15),t.BQk(),t.ynx(142,54),t.YNc(143,Tc,2,0,"th",14),t.YNc(144,vr,2,1,"td",15),t.BQk(),t.ynx(145,55),t.YNc(146,Ir,2,0,"th",14),t.YNc(147,Me,2,0,"td",15),t.BQk(),t.ynx(148,56),t.YNc(149,wi,2,0,"th",14),t.YNc(150,gs,2,1,"td",15),t.BQk(),t.ynx(151,57),t.YNc(152,Mr,2,0,"th",14),t.YNc(153,co,2,1,"td",15),t.BQk(),t.ynx(154,58),t.YNc(155,He,2,0,"th",14),t.YNc(156,br,2,0,"td",15),t.BQk(),t.ynx(157,59),t.YNc(158,nn,2,0,"th",14),t.YNc(159,Pc,2,1,"td",15),t.BQk(),t.ynx(160,60),t.YNc(161,zn,2,0,"th",14),t.YNc(162,Ol,2,1,"td",15),t.BQk(),t.ynx(163,61),t.YNc(164,El,2,0,"th",14),t.YNc(165,Fl,2,0,"td",15),t.BQk(),t.ynx(166,62),t.YNc(167,Pi,2,0,"th",14),t.YNc(168,ki,2,1,"td",15),t.BQk(),t.ynx(169,63),t.YNc(170,Si,2,0,"th",14),t.YNc(171,ql,2,1,"td",15),t.BQk(),t.ynx(172,64),t.YNc(173,Rl,2,0,"th",14),t.YNc(174,ms,2,0,"td",15),t.BQk(),t.YNc(175,Ta,1,0,"tr",65),t.YNc(176,Bl,1,0,"tr",66),t.YNc(177,Ul,3,1,"tr",67),t.qZA(),t._UZ(178,"mat-paginator",68),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(22),t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("dataSource",r.dataSource),t.xp6(152),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,jl)))},directives:[yi.yS,Bt.lW,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ae.O5,Hn.pW,$t.BZ,gr.jt,De.YE,$t.w1,$t.fO,$t.ge,De.nU,$t.Dz,$t.ev,Ae.sg,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ne.NW],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 10px;line-break:unset;width:100%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{min-width:800px}.data[_ngcontent-%COMP%]{max-height:500px;overflow:auto}"]}),s})();var _s=ne(655),Pa=ne(659),Be=ne(3191),ka=ne(6360),vs=ne(7144);const An=["input"],Or=function(s){return{enterDuration:s}},Er=["*"],Fr=new t.OlP("mat-checkbox-default-options",{providedIn:"root",factory:lo});function lo(){return{color:"accent",clickAction:"check-indeterminate"}}let Oi=0;const uo=lo(),qr={provide:Gt.JU,useExisting:(0,t.Gpc)(()=>dn),multi:!0};class Sa{}const Wo=(0,tt.sb)((0,tt.pj)((0,tt.Kr)((0,tt.Id)(class{constructor(s){this._elementRef=s}}))));let dn=(()=>{class s extends Wo{constructor(e,r,m,x,q,rt,Vt){super(e),this._changeDetectorRef=r,this._focusMonitor=m,this._ngZone=x,this._animationMode=rt,this._options=Vt,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Oi,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new t.vpe,this.indeterminateChange=new t.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||uo,this.color=this.defaultColor=this._options.color||uo.color,this.tabIndex=parseInt(q)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=(0,Be.Ig)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const r=(0,Be.Ig)(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=(0,Be.Ig)(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=(0,Be.Ig)(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let r=this._currentCheckState,m=this._elementRef.nativeElement;if(r!==e&&(this._currentAnimationClass.length>0&&m.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){m.classList.add(this._currentAnimationClass);const x=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{m.classList.remove(x)},1e3)})}}_emitChangeEvent(){const e=new Sa;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var r;const m=null===(r=this._options)||void 0===r?void 0:r.clickAction;e.stopPropagation(),this.disabled||"noop"===m?!this.disabled&&"noop"===m&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==m&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,r){e?this._focusMonitor.focusVia(this._inputElement,e,r):this._inputElement.nativeElement.focus(r)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";let m="";switch(e){case 0:if(1===r)m="unchecked-checked";else{if(3!=r)return"";m="unchecked-indeterminate"}break;case 2:m=1===r?"unchecked-checked":"unchecked-indeterminate";break;case 1:m=2===r?"checked-unchecked":"checked-indeterminate";break;case 3:m=1===r?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${m}`}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Zi.tE),t.Y36(t.R0b),t.$8M("tabindex"),t.Y36(ka.Qb,8),t.Y36(Fr,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-checkbox"]],viewQuery:function(e,r){if(1&e&&(t.Gf(An,5),t.Gf(tt.wG,5)),2&e){let m;t.iGM(m=t.CRH())&&(r._inputElement=m.first),t.iGM(m=t.CRH())&&(r.ripple=m.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,r){2&e&&(t.Ikx("id",r.id),t.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),t.ekj("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[t._Bn([qr]),t.qOj],ngContentSelectors:Er,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1),t.TgZ(2,"span",2),t.TgZ(3,"input",3,4),t.NdJ("change",function(x){return r._onInteractionEvent(x)})("click",function(x){return r._onInputClick(x)}),t.qZA(),t.TgZ(5,"span",5),t._UZ(6,"span",6),t.qZA(),t._UZ(7,"span",7),t.TgZ(8,"span",8),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA(),t.kcU(),t._UZ(11,"span",11),t.qZA(),t.qZA(),t.TgZ(12,"span",12,13),t.NdJ("cdkObserveContent",function(){return r._onLabelTextChange()}),t.TgZ(14,"span",14),t._uU(15,"\xa0"),t.qZA(),t.Hsn(16),t.qZA(),t.qZA()),2&e){const m=t.MAs(1),x=t.MAs(13);t.uIk("for",r.inputId),t.xp6(2),t.ekj("mat-checkbox-inner-container-no-side-margin",!x.textContent||!x.textContent.trim()),t.xp6(1),t.Q6J("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),t.uIk("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),t.xp6(2),t.Q6J("matRippleTrigger",m)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",t.VKq(19,Or,"NoopAnimations"===r._animationMode?0:150))}},directives:[tt.wG,vs.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),s})(),kc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})(),Sc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[tt.si,tt.BQ,vs.Q8,kc],tt.BQ,kc]}),s})();function Nc(s,c){1&s&&(t.TgZ(0,"button",41),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function Lc(s,c){if(1&s&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Zc(s,c){1&s&&t._UZ(0,"mat-progress-bar",43)}function bs(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," ID "),t.qZA())}function Dc(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function zl(s,c){1&s&&t._UZ(0,"th",44)}function ys(s,c){if(1&s&&(t.TgZ(0,"td",45),t._UZ(1,"img",46),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.hYB("src","",r.storageUrl,"files/",e.sku,"/47/upload47.png",t.LSH)}}function Ic(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," SKU "),t.qZA())}function Yl(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function Mc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Name "),t.qZA())}function Oc(s,c){if(1&s&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function Jl(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Brand "),t.qZA())}function Ec(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("",e.brand," ")}}function Vl(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Description "),t.qZA())}function Wl(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Na(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Active "),t.qZA())}function Fc(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().iconClick(m.sku+" is active")}),t.TgZ(1,"mat-icon",50),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function qc(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",51),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function xs(s,c){if(1&s&&(t.TgZ(0,"td",45),t.YNc(1,Fc,3,0,"span",48),t.YNc(2,qc,3,0,"span",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function ho(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," In Development "),t.qZA())}function La(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().iconClick(m.sku+" is in development")}),t.TgZ(1,"mat-icon",52),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Rc(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",51),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Bc(s,c){if(1&s&&(t.TgZ(0,"td",45),t.YNc(1,La,3,0,"span",48),t.YNc(2,Rc,3,0,"span",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function Uc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," EOL "),t.qZA())}function Gl(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().iconClick(m.sku+" is in end of life")}),t.TgZ(1,"mat-icon",53),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Ql(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",51),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function jc(s,c){if(1&s&&(t.TgZ(0,"td",45),t.YNc(1,Gl,3,0,"span",48),t.YNc(2,Ql,3,0,"span",48),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function ws(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Updated "),t.qZA())}function Cn(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function Hc(s,c){1&s&&(t.TgZ(0,"th",44),t._uU(1," Created "),t.qZA())}function Tn(s,c){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function yr(s,c){1&s&&t._UZ(0,"th",44)}function $l(s,c){if(1&s&&(t.TgZ(0,"td",45),t.TgZ(1,"button",54),t._uU(2," View Details "),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.MGl("routerLink","../../",e.sku,"")}}function Kl(s,c){1&s&&t._UZ(0,"tr",55)}function Yn(s,c){1&s&&t._UZ(0,"tr",56)}function Xl(s,c){if(1&s&&(t.TgZ(0,"tr",57),t.TgZ(1,"td",58),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(24);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const zc=function(){return[10,25,50,100]};class Rr extends en._k{constructor(c,e,r,m,x,q,rt,Vt,i){super(),this.navbar=c,this.sideNav=e,this.topNav=r,this.treeNav=m,this.api=x,this.route=q,this._snackBar=rt,this._liveAnnouncer=Vt,this.info=i,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0}ngOnInit(){this.info.auth(),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllTypes(),this.getAllCategories()}ngAfterViewInit(){this.route.params.subscribe(c=>{this.urlParam=c.brand,this.brand=this.urlParam.toUpperCase(),this.getAllTypes()})}applyFilter(c){this.dataSource.filter=c.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(c){this.productsLoader=!0,this.api.GET(`products-by-brand/${c}`).subscribe({next:e=>{console.log("Products",e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}openSnackBar(c,e){this._snackBar.open(c,e)}announceSortChange(c){this._liveAnnouncer.announce(c.direction?`Sorted ${c.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:c=>{for(let e=0;e<c.length;e++)c[e].name.toLocaleLowerCase()==this.brand.toLocaleLowerCase()&&(console.log("Found type id",c[e].id),this.typeId=c[e].id,this.getAllProducts(this.typeId))},error:c=>{console.log(c)}})}getBrandName(c){let e=0;return e=parseInt(c)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(c){return console.log("Role check"),!!this.info.role(c)}iconClick(c){this.openSnackBar(c,"\u{1f609}")}filePath(c){return c.substring(7)}showDates(c){this.displayDates?this.displayedColumns=["id","thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"]}filterStatuses(c){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?r=>1==r.is_in_development&&1==r.is_active:this.activeProducts&&this.eolProducts?r=>1==r.is_active&&1==r.is_eol:this.developmentProducts&&this.eolProducts?r=>1==r.is_in_development&&1==r.is_eol:this.activeProducts?r=>1==r.is_active:this.developmentProducts?r=>1==r.is_in_development:r=>1==r.is_eol),this.table(e)}filterByCategory(c){console.log(c),this.api.GET(`products-by-category/${c.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:c=>{this.categoriesList=c},error:c=>{alert(c)}})}table(c){this.dataSource=new $t.by(c),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}Rr.\u0275fac=function(c){return new(c||Rr)(t.Y36(Xe.I),t.Y36(zi.Z),t.Y36(Xe.I),t.Y36(Xi.r),t.Y36(Ce.s),t.Y36(yi.gz),t.Y36(Rt.ux),t.Y36(Zi.Kd),t.Y36(se.C))},Rr.\u0275cmp=t.Xpm({type:Rr,selectors:[["app-list-products"]],viewQuery:function(c,e){if(1&c&&(t.Gf(Ne.NW,5),t.Gf(De.YE,5)),2&c){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first),t.iGM(r=t.CRH())&&(e.sort=r.first)}},features:[t.qOj],decls:92,vars:14,consts:[["routerLink","../../"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","","routerLink","products/export-csv",1,"m-1",2,"width","100%"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["color","accent","mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='http://127.0.0.1:8000/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(c,e){1&c&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",0),t._uU(3,"Products"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.YNc(7,Nc,4,0,"button",3),t.qZA(),t.TgZ(8,"div",2),t.TgZ(9,"button",4),t.TgZ(10,"mat-icon"),t._uU(11,"download_file"),t.qZA(),t._uU(12," Export CSV "),t.qZA(),t.qZA(),t.TgZ(13,"div",2),t.TgZ(14,"button",5),t.TgZ(15,"mat-icon"),t._uU(16,"wordpress"),t.qZA(),t._uU(17," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",1),t.TgZ(19,"div",6),t.TgZ(20,"mat-form-field",7),t.TgZ(21,"mat-label"),t._uU(22,"Filter"),t.qZA(),t.TgZ(23,"input",8,9),t.NdJ("keyup",function(m){return e.applyFilter(m)}),t.qZA(),t.TgZ(25,"mat-icon",10),t._uU(26,"filter_list"),t.qZA(),t.qZA(),t.TgZ(27,"mat-form-field",11),t.TgZ(28,"mat-label"),t._uU(29,"Categories"),t.qZA(),t.TgZ(30,"mat-select",12),t.NdJ("selectionChange",function(m){return e.filterByCategory(m)}),t.YNc(31,Lc,2,2,"mat-option",13),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.TgZ(33,"span",15),t.TgZ(34,"mat-checkbox",16),t.NdJ("ngModelChange",function(m){return e.displayDates=m})("change",function(m){return e.showDates(m)}),t._uU(35,"More info"),t.qZA(),t.qZA(),t.TgZ(36,"span",15),t.TgZ(37,"mat-checkbox",17),t.NdJ("ngModelChange",function(m){return e.eolProducts=m})("change",function(m){return e.filterStatuses(m)}),t._uU(38,"EOL"),t.qZA(),t.qZA(),t.TgZ(39,"span",15),t.TgZ(40,"mat-checkbox",17),t.NdJ("ngModelChange",function(m){return e.developmentProducts=m})("change",function(m){return e.filterStatuses(m)}),t._uU(41,"In Development"),t.qZA(),t.qZA(),t.TgZ(42,"span",15),t.TgZ(43,"mat-checkbox",17),t.NdJ("ngModelChange",function(m){return e.activeProducts=m})("change",function(m){return e.filterStatuses(m)}),t._uU(44,"Active"),t.qZA(),t.qZA(),t.TgZ(45,"span",15),t.TgZ(46,"mat-checkbox",17),t.NdJ("ngModelChange",function(m){return e.allProducts=m})("change",function(m){return e.filterStatuses(m)}),t._uU(47,"All"),t.qZA(),t.qZA(),t.YNc(48,Zc,1,0,"mat-progress-bar",18),t.TgZ(49,"table",19,20),t.NdJ("matSortChange",function(m){return e.announceSortChange(m)}),t.ynx(51,21),t.YNc(52,bs,2,0,"th",22),t.YNc(53,Dc,2,1,"td",23),t.BQk(),t.ynx(54,24),t.YNc(55,zl,1,0,"th",22),t.YNc(56,ys,2,2,"td",23),t.BQk(),t.ynx(57,25),t.YNc(58,Ic,2,0,"th",22),t.YNc(59,Yl,2,2,"td",26),t.BQk(),t.ynx(60,27),t.YNc(61,Mc,2,0,"th",22),t.YNc(62,Oc,2,2,"td",26),t.BQk(),t.ynx(63,28),t.YNc(64,Jl,2,0,"th",22),t.YNc(65,Ec,2,1,"td",23),t.BQk(),t.ynx(66,29),t.YNc(67,Vl,2,0,"th",22),t.YNc(68,Wl,2,1,"td",23),t.BQk(),t.ynx(69,30),t.YNc(70,Na,2,0,"th",22),t.YNc(71,xs,3,2,"td",23),t.BQk(),t.ynx(72,31),t.YNc(73,ho,2,0,"th",22),t.YNc(74,Bc,3,2,"td",23),t.BQk(),t.ynx(75,32),t.YNc(76,Uc,2,0,"th",22),t.YNc(77,jc,3,2,"td",23),t.BQk(),t.ynx(78,33),t.YNc(79,ws,2,0,"th",22),t.YNc(80,Cn,3,3,"td",23),t.BQk(),t.ynx(81,34),t.YNc(82,Hc,2,0,"th",22),t.YNc(83,Tn,3,3,"td",23),t.BQk(),t.ynx(84,35),t.YNc(85,yr,1,0,"th",22),t.YNc(86,$l,3,1,"td",23),t.BQk(),t.YNc(87,Kl,1,0,"tr",36),t.YNc(88,Yn,1,0,"tr",37),t.YNc(89,Xl,3,1,"tr",38),t.qZA(),t._UZ(90,"mat-paginator",39),t.qZA(),t.qZA(),t._UZ(91,"div",40),t.qZA(),t.qZA()),2&c&&(t.xp6(4),t.hij(" / Brand / ",e.brand," "),t.xp6(3),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(13,zc)))},directives:[yi.yS,Ae.O5,Bt.lW,yi.rH,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ct.gD,Ae.sg,tt.ey,dn,Gt.JJ,Gt.On,Hn.pW,$t.BZ,gr.jt,De.YE,$t.w1,$t.fO,$t.ge,De.nU,$t.Dz,$t.ev,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ne.NW],pipes:[Ae.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,_s.gn)([(0,Pa.bH)()],Rr.prototype,"blockUI",void 0);var Br=ne(520),rn=ne(925),li=ne(7579),po=ne(727),tu=ne(4986),eu=ne(5963),Yc=ne(6406),Jc=ne(8306),Jn=ne(6451),Ur=ne(2722),fo=ne(8675),Vc=ne(4004),or=ne(5698),a=ne(8505),n=ne(3900),o=ne(393),u=ne(226);function d(s,c,e){for(let r in c)if(c.hasOwnProperty(r)){const m=c[r];m?s.setProperty(r,m,(null==e?void 0:e.has(r))?"important":""):s.removeProperty(r)}return s}function h(s,c){const e=c?"":"none";d(s.style,{"touch-action":c?"":"none","-webkit-user-drag":c?"":"none","-webkit-tap-highlight-color":c?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function f(s,c,e){d(s.style,{position:c?"":"fixed",top:c?"":"0",opacity:c?"":"0",left:c?"":"-999em"},e)}function _(s,c){return c&&"none"!=c?s+" "+c:s}function v(s){const c=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*c}function T(s,c){return s.getPropertyValue(c).split(",").map(r=>r.trim())}function N(s){const c=s.getBoundingClientRect();return{top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height,x:c.x,y:c.y}}function Z(s,c,e){const{top:r,bottom:m,left:x,right:q}=s;return e>=r&&e<=m&&c>=x&&c<=q}function y(s,c,e){s.top+=c,s.bottom=s.top+s.height,s.left+=e,s.right=s.left+s.width}function R(s,c,e,r){const{top:m,right:x,bottom:q,left:rt,width:Vt,height:i}=s,l=Vt*c,g=i*c;return r>m-g&&r<q+g&&e>rt-l&&e<x+l}class M{constructor(c){this._document=c,this.positions=new Map}clear(){this.positions.clear()}cache(c){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),c.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:N(e)})})}handleScroll(c){const e=(0,rn.sA)(c),r=this.positions.get(e);if(!r)return null;const m=r.scrollPosition;let x,q;if(e===this._document){const i=this.getViewportScrollPosition();x=i.top,q=i.left}else x=e.scrollTop,q=e.scrollLeft;const rt=m.top-x,Vt=m.left-q;return this.positions.forEach((i,l)=>{i.clientRect&&e!==l&&e.contains(l)&&y(i.clientRect,rt,Vt)}),m.top=x,m.left=q,{top:rt,left:Vt}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function H(s){const c=s.cloneNode(!0),e=c.querySelectorAll("[id]"),r=s.nodeName.toLowerCase();c.removeAttribute("id");for(let m=0;m<e.length;m++)e[m].removeAttribute("id");return"canvas"===r?ut(s,c):("input"===r||"select"===r||"textarea"===r)&&X(s,c),I("canvas",s,c,ut),I("input, textarea, select",s,c,X),c}function I(s,c,e,r){const m=c.querySelectorAll(s);if(m.length){const x=e.querySelectorAll(s);for(let q=0;q<m.length;q++)r(m[q],x[q])}}let B=0;function X(s,c){"file"!==c.type&&(c.value=s.value),"radio"===c.type&&c.name&&(c.name=`mat-clone-${c.name}-${B++}`)}function ut(s,c){const e=c.getContext("2d");if(e)try{e.drawImage(s,0,0)}catch(r){}}const At=(0,rn.i$)({passive:!0}),Yt=(0,rn.i$)({passive:!1}),J=new Set(["position"]);class qt{constructor(c,e,r,m,x,q){this._config=e,this._document=r,this._ngZone=m,this._viewportRuler=x,this._dragDropRegistry=q,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new li.x,this._pointerMoveSubscription=po.w0.EMPTY,this._pointerUpSubscription=po.w0.EMPTY,this._scrollSubscription=po.w0.EMPTY,this._resizeSubscription=po.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new li.x,this.started=new li.x,this.released=new li.x,this.ended=new li.x,this.entered=new li.x,this.exited=new li.x,this.dropped=new li.x,this.moved=this._moveEvents,this._pointerDown=rt=>{if(this.beforeStarted.next(),this._handles.length){const Vt=this._getTargetHandle(rt);Vt&&!this._disabledHandles.has(Vt)&&!this.disabled&&this._initializeDragSequence(Vt,rt)}else this.disabled||this._initializeDragSequence(this._rootElement,rt)},this._pointerMove=rt=>{const Vt=this._getPointerPositionOnPage(rt);if(!this._hasStartedDragging){if(Math.abs(Vt.x-this._pickupPositionOnPage.x)+Math.abs(Vt.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const A=Date.now()>=this._dragStartTime+this._getDragStartDelay(rt),P=this._dropContainer;if(!A)return void this._endDragSequence(rt);(!P||!P.isDragging()&&!P.isReceiving())&&(rt.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(rt)))}return}rt.preventDefault();const i=this._getConstrainedPointerPosition(Vt);if(this._hasMoved=!0,this._lastKnownPointerPosition=Vt,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,Vt);else{const l=this._activeTransform;l.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,l.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(l.x,l.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:rt,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=rt=>{this._endDragSequence(rt)},this._nativeDragStart=rt=>{if(this._handles.length){const Vt=this._getTargetHandle(rt);Vt&&!this._disabledHandles.has(Vt)&&!this.disabled&&rt.preventDefault()}else this.disabled||rt.preventDefault()},this.withRootElement(c).withParent(e.parentDragRef||null),this._parentPositions=new M(r),q.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(c){const e=(0,Be.Ig)(c);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>h(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(c){this._handles=c.map(r=>(0,Be.fI)(r)),this._handles.forEach(r=>h(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(c){return this._previewTemplate=c,this}withPlaceholderTemplate(c){return this._placeholderTemplate=c,this}withRootElement(c){const e=(0,Be.fI)(c);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Yt),e.addEventListener("touchstart",this._pointerDown,At),e.addEventListener("dragstart",this._nativeDragStart,Yt)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(c){return this._boundaryElement=c?(0,Be.fI)(c):null,this._resizeSubscription.unsubscribe(),c&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(c){return this._parentDragRef=c,this}dispose(){var c,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(c=this._rootElement)||void 0===c||c.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(c){!this._disabledHandles.has(c)&&this._handles.indexOf(c)>-1&&(this._disabledHandles.add(c),h(c,!0))}enableHandle(c){this._disabledHandles.has(c)&&(this._disabledHandles.delete(c),h(c,this.disabled))}withDirection(c){return this._direction=c,this}_withDropContainer(c){this._dropContainer=c}getFreeDragPosition(){const c=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:c.x,y:c.y}}setFreeDragPosition(c){return this._activeTransform={x:0,y:0},this._passiveTransform.x=c.x,this._passiveTransform.y=c.y,this._dropContainer||this._applyRootElementTransform(c.x,c.y),this}withPreviewContainer(c){return this._previewContainer=c,this}_sortFromLastPointerPosition(){const c=this._lastKnownPointerPosition;c&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(c),c)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var c,e;null===(c=this._preview)||void 0===c||c.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var c,e;null===(c=this._placeholder)||void 0===c||c.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(c){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(c),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(c);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(c){O(c)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,m=r.parentNode,x=this._placeholder=this._createPlaceholderElement(),q=this._anchor=this._anchor||this._document.createComment(""),rt=this._getShadowRoot();m.insertBefore(q,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),f(r,!1,J),this._document.body.appendChild(m.replaceChild(x,r)),this._getPreviewInsertionPoint(m,rt).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(c,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),m=O(e),x=!m&&0!==e.button,q=this._rootElement,rt=(0,rn.sA)(e),Vt=!m&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),i=m?(0,Zi.yG)(e):(0,Zi.X6)(e);if(rt&&rt.draggable&&"mousedown"===e.type&&e.preventDefault(),r||x||Vt||i)return;if(this._handles.length){const b=q.style;this._rootElementTapHighlight=b.webkitTapHighlightColor||"",b.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(b=>this._updateOnScroll(b)),this._boundaryElement&&(this._boundaryRect=N(this._boundaryElement));const l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(c,e);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(c){f(this._rootElement,!0,J),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),m=this._getPointerPositionOnPage(c),x=this._getDragDistance(m),q=e._isOverContainer(m.x,m.y);this.ended.next({source:this,distance:x,dropPoint:m}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:q,distance:x,dropPoint:m}),e.drop(this,r,this._initialIndex,this._initialContainer,q,x,m),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:c,y:e},{x:r,y:m}){let x=this._initialContainer._getSiblingContainerFromPosition(this,c,e);!x&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(c,e)&&(x=this._initialContainer),x&&x!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=x,this._dropContainer.enter(this,c,e,x===this._initialContainer&&x.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:x,currentIndex:x.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,m),this._dropContainer._sortItem(this,c,e,this._pointerDirectionDelta),this._applyPreviewTransform(c-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const c=this._previewTemplate,e=this.previewClass,r=c?c.template:null;let m;if(r&&c){const x=c.matchSize?this._rootElement.getBoundingClientRect():null,q=c.viewContainer.createEmbeddedView(r,c.context);q.detectChanges(),m=Q(q,this._document),this._previewRef=q,c.matchSize?V(m,x):m.style.transform=It(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const x=this._rootElement;m=H(x),V(m,x.getBoundingClientRect()),this._initialTransform&&(m.style.transform=this._initialTransform)}return d(m.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},J),h(m,!1),m.classList.add("cdk-drag-preview"),m.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(x=>m.classList.add(x)):m.classList.add(e)),m}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const c=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(c.left,c.top);const e=function w(s){const c=getComputedStyle(s),e=T(c,"transition-property"),r=e.find(rt=>"transform"===rt||"all"===rt);if(!r)return 0;const m=e.indexOf(r),x=T(c,"transition-duration"),q=T(c,"transition-delay");return v(x[m])+v(q[m])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const m=q=>{var rt;(!q||(0,rn.sA)(q)===this._preview&&"transform"===q.propertyName)&&(null===(rt=this._preview)||void 0===rt||rt.removeEventListener("transitionend",m),r(),clearTimeout(x))},x=setTimeout(m,1.5*e);this._preview.addEventListener("transitionend",m)}))}_createPlaceholderElement(){const c=this._placeholderTemplate,e=c?c.template:null;let r;return e?(this._placeholderRef=c.viewContainer.createEmbeddedView(e,c.context),this._placeholderRef.detectChanges(),r=Q(this._placeholderRef,this._document)):r=H(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(c,e){const r=this._rootElement.getBoundingClientRect(),m=c===this._rootElement?null:c,x=m?m.getBoundingClientRect():r,q=O(e)?e.targetTouches[0]:e,rt=this._getViewportScrollPosition();return{x:x.left-r.left+(q.pageX-x.left-rt.left),y:x.top-r.top+(q.pageY-x.top-rt.top)}}_getPointerPositionOnPage(c){const e=this._getViewportScrollPosition(),r=O(c)?c.touches[0]||c.changedTouches[0]||{pageX:0,pageY:0}:c,m=r.pageX-e.left,x=r.pageY-e.top;if(this._ownerSVGElement){const q=this._ownerSVGElement.getScreenCTM();if(q){const rt=this._ownerSVGElement.createSVGPoint();return rt.x=m,rt.y=x,rt.matrixTransform(q.inverse())}}return{x:m,y:x}}_getConstrainedPointerPosition(c){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:m}=this.constrainPosition?this.constrainPosition(c,this):c;if("x"===this.lockAxis||"x"===e?m=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x,y:q}=this._pickupPositionInElement,rt=this._boundaryRect,{width:Vt,height:i}=this._getPreviewRect(),l=rt.top+q,g=rt.bottom-(i-q);r=E(r,rt.left+x,rt.right-(Vt-x)),m=E(m,l,g)}return{x:r,y:m}}_updatePointerDirectionDelta(c){const{x:e,y:r}=c,m=this._pointerDirectionDelta,x=this._pointerPositionAtLastDirectionChange,q=Math.abs(e-x.x),rt=Math.abs(r-x.y);return q>this._config.pointerDirectionChangeThreshold&&(m.x=e>x.x?1:-1,x.x=e),rt>this._config.pointerDirectionChangeThreshold&&(m.y=r>x.y?1:-1,x.y=r),m}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const c=this._handles.length>0||!this.isDragging();c!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=c,h(this._rootElement,c))}_removeRootElementListeners(c){c.removeEventListener("mousedown",this._pointerDown,Yt),c.removeEventListener("touchstart",this._pointerDown,At),c.removeEventListener("dragstart",this._nativeDragStart,Yt)}_applyRootElementTransform(c,e){const r=It(c,e),m=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=m.transform&&"none"!=m.transform?m.transform:""),m.transform=_(r,this._initialTransform)}_applyPreviewTransform(c,e){var r;const m=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,x=It(c,e);this._preview.style.transform=_(x,m)}_getDragDistance(c){const e=this._pickupPositionOnPage;return e?{x:c.x-e.x,y:c.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:c,y:e}=this._passiveTransform;if(0===c&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),m=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===m.width&&0===m.height)return;const x=r.left-m.left,q=m.right-r.right,rt=r.top-m.top,Vt=m.bottom-r.bottom;r.width>m.width?(x>0&&(c+=x),q>0&&(c-=q)):c=0,r.height>m.height?(rt>0&&(e+=rt),Vt>0&&(e-=Vt)):e=0,(c!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:c})}_getDragStartDelay(c){const e=this.dragStartDelay;return"number"==typeof e?e:O(c)?e.touch:e?e.mouse:0}_updateOnScroll(c){const e=this._parentPositions.handleScroll(c);if(e){const r=(0,rn.sA)(c);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&y(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var c;return(null===(c=this._parentPositions.positions.get(this._document))||void 0===c?void 0:c.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,rn.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(c,e){const r=this._previewContainer||"global";if("parent"===r)return c;if("global"===r){const m=this._document;return e||m.fullscreenElement||m.webkitFullscreenElement||m.mozFullScreenElement||m.msFullscreenElement||m.body}return(0,Be.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(c){return this._handles.find(e=>c.target&&(c.target===e||e.contains(c.target)))}}function It(s,c){return`translate3d(${Math.round(s)}px, ${Math.round(c)}px, 0)`}function E(s,c,e){return Math.max(c,Math.min(e,s))}function O(s){return"t"===s.type[0]}function Q(s,c){const e=s.rootNodes;if(1===e.length&&e[0].nodeType===c.ELEMENT_NODE)return e[0];const r=c.createElement("div");return e.forEach(m=>r.appendChild(m)),r}function V(s,c){s.style.width=`${c.width}px`,s.style.height=`${c.height}px`,s.style.transform=It(c.left,c.top)}function Pt(s,c,e){const r=pt(c,s.length-1),m=pt(e,s.length-1);if(r===m)return;const x=s[r],q=m<r?-1:1;for(let rt=r;rt!==m;rt+=q)s[rt]=s[rt+q];s[m]=x}function pt(s,c){return Math.max(0,Math.min(c,s))}class de{constructor(c,e,r,m,x){this._dragDropRegistry=e,this._ngZone=m,this._viewportRuler=x,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new li.x,this.entered=new li.x,this.exited=new li.x,this.dropped=new li.x,this.sorted=new li.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=po.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new li.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function iu(s=0,c=tu.z){return s<0&&(s=0),(0,eu.H)(s,s,c)}(0,Yc.Z).pipe((0,Ur.R)(this._stopScrollTimers)).subscribe(()=>{const q=this._scrollNode,rt=this.autoScrollStep;1===this._verticalScrollDirection?q.scrollBy(0,-rt):2===this._verticalScrollDirection&&q.scrollBy(0,rt),1===this._horizontalScrollDirection?q.scrollBy(-rt,0):2===this._horizontalScrollDirection&&q.scrollBy(rt,0)})},this.element=(0,Be.fI)(c),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new M(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(c,e,r,m){let x;this._draggingStarted(),null==m?(x=this.sortingDisabled?this._draggables.indexOf(c):-1,-1===x&&(x=this._getItemIndexFromPointerPosition(c,e,r))):x=m;const q=this._activeDraggables,rt=q.indexOf(c),Vt=c.getPlaceholderElement();let i=q[x];if(i===c&&(i=q[x+1]),!i&&(null==x||-1===x||x<q.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(i=q[0]),rt>-1&&q.splice(rt,1),i&&!this._dragDropRegistry.isDragging(i)){const l=i.getRootElement();l.parentElement.insertBefore(Vt,l),q.splice(x,0,c)}else(0,Be.fI)(this.element).appendChild(Vt),q.push(c);Vt.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:c,container:this,currentIndex:this.getItemIndex(c)})}exit(c){this._reset(),this.exited.next({item:c,container:this})}drop(c,e,r,m,x,q,rt){this._reset(),this.dropped.next({item:c,currentIndex:e,previousIndex:r,container:this,previousContainer:m,isPointerOverContainer:x,distance:q,dropPoint:rt})}withItems(c){const e=this._draggables;return this._draggables=c,c.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(m=>m.isDragging()).every(m=>-1===c.indexOf(m))?this._reset():this._cacheItems()),this}withDirection(c){return this._direction=c,this}connectedTo(c){return this._siblings=c.slice(),this}withOrientation(c){return this._orientation=c,this}withScrollableParents(c){const e=(0,Be.fI)(this.element);return this._scrollableElements=-1===c.indexOf(e)?[e,...c]:c.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(c){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===c):this._draggables.indexOf(c)}isReceiving(){return this._activeSiblings.size>0}_sortItem(c,e,r,m){if(this.sortingDisabled||!this._clientRect||!R(this._clientRect,.05,e,r))return;const x=this._itemPositions,q=this._getItemIndexFromPointerPosition(c,e,r,m);if(-1===q&&x.length>0)return;const rt="horizontal"===this._orientation,Vt=x.findIndex(L=>L.drag===c),i=x[q],g=i.clientRect,b=Vt>q?1:-1,A=this._getItemOffsetPx(x[Vt].clientRect,g,b),P=this._getSiblingOffsetPx(Vt,x,b),k=x.slice();Pt(x,Vt,q),this.sorted.next({previousIndex:Vt,currentIndex:q,container:this,item:c}),x.forEach((L,D)=>{if(k[D]===L)return;const F=L.drag===c,G=F?A:P,lt=F?c.getPlaceholderElement():L.drag.getRootElement();L.offset+=G,rt?(lt.style.transform=_(`translate3d(${Math.round(L.offset)}px, 0, 0)`,L.initialTransform),y(L.clientRect,0,G)):(lt.style.transform=_(`translate3d(0, ${Math.round(L.offset)}px, 0)`,L.initialTransform),y(L.clientRect,G,0))}),this._previousSwap.overlaps=Z(g,e,r),this._previousSwap.drag=i.drag,this._previousSwap.delta=rt?m.x:m.y}_startScrollingIfNecessary(c,e){if(this.autoScrollDisabled)return;let r,m=0,x=0;if(this._parentPositions.positions.forEach((q,rt)=>{rt===this._document||!q.clientRect||r||R(q.clientRect,.05,c,e)&&([m,x]=function z(s,c,e,r){const m=S(c,r),x=j(c,e);let q=0,rt=0;if(m){const Vt=s.scrollTop;1===m?Vt>0&&(q=1):s.scrollHeight-Vt>s.clientHeight&&(q=2)}if(x){const Vt=s.scrollLeft;1===x?Vt>0&&(rt=1):s.scrollWidth-Vt>s.clientWidth&&(rt=2)}return[q,rt]}(rt,q.clientRect,c,e),(m||x)&&(r=rt))}),!m&&!x){const{width:q,height:rt}=this._viewportRuler.getViewportSize(),Vt={width:q,height:rt,top:0,right:q,bottom:rt,left:0};m=S(Vt,e),x=j(Vt,c),r=window}r&&(m!==this._verticalScrollDirection||x!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=m,this._horizontalScrollDirection=x,this._scrollNode=r,(m||x)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const c=(0,Be.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=c.msScrollSnapType||c.scrollSnapType||"",c.scrollSnapType=c.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const c=(0,Be.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(c).clientRect}_cacheItemPositions(){const c="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:N(r)}}).sort((e,r)=>c?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const c=(0,Be.fI)(this.element).style;c.scrollSnapType=c.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var r;const m=e.getRootElement();if(m){const x=null===(r=this._itemPositions.find(q=>q.drag===e))||void 0===r?void 0:r.initialTransform;m.style.transform=x||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(c,e,r){const m="horizontal"===this._orientation,x=e[c].clientRect,q=e[c+-1*r];let rt=x[m?"width":"height"]*r;if(q){const Vt=m?"left":"top",i=m?"right":"bottom";-1===r?rt-=q.clientRect[Vt]-x[i]:rt+=x[Vt]-q.clientRect[i]}return rt}_getItemOffsetPx(c,e,r){const m="horizontal"===this._orientation;let x=m?e.left-c.left:e.top-c.top;return-1===r&&(x+=m?e.width-c.width:e.height-c.height),x}_shouldEnterAsFirstChild(c,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,m="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const q=r[r.length-1].clientRect;return m?c>=q.right:e>=q.bottom}{const q=r[0].clientRect;return m?c<=q.left:e<=q.top}}_getItemIndexFromPointerPosition(c,e,r,m){const x="horizontal"===this._orientation,q=this._itemPositions.findIndex(({drag:rt,clientRect:Vt})=>{if(rt===c)return!1;if(m){const i=x?m.x:m.y;if(rt===this._previousSwap.drag&&this._previousSwap.overlaps&&i===this._previousSwap.delta)return!1}return x?e>=Math.floor(Vt.left)&&e<Math.floor(Vt.right):r>=Math.floor(Vt.top)&&r<Math.floor(Vt.bottom)});return-1!==q&&this.sortPredicate(q,c,this)?q:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(c,e){return null!=this._clientRect&&Z(this._clientRect,c,e)}_getSiblingContainerFromPosition(c,e,r){return this._siblings.find(m=>m._canReceive(c,e,r))}_canReceive(c,e,r){if(!this._clientRect||!Z(this._clientRect,e,r)||!this.enterPredicate(c,this))return!1;const m=this._getShadowRoot().elementFromPoint(e,r);if(!m)return!1;const x=(0,Be.fI)(this.element);return m===x||x.contains(m)}_startReceiving(c,e){const r=this._activeSiblings;!r.has(c)&&e.every(m=>this.enterPredicate(m,this)||this._draggables.indexOf(m)>-1)&&(r.add(c),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(c){this._activeSiblings.delete(c),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(c=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(c);e&&(this._itemPositions.forEach(({clientRect:r})=>{y(r,e.top,e.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const c=(0,rn.kV)((0,Be.fI)(this.element));this._cachedShadowRoot=c||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const c=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,c))}}function S(s,c){const{top:e,bottom:r,height:m}=s,x=.05*m;return c>=e-x&&c<=e+x?1:c>=r-x&&c<=r+x?2:0}function j(s,c){const{left:e,right:r,width:m}=s,x=.05*m;return c>=e-x&&c<=e+x?1:c>=r-x&&c<=r+x?2:0}const $=(0,rn.i$)({passive:!1,capture:!0});let ot=(()=>{class s{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=m=>m.isDragging(),this.pointerMove=new li.x,this.pointerUp=new li.x,this.scroll=new li.x,this._preventDefaultWhileDragging=m=>{this._activeDragInstances.length>0&&m.preventDefault()},this._persistentTouchmoveListener=m=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&m.preventDefault(),this.pointerMove.next(m))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,$)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,$)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const m=r.type.startsWith("touch");this._globalListeners.set(m?"touchend":"mouseup",{handler:x=>this.pointerUp.next(x),options:!0}).set("scroll",{handler:x=>this.scroll.next(x),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:$}),m||this._globalListeners.set("mousemove",{handler:x=>this.pointerMove.next(x),options:$}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((x,q)=>{this._document.addEventListener(q,x.handler,x.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new Jc.y(m=>this._ngZone.runOutsideAngular(()=>{const q=rt=>{this._activeDragInstances.length&&m.next(rt)};return e.addEventListener("scroll",q,!0),()=>{e.removeEventListener("scroll",q,!0)}}))),(0,Jn.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(t.R0b),t.LFG(Ae.K0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let vt=(()=>{class s{constructor(e,r,m,x){this._document=e,this._ngZone=r,this._viewportRuler=m,this._dragDropRegistry=x}createDrag(e,r=mt){return new qt(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new de(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(Ae.K0),t.LFG(t.R0b),t.LFG(o.rL),t.LFG(ot))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xt=new t.OlP("CDK_DRAG_PARENT"),oe=new t.OlP("CdkDropListGroup"),pe=new t.OlP("CDK_DRAG_CONFIG");let qe=0;const Dt=new t.OlP("CdkDropList");let Y=(()=>{class s{constructor(e,r,m,x,q,rt,Vt){this.element=e,this._changeDetectorRef=m,this._scrollDispatcher=x,this._dir=q,this._group=rt,this._destroyed=new li.x,this.connectedTo=[],this.id="cdk-drop-list-"+qe++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(e),this._dropListRef.data=this,Vt&&this._assignDefaults(Vt),this._dropListRef.enterPredicate=(i,l)=>this.enterPredicate(i.data,l.data),this._dropListRef.sortPredicate=(i,l,g)=>this.sortPredicate(i,l.data,g.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),s._dropLists.push(this),rt&&rt._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,Be.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=s._dropLists.indexOf(this);e>-1&&s._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,fo.O)(this._dir.value),(0,Ur.R)(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{const r=(0,Be.Eq)(this.connectedTo).map(m=>"string"==typeof m?s._dropLists.find(q=>q.id===m):m);if(this._group&&this._group._items.forEach(m=>{-1===r.indexOf(m)&&r.push(m)}),!this._scrollableParentsResolved){const m=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(x=>x.getElementRef().nativeElement);this._dropListRef.withScrollableParents(m),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=(0,Be.Ig)(this.sortingDisabled),e.autoScrollDisabled=(0,Be.Ig)(this.autoScrollDisabled),e.autoScrollStep=(0,Be.su)(this.autoScrollStep,2),e.connectedTo(r.filter(m=>m&&m!==this).map(m=>m._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:r,draggingDisabled:m,sortingDisabled:x,listAutoScrollDisabled:q,listOrientation:rt}=e;this.disabled=null!=m&&m,this.sortingDisabled=null!=x&&x,this.autoScrollDisabled=null!=q&&q,this.orientation=rt||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return s._dropLists=[],s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(vt),t.Y36(t.sBO),t.Y36(o.mF),t.Y36(u.Is,8),t.Y36(oe,12),t.Y36(pe,8))},s.\u0275dir=t.lG2({type:s,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){2&e&&(t.uIk("id",r.id),t.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[t._Bn([{provide:oe,useValue:void 0},{provide:Dt,useExisting:s}])]}),s})();const ze=new t.OlP("CdkDragHandle"),ee=new t.OlP("CdkDragPlaceholder"),fe=new t.OlP("CdkDragPreview");let Ue=(()=>{class s{constructor(e,r,m,x,q,rt,Vt,i,l,g,b){this.element=e,this.dropContainer=r,this._ngZone=x,this._viewContainerRef=q,this._dir=Vt,this._changeDetectorRef=l,this._selfHandle=g,this._parentDrag=b,this._destroyed=new li.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new Jc.y(A=>{const P=this._dragRef.moved.pipe((0,Vc.U)(k=>({source:this,pointerPosition:k.pointerPosition,event:k.event,delta:k.delta,distance:k.distance}))).subscribe(A);return()=>{P.unsubscribe()}}),this._dragRef=i.createDrag(e,{dragStartThreshold:rt&&null!=rt.dragStartThreshold?rt.dragStartThreshold:5,pointerDirectionChangeThreshold:rt&&null!=rt.pointerDirectionChangeThreshold?rt.pointerDirectionChangeThreshold:5,zIndex:null==rt?void 0:rt.zIndex}),this._dragRef.data=this,s._dragInstances.push(this),rt&&this._assignDefaults(rt),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,Be.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,or.q)(1),(0,Ur.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,m=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),m&&!m.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=s._dragInstances.indexOf(this);e>-1&&s._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const r=this.element.nativeElement;let m=r;this.rootElementSelector&&(m=void 0!==r.closest?r.closest(this.rootElementSelector):null===(e=r.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(m||r)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,Be.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,m=this.dragStartDelay,x=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,q=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof m&&m?m:(0,Be.su)(m),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(x).withPreviewTemplate(q).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe((0,or.q)(1)).subscribe(()=>{var r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let m=this.element.nativeElement.parentElement;for(;m;){if(m.classList.contains("cdk-drag")){e.withParent((null===(r=s._dragInstances.find(x=>x.element.nativeElement===m))||void 0===r?void 0:r._dragRef)||null);break}m=m.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:m,constrainPosition:x,previewClass:q,boundaryElement:rt,draggingDisabled:Vt,rootElementSelector:i,previewContainer:l}=e;this.disabled=null!=Vt&&Vt,this.dragStartDelay=m||0,r&&(this.lockAxis=r),x&&(this.constrainPosition=x),q&&(this.previewClass=q),rt&&(this.boundaryElement=rt),i&&(this.rootElementSelector=i),l&&(this.previewContainer=l)}_setupHandlesListener(){this._handles.changes.pipe((0,fo.O)(this._handles),(0,a.b)(e=>{const r=e.filter(m=>m._parentDrag===this).map(m=>m.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,n.w)(e=>(0,Jn.T)(...e.map(r=>r._stateChanges.pipe((0,fo.O)(r))))),(0,Ur.R)(this._destroyed)).subscribe(e=>{const r=this._dragRef,m=e.element.nativeElement;e.disabled?r.disableHandle(m):r.enableHandle(m)})}}return s._dragInstances=[],s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Dt,12),t.Y36(Ae.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(pe,8),t.Y36(u.Is,8),t.Y36(vt),t.Y36(t.sBO),t.Y36(ze,10),t.Y36(xt,12))},s.\u0275dir=t.lG2({type:s,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,m){if(1&e&&(t.Suo(m,fe,5),t.Suo(m,ee,5),t.Suo(m,ze,5)),2&e){let x;t.iGM(x=t.CRH())&&(r._previewTemplate=x.first),t.iGM(x=t.CRH())&&(r._placeholderTemplate=x.first),t.iGM(x=t.CRH())&&(r._handles=x)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&t.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[t._Bn([{provide:xt,useExisting:s}]),t.TTD]}),s})(),Ve=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[vt],imports:[o.ZD]}),s})(),Qe=(()=>{class s{transform(e,r){let m=[];for(let x=0;x<e.length;x++)e[x].grouping==r&&m.push(e[x]);return m}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.Yjl({name:"typeGroup",type:s,pure:!0}),s})();function ni(s,c){1&s&&(t.TgZ(0,"div",68),t._uU(1,"Enter a valid SKU"),t.qZA())}function ui(s,c){1&s&&(t.TgZ(0,"div",69),t._uU(1,"\u2714"),t.qZA())}function Re(s,c){if(1&s&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function $e(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(7).checkedItem(x.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e.name)}}function ge(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(6).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,$e,3,1,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(6);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function Gi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(5).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,ge,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(5);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function ri(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(4).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Gi,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function Pn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(3).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,ri,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function di(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(2).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Pn,6,5,"li",35),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,2,r.categoriesList,e.id))}}function bi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",71),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",72),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw().checkedItem(x.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,di,6,5,"li",35),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw();t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,r.categoriesList,e.id))}}function Vn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(2,"Save Categories"),t.qZA(),t.qZA()}}function ai(s,c){1&s&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"mat-icon"),t._uU(3,"warning"),t.qZA(),t._uU(4," Please save product first."),t.qZA(),t.TgZ(5,"button",74),t._uU(6,"Save Categories"),t.qZA(),t.qZA())}function jr(s,c){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.attrName)}}function Ai(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"div",75),t.TgZ(2,"mat-grid-list",76),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",77),t.TgZ(5,"mat-label"),t._uU(6,"Attribute Name"),t.qZA(),t._UZ(7,"input",78),t.qZA(),t.qZA(),t.TgZ(8,"mat-grid-tile"),t.TgZ(9,"mat-form-field",77),t.TgZ(10,"mat-label"),t._uU(11,"Attribute Value"),t.qZA(),t._UZ(12,"input",79),t.qZA(),t.qZA(),t._UZ(13,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function kn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"button",80),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveAttributes("new")}),t._uU(3),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(3),t.Oqu(e.saveAttrBtnText)}}function ar(s,c){if(1&s&&(t.TgZ(0,"mat-option",70),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ci(s,c){if(1&s&&(t.TgZ(0,"option",70),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ye(s,c){1&s&&(t.TgZ(0,"div",81),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function si(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function Hr(s,c){if(1&s&&(t.TgZ(0,"div",82),t.YNc(1,si,3,1,"ul",41),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Hi(s,c){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function Wn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",86),t.NdJ("onSelectionChange",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw().updateFileType(m.id,m.type_id)}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Gn(s,c){if(1&s&&(t.TgZ(0,"div",83),t.TgZ(1,"div",1),t.TgZ(2,"div",51),t._UZ(3,"img",84),t.qZA(),t.TgZ(4,"div",59),t.TgZ(5,"mat-form-field",8),t.TgZ(6,"mat-label"),t._uU(7,"Image Type"),t.qZA(),t.TgZ(8,"mat-select"),t.YNc(9,Wn,2,2,"mat-option",85),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(3),t.s9C("alt",e.path),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH),t.xp6(6),t.Q6J("ngForOf",t.xi3(10,3,r.typesList,"Image"))}}function Oe(s,c){if(1&s&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.qZA()),2&s){const e=c.$implicit,r=t.oxw();t.xp6(1),t.s9C("alt",e.path),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH)}}function Sn(s,c){1&s&&(t.TgZ(0,"div",81),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Qn(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function on(s,c){if(1&s&&(t.TgZ(0,"div",82),t.YNc(1,Qn,3,1,"ul",41),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Ei(s,c){1&s&&(t.TgZ(0,"button",89),t._uU(1," Done "),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA(),t.qZA())}let Di=(()=>{class s{constructor(e,r,m,x,q){this.navbar=e,this.api=r,this.formBuilder=m,this._snackBar=x,this.info=q,this.productsList=[],this.categoriesList=[],this.selectedCategories=[],this.typesList=[],this.displayedColumns=["id","sku","name","brand","description"],this.panelOpenState=!1,this.panelOpenStateVariations=!1,this.categoriesLoader=!1,this.typesLoader=!1,this.parent=!1,this.frontImage=!1,this.newProductId=0,this.newProductSKU="",this.newProductName="",this.shortLink="",this.loading=!1,this.files=[],this.images=[],this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.focusType="47",this.newProductCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save and Continue",this.disableSaveAttrBtn=!1,this.activeTabIndex=0,this.nextBtn=!1,this.prevBtn=!1,this.doneBtn=!1,this.savedFiles=[],this.skuPattern="^[a-zA-Z0-9_-]{4,12}$",this.invalidSku=!0}ngOnInit(){this.info.auth(),this.attrCount=0,this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.getAllTypes(),this.getAllCategories(),window.addEventListener("beforeunload",function(e){return e.returnValue="","o/"}),this.newProductForm=this.formBuilder.group({sku:["",[Gt.kI.required,Gt.kI.pattern(this.skuPattern)]],name:["",Gt.kI.required],brand_type_id:["",Gt.kI.required],description:["",Gt.kI.required],short_description:["",Gt.kI.required],parent_id:[0,Gt.kI.required],is_eol:[0,Gt.kI.required],is_in_development:[0,Gt.kI.required],is_active:[0,Gt.kI.required]}),this.newProductFormPackaging=this.formBuilder.group({weight:["",Gt.kI.required],length:["",Gt.kI.required],width:["",Gt.kI.required],height:["",Gt.kI.required],packaging_type_id:["",Gt.kI.required],product_id:[this.newProductId,Gt.kI.required]}),this.newProductFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])})}get attributes(){return this.newProductFormAttributes.get("attributes")}get sku(){return this.newProductForm.get("sku")}setParent(){this.parent=!0,console.log(this.parent)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllCategories(){this.categoriesLoader=!0,this.api.GET("categories").subscribe({next:e=>{this.categoriesLoader=!1,this.categoriesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getAllTypes(){this.categoriesLoader=!0,this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.typesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}saveProduct(){this.api.POST("products",this.newProductForm.value).subscribe({next:e=>{this.newProductId=e.id,this.newProductSKU=e.sku,this.newProductName=e.name,this.newProductFormPackaging.patchValue({product_id:e.id}),this.info.activity("Added new product",this.newProductId),this.openSnackBar(e.name+" Added \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}saveCategories(){const e=this.selectedCategories;if(e.length>0){for(let r=0;r<e.length;r++)this.api.POST("product-categories",{product_id:this.newProductId,category_id:e[r]}).subscribe({next:m=>{this.prevBtn=!0,this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:m=>{this.openSnackBar("\u{1f622} "+m.message,"Okay")}});this.nextTab()}this.openSnackBar("Please choose categories","Okay")}saveAttributes(e){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let r=this.newProductFormAttributes.getRawValue();this.api.POST(`products/update-attributes/${this.newProductId}`,r).subscribe({next:m=>{console.log(m),this.saveAttrBtnText="Attributes Saved",this.openSnackBar("Attributes Saved","Okay"),this.nextBtn=!0,this.nextTab()},error:m=>{this.openSnackBar(m.message,"Okay")}})}savePackaging(){this.api.POST("packaging",this.newProductFormPackaging.value).subscribe({next:e=>{this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.nextTab()},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}returnTypeName(e){return this.typesList[e-=1].name}onChange(e){this.files=e.target.files,console.log(this.files);for(let r=0;r<this.files.length;r++)this.files[r].size>2e6&&this.messages.push("\u{1f6ab} "+this.files[r].name+" is too large!")}onUpload(e){if(this.loading=!this.loading,console.log("Files being uploaded: ",this.files.length),this.files.length>0)for(let r=0;r<this.files.length;r++)console.log("Uploading file "+this.files[r].name),this.api.upload("uploading-file-api",{file:this.files[r],name:this.files[r].name,product_id:this.newProductId,product_sku:this.newProductSKU,type_id:e}).subscribe(m=>{"object"==typeof m&&(this.shortLink=m.link,this.loading=!1),m.type===Br.dt.UploadProgress?(this.uploadProgress=Math.round(100*m.loaded/m.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`):m instanceof Br.Zn&&(this.messages.push(this.files[r].name+" ploaded the file successfully."),this.info.activity(`Added ${this.files.length} files`,this.newProductId)),this.getFiles()},m=>{this.uploadProgress=0,this.messages.push(this.files[r].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}setFocusType(e){this.focusType=e.target.value}openSnackBar(e,r){this._snackBar.open(e,r)}getProductCategories(){this.api.GET(`product-categories/search/${this.newProductId}`).subscribe({next:e=>{for(let r=0;r<e.length;r++){let m=JSON.parse(e[r].attributes);this.getParents(e[r].parent);for(let x=0;x<m.length;x++)if(-1===this.attributes.value.findIndex(rt=>rt.attrName===m[x].attrName)){const rt=this.formBuilder.group({attrName:[m[x].attrName,Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(rt),this.attrCount=this.attrCount+1}}},error:e=>{console.log(e)}})}getParents(e){this.api.GET(`categories/get-parents/${e}`).subscribe({next:r=>{console.log("From parents",r);for(let m=0;m<r.length;m++){let x=JSON.parse(r[m].attributes);for(let q=0;q<x.length;q++)if(-1===this.attributes.value.findIndex(Vt=>Vt.attrName===x[q].attrName)){const Vt=this.formBuilder.group({attrName:[x[q].attrName,Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(Vt),this.attrCount=this.attrCount+1}}},error:r=>{console.log(r)}})}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}nextTab(){this.activeTabIndex=(this.activeTabIndex+1)%6,this.doneBtn=this.activeTabIndex>4,2==this.activeTabIndex&&(this.nextBtn=!1)}previousTab(){this.activeTabIndex=(this.activeTabIndex-1)%6}done(){location.reload()}getFiles(){this.api.GET(`product-files/${this.newProductId}`).subscribe({next:e=>{this.savedFiles=e,this.getProductImageOrder()},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.newProductId}`).subscribe({next:e=>{if(e.length>0){const r=JSON.parse(e[0].order_list);let m=[];for(let x=0;x<r.length;x++){const q=r[x],rt=this.savedFiles.find(Vt=>Vt.id==q);m.push(rt)}this.savedFiles=m}},error:e=>{console.log(e)}})}drop(e){Pt(this.savedFiles,e.previousIndex,e.currentIndex);let r=[];for(let x=0;x<this.savedFiles.length;x++)r.push(this.savedFiles[x].id);const m=JSON.stringify(r);this.api.POST("image-order/",{product_id:this.newProductId,order_list:m}).subscribe({next:x=>{console.log(x),this.info.activity("Rearranged images",this.newProductId)},error:x=>{console.log(x)}})}updateFileType(e,r){this.api.POST(`product-files/update-fileType/${e}`,{type_id:r}).subscribe({next:m=>{console.log(m),this.info.activity("Updated file type",this.newProductId)},error:m=>{console.log(m)}})}filePath(e){return e.substring(7)}checkSku(e){var r;let m=null===(r=this.newProductForm.get("sku"))||void 0===r?void 0:r.status;this.invalidSku="invalid"==(null==m?void 0:m.toLocaleLowerCase())}checkedItem(e){const r=this.selectedCategories.indexOf(e);r<0?this.selectedCategories.push(e):this.selectedCategories.splice(r,1),console.log(this.selectedCategories)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(Xe.I),t.Y36(Ce.s),t.Y36(Gt.qu),t.Y36(Rt.ux),t.Y36(se.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-new-product"]],decls:181,vars:45,consts:[["routerLink","/"],[1,"row"],[1,"col-md-9"],[3,"selectedIndex","selectedIndexChange"],["label","1. General"],[3,"formGroup"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[1,"col-md-6"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Product Code / SKU",3,"keyup"],["sku",""],["matSuffix",""],["class","invalid",4,"ngIf"],["class","valid",4,"ngIf"],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[1,"m-3"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],["type","submit","mat-raised-button","","type","submit","color","primary",3,"disabled","click"],["label","2. Select Categories"],[1,"row","form-border"],[1,"col-md-6",2,"background-color","rgb(241, 241, 241)"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],[4,"ngIf"],["disabled","","label","3. Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],[4,"ngFor","ngForIn"],["formArrayName","attributes"],[4,"ngFor","ngForOf"],["disabled","","label","4. Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],["type","hidden","formControlName","product_id"],["disabled","","label","5. Upload Files"],[1,"col-md-4"],[1,"form-control",3,"change"],["type","file","multiple","",1,"form-control",3,"change"],["mat-raised-button","","color","primary",3,"click"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[1,"col-md-8"],["disabled","","label","6. Upload Media"],[1,"col-md-3"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box","cdkDrag","",4,"ngFor","ngForOf"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-4","form-border"],["mat-raised-button","","type","button","class","switch-tab","color","primary","routerLink","/",4,"ngIf"],["mat-raised-button","","type","button","color","basic",1,"switch-tab",3,"disabled","click"],[1,"invalid"],[1,"valid"],[3,"value"],[1,"categories-list"],[3,"click"],["mat-raised-button","","type","submit","color","primary",3,"click"],["mat-raised-button","","disabled",""],[3,"formGroupName"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required","","readonly",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"click"],[1,"container"],[1,"message"],["cdkDrag","",1,"file-box"],["width","304","height","236",1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],[1,"col-md-2"],["width","140","height","160",1,"tile-img",3,"alt","src"],["mat-raised-button","","type","button","color","primary","routerLink","/",1,"switch-tab"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"a",0),t._uU(2,"Products"),t.qZA(),t._uU(3," / Add New Product"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"div",2),t.TgZ(6,"mat-card"),t.TgZ(7,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(x){return r.activeTabIndex=x}),t.TgZ(8,"mat-tab",4),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t.TgZ(11,"div",1),t.TgZ(12,"div",7),t.TgZ(13,"mat-form-field",8),t.TgZ(14,"mat-label"),t._uU(15,"SKU"),t.qZA(),t.TgZ(16,"input",9,10),t.NdJ("keyup",function(x){return r.checkSku(x)}),t.qZA(),t.TgZ(18,"mat-icon",11),t._uU(19,"qr_code_2"),t.qZA(),t.YNc(20,ni,2,0,"div",12),t.YNc(21,ui,2,0,"div",13),t.qZA(),t.TgZ(22,"mat-form-field",8),t.TgZ(23,"mat-label"),t._uU(24,"Product Name"),t.qZA(),t._UZ(25,"input",14,15),t.TgZ(27,"mat-icon",11),t._uU(28,"create"),t.qZA(),t.qZA(),t.TgZ(29,"mat-form-field",8),t.TgZ(30,"mat-label"),t._uU(31,"Product Brand"),t.qZA(),t.TgZ(32,"mat-select",16,17),t.YNc(34,Re,2,2,"mat-option",18),t.ALo(35,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",8),t.TgZ(37,"mat-label"),t._uU(38,"Short Description"),t.qZA(),t._UZ(39,"textarea",19,20),t.qZA(),t.TgZ(41,"mat-form-field",8),t.TgZ(42,"mat-label"),t._uU(43,"Description"),t.qZA(),t._UZ(44,"textarea",21,22),t.qZA(),t.qZA(),t.TgZ(46,"div",7),t.TgZ(47,"div",23),t.TgZ(48,"mat-checkbox",24,25),t._uU(50,"Is in development"),t.qZA(),t._UZ(51,"br"),t.TgZ(52,"mat-checkbox",26,27),t._uU(54,"Is EOL"),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"mat-checkbox",28,29),t._uU(58,"Is Active"),t.qZA(),t._UZ(59,"hr"),t.TgZ(60,"button",30),t.NdJ("click",function(){return r.saveProduct()}),t._uU(61,"Save New Product"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"mat-tab",31),t.TgZ(63,"div",6),t.TgZ(64,"form"),t.TgZ(65,"div",32),t.TgZ(66,"div",33),t.TgZ(67,"section",34),t.TgZ(68,"ul"),t.YNc(69,bi,8,5,"li",35),t.ALo(70,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(71,"div",7),t.YNc(72,Vn,3,0,"div",36),t.YNc(73,ai,7,0,"div",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"mat-tab",37),t.TgZ(75,"div",38),t.TgZ(76,"ul"),t.YNc(77,jr,2,1,"li",39),t.qZA(),t.TgZ(78,"form",5),t.ynx(79,40),t.YNc(80,Ai,14,1,"ng-container",41),t.BQk(),t.YNc(81,kn,4,1,"div",36),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"mat-tab",42),t.TgZ(83,"form",5),t.TgZ(84,"div",6),t.TgZ(85,"div",32),t.TgZ(86,"div",7),t.TgZ(87,"mat-form-field",43),t.TgZ(88,"mat-label"),t._uU(89,"Choose Packaging Type:"),t.qZA(),t.TgZ(90,"mat-select",44),t.YNc(91,ar,2,2,"mat-option",18),t.ALo(92,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(93,"mat-form-field",43),t.TgZ(94,"mat-label"),t._uU(95,"Weight (KG)"),t.qZA(),t._UZ(96,"input",45),t.TgZ(97,"mat-icon",11),t._uU(98,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(99,"mat-form-field",43),t.TgZ(100,"mat-label"),t._uU(101,"Dimensions(cm): Length"),t.qZA(),t._UZ(102,"input",46),t.TgZ(103,"mat-icon",11),t._uU(104,"design_services"),t.qZA(),t.qZA(),t.TgZ(105,"mat-form-field",43),t.TgZ(106,"mat-label"),t._uU(107,"Dimensions(cm): Width"),t.qZA(),t._UZ(108,"input",47),t.TgZ(109,"mat-icon",11),t._uU(110,"design_services"),t.qZA(),t.qZA(),t.TgZ(111,"mat-form-field",43),t.TgZ(112,"mat-label"),t._uU(113,"Dimensions(cm): Height"),t.qZA(),t._UZ(114,"input",48),t.TgZ(115,"mat-icon",11),t._uU(116,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",7),t.TgZ(118,"div",23),t._UZ(119,"input",49),t.TgZ(120,"button",30),t.NdJ("click",function(){return r.savePackaging()}),t._uU(121,"Save Packaging"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(122,"mat-tab",50),t.TgZ(123,"div",6),t.TgZ(124,"div",1),t.TgZ(125,"div",51),t.TgZ(126,"select",52),t.NdJ("change",function(x){return r.setFocusType(x)}),t.YNc(127,Ci,2,2,"option",18),t.ALo(128,"typeGroup"),t.qZA(),t._UZ(129,"br"),t.TgZ(130,"input",53),t.NdJ("change",function(x){return r.onChange(x)}),t.qZA(),t._UZ(131,"br"),t.TgZ(132,"button",54),t.NdJ("click",function(){return r.onUpload("55")}),t._uU(133,"Upload File"),t.qZA(),t._UZ(134,"hr"),t.YNc(135,Ye,3,0,"div",55),t.TgZ(136,"div",56),t._UZ(137,"div",57),t.qZA(),t.YNc(138,Hr,2,1,"div",58),t.qZA(),t.TgZ(139,"div",59),t.TgZ(140,"ul"),t.YNc(141,Hi,2,1,"li",41),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(142,"mat-tab",60),t.TgZ(143,"div",6),t.TgZ(144,"div",1),t.TgZ(145,"div",61),t.TgZ(146,"div",62),t.NdJ("cdkDropListDropped",function(x){return r.drop(x)}),t.YNc(147,Gn,11,6,"div",63),t.qZA(),t.qZA(),t.TgZ(148,"div",2),t.TgZ(149,"div",1),t.YNc(150,Oe,2,2,"div",64),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(151,"mat-card"),t.TgZ(152,"div",1),t.TgZ(153,"div",65),t.TgZ(154,"input",53),t.NdJ("change",function(x){return r.onChange(x)}),t.qZA(),t._UZ(155,"br"),t.TgZ(156,"button",54),t.NdJ("click",function(){return r.onUpload("47")}),t._uU(157,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(158,"div",59),t.YNc(159,Sn,3,0,"div",55),t.TgZ(160,"div",56),t._UZ(161,"div",57),t.qZA(),t.YNc(162,on,2,1,"div",58),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(163,"div"),t.YNc(164,Ei,4,0,"button",66),t.TgZ(165,"button",67),t.NdJ("click",function(){return r.nextTab()}),t._uU(166," Next "),t.TgZ(167,"mat-icon"),t._uU(168,"arrow_circle_right"),t.qZA(),t.qZA(),t.TgZ(169,"button",67),t.NdJ("click",function(){return r.previousTab()}),t.TgZ(170,"mat-icon"),t._uU(171,"arrow_circle_left"),t.qZA(),t._uU(172," Back "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(173,"div",61),t.TgZ(174,"mat-card"),t.TgZ(175,"h2"),t.TgZ(176,"strong"),t._uU(177),t.qZA(),t._uU(178," | "),t.TgZ(179,"small"),t._uU(180),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("selectedIndex",r.activeTabIndex),t.xp6(2),t.Q6J("formGroup",r.newProductForm),t.xp6(11),t.Q6J("ngIf",r.invalidSku),t.xp6(1),t.Q6J("ngIf",!r.invalidSku),t.xp6(13),t.Q6J("ngForOf",t.xi3(35,33,r.typesList,"Brand")),t.xp6(26),t.Q6J("disabled",!r.newProductForm.dirty||r.invalidSku),t.xp6(9),t.Q6J("ngForOf",t.xi3(70,36,r.categoriesList,"0")),t.xp6(3),t.Q6J("ngIf",0!=r.newProductId),t.xp6(1),t.Q6J("ngIf",0==r.newProductId),t.xp6(4),t.Q6J("ngForIn",r.attributesFields),t.xp6(1),t.Q6J("formGroup",r.newProductFormAttributes),t.xp6(2),t.Q6J("ngForOf",r.attributes.controls),t.xp6(1),t.Q6J("ngIf",r.attrCount>0),t.xp6(2),t.Q6J("formGroup",r.newProductFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(92,39,r.typesList,"Packaging")),t.xp6(29),t.Q6J("disabled",!r.newProductFormPackaging.dirty),t.xp6(7),t.Q6J("ngForOf",t.xi3(128,42,r.typesList,"File")),t.xp6(8),t.Q6J("ngIf",r.loading),t.xp6(2),t.Akn(r.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",r.messages.length),t.xp6(3),t.Q6J("ngForOf",r.savedFiles),t.xp6(6),t.Q6J("ngForOf",r.savedFiles),t.xp6(3),t.Q6J("ngForOf",r.savedFiles),t.xp6(9),t.Q6J("ngIf",r.loading),t.xp6(2),t.Akn(r.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",r.messages.length),t.xp6(2),t.Q6J("ngIf",r.doneBtn),t.xp6(1),t.Q6J("disabled",!r.nextBtn),t.xp6(4),t.Q6J("disabled",!r.nextBtn),t.xp6(8),t.hij(" ",r.newProductName,""),t.xp6(3),t.Oqu(r.newProductSKU))},directives:[yi.yS,ye.a8,Ot.SP,Ot.uX,Gt._Y,Gt.JL,Gt.sg,gt.KE,gt.hX,Ht.Nt,Gt.Fj,Gt.JJ,Gt.u,_t.Hw,gt.R9,Ae.O5,Ct.gD,Ae.sg,tt.ey,dn,Bt.lW,Gt.F,Gt.CE,Gt.x0,et.Il,et.DX,Gt.Q7,Gt.YN,Gt.Kr,Y,Ue,yi.rH],pipes:[Qe,st],styles:["mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.switch-tab[_ngcontent-%COMP%]{margin-left:2rem;float:right;margin-top:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:green}"]}),s})();function ln(s,c){1&s&&(t.TgZ(0,"div",2),t.TgZ(1,"p"),t._uU(2,"Please Wait..."),t.qZA(),t._UZ(3,"mat-progress-bar",3),t.qZA())}function go(s,c){1&s&&(t.TgZ(0,"button",45),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t._uU(3," Add New Product "),t.qZA())}function sr(s,c){if(1&s&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Nn(s,c){1&s&&t._UZ(0,"mat-progress-bar",3)}function Ln(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," ID "),t.qZA())}function Zn(s,c){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function $n(s,c){1&s&&t._UZ(0,"th",47)}function pn(s,c){if(1&s&&(t.TgZ(0,"td",48),t._UZ(1,"img",49),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hYB("src","",r.storageUrl,"files/",e.sku,"/47/upload47.png",t.LSH)}}function Kn(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," SKU "),t.qZA())}function zr(s,c){if(1&s&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.sku," ")}}function mo(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," Name "),t.qZA())}function _o(s,c){if(1&s&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("routerLink",e.clean_sku),t.xp6(1),t.hij(" ",e.name," ")}}function vo(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," Brand "),t.qZA())}function bo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"td",51),t.NdJ("click",function(){const x=t.CHM(e).$implicit,q=t.oxw(2);return q.selectBrand(q.getBrandName(x.brand_type_id))}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(1),t.hij(" ",r.getBrandName(e.brand_type_id)," ")}}function Za(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," Description "),t.qZA())}function As(s,c){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.short_description," ")}}function Cs(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," Active "),t.qZA())}function yo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is active")}),t.TgZ(1,"mat-icon",54),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Da(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",55),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Ts(s,c){if(1&s&&(t.TgZ(0,"td",48),t.YNc(1,yo,3,0,"span",52),t.YNc(2,Da,3,0,"span",52),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Qo(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," In Development "),t.qZA())}function Ps(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is in development")}),t.TgZ(1,"mat-icon",56),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Ia(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",55),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function ks(s,c){if(1&s&&(t.TgZ(0,"td",48),t.YNc(1,Ps,3,0,"span",52),t.YNc(2,Ia,3,0,"span",52),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_in_development),t.xp6(1),t.Q6J("ngIf",0==e.is_in_development)}}function xo(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," EOL "),t.qZA())}function Ss(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).iconClick(m.sku+" is in end of life")}),t.TgZ(1,"mat-icon",57),t._uU(2,"check_circle"),t.qZA(),t.qZA()}}function Ni(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).iconClick("Nothing here")}),t.TgZ(1,"mat-icon",55),t._uU(2,"radio_button_unchecked"),t.qZA(),t.qZA()}}function Ma(s,c){if(1&s&&(t.TgZ(0,"td",48),t.YNc(1,Ss,3,0,"span",52),t.YNc(2,Ni,3,0,"span",52),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_eol),t.xp6(1),t.Q6J("ngIf",0==e.is_eol)}}function Oa(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," Updated "),t.qZA())}function Ea(s,c){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.updated_at)," ")}}function $o(s,c){1&s&&(t.TgZ(0,"th",47),t._uU(1," Created "),t.qZA())}function Ns(s,c){if(1&s&&(t.TgZ(0,"td",48),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.created_at)," ")}}function Dn(s,c){1&s&&t._UZ(0,"th",47)}function wo(s,c){if(1&s&&(t.TgZ(0,"td",48),t.TgZ(1,"button",58),t._uU(2," View Details "),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.s9C("routerLink",e.clean_sku)}}function an(s,c){1&s&&t._UZ(0,"tr",59)}function Ko(s,c){1&s&&t._UZ(0,"tr",60)}function Fa(s,c){if(1&s&&(t.TgZ(0,"tr",61),t.TgZ(1,"td",62),t._uU(2),t.qZA(),t.qZA()),2&s){t.oxw();const e=t.MAs(22);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Ls=function(){return[10,25,50,100]};function qa(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"div",5),t.YNc(5,go,4,0,"button",6),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"button",7),t.TgZ(8,"mat-icon"),t._uU(9,"download_file"),t.qZA(),t._uU(10," Export CSV "),t.qZA(),t.qZA(),t.TgZ(11,"div",5),t.TgZ(12,"button",8),t.TgZ(13,"mat-icon"),t._uU(14,"wordpress"),t.qZA(),t._uU(15," Export For WordPress "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",9),t.TgZ(18,"mat-form-field",10),t.TgZ(19,"mat-label"),t._uU(20,"Filter"),t.qZA(),t.TgZ(21,"input",11,12),t.NdJ("keyup",function(m){return t.CHM(e),t.oxw().applyFilter(m)}),t.qZA(),t.TgZ(23,"mat-icon",13),t._uU(24,"filter_list"),t.qZA(),t.qZA(),t.TgZ(25,"mat-form-field",14),t.TgZ(26,"mat-label"),t._uU(27,"Categories"),t.qZA(),t.TgZ(28,"mat-select",15),t.NdJ("selectionChange",function(m){return t.CHM(e),t.oxw().filterByCategory(m)}),t.YNc(29,sr,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(30,"div",17),t.TgZ(31,"span",18),t.TgZ(32,"mat-checkbox",19),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().displayDates=m})("change",function(m){return t.CHM(e),t.oxw().showDates(m)}),t._uU(33,"More info"),t.qZA(),t.qZA(),t.TgZ(34,"span",18),t.TgZ(35,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().eolProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(36,"EOL"),t.qZA(),t.qZA(),t.TgZ(37,"span",18),t.TgZ(38,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().developmentProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(39,"In Development"),t.qZA(),t.qZA(),t.TgZ(40,"span",18),t.TgZ(41,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().activeProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(42,"Active"),t.qZA(),t.qZA(),t.TgZ(43,"span",18),t.TgZ(44,"mat-checkbox",20),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw().allProducts=m})("change",function(m){return t.CHM(e),t.oxw().filterStatuses(m)}),t._uU(45,"All"),t.qZA(),t.qZA(),t.YNc(46,Nn,1,0,"mat-progress-bar",21),t.TgZ(47,"table",22,23),t.NdJ("matSortChange",function(m){return t.CHM(e),t.oxw().announceSortChange(m)}),t.ynx(49,24),t.YNc(50,Ln,2,0,"th",25),t.YNc(51,Zn,2,1,"td",26),t.BQk(),t.ynx(52,27),t.YNc(53,$n,1,0,"th",25),t.YNc(54,pn,2,2,"td",26),t.BQk(),t.ynx(55,28),t.YNc(56,Kn,2,0,"th",25),t.YNc(57,zr,2,2,"td",29),t.BQk(),t.ynx(58,30),t.YNc(59,mo,2,0,"th",25),t.YNc(60,_o,2,2,"td",29),t.BQk(),t.ynx(61,31),t.YNc(62,vo,2,0,"th",25),t.YNc(63,bo,2,1,"td",32),t.BQk(),t.ynx(64,33),t.YNc(65,Za,2,0,"th",25),t.YNc(66,As,2,1,"td",26),t.BQk(),t.ynx(67,34),t.YNc(68,Cs,2,0,"th",25),t.YNc(69,Ts,3,2,"td",26),t.BQk(),t.ynx(70,35),t.YNc(71,Qo,2,0,"th",25),t.YNc(72,ks,3,2,"td",26),t.BQk(),t.ynx(73,36),t.YNc(74,xo,2,0,"th",25),t.YNc(75,Ma,3,2,"td",26),t.BQk(),t.ynx(76,37),t.YNc(77,Oa,2,0,"th",25),t.YNc(78,Ea,3,3,"td",26),t.BQk(),t.ynx(79,38),t.YNc(80,$o,2,0,"th",25),t.YNc(81,Ns,3,3,"td",26),t.BQk(),t.ynx(82,39),t.YNc(83,Dn,1,0,"th",25),t.YNc(84,wo,3,1,"td",26),t.BQk(),t.YNc(85,an,1,0,"tr",40),t.YNc(86,Ko,1,0,"tr",41),t.YNc(87,Fa,3,1,"tr",42),t.qZA(),t._UZ(88,"mat-paginator",43),t.qZA(),t.qZA(),t._UZ(89,"div",44),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.addProductRole),t.xp6(24),t.Q6J("ngForOf",e.categoriesList),t.xp6(3),t.Q6J("ngModel",e.displayDates),t.xp6(3),t.Q6J("ngModel",e.eolProducts),t.xp6(3),t.Q6J("ngModel",e.developmentProducts),t.xp6(3),t.Q6J("ngModel",e.activeProducts),t.xp6(3),t.Q6J("ngModel",e.allProducts),t.xp6(2),t.Q6J("ngIf",1==e.productsLoader),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(12,Ls))}}class xr extends en._k{constructor(c,e,r,m,x,q,rt,Vt,i){super(),this.navbar=c,this.sideNav=e,this.topNav=r,this.treeNav=m,this.api=x,this._snackBar=q,this._liveAnnouncer=rt,this.info=Vt,this.router=i,this.productsList=[],this.categoriesList=[],this.typesList=[],this.packagingList=[],this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"],this.productsLoader=!1,this.loggedIn=!1,this.addProductRole=!1,this.addCategoryRole=!1,this.viewAllProductsRole=!1,this.displayDates=!1,this.activeProducts=!1,this.eolProducts=!1,this.developmentProducts=!1,this.allProducts=!0,this.info.isUserLoggedIn.subscribe(l=>{this.loggedIn=l})}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.info.isRefreshed(),console.log(Date.now()),"yes"==localStorage.getItem("blockui")?this.blockUI.start(`${this.info.greeting()} ${this.info.getUserName()}!`):(this.loggedIn?(this.viewAllProductsRole=this.info.role(68),this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60),this.storageUrl=this.api.getStorageUrl()):localStorage.getItem("logged_in_user_email")?(this.viewAllProductsRole=this.info.role(68),this.loggedIn=!0,this.topNav.show(),this.sideNav.show(),this.treeNav.hide(),this.getAllProducts(),this.getAllTypes(),this.getAllCategories(),this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"]),console.log("On inint Role: "+this.viewAllProductsRole)),this.info.auth(),console.log("isUserLoggedIn:",this.loggedIn)}ngAfterContentInit(){console.log("products-home ngAfterContentInit()"),this.loggedIn?(this.addProductRole=this.info.role(61),this.addCategoryRole=this.info.role(60)):this.router.navigate(["login"])}ngOnDestroy(){console.log("products-home toggleDestroy()")}applyFilter(c){this.dataSource.filter=c.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getAllProducts(){let c="products-verified";this.viewAllProductsRole&&(c="products"),this.blockUI.start("Loading products.."),this.productsLoader=!0,this.api.GET(c).subscribe({next:e=>{console.log("Products: ",e),this.productsLoader=!1,this.productsList=e,this.dataSource=new $t.by(this.productsList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.blockUI.stop()},error:e=>{this.openSnackBar("Failed to connect to the server: "+e.message,"Okay")}})}openSnackBar(c,e){this._snackBar.open(c,e,{duration:2e3})}announceSortChange(c){this._liveAnnouncer.announce(c.direction?`Sorted ${c.direction}ending`:"Sorting cleared")}getAllTypes(){this.api.GET("types").subscribe({next:c=>{console.log(c),this.typesList=c},error:c=>{this.openSnackBar("Failed to communicate with the server: "+c.message,"Okay")}})}getBrandName(c){let e=0;return e=parseInt(c)-1,null==this.typesList[e]?"":this.typesList[e].name}permission(c){return console.log("Role check"),!!this.info.role(c)}iconClick(c){this.openSnackBar(c,"\u{1f609}")}filePath(c){return c.substring(7)}showDates(c){this.displayDates?this.displayedColumns=["id","thumbnail","sku","name","brand","description","is_active","is_in_development","is_eol","updated_at","created_at","view"]:this.resetTableView()}resetTableView(){this.displayedColumns=["id","thumbnail","sku","name","brand","description","view"]}selectBrand(c){this.router.navigate(["/brand",c.toLowerCase()])}filterStatuses(c){let e=[];this.allProducts=!(this.activeProducts||this.developmentProducts||this.eolProducts),this.allProducts?e=this.productsList:this.activeProducts&&this.eolProducts&&this.developmentProducts?(this.allProducts=!0,e=this.productsList):e=this.productsList.filter(this.activeProducts&&this.developmentProducts?r=>1==r.is_in_development&&1==r.is_active:this.activeProducts&&this.eolProducts?r=>1==r.is_active&&1==r.is_eol:this.developmentProducts&&this.eolProducts?r=>1==r.is_in_development&&1==r.is_eol:this.activeProducts?r=>1==r.is_active:this.developmentProducts?r=>1==r.is_in_development:r=>1==r.is_eol),this.table(e)}filterByCategory(c){console.log(c),this.api.GET(`products-by-category/${c.value}`).subscribe({next:e=>{console.log(e),this.table(e)},error:e=>{}})}getAllCategories(){this.api.GET("categories").subscribe({next:c=>{this.categoriesList=c},error:c=>{alert(c)}})}table(c){this.dataSource=new $t.by(c),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}}xr.\u0275fac=function(c){return new(c||xr)(t.Y36(Xe.I),t.Y36(zi.Z),t.Y36(Xe.I),t.Y36(Xi.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(Zi.Kd),t.Y36(se.C),t.Y36(yi.F0))},xr.\u0275cmp=t.Xpm({type:xr,selectors:[["app-products-home"]],viewQuery:function(c,e){if(1&c&&(t.Gf(Ne.NW,5),t.Gf(De.YE,5)),2&c){let r;t.iGM(r=t.CRH())&&(e.paginator=r.first),t.iGM(r=t.CRH())&&(e.sort=r.first)}},features:[t.qOj],decls:2,vars:2,consts:[["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center"],["color","accent","mode","indeterminate"],[1,"row"],[1,"col-xs-12","col-ms-12","col-md-4","col-lg-3"],["mat-raised-button","","class","m-1","style","width: 100%;","routerLink","add/new",4,"ngIf"],["mat-raised-button","","routerLink","products/export-csv",1,"m-1",2,"width","100%"],["mat-raised-button","","routerLink","products/export",1,"m-1",2,"width","100%"],[1,"col-md-12","mt-3"],["appearance","legacy","color","primary",1,"table-search"],["matInput","","placeholder","Enter sku, mame, brand, description etc",3,"keyup"],["input",""],["matSuffix",""],["appearance","legacy",1,"table-category"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],[1,"table-setting-span"],["color","warn",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","primary",1,"table-setting",3,"ngModel","ngModelChange","change"],["color","accent","mode","indeterminate",4,"ngIf"],["matTableExporter","","mat-table","","matSort","",3,"dataSource","matSortChange"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","thumbnail"],["matColumnDef","sku"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","brand"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","is_active"],["matColumnDef","is_in_development"],["matColumnDef","is_eol"],["matColumnDef","updated_at"],["matColumnDef","created_at"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of products",3,"pageSizeOptions"],[1,"col-md-12"],["mat-raised-button","","routerLink","add/new",1,"m-1",2,"width","100%"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","width","45","alt","Photo",3,"src"],["mat-cell","",3,"routerLink"],["mat-cell","",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["color","primary"],[1,"inactive"],["color","accent"],["color","warn"],["mat-raised-button","","aria-label","Product details",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(c,e){1&c&&(t.YNc(0,ln,4,0,"div",0),t.YNc(1,qa,90,13,"div",1)),2&c&&(t.Q6J("ngIf",!e.loggedIn),t.xp6(1),t.Q6J("ngIf",e.loggedIn))},directives:[Ae.O5,Hn.pW,Bt.lW,yi.rH,_t.Hw,gt.KE,gt.hX,Ht.Nt,gt.R9,Ct.gD,Ae.sg,tt.ey,dn,Gt.JJ,Gt.On,$t.BZ,gr.jt,De.YE,$t.w1,$t.fO,$t.ge,De.nU,$t.Dz,$t.ev,$t.as,$t.XQ,$t.nj,$t.Gk,$t.Ee,Ne.NW],pipes:[Ae.uU],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.mat-column-id[_ngcontent-%COMP%]{width:25px;border-right:1px solid rgba(255,134,53,.76);margin-right:12px}.mat-column-thumbnail[_ngcontent-%COMP%]{width:26px;padding-right:12px;padding-left:12px}.mat-column-sku[_ngcontent-%COMP%]{width:10rem;padding-left:3px}.mat-column-parent[_ngcontent-%COMP%]{width:8rem;padding-left:10px}.mat-column-name[_ngcontent-%COMP%]{width:30rem}.mat-column-type[_ngcontent-%COMP%]{width:5rem}.mat-column-brand[_ngcontent-%COMP%]{width:8rem}.mat-column-description[_ngcontent-%COMP%]{width:40rem}.mat-column-is_in_development[_ngcontent-%COMP%], .mat-column-is_active[_ngcontent-%COMP%], .mat-column-is_eol[_ngcontent-%COMP%]{width:7rem}.mat-column-created_at[_ngcontent-%COMP%], .mat-column-updated_at[_ngcontent-%COMP%]{width:9rem}.inactive[_ngcontent-%COMP%]{color:#cecece}.table-setting[_ngcontent-%COMP%]{margin-right:2rem}.table-setting-span[_ngcontent-%COMP%]{float:right;padding:13px}.mat-column-view[_ngcontent-%COMP%]{padding-left:1rem}.table-search[_ngcontent-%COMP%]{width:20%}.table-category[_ngcontent-%COMP%]{width:20%;float:right}@media only screen and (max-width: 600px){.table-search[_ngcontent-%COMP%], .table-category[_ngcontent-%COMP%]{width:100%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 600px){.table-search[_ngcontent-%COMP%]{width:60%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{display:none}.mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 768px){.table-search[_ngcontent-%COMP%]{width:50%}.table-category[_ngcontent-%COMP%]{width:30%}.mat-column-id[_ngcontent-%COMP%]{display:none}.mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%]{display:revert}.mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 992px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%]{display:revert}.mat-column-description[_ngcontent-%COMP%]{display:none}.table-setting-span[_ngcontent-%COMP%]{display:revert;padding:13px}}@media only screen and (min-width: 1200px){.table-search[_ngcontent-%COMP%]{width:30%}.table-category[_ngcontent-%COMP%]{width:20%}.mat-column-id[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-brand[_ngcontent-%COMP%], .mat-column-view[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .table-setting-span[_ngcontent-%COMP%]{display:revert}}"]}),(0,_s.gn)([(0,Pa.bH)()],xr.prototype,"blockUI",void 0);var Ra=ne(4327),Zs=ne(3583),Xo=ne(2983),Ds=ne.n(Xo),In=ne(9776),Mn=ne(7429),Xn=ne(9770),Yr=ne(9646),fn=ne(9300),ti=ne(1777),Ke=ne(1159);function Is(s,c){}class Ao{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const je={dialogContainer:(0,ti.X$)("dialogContainer",[(0,ti.SB)("void, exit",(0,ti.oB)({opacity:0,transform:"scale(0.7)"})),(0,ti.SB)("enter",(0,ti.oB)({transform:"none"})),(0,ti.eR)("* => enter",(0,ti.ru)([(0,ti.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ti.oB)({transform:"none",opacity:1})),(0,ti.IO)("@*",(0,ti.pV)(),{optional:!0})])),(0,ti.eR)("* => void, * => exit",(0,ti.ru)([(0,ti.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ti.oB)({opacity:0})),(0,ti.IO)("@*",(0,ti.pV)(),{optional:!0})]))])};let Ms=(()=>{class s extends Mn.en{constructor(e,r,m,x,q,rt,Vt,i){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=m,this._config=q,this._interactivityChecker=rt,this._ngZone=Vt,this._focusMonitor=i,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=l=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(l)),this._ariaLabelledBy=q.ariaLabelledBy||null,this._document=x}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,rn.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const m=()=>{e.removeEventListener("blur",m),e.removeEventListener("mousedown",m),e.removeAttribute("tabindex")};e.addEventListener("blur",m),e.addEventListener("mousedown",m)})),e.focus(r)}_focusByCssSelector(e,r){let m=this._elementRef.nativeElement.querySelector(e);m&&this._forceFocus(m,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=(0,rn.ht)(),m=this._elementRef.nativeElement;(!r||r===this._document.body||r===m||m.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=(0,rn.ht)();return e===r||e.contains(r)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(Zi.qV),t.Y36(t.sBO),t.Y36(Ae.K0,8),t.Y36(Ao),t.Y36(Zi.ic),t.Y36(t.R0b),t.Y36(Zi.tE))},s.\u0275dir=t.lG2({type:s,viewQuery:function(e,r){if(1&e&&t.Gf(Mn.Pl,7),2&e){let m;t.iGM(m=t.CRH())&&(r._portalOutlet=m.first)}},features:[t.qOj]}),s})(),tr=(()=>{class s extends Ms{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return s.\u0275fac=function(){let c;return function(r){return(c||(c=t.n5z(s)))(r||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&t.WFA("@dialogContainer.start",function(x){return r._onAnimationStart(x)})("@dialogContainer.done",function(x){return r._onAnimationDone(x)}),2&e&&(t.Ikx("id",r._id),t.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),t.d8E("@dialogContainer",r._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&t.YNc(0,Is,0,0,"ng-template",0)},directives:[Mn.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[je.dialogContainer]}}),s})(),Ba=0;class Ua{constructor(c,e,r="mat-dialog-"+Ba++){this._overlayRef=c,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new li.x,this._afterClosed=new li.x,this._beforeClosed=new li.x,this._state=0,e._id=r,e._animationStateChanged.pipe((0,fn.h)(m=>"opened"===m.state),(0,or.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,fn.h)(m=>"closed"===m.state),(0,or.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),c.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),c.keydownEvents().pipe((0,fn.h)(m=>m.keyCode===Ke.hY&&!this.disableClose&&!(0,Ke.Vb)(m))).subscribe(m=>{m.preventDefault(),Jr(this,"keyboard")}),c.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Jr(this,"mouse")})}close(c){this._result=c,this._containerInstance._animationStateChanged.pipe((0,fn.h)(e=>"closing"===e.state),(0,or.q)(1)).subscribe(e=>{this._beforeClosed.next(c),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(c){let e=this._getPositionStrategy();return c&&(c.left||c.right)?c.left?e.left(c.left):e.right(c.right):e.centerHorizontally(),c&&(c.top||c.bottom)?c.top?e.top(c.top):e.bottom(c.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(c="",e=""){return this._overlayRef.updateSize({width:c,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(c){return this._overlayRef.addPanelClass(c),this}removePanelClass(c){return this._overlayRef.removePanelClass(c),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Jr(s,c,e){return void 0!==s._containerInstance&&(s._containerInstance._closeInteractionType=c),s.close(e)}const ta=new t.OlP("MatDialogData"),Os=new t.OlP("mat-dialog-default-options"),ja=new t.OlP("mat-dialog-scroll-strategy"),Vr={provide:ja,deps:[In.aV],useFactory:function ea(s){return()=>s.scrollStrategies.block()}};let wr=(()=>{class s{constructor(e,r,m,x,q,rt,Vt,i,l,g){this._overlay=e,this._injector=r,this._defaultOptions=m,this._parentDialog=x,this._overlayContainer=q,this._dialogRefConstructor=Vt,this._dialogContainerType=i,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new li.x,this._afterOpenedAtThisLevel=new li.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Xn.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,fo.O)(void 0))),this._scrollStrategy=rt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){r=function Wr(s,c){return Object.assign(Object.assign({},c),s)}(r,this._defaultOptions||new Ao),r.id&&this.getDialogById(r.id);const m=this._createOverlay(r),x=this._attachDialogContainer(m,r),q=this._attachDialogContent(e,x,m,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(q),q.afterClosed().subscribe(()=>this._removeOpenDialog(q)),this.afterOpened.next(q),x._initializeWithAttachedContent(),q}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new In.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const x=t.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Ao,useValue:r}]}),q=new Mn.C5(this._dialogContainerType,r.viewContainerRef,x,r.componentFactoryResolver);return e.attach(q).instance}_attachDialogContent(e,r,m,x){const q=new this._dialogRefConstructor(m,r,x.id);if(e instanceof t.Rgc)r.attachTemplatePortal(new Mn.UE(e,null,{$implicit:x.data,dialogRef:q}));else{const rt=this._createInjector(x,q,r),Vt=r.attachComponentPortal(new Mn.C5(e,x.viewContainerRef,rt,x.componentFactoryResolver));q.componentInstance=Vt.instance}return q.updateSize(x.width,x.height).updatePosition(x.position),q}_createInjector(e,r,m){const x=e&&e.viewContainerRef&&e.viewContainerRef.injector,q=[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!x||!x.get(u.Is,null,t.XFs.Optional))&&q.push({provide:u.Is,useValue:{value:e.direction,change:(0,Yr.of)()}}),t.zs3.create({parent:x||this._injector,providers:q})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((m,x)=>{m?x.setAttribute("aria-hidden",m):x.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let m=r.length-1;m>-1;m--){let x=r[m];x!==e&&"SCRIPT"!==x.nodeName&&"STYLE"!==x.nodeName&&!x.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(x,x.getAttribute("aria-hidden")),x.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return s.\u0275fac=function(e){t.$Z()},s.\u0275dir=t.lG2({type:s}),s})(),Ha=(()=>{class s extends wr{constructor(e,r,m,x,q,rt,Vt,i){super(e,r,x,rt,Vt,q,Ua,tr,ta,i)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(In.aV),t.LFG(t.zs3),t.LFG(Ae.Ye,8),t.LFG(Os,8),t.LFG(ja),t.LFG(s,12),t.LFG(In.Xj),t.LFG(ka.Qb,8))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),cr=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[Ha,Vr],imports:[[In.U8,Mn.eL,tt.BQ],tt.BQ]}),s})();var gn=ne(4623),Bs=ne(449);const Ar=["*"],Co=new t.OlP("MatChipRemove"),Cr=new t.OlP("MatChipAvatar"),Ya=new t.OlP("MatChipTrailingIcon");class To{constructor(c){this._elementRef=c}}const Us=(0,tt.sb)((0,tt.pj)((0,tt.Kr)(To),"primary"),-1);let Gr=(()=>{class s extends Us{constructor(e,r,m,x,q,rt,Vt,i){super(e),this._ngZone=r,this._changeDetectorRef=q,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new li.x,this._onBlur=new li.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=rt.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new tt.IR(this,r,this._chipRippleTarget,m),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=x||{},this._animationsDisabled="NoopAnimations"===Vt,this.tabIndex=null!=i&&parseInt(i)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const r=(0,Be.Ig)(e);r!==this._selected&&(this._selected=r,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,Be.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,Be.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,Be.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",r=this._elementRef.nativeElement;r.hasAttribute(e)||r.tagName.toLowerCase()===e?r.classList.add(e):r.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case Ke.yY:case Ke.ZH:this.remove(),e.preventDefault();break;case Ke.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,or.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(rn.t4),t.Y36(tt.Y2,8),t.Y36(t.sBO),t.Y36(Ae.K0),t.Y36(ka.Qb,8),t.$8M("tabindex"))},s.\u0275dir=t.lG2({type:s,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,m){if(1&e&&(t.Suo(m,Cr,5),t.Suo(m,Ya,5),t.Suo(m,Co,5)),2&e){let x;t.iGM(x=t.CRH())&&(r.avatar=x.first),t.iGM(x=t.CRH())&&(r.trailingIcon=x.first),t.iGM(x=t.CRH())&&(r.removeIcon=x.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,r){1&e&&t.NdJ("click",function(x){return r._handleClick(x)})("keydown",function(x){return r._handleKeydown(x)})("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(t.uIk("tabindex",r.disabled?null:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString())("aria-selected",r.ariaSelected),t.ekj("mat-chip-selected",r.selected)("mat-chip-with-avatar",r.avatar)("mat-chip-with-trailing-icon",r.trailingIcon||r.removeIcon)("mat-chip-disabled",r.disabled)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),s})();const ko=new t.OlP("mat-chips-default-options"),js=(0,tt.FD)(class{constructor(s,c,e,r){this._defaultErrorStateMatcher=s,this._parentForm=c,this._parentFormGroup=e,this.ngControl=r}});let So=0;class Qr{constructor(c,e){this.source=c,this.value=e}}let No=(()=>{class s extends js{constructor(e,r,m,x,q,rt,Vt){super(rt,x,q,Vt),this._elementRef=e,this._changeDetectorRef=r,this._dir=m,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new li.x,this._uid="mat-chip-list-"+So++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(i,l)=>i===l,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,r;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,Be.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,r,m,x;return null!==(x=null!==(e=this._required)&&void 0!==e?e:null===(m=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===m?void 0:m.hasValidator(Gt.kI.required))&&void 0!==x&&x}set required(e){this._required=(0,Be.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,Be.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,Be.Ig)(e),this.chips&&this.chips.forEach(r=>r.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,Jn.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,Jn.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,Jn.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,Jn.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new Zi.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,Ur.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,Ur.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,fo.O)(null),(0,Ur.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Bs.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const r=e.target;r&&r.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,r=!0){if(this._clearSelection(),this.chips.forEach(m=>m.deselect()),Array.isArray(e))e.forEach(m=>this._selectValue(m,r)),this._sortValues();else{const m=this._selectValue(e,r);m&&r&&this._keyManager.setActiveItem(m)}}_selectValue(e,r=!0){const m=this.chips.find(x=>null!=x.value&&this._compareWith(x.value,e));return m&&(r?m.selectViaInteraction():m.select(),this._selectionModel.select(m)),m}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(r=>{r!==e&&r.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let r=null;r=Array.isArray(this.selected)?this.selected.map(m=>m.value):this.selected?this.selected.value:e,this._value=r,this.change.emit(new Qr(this,r)),this.valueChange.emit(r),this._onChange(r),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(r=>{!this._selectionModel.isSelected(r)&&r.selected&&r.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&this._keyManager.updateActiveItem(r),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const r=e.chip,m=this.chips.toArray().indexOf(e.chip);this._isValidIndex(m)&&r._hasFocus&&(this._lastDestroyedChipIndex=m)})}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-chip"))return!0;r=r.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(u.Is,8),t.Y36(Gt.F,8),t.Y36(Gt.sg,8),t.Y36(tt.rD),t.Y36(Gt.a5,10))},s.\u0275cmp=t.Xpm({type:s,selectors:[["mat-chip-list"]],contentQueries:function(e,r,m){if(1&e&&t.Suo(m,Gr,5),2&e){let x;t.iGM(x=t.CRH())&&(r.chips=x)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,r){1&e&&t.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(x){return r._keydown(x)}),2&e&&(t.Ikx("id",r._uid),t.uIk("tabindex",r.disabled?null:r._tabIndex)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-multiselectable",r.multiple)("role",r.role)("aria-orientation",r.ariaOrientation),t.ekj("mat-chip-list-disabled",r.disabled)("mat-chip-list-invalid",r.errorState)("mat-chip-list-required",r.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:gt.Eo,useExisting:s}]),t.qOj],ngContentSelectors:Ar,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),s})(),aa=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[tt.rD,{provide:ko,useValue:{separatorKeyCodes:[Ke.K5]}}],imports:[[tt.BQ]]}),s})();var p=ne(7544),C=ne(773);const U=["pdfContent"];function W(s,c){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t._UZ(3,"mat-progress-bar",1),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.hij("Fetching details for ",e.sku,"...")}}function at(s,c){if(1&s&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Nt(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",86),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateProduct()}),t._uU(1,"Save Changes"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productForm.dirty)}}function Kt(s,c){if(1&s&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function me(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"div",87),t.TgZ(2,"mat-form-field",11),t.TgZ(3,"mat-label"),t._uU(4,"Product Region"),t.qZA(),t.TgZ(5,"mat-select",88,89),t.YNc(7,Kt,2,2,"mat-option",18),t.ALo(8,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&s){const e=c.index,r=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(6),t.Q6J("ngForOf",t.xi3(8,2,r.typesList,"Region"))}}function Le(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateRegion()}),t._uU(1,"Save Region"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.regionsForm.dirty)}}function Je(s,c){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",87),t.TgZ(2,"mat-form-field",11),t.TgZ(3,"mat-label"),t._uU(4,"Shoutout"),t.qZA(),t._UZ(5,"input",91),t.TgZ(6,"mat-icon",92),t.NdJ("click",function(){const x=t.CHM(e).index;return t.oxw(2).removeShoutout(x)}),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function We(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateShoutout()}),t._uU(1,"Save Changes"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.shoutoutsForm.dirty)}}function ei(s,c){if(1&s&&(t.TgZ(0,"li"),t.TgZ(1,"span"),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.hij("",e.attribute_key," "),t.xp6(1),t.hij(": ",e.attribute_value,"")}}function xi(s,c){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"ul"),t.YNc(2,ei,4,2,"li",36),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.pdsAttributes)}}function Ti(s,c){1&s&&(t.TgZ(0,"div"),t.TgZ(1,"i"),t._uU(2,"please wait..."),t.qZA(),t.qZA())}function Ii(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(8).checkedItem(x.id)}),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(8);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name)}}function Qi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(7).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Ii,3,2,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(7);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function Bi(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(6).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Qi,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(6);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function On(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(5).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Bi,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(5);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function un(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(4).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,On,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(4);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function lr(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(3).checkedItem(x.id)}),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,un,6,6,"li",47),t.ALo(5,"parent"),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(3);t.xp6(1),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.xi3(5,3,r.categoriesList,e.id))}}function Va(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"li",93),t.TgZ(1,"span"),t.TgZ(2,"mat-checkbox",94),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw(2).checkedItem(x.id)}),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span"),t.TgZ(5,"ul"),t.YNc(6,lr,6,6,"li",47),t.ALo(7,"parent"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("checked",r.checkCategories(e.name)),t.xp6(1),t.Oqu(e.name),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,3,r.categoriesList,e.id))}}function sa(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"div",87),t.TgZ(2,"mat-grid-list",95),t.TgZ(3,"mat-grid-tile"),t.TgZ(4,"mat-form-field",96),t._UZ(5,"input",97),t.qZA(),t.qZA(),t.TgZ(6,"mat-grid-tile"),t.TgZ(7,"mat-form-field",96),t._UZ(8,"input",98),t.qZA(),t.qZA(),t._UZ(9,"mat-grid-tile"),t.qZA(),t.qZA(),t.BQk()),2&s){const e=c.index;t.xp6(1),t.Q6J("formGroupName",e)}}function ca(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateAttributes()}),t._uU(1),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productFormAttributes.dirty),t.xp6(1),t.Oqu(e.saveAttrBtnText)}}function Lo(s,c){if(1&s&&(t.TgZ(0,"mat-option",85),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function la(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"button",86),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updatePackaging()}),t._uU(1,"Save Packaging"),t.qZA()}if(2&s){const e=t.oxw(2);t.Q6J("disabled",!e.productFormPackaging.dirty)}}function ua(s,c){if(1&s&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Zo(s,c){if(1&s&&(t.TgZ(0,"mat-list-option",109),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function sn(s,c){1&s&&(t.TgZ(0,"div",110),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Do(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function Io(s,c){if(1&s&&(t.TgZ(0,"div",111),t.YNc(1,Do,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Mo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",99),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).setFocusType(m)}),t.YNc(4,ua,2,2,"option",18),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"label"),t._uU(8,"Document Expiry Date:"),t.qZA(),t.TgZ(9,"input",100),t.NdJ("ngModelChange",function(m){return t.CHM(e),t.oxw(2).expiry_date=m}),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"input",101),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-selection-list",102,103),t.YNc(15,Zo,2,1,"mat-list-option",104),t.ALo(16,"typeGroup"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadDocument("55","document")}),t._uU(19,"Upload File"),t.qZA(),t._UZ(20,"hr"),t.YNc(21,sn,3,0,"div",105),t.TgZ(22,"div",106),t._UZ(23,"div",107),t.qZA(),t.YNc(24,Io,2,1,"div",108),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,7,e.typesList,"File")),t.xp6(5),t.Q6J("ngModel",e.expiry_date),t.xp6(6),t.Q6J("ngForOf",t.xi3(16,10,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function ha(s,c){1&s&&(t.TgZ(0,"div",112),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function cn(s,c){1&s&&(t.TgZ(0,"span"),t._uU(1,"\u26a0"),t.qZA())}function Hs(s,c){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,cn,2,0,"span",0),t._uU(8),t.ALo(9,"date"),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,4,e.created_at)),t.xp6(3),t.Q6J("ngIf",r.today>e.expiry_date),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.expiry_date)," ")}}function da(s,c){if(1&s&&(t.TgZ(0,"option",85),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Wa(s,c){if(1&s&&(t.TgZ(0,"mat-list-option",109),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function En(s,c){1&s&&(t.TgZ(0,"div",110),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function pa(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function zs(s,c){if(1&s&&(t.TgZ(0,"div",111),t.YNc(1,pa,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Ys(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"label"),t._uU(2,"Document Type:"),t.qZA(),t.TgZ(3,"select",99),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).setFocusType(m)}),t.YNc(4,da,2,2,"option",18),t.ALo(5,"typeGroup"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"input",101),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-selection-list",102,103),t.YNc(11,Wa,2,1,"mat-list-option",104),t.ALo(12,"typeGroup"),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadDocument("62","document")}),t._uU(15,"Upload Briefing File"),t.qZA(),t._UZ(16,"hr"),t.YNc(17,En,3,0,"div",105),t.TgZ(18,"div",106),t._UZ(19,"div",107),t.qZA(),t.YNc(20,zs,2,1,"div",108),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.xi3(5,6,e.typesList,"Briefing File")),t.xp6(7),t.Q6J("ngForOf",t.xi3(12,9,e.typesList,"File Permission")),t.xp6(6),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function Tr(s,c){1&s&&(t.TgZ(0,"div",112),t.TgZ(1,"p"),t._uU(2,"You do not have permissions to upload briefing files"),t.qZA(),t.TgZ(3,"mat-icon"),t._uU(4,"upload_file"),t.qZA(),t.qZA())}function mn(s,c){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(5,2,e.created_at))}}function Fn(s,c){1&s&&(t.TgZ(0,"mat-chip",121),t._uU(1,"Primary"),t.qZA())}function Pr(s,c){if(1&s&&t._UZ(0,"span",122),2&s){const e=t.oxw().index;t.s9C("matBadge",e+1)}}function ir(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",123),t.NdJ("onSelectionChange",function(){const x=t.CHM(e).$implicit,q=t.oxw().$implicit;return t.oxw(3).updateFileType(q.id,x.id)}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ur(s,c){if(1&s&&(t.TgZ(0,"div",115),t.TgZ(1,"div",116),t.TgZ(2,"div",10),t.TgZ(3,"mat-chip-list"),t.YNc(4,Fn,2,0,"mat-chip",117),t.qZA(),t.YNc(5,Pr,1,1,"span",118),t._UZ(6,"img",119),t.qZA(),t.TgZ(7,"div",40),t.TgZ(8,"mat-form-field",11),t.TgZ(9,"mat-label"),t._uU(10),t.qZA(),t.TgZ(11,"mat-select"),t.YNc(12,ir,2,2,"mat-option",120),t.ALo(13,"typeGroup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=c.index,m=t.oxw(3);t.xp6(4),t.Q6J("ngIf",0==r),t.xp6(1),t.Q6J("ngIf",r>0),t.xp6(1),t.s9C("alt",e.path),t.s9C("src",m.storageUrl+m.filePath(e.path),t.LSH),t.xp6(4),t.Oqu(m.returnTypeName(e.type_id)),t.xp6(2),t.Q6J("ngForOf",t.xi3(13,6,m.typesList,"Image"))}}function Oo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",113),t.NdJ("cdkDropListDropped",function(m){return t.CHM(e),t.oxw(2).drop(m)}),t.YNc(1,ur,14,9,"div",114),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.mediaFiles)}}function qn(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-chip",130),t.NdJ("click",function(){const x=t.CHM(e).$implicit,q=t.oxw().$implicit,rt=t.oxw(2);return rt.downloadURI("storage/"+rt.filePath(q.path),x.id,q.name,q)}),t._uU(1),t.qZA()}if(2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function Eo(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"mat-card-actions",131),t.TgZ(1,"button",132),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).hideFile(m.id)}),t.TgZ(2,"mat-icon"),t._uU(3,"hide_image"),t.qZA(),t.qZA(),t._uU(4,"\xa0 "),t.TgZ(5,"button",132),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit;return t.oxw(2).deleteFile(m.id)}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA()}}function fa(s,c){if(1&s&&(t.TgZ(0,"div",69),t.TgZ(1,"mat-card",124),t.TgZ(2,"mat-card-header"),t.TgZ(3,"mat-card-subtitle"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",125),t._UZ(6,"img",126),t.qZA(),t.TgZ(7,"mat-card-content"),t.TgZ(8,"mat-chip-list",127),t.YNc(9,qn,2,1,"mat-chip",128),t.ALo(10,"typeGroup"),t.qZA(),t.qZA(),t.YNc(11,Eo,8,0,"mat-card-actions",129),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(4),t.Oqu(r.returnTypeName(e.type_id)),t.xp6(2),t.s9C("src",r.storageUrl+r.filePath(e.path),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(10,4,r.typesList,"Image Type")),t.xp6(2),t.Q6J("ngIf",r.uploadRole)}}function kr(s,c){1&s&&(t.TgZ(0,"div",110),t.TgZ(1,"h3"),t._uU(2,"Loading ..."),t.qZA(),t.qZA())}function Rn(s,c){if(1&s&&(t.TgZ(0,"ul"),t.TgZ(1,"li"),t._uU(2),t.qZA(),t.qZA()),2&s){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function hr(s,c){if(1&s&&(t.TgZ(0,"div",111),t.YNc(1,Rn,3,1,"ul",36),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.messages)}}function Kr(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",133),t.TgZ(2,"input",101),t.NdJ("change",function(m){return t.CHM(e),t.oxw(2).onChange(m)}),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onUpload("47","image")}),t._uU(5,"Upload Media"),t.qZA(),t.qZA(),t.TgZ(6,"div",40),t.YNc(7,kr,3,0,"div",105),t.TgZ(8,"div",106),t._UZ(9,"div",107),t.qZA(),t.YNc(10,hr,2,1,"div",108),t.qZA(),t.qZA()}if(2&s){const e=t.oxw(2);t.xp6(7),t.Q6J("ngIf",e.loading),t.xp6(2),t.Akn(e.uploadProgressBar),t.xp6(1),t.Q6J("ngIf",e.messages.length)}}function Fo(s,c){1&s&&(t.TgZ(0,"div",9),t.TgZ(1,"div",134),t.TgZ(2,"div",112),t.TgZ(3,"p"),t._uU(4,"You do not have permissions to upload media"),t.qZA(),t.TgZ(5,"mat-icon"),t._uU(6,"hide_image"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Xr(s,c){if(1&s&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&s){const e=c.$implicit;t.xp6(1),t.Oqu(e.name)}}function Sr(s,c){if(1&s&&(t.TgZ(0,"div",69),t.TgZ(1,"mat-card",124),t._uU(2),t.TgZ(3,"div",125),t._UZ(4,"img",135),t.qZA(),t.TgZ(5,"mat-card-content"),t.TgZ(6,"mat-chip-list",127),t.YNc(7,Xr,2,1,"mat-chip",36),t.ALo(8,"typeGroup"),t.qZA(),t.qZA(),t._UZ(9,"mat-card-actions",131),t.qZA(),t.qZA()),2&s){const e=c.$implicit,r=t.oxw(2);t.xp6(2),t.hij(" ",e," "),t.xp6(2),t.s9C("src",r.imageserver(r.productSku,e),t.LSH),t.xp6(3),t.Q6J("ngForOf",t.xi3(8,3,r.typesList,"Image Type"))}}function ga(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function _n(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function dr(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function gi(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function mi(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Li(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function Fi(s,c){1&s&&(t.TgZ(0,"span"),t._uU(1,"\xa0loading..."),t.qZA())}function pr(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Nr(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}function qo(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"radio_button_unchecked"),t.qZA())}function Ga(s,c){1&s&&(t.TgZ(0,"mat-icon"),t._uU(1,"check_circle"),t.qZA())}const Qc=function(){return[0,1,2,3,4,5,6,7,8,9,10]};function $c(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"p"),t.TgZ(2,"a",2),t._uU(3,"Products "),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-card",5),t.TgZ(8,"mat-tab-group"),t.TgZ(9,"mat-tab",6),t.TgZ(10,"form",7),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t.TgZ(14,"mat-card"),t.TgZ(15,"strong"),t._uU(16,"General Details"),t.qZA(),t._UZ(17,"br"),t._UZ(18,"br"),t.TgZ(19,"mat-form-field",11),t.TgZ(20,"mat-label"),t._uU(21,"SKU"),t.qZA(),t._UZ(22,"input",12,13),t.qZA(),t.TgZ(24,"mat-form-field",11),t.TgZ(25,"mat-label"),t._uU(26,"Product Name"),t.qZA(),t._UZ(27,"input",14,15),t.qZA(),t.TgZ(29,"mat-form-field",11),t.TgZ(30,"mat-label"),t._uU(31,"Product Brand"),t.qZA(),t.TgZ(32,"mat-select",16,17),t.YNc(34,at,2,2,"mat-option",18),t.ALo(35,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(36,"mat-form-field",11),t.TgZ(37,"mat-label"),t._uU(38,"Family Grouping"),t.qZA(),t._UZ(39,"input",19,20),t.qZA(),t.TgZ(41,"strong"),t._uU(42,"Description"),t.qZA(),t._UZ(43,"br"),t._UZ(44,"br"),t.TgZ(45,"mat-form-field",11),t.TgZ(46,"mat-label"),t._uU(47,"Short Description"),t.qZA(),t._UZ(48,"textarea",21,22),t.qZA(),t.TgZ(50,"mat-form-field",11),t.TgZ(51,"mat-label"),t._uU(52,"Description"),t.qZA(),t._UZ(53,"textarea",23,24),t.qZA(),t._UZ(55,"br"),t.TgZ(56,"div",25),t.TgZ(57,"mat-checkbox",26,27),t._uU(59,"Is In Development"),t.qZA(),t._UZ(60,"br"),t.TgZ(61,"mat-checkbox",28,29),t._uU(63,"Is EOL"),t.qZA(),t._UZ(64,"br"),t.TgZ(65,"mat-checkbox",30,31),t._uU(67,"Is Active"),t.qZA(),t._UZ(68,"hr"),t.TgZ(69,"mat-checkbox",32,33),t._uU(71,"Verified"),t.qZA(),t._UZ(72,"hr"),t.YNc(73,Nt,2,1,"button",34),t.qZA(),t.qZA(),t._UZ(74,"br"),t.TgZ(75,"mat-card"),t.TgZ(76,"strong"),t._uU(77,"Regions "),t.qZA(),t._uU(78,"\u{1f310}"),t._UZ(79,"br"),t._UZ(80,"br"),t.TgZ(81,"form",7),t.ynx(82,35),t.YNc(83,me,9,5,"ng-container",36),t.BQk(),t.TgZ(84,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRegion()}),t._uU(85," Add Region "),t.qZA(),t.YNc(86,Le,2,1,"button",38),t.qZA(),t.qZA(),t._UZ(87,"br"),t.TgZ(88,"mat-card"),t.TgZ(89,"strong"),t._uU(90,"Shout Outs"),t.qZA(),t._UZ(91,"br"),t._UZ(92,"br"),t.TgZ(93,"form",7),t.ynx(94,39),t.YNc(95,Je,8,1,"ng-container",36),t.BQk(),t.TgZ(96,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().addShoutout()}),t._uU(97," Add Shout Out "),t.qZA(),t.YNc(98,We,2,1,"button",38),t.qZA(),t.qZA(),t.qZA(),t.TgZ(99,"div",40),t.TgZ(100,"mat-card"),t.TgZ(101,"strong"),t._uU(102,"PDS Attributes"),t.qZA(),t._UZ(103,"br"),t._UZ(104,"br"),t.YNc(105,xi,3,1,"div",0),t.YNc(106,Ti,3,0,"div",0),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(107,"mat-tab",41),t.TgZ(108,"div",42),t.TgZ(109,"mat-card",43),t.TgZ(110,"form"),t.TgZ(111,"div",44),t.TgZ(112,"div",45),t.TgZ(113,"section",46),t.TgZ(114,"ul"),t.YNc(115,Va,8,6,"li",47),t.ALo(116,"parent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(117,"div",45),t.TgZ(118,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveCategories()}),t._uU(119,"Save Categories"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(120,"mat-tab",49),t.TgZ(121,"div",50),t.TgZ(122,"mat-card",43),t.TgZ(123,"form",7),t.ynx(124,51),t.YNc(125,sa,10,1,"ng-container",36),t.BQk(),t.TgZ(126,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNewAttribute()}),t.TgZ(127,"mat-icon"),t._uU(128,"add_circle_outline"),t.qZA(),t._uU(129," Add Attribute "),t.qZA(),t.YNc(130,ca,2,2,"button",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(131,"mat-tab",53),t.TgZ(132,"mat-card",43),t.TgZ(133,"form",7),t.TgZ(134,"div",42),t.TgZ(135,"div",44),t.TgZ(136,"div",45),t.TgZ(137,"mat-form-field",54),t.TgZ(138,"mat-label"),t._uU(139,"Choose Packaging Type:"),t.qZA(),t.TgZ(140,"mat-select",55),t.YNc(141,Lo,2,2,"mat-option",18),t.ALo(142,"typeGroup"),t.qZA(),t.qZA(),t.TgZ(143,"mat-form-field",54),t.TgZ(144,"mat-label"),t._uU(145,"Weight (KG)"),t.qZA(),t._UZ(146,"input",56),t.TgZ(147,"mat-icon",57),t._uU(148,"fitness_center"),t.qZA(),t.qZA(),t.TgZ(149,"mat-form-field",54),t.TgZ(150,"mat-label"),t._uU(151,"Dimensions(cm): Length"),t.qZA(),t._UZ(152,"input",58),t.TgZ(153,"mat-icon",57),t._uU(154,"design_services"),t.qZA(),t.qZA(),t.TgZ(155,"mat-form-field",54),t.TgZ(156,"mat-label"),t._uU(157,"Dimensions(cm): Width"),t.qZA(),t._UZ(158,"input",59),t.TgZ(159,"mat-icon",57),t._uU(160,"design_services"),t.qZA(),t.qZA(),t.TgZ(161,"mat-form-field",54),t.TgZ(162,"mat-label"),t._uU(163,"Dimensions(cm): Height"),t.qZA(),t._UZ(164,"input",60),t.TgZ(165,"mat-icon",57),t._uU(166,"design_services"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(167,"div",45),t.TgZ(168,"div",61),t.YNc(169,la,2,1,"button",34),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(170,"mat-tab",62),t.TgZ(171,"div",42),t.TgZ(172,"div",9),t.TgZ(173,"div",10),t.TgZ(174,"mat-card",43),t.YNc(175,Mo,25,13,"div",0),t.YNc(176,ha,5,0,"div",63),t.qZA(),t.qZA(),t.TgZ(177,"div",40),t.TgZ(178,"mat-card",43),t.TgZ(179,"table",64),t.TgZ(180,"thead"),t.TgZ(181,"tr",65),t.TgZ(182,"th"),t._uU(183,"Document"),t.qZA(),t.TgZ(184,"th"),t._uU(185,"Uploaded"),t.qZA(),t.TgZ(186,"th"),t._uU(187,"Expiry Date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(188,"tbody"),t.YNc(189,Hs,10,8,"tr",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(190,"mat-tab",66),t.TgZ(191,"div",42),t.TgZ(192,"div",9),t.TgZ(193,"div",10),t.TgZ(194,"mat-card",43),t.YNc(195,Ys,21,12,"div",0),t.YNc(196,Tr,5,0,"div",63),t.qZA(),t.qZA(),t.TgZ(197,"div",40),t.TgZ(198,"mat-card",43),t.TgZ(199,"table",64),t.TgZ(200,"thead"),t.TgZ(201,"tr",65),t.TgZ(202,"th"),t._uU(203,"Document"),t.qZA(),t.TgZ(204,"th"),t._uU(205,"Uploaded"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(206,"tbody"),t.YNc(207,mn,6,4,"tr",36),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(208,"mat-tab",67),t.TgZ(209,"div",42),t.TgZ(210,"mat-tab-group"),t.TgZ(211,"mat-tab",68),t.TgZ(212,"div",9),t.TgZ(213,"div",69),t.YNc(214,Oo,2,1,"div",70),t.qZA(),t.TgZ(215,"div",71),t.TgZ(216,"div",9),t.YNc(217,fa,12,7,"div",72),t.qZA(),t.qZA(),t.qZA(),t.TgZ(218,"mat-card"),t.YNc(219,Kr,11,4,"div",73),t.YNc(220,Fo,7,0,"div",73),t.qZA(),t.qZA(),t.TgZ(221,"mat-tab",74),t._UZ(222,"div",42),t.qZA(),t.TgZ(223,"mat-tab",75),t.TgZ(224,"div",42),t.TgZ(225,"div",9),t.YNc(226,Sr,10,6,"div",72),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(227,"div",76),t.TgZ(228,"div",77),t.TgZ(229,"mat-card"),t.TgZ(230,"mat-card-content"),t.TgZ(231,"mat-grid-list",78),t.TgZ(232,"mat-grid-tile",79),t._UZ(233,"mat-progress-spinner",80),t.qZA(),t.qZA(),t._UZ(234,"br"),t.TgZ(235,"h3",81),t._uU(236),t.qZA(),t._UZ(237,"hr"),t.TgZ(238,"mat-list",82),t.TgZ(239,"mat-list-item",83),t.TgZ(240,"mat-icon"),t._uU(241,"check_circle"),t.qZA(),t._uU(242," General Details "),t.qZA(),t.TgZ(243,"mat-list-item",83),t.YNc(244,ga,2,0,"mat-icon",0),t.YNc(245,_n,2,0,"mat-icon",0),t._uU(246," Categories "),t.qZA(),t.TgZ(247,"mat-list-item",83),t.YNc(248,dr,2,0,"mat-icon",0),t.YNc(249,gi,2,0,"mat-icon",0),t._uU(250," Attributes "),t.qZA(),t.TgZ(251,"mat-list-item",83),t.YNc(252,mi,2,0,"mat-icon",0),t.YNc(253,Li,2,0,"mat-icon",0),t._uU(254," Packaging "),t.YNc(255,Fi,2,0,"span",0),t.qZA(),t.TgZ(256,"mat-list-item",83),t.YNc(257,pr,2,0,"mat-icon",0),t.YNc(258,Nr,2,0,"mat-icon",0),t._uU(259),t.qZA(),t.TgZ(260,"mat-list-item",83),t.YNc(261,qo,2,0,"mat-icon",0),t.YNc(262,Ga,2,0,"mat-icon",0),t._uU(263),t.qZA(),t.qZA(),t.qZA(),t.TgZ(264,"div",81),t.TgZ(265,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw().SavePDF()}),t._uU(266,"Export PDF"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const e=t.oxw();t.xp6(4),t.hij(" / Product Details / ",e.productName," "),t.xp6(6),t.Q6J("formGroup",e.productForm),t.xp6(24),t.Q6J("ngForOf",t.xi3(35,47,e.typesList,"Brand")),t.xp6(39),t.Q6J("ngIf",e.editRole),t.xp6(8),t.Q6J("formGroup",e.regionsForm),t.xp6(2),t.Q6J("ngForOf",e.regions.controls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(7),t.Q6J("formGroup",e.shoutoutsForm),t.xp6(2),t.Q6J("ngForOf",e.shoutouts.controls),t.xp6(3),t.Q6J("ngIf",e.editRole),t.xp6(7),t.Q6J("ngIf",!e.loadingPdsAttributes),t.xp6(1),t.Q6J("ngIf",e.loadingPdsAttributes),t.xp6(9),t.Q6J("ngForOf",t.xi3(116,50,e.categoriesList,"0")),t.xp6(8),t.Q6J("formGroup",e.productFormAttributes),t.xp6(2),t.Q6J("ngForOf",e.attributes.controls),t.xp6(5),t.Q6J("ngIf",e.editRole),t.xp6(3),t.Q6J("formGroup",e.productFormPackaging),t.xp6(8),t.Q6J("ngForOf",t.xi3(142,53,e.typesList,"Packaging")),t.xp6(28),t.Q6J("ngIf",e.editRole),t.xp6(6),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(13),t.Q6J("ngForOf",e.documentFiles),t.xp6(6),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(11),t.Q6J("ngForOf",e.documentFiles),t.xp6(7),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(3),t.Q6J("ngForOf",e.mediaFiles),t.xp6(2),t.Q6J("ngIf",e.uploadRole),t.xp6(1),t.Q6J("ngIf",!e.uploadRole),t.xp6(6),t.Q6J("ngForOf",t.DdM(56,Qc)),t.xp6(7),t.Q6J("color",e.progressPercentage()>50?"primary":"warn")("mode",e.progressMode)("value",e.progressPercentage()),t.xp6(3),t.hij("",e.progressPercentage(),"% Complete"),t.xp6(8),t.Q6J("ngIf",e.categoriesList.length<1),t.xp6(1),t.Q6J("ngIf",e.categoriesList.length>0),t.xp6(3),t.Q6J("ngIf",e.attributes.length<1),t.xp6(1),t.Q6J("ngIf",e.attributes.length>0),t.xp6(3),t.Q6J("ngIf",e.packagingCount<1),t.xp6(1),t.Q6J("ngIf",e.packagingCount>0),t.xp6(2),t.Q6J("ngIf",e.packagingLoading),t.xp6(2),t.Q6J("ngIf",e.documentFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.documentFiles.length>0),t.xp6(1),t.hij(" Documents (",e.documentFiles.length,") "),t.xp6(2),t.Q6J("ngIf",e.mediaFiles.length<1),t.xp6(1),t.Q6J("ngIf",e.mediaFiles.length>0),t.xp6(1),t.hij(" Images (",e.mediaFiles.length,") ")}}function Kc(s,c){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"h2"),t._uU(2,'\u{1f937}\u200d\u2642\ufe0f Product code "'),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,'" does not exist.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Please make sure the SKU is correct. If you beleave this is the correct product code, please click report this issue."),t.qZA(),t.TgZ(8,"button",136),t._uU(9,"Report Issue"),t.qZA(),t.qZA()),2&s){const e=t.oxw(2);t.xp6(4),t.Oqu(e.sku)}}function Xc(s,c){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,Kc,10,1,"div",0),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.productsLoader)}}const Js=[{path:"",component:xr},{path:":sku",component:(()=>{class s{constructor(e,r,m,x,q,rt,Vt,i,l,g){this.navbar=e,this.treeNav=r,this.api=m,this._snackBar=x,this.route=q,this.router=rt,this.formBuilder=Vt,this.info=i,this.dialog=l,this.http=g,this.typesList=[],this.typesLoader=!1,this.productsLoader=!1,this.files=[],this.mediaFiles=[],this.documentFiles=[],this.filePermissions=[],this.focusType="47",this.messages=[],this.uploadProgress=0,this.uploadProgressBar="width:0%;height:20px",this.loading=!1,this.packagingCount=0,this.packagingLoading=!1,this.attrCount=0,this.productCategories=[],this.attributesFields=[],this.saveAttrBtnText="Save Changes",this.disableSaveAttrBtn=!1,this.productAttributes=[],this.ft="",this.detailProgress=0,this.progressMode="determinate",this.editRole=!1,this.uploadRole=!1,this.viewAllProductsRole=!1,this.verified=!1,this.categoriesList=[],this.selectedCategories=[],this.categoriesLoader=!1,this.catFromProductTbl=[],this.requiredField=!1,this.productRegionList=[],this.pdsAttributes=[],this.loadingPdsAttributes=!0,this.today=new Date,this.onImageServer=!0}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.detailProgress=0,this.editRole=this.info.role(56),this.uploadRole=this.info.role(57),this.viewAllProductsRole=this.info.role(68),this.storageUrl=this.api.getStorageUrl(),this.navbar.show(),this.treeNav.hide(),this.route.params.subscribe(e=>{this.sku=e.sku,this.productSku=this.sku}),this.getDetails(this.sku),this.getAllTypes(),this.getAllCategories(),this.productForm=this.formBuilder.group({sku:["0",Gt.kI.required],name:["0",Gt.kI.required],brand_type_id:["0",Gt.kI.required],description:["0",Gt.kI.required],short_description:["0",Gt.kI.required],parent_id:["0"],is_eol:[0,Gt.kI.required],is_in_development:[0,Gt.kI.required],is_active:[0,Gt.kI.required],verified:[0,Gt.kI.required],family_grouping:[""]}),this.productFormPackaging=this.formBuilder.group({weight:[""],length:[""],width:[""],height:[""],packaging_type_id:["",Gt.kI.required],product_id:[""]}),this.productFormAttributes=this.formBuilder.group({attributes:this.formBuilder.array([])}),this.shoutoutsForm=this.formBuilder.group({shoutouts:this.formBuilder.array([])}),this.regionsForm=this.formBuilder.group({regions:this.formBuilder.array([])}),("products"==this.sku||"product"==this.sku)&&this.router.navigate(["/"]),("users"==this.sku||"user"==this.sku)&&this.router.navigate(["/users/manage"])}get attributes(){return this.productFormAttributes.get("attributes")}get shoutouts(){return this.shoutoutsForm.get("shoutouts")}get regions(){return this.regionsForm.get("regions")}getAllCategories(){this.categoriesLoader=!0,this.api.GET("categories").subscribe({next:e=>{console.log("Categories List: ",e),this.categoriesLoader=!1,this.categoriesList=e},error:e=>{this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getDetails(e){this.productsLoader=!0,this.api.GET(`products/${e}`).subscribe({next:r=>{if(this.productsLoader=!1,r.length>0){this.detailProgress++,this.product=r[0],this.productName=this.product.name,this.id=this.product.id,this.media(),this.documents(),this.getProductCategories(),this.getPackaging(this.id),this.getPdsAttributes(e),this.getProductRegions(this.id),this.productForm=this.formBuilder.group({sku:[{value:this.product.sku,disabled:!0},Gt.kI.required],name:[this.product.name,Gt.kI.required],brand_type_id:[this.product.brand_type_id,Gt.kI.required],description:[this.product.description,Gt.kI.required],short_description:[this.product.short_description,Gt.kI.required],is_in_development:[this.product.is_in_development],is_active:[this.product.is_active],is_eol:[this.product.is_eol],verified:[this.product.verified],family_grouping:[this.product.family_grouping]});const m=JSON.parse(this.product.shoutout);for(let q=0;q<m.length;q++){const rt=this.formBuilder.group({shoutoutField:[m[q],Gt.kI.required]});this.shoutouts.push(rt)}let x=[];if(x=JSON.parse(this.product.attributes),null!==x)for(let q=0;q<x.length;q++){const Vt=Object.keys(x[q])[0],l=this.formBuilder.group({attrName:[Vt,Gt.kI.required],attrValue:[x[q][Vt],Gt.kI.required]});this.attributes.push(l)}}},error:r=>{this.openSnackBar("Failed to connect to the server: "+r.message,"Okay"),this.productsLoader=!1}})}getProductCategories(){this.api.GET(`product-categories/search/${this.id}`).subscribe({next:e=>{if(this.productCategories=e,e.length>0){this.detailProgress++;for(let r=0;r<e.length;r++){let m=JSON.parse(e[r].attributes);if(0!=e[r].parent){let x=this.categoriesList.find(rt=>rt.id==e[r].parent),q=[];q=JSON.parse(null==x?void 0:x.attributes);for(let rt=0;rt<q.length;rt++){const Vt=this.formBuilder.group({attrName:[q[rt],Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(Vt),this.attrCount=this.attrCount+1}}else console.log("here..");if(null!==m)for(let x=0;x<m.length;x++)if(-1===this.attributes.value.findIndex(rt=>rt.attrName===m[x])){const rt=this.formBuilder.group({attrName:[m[x],Gt.kI.required],attrValue:["0",Gt.kI.required]});this.attributes.push(rt),this.attrCount=this.attrCount+1}}}},error:e=>{console.log(e)}})}getAllTypes(){this.api.GET("types").subscribe({next:e=>{this.typesLoader=!1,this.typesList=e},error:e=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+e.message,"Okay")}})}getPackaging(e){this.packagingCount=0,this.packagingLoading=!0,this.api.GET(`packaging/search/${e}`).subscribe({next:r=>{r.length>0&&(this.detailProgress++,this.packaging=r,this.packagingCount=this.packaging.length,this.productFormPackaging=this.formBuilder.group({length:[r[0].height],width:[r[0].width],height:[r[0].height],weight:[r[0].weight],packaging_type_id:[r[0].packaging_type_id],product_id:[this.id]})),this.packagingLoading=!1},error:r=>{this.typesLoader=!1,this.openSnackBar("Failed to communicate with the server: "+r.message,"Okay")}})}onChange(e){this.files=e.target.files;for(let r=0;r<this.files.length;r++)this.files[r].size>2e6&&this.messages.push("\u{1f6ab} "+this.files[r].name+" is too large!")}onUpload(e,r){if(this.loading=!this.loading,console.log("This is a function that uplaods files"),this.files.length>0)for(let m=0;m<this.files.length;m++)this.api.upload("upload-media",{file:this.files[m],name:this.files[m].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:r,permissions:this.filePermissions}).subscribe(x=>{if("object"==typeof x&&(this.loading=!1),x.type===Br.dt.UploadProgress)this.uploadProgress=Math.round(100*x.loaded/x.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(x instanceof Br.Zn){const q=this.files[m].name+" ploaded the file successfully.";this.info.activity("Added new product",this.product.id),this.messages.push(q)}this.media()},x=>{this.uploadProgress=0,this.messages.push(this.files[m].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}uploadDocument(e,r){if(console.log("exp: ",this.expiry_date),this.loading=!this.loading,this.files.length>0)for(let m=0;m<this.files.length;m++)this.api.upload("upload-document",{file:this.files[m],name:this.files[m].name,product_id:this.product.id,product_sku:this.product.sku,type_id:e,type:r,permissions:this.filePermissions,expiry_date:this.expiry_date}).subscribe(x=>{if("object"==typeof x&&(this.loading=!1),x.type===Br.dt.UploadProgress)this.uploadProgress=Math.round(100*x.loaded/x.total),this.uploadProgressBar=`width:${this.uploadProgress}%;height:10px`;else if(x instanceof Br.Zn){const q=this.files[m].name+" ploaded the file successfully.";this.info.activity("Added new product",this.product.id),this.messages.push(q)}this.documents()},x=>{this.uploadProgress=0,this.messages.push(this.files[m].name+" could not upload the file: ")});else this.openSnackBar("Please select files","Okay"),this.loading=!1}openSnackBar(e,r){this._snackBar.open(e,r,{duration:4e3})}media(){this.api.GET(`product-media-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.mediaFiles=e,console.log("Saved files: ",e),this.getProductImageOrder())},error:e=>{console.log(e)}})}documents(){this.api.GET(`product-document-files/${this.id}`).subscribe({next:e=>{e.length>0&&(this.detailProgress++,this.documentFiles=e)},error:e=>{console.log(e)}})}getProductImageOrder(){this.api.GET(`image-order/search/${this.id}`).subscribe({next:e=>{if(e.length>0){const r=JSON.parse(e[0].order_list);let m=[];for(let x=0;x<r.length;x++){const q=r[x],rt=this.mediaFiles.find(Vt=>Vt.id==q);m.push(rt)}this.mediaFiles=m}this.mediaFiles=this.mediaFiles},error:e=>{console.log(e)}})}getProductRegions(e){console.log("getting regions"),this.api.GET(`product-regions/${e}`).subscribe({next:r=>{if(console.log(r),this.productRegionList=r,null!==r)for(let m=0;m<r.length;m++){const x=this.formBuilder.group({regionField:[r[m].region_id,Gt.kI.required]});this.regions.push(x)}},error:r=>{console.log(r)}})}updateFileType(e,r){this.api.POST(`product-files/update-fileType/${e}`,{type_id:r}).subscribe({next:m=>{this.info.activity("Updated file type",this.product.id),this.media(),this.documents()},error:m=>{console.log(m)}})}setFocusType(e){this.focusType=e.target.value}updateProduct(){this.api.POST(`products/update/${this.id}`,this.productForm.value).subscribe({next:e=>{this.progressPercentage(),this.info.activity("Updated product",this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updatePackaging(){this.productFormPackaging.patchValue({product_id:this.id}),this.api.POST(`packaging/update/${this.id}`,this.productFormPackaging.value).subscribe({next:e=>{this.info.activity("Updated product packaging details",this.product.id),this.openSnackBar("Packaging Saved \u{1f603}","Okay"),this.getPackaging(this.id)},error:e=>{this.openSnackBar("\u{1f622} "+e.message,"Okay")}})}updateShoutout(){const e=this.shoutoutsForm.value.shoutouts,r=e.length;let m=[];console.log(e),console.log(r);for(let x=0;x<r;x++)m.push(this.shoutoutsForm.value.shoutouts[x].shoutoutField);this.api.POST(`products/update-shoutout/${this.id}`,m).subscribe({next:x=>{console.log(x),this.info.activity("Updated product shoutout",this.product.id),this.openSnackBar("Product Updated \u{1f603}","Okay")},error:x=>{this.openSnackBar("\u{1f622} "+x.message,"Okay")}})}updateRegion(){for(let e=0;e<this.regionsForm.value.regions.length;e++)this.api.POST("product-regions",{product_id:this.id,region_id:this.regionsForm.value.regions[e].regionField}).subscribe({next:r=>{console.log(r),this.getProductRegions(this.id),this.openSnackBar("Region Updated \u{1f603}","Okay")},error:r=>{console.log(r)}})}filePath(e){return e.substring(7)}returnTypeName(e){return this.typesList[e-=1].name}returnTypeGroup(e){return this.typesList[e-=1].grouping}drop(e){Pt(this.mediaFiles,e.previousIndex,e.currentIndex);let r=[];for(let x=0;x<this.mediaFiles.length;x++)r.push(this.mediaFiles[x].id);const m=JSON.stringify(r);this.api.POST("image-order/",{product_id:this.id,order_list:m}).subscribe({next:x=>{console.log(x)},error:x=>{console.log(x)}})}updateAttributes(){this.disableSaveAttrBtn=!0,this.saveAttrBtnText="Saving...";let e=this.productFormAttributes.getRawValue(),r=[];for(let x=0;x<e.attributes.length;x++)this.attrKey=r[e.attributes[x].attrName],r[e.attributes[x].attrName]=e.attributes[x].attrValue,this.api.POST(`products/update-attributes/${this.id}`,[{key:e.attributes[x].attrValue}]).subscribe({next:q=>{console.log(q),this.saveAttrBtnText="Save Changes",this.openSnackBar("Attributes Saved","Okay"),this.info.activity("Updated product attributes",this.product.id)},error:q=>{this.saveAttrBtnText="Failed, try again.",this.openSnackBar(q.message,"Okay")}})}deleteFile(e){this.api.GET(`delete-file/${e}`).subscribe({next:r=>{r.length>0&&console.log("delete: ",r)},error:r=>{console.log(r)}})}hideFile(e){this.api.GET(`hide-file/${e}`).subscribe({next:r=>{r.length>0&&(console.log("delete: ",r),console.log("This is for hiding the file or image from the view on the ui"))},error:r=>{console.log(r)}})}progressPercentage(){return Math.round(((this.categoriesList.length>0?1:0)+(this.attributes.length>0?1:0)+(this.packagingCount>0?1:0)+(this.documentFiles.length>0?1:0)+(this.mediaFiles.length>0?1:0)+(this.productForm.value.brand_type_id?1:0)+(this.product.is_in_development>0||this.product.is_eol>0||this.product.is_active>0?1:0)+(this.product.verified?1:0))/8*100)}addNewAttribute(){const e=this.formBuilder.group({attrName:[],attrValue:[]});this.attributes.push(e),this.attrCount=this.attrCount+1}removeNewAttribute(e){this.attributes.removeAt(e),this.attrCount=this.attrCount-1}addShoutout(){const e=this.formBuilder.group({shoutoutField:[]});console.log("Is shoutouts an array? ",Array.isArray(this.shoutouts)),this.shoutouts.push(e)}removeShoutout(e){this.shoutouts.removeAt(e),this.shoutoutsForm.markAsDirty()}addRegion(){const e=this.formBuilder.group({regionField:[]});this.regions.push(e)}removeRegion(e){this.regions.removeAt(e),this.regionsForm.markAsDirty()}checkCategories(e){this.catFromProductTbl.find(m=>m.name==e);for(let m=0;m<this.productCategories.length;m++)if(e==this.productCategories[m].name)return!0;return!1}checkedItem(e){const r=this.selectedCategories.indexOf(e);r<0?this.selectedCategories.push(e):this.selectedCategories.splice(r,1),console.log(this.selectedCategories)}saveCategories(){const e=this.selectedCategories;if(e.length>0)for(let r=0;r<e.length;r++)this.api.POST("product-categories",{product_id:this.id,category_id:e[r]}).subscribe({next:m=>{this.getProductCategories(),this.openSnackBar("Category Added \u{1f603}","Okay")},error:m=>{this.openSnackBar("\u{1f622} "+m.message,"Okay")}});this.openSnackBar("Please choose categories","Okay")}setPermission(e){return console.log(e),!0}getPdsAttributes(e){this.api.GET(`pds-attributes/${e}`).subscribe({next:r=>{console.log("PDS Attributes",r),this.pdsAttributes=r,this.loadingPdsAttributes=!1},error:r=>{console.log(r),this.loadingPdsAttributes=!1}})}SavePDF(){console.log(this.productForm.value);let e=[];1==this.productForm.value.is_in_development&&e.push("Active "),1==this.productForm.value.is_eol&&e.push(" End of Life "),1==this.productForm.value.is_in_development&&e.push(" In Development ");const r=new Zs.default;r.text(this.productName,10,10),Ds()(r,{body:[["Product Code",":",this.sku],["Short Description",":",this.productForm.value.short_description],["Description",":",this.productForm.value.description],["Status",":",e],["Categories",":",e]]}),r.save(this.sku+".pdf")}imageserver(e,r){return`https://images.smdtechnologies.co.za/api/store/${e}/${r}`}downloadURI(e,r,m,x){this.api.download("download-file-api",e,this.product.id,this.product.sku,x.type_id,x.path.replace("public/","storage/"),r).subscribe(rt=>{const Vt=new Blob([rt],{type:"application/octet-stream"});Ra.saveAs(Vt,m)},rt=>{console.log(rt)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(Xe.I),t.Y36(Xi.r),t.Y36(Ce.s),t.Y36(Rt.ux),t.Y36(yi.gz),t.Y36(yi.F0),t.Y36(Gt.qu),t.Y36(se.C),t.Y36(Ha),t.Y36(Br.eN))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-single-product"]],viewQuery:function(e,r){if(1&e&&t.Gf(U,5),2&e){let m;t.iGM(m=t.CRH())&&(r.content=m.first)}},decls:3,vars:3,consts:[[4,"ngIf"],["color","accent","mode","indeterminate"],["routerLink","/"],["id","pdfContent",1,"row"],[1,"col-md-10"],[2,"background","#EFEFEF"],["label","Product Details"],[3,"formGroup"],[1,"mt-5",2,"overflow","hidden !important"],[1,"row"],[1,"col-md-4"],["appearance","outline",2,"width","90%"],["matInput","","formControlName","sku","placeholder","Enter Product SKU"],["sku",""],["matInput","","formControlName","name","placeholder","Enter Product Name"],["name",""],["matInput","","formControlName","brand_type_id"],["brand",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","family_grouping","placeholder","Enter Product Family Grouping"],["family_grouping",""],["rows","7","matInput","","formControlName","short_description","placeholder","Enter short product description"],["short_description",""],["rows","15","matInput","","formControlName","description","placeholder","Enter product description..."],["description",""],[2,"padding-left","1rem"],["formControlName","is_in_development"],["is_in_development",""],["formControlName","is_eol"],["is_eol",""],["formControlName","is_active"],["is_active",""],["formControlName","verified"],["verified",""],["mat-raised-button","","type","submit","color","primary",3,"disabled","click",4,"ngIf"],["formArrayName","regions"],[4,"ngFor","ngForOf"],["mat-raised-button","","type","button",2,"margin-left","1rem",3,"click"],["mat-raised-button","","type","submit","color","primary","style","margin-left: 1rem;",3,"disabled","click",4,"ngIf"],["formArrayName","shoutouts"],[1,"col-md-8"],["label","Categories"],[1,"mt-5","custom-tab",2,"overflow","hidden !important"],[2,"background-color","rgb(255, 255, 255)"],[1,"row","form-border"],[1,"col-md-6"],[1,"categories-section"],["class","categories-list",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"click"],["label","Attributes"],[1,"mt-5","custom-tab","form-border",2,"overflow","hidden !important"],["formArrayName","attributes"],["mat-raised-button","","type","button","color","accent",2,"margin-left","1rem",3,"click"],["label","Packaging"],["appearance","outline"],["name","packaging_type_id","formControlName","packaging_type_id"],["matInput","","formControlName","weight","placeholder","Enter Product Weight"],["matSuffix",""],["matInput","","formControlName","length","placeholder","Enter Product Length"],["matInput","","formControlName","width","placeholder","Enter Product Width"],["matInput","","formControlName","height","placeholder","Enter Product Height"],[1,"m-3"],["label","Files"],["class","upload-role",4,"ngIf"],[1,"table"],[2,"list-style","none"],["label","Briefing Files"],["label","Media"],["label","Images"],[1,"col-md-3"],["cdkDropList","","class","file-list",3,"cdkDropListDropped",4,"ngIf"],[1,"col-md-9"],["class","col-md-3",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["label","Videos"],["label","Image Server"],[1,"col-md-2"],[1,"text-muted"],["cols","3","rowHeight","100px"],["colspan","3"],[3,"color","mode","value"],[2,"text-align","center"],["role","list"],["role","listitem"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],["mat-raised-button","","type","submit","color","primary",3,"disabled","click"],[3,"formGroupName"],["matInput","","formControlName","regionField"],["regionField",""],["mat-raised-button","","type","submit","color","primary",2,"margin-left","1rem",3,"disabled","click"],["matInput","","id","shoutoutField","type","text","formControlName","shoutoutField","placeholder","Enter Shoutout","required",""],["matSuffix","",3,"click"],[1,"categories-list"],[3,"checked","click"],["cols","3","rowHeight","80px"],["appearance","outline",2,"width","100%"],["matInput","","id","attrName","type","text","formControlName","attrName","placeholder","Enter Value","required",""],["matInput","","id","attrValue","type","text","formControlName","attrValue","placeholder","Enter Value","required",""],[1,"form-control",3,"change"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","file","multiple","",1,"form-control",3,"change"],[2,"background-color","rgb(247, 247, 247)"],["permissions",""],["style","height: 25px;",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],[1,"progress",2,"height","10px","width","100%"],[1,"progress-bar","bg-success"],["class","message",4,"ngIf"],[2,"height","25px"],[1,"container"],[1,"message"],[1,"upload-role"],["cdkDropList","",1,"file-list",3,"cdkDropListDropped"],["class","file-box",4,"ngFor","ngForOf"],[1,"file-box"],["cdkDrag","",1,"row"],["color","accent","selected","",4,"ngIf"],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge",4,"ngIf"],[1,"sort-img",3,"alt","src"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["color","accent","selected",""],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],[3,"value","onSelectionChange"],[2,"max-width","280px","margin-bottom","2rem","background-color","rgb(254, 254, 254)"],[2,"height","120px","width","130px","overflow","hidden"],["mat-card-image","","alt","Photo",3,"src"],["aria-label","Fish selection"],[3,"click",4,"ngFor","ngForOf"],["class","img-action",4,"ngIf"],[3,"click"],[1,"img-action"],["mat-mini-fab","","color","basic",3,"click"],[1,"col-md-4","form-border"],[1,"col-md-12"],["mat-card-image","","onerror","this.src='https://products.smdtechnologies.com/public/storage/files/default.png'","alt","Photo",3,"src"],["mat-raised-button","","color","primary","onclick","alert('Issue reported.')"]],template:function(e,r){1&e&&(t.YNc(0,W,4,1,"div",0),t.YNc(1,$c,267,57,"div",0),t.YNc(2,Xc,2,1,"div",0)),2&e&&(t.Q6J("ngIf",1==r.productsLoader),t.xp6(1),t.Q6J("ngIf",r.product),t.xp6(1),t.Q6J("ngIf",!r.product))},directives:[Ae.O5,Hn.pW,yi.yS,ye.a8,Ot.SP,Ot.uX,Gt._Y,Gt.JL,Gt.sg,gt.KE,gt.hX,Ht.Nt,Gt.Fj,Gt.JJ,Gt.u,Ct.gD,Ae.sg,tt.ey,dn,Bt.lW,Gt.CE,Gt.x0,Gt.Q7,_t.Hw,gt.R9,Gt.F,et.Il,et.DX,Gt.YN,Gt.Kr,Gt.On,gn.Ub,gn.vS,Y,Ue,No,Gr,p.k,ye.dk,ye.$j,ye.G2,ye.dn,ye.hq,C.Ou,gn.i$,gn.Tg],pipes:[Qe,st,Ae.uU],styles:[".image-card[_ngcontent-%COMP%]{max-width:210px;margin-bottom:1rem}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:6px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:12px}.example-card[_ngcontent-%COMP%]{max-width:200px}table[_ngcontent-%COMP%]{width:100%}.upload-role[_ngcontent-%COMP%]{background-color:#f7f7f7;color:#bbb;height:9rem;padding:2rem;border-radius:5px;text-align:center}.progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}.mat-input-element[_ngcontent-%COMP%]{font-size:medium;font-weight:200}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-top:1rem}.preview[_ngcontent-%COMP%]{max-width:200px;vertical-align:middle}.list-card[_ngcontent-%COMP%]{margin-top:20px}.list-item[_ngcontent-%COMP%]{margin-bottom:20px}.custom-tab[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.form-border[_ngcontent-%COMP%]{border:1px solid #f1f1f1;padding:2rem}.productImg[_ngcontent-%COMP%]{background-color:#fafafa;padding-top:2rem;padding-bottom:2rem;text-align:center}.file-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:white;border-radius:4px;overflow:hidden}.file-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.file-box[_ngcontent-%COMP%]:last-child{border:none}.file-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.sort-img[_ngcontent-%COMP%]{max-width:70px;max-height:50px}.img-action[_ngcontent-%COMP%]{position:relative;left:134px;bottom:387px}.scrollable-div[_ngcontent-%COMP%]{height:42rem;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #f7f7f7;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#EFEFEF;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#dddddd}.categories-section[_ngcontent-%COMP%]{margin:12px 0}.categories-list[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;border-radius:1px}"]}),s})()},{path:"brand/:brand",component:Rr},{path:"add/new",component:Di},{path:"categories/manage",component:Ie},{path:"products/export",component:Hl},{path:"products/export-csv",component:Lu}];let Qa=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[yi.Bz.forChild(Js)],yi.Bz]}),s})(),$a=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({}),s})(),lu=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Ae.ez,tt.BQ,$a,Mn.eL]]}),s})();var uu=ne(2181);ne(4968),ne(1005);const cl={provide:new t.OlP("mat-autocomplete-scroll-strategy"),deps:[In.aV],useFactory:function sl(s){return()=>s.scrollStrategies.reposition()}};let _u=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[cl],imports:[[In.U8,tt.Ng,tt.BQ,Ae.ez],o.ZD,tt.Ng,tt.BQ]}),s})();var ul=ne(4594),vu=ne(7238);let bu=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[Ae.ez,Qa,aa,gt.lN,$t.p0,Ne.TU,_t.Ps,gn.ie,Ht.c,gt.lN,Gt.u5,Gt.UX,Bt.ot,Ot.Nh,Ct.LD,ye.QW,cr,Rt.ZX,lu,C.Cq,Hn.Cv,De.JX,gr.JB,uu.Tx,Sc,_u,ul.g0,Ve,et.N6,p.g,Sc,vu.AV]]}),s})()},4327:function(va,ro){var yi;void 0!==(yi=function(){"use strict";function t(Ot,Lt,_t){var gt=new XMLHttpRequest;gt.open("GET",Ot),gt.responseType="blob",gt.onload=function(){ye(gt.response,Lt,_t)},gt.onerror=function(){console.error("could not download file")},gt.send()}function Xe(Ot){var Lt=new XMLHttpRequest;Lt.open("HEAD",Ot,!1);try{Lt.send()}catch(_t){}return 200<=Lt.status&&299>=Lt.status}function Ce(Ot){try{Ot.dispatchEvent(new MouseEvent("click"))}catch(_t){var Lt=document.createEvent("MouseEvents");Lt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ot.dispatchEvent(Lt)}}var Rt="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,se=Rt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ye=Rt.saveAs||("object"!=typeof window||window!==Rt?function(){}:"download"in HTMLAnchorElement.prototype&&!se?function(Ot,Lt,_t){var gt=Rt.URL||Rt.webkitURL,Ht=document.createElement("a");Ht.download=Lt=Lt||Ot.name||"download",Ht.rel="noopener","string"==typeof Ot?(Ht.href=Ot,Ht.origin===location.origin?Ce(Ht):Xe(Ht.href)?t(Ot,Lt,_t):Ce(Ht,Ht.target="_blank")):(Ht.href=gt.createObjectURL(Ot),setTimeout(function(){gt.revokeObjectURL(Ht.href)},4e4),setTimeout(function(){Ce(Ht)},0))}:"msSaveOrOpenBlob"in navigator?function(Ot,Lt,_t){if(Lt=Lt||Ot.name||"download","string"!=typeof Ot)navigator.msSaveOrOpenBlob(function Gt(Ot,Lt){return void 0===Lt?Lt={autoBom:!1}:"object"!=typeof Lt&&(console.warn("Deprecated: Expected third argument to be a object"),Lt={autoBom:!Lt}),Lt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ot.type)?new Blob(["\ufeff",Ot],{type:Ot.type}):Ot}(Ot,_t),Lt);else if(Xe(Ot))t(Ot,Lt,_t);else{var gt=document.createElement("a");gt.href=Ot,gt.target="_blank",setTimeout(function(){Ce(gt)})}}:function(Ot,Lt,_t,gt){if((gt=gt||open("","_blank"))&&(gt.document.title=gt.document.body.innerText="downloading..."),"string"==typeof Ot)return t(Ot,Lt,_t);var Ht="application/octet-stream"===Ot.type,Bt=/constructor/i.test(Rt.HTMLElement)||Rt.safari,Ct=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ct||Ht&&Bt||se)&&"undefined"!=typeof FileReader){var tt=new FileReader;tt.onloadend=function(){var ct=tt.result;ct=Ct?ct:ct.replace(/^data:[^;]*;/,"data:attachment/file;"),gt?gt.location.href=ct:location=ct,gt=null},tt.readAsDataURL(Ot)}else{var et=Rt.URL||Rt.webkitURL,st=et.createObjectURL(Ot);gt?gt.location=st:location.href=st,gt=null,setTimeout(function(){et.revokeObjectURL(st)},4e4)}});Rt.saveAs=ye.saveAs=ye,va.exports=ye}.apply(ro,[]))&&(va.exports=yi)},2983:function(va,ro,ne){var Ae;void 0!==this||window,va.exports=(Ae=function(){try{return ne(3583)}catch(Rt){}}(),function(){"use strict";var yi={662:function(Ce,Rt){var Lt,se=this&&this.__extends||(Lt=function(_t,gt){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ht,Bt){Ht.__proto__=Bt}||function(Ht,Bt){for(var Ct in Bt)Object.prototype.hasOwnProperty.call(Bt,Ct)&&(Ht[Ct]=Bt[Ct])})(_t,gt)},function(_t,gt){if("function"!=typeof gt&&null!==gt)throw new TypeError("Class extends value "+String(gt)+" is not a constructor or null");function Ht(){this.constructor=_t}Lt(_t,gt),_t.prototype=null===gt?Object.create(gt):(Ht.prototype=gt.prototype,new Ht)});Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.CellHookData=Rt.HookData=void 0;var ye=function Lt(_t,gt,Ht){this.table=gt,this.pageNumber=gt.pageNumber,this.pageCount=this.pageNumber,this.settings=gt.settings,this.cursor=Ht,this.doc=_t.getDocument()};Rt.HookData=ye;var Ot=function(Lt){function _t(gt,Ht,Bt,Ct,tt,et){var st=Lt.call(this,gt,Ht,et)||this;return st.cell=Bt,st.row=Ct,st.column=tt,st.section=Ct.section,st}return se(_t,Lt),_t}(ye);Rt.CellHookData=Ot},790:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0});var ye=se(148),Ot=se(938),Lt=se(323),_t=se(587),gt=se(49),Ht=se(858);Rt.default=function Bt(Ct){Ct.API.autoTable=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var st;1===tt.length?st=tt[0]:(console.error("Use of deprecated autoTable initiation"),(st=tt[2]||{}).columns=tt[0],st.body=tt[1]);var ct=(0,_t.parseInput)(this,st),bt=(0,Ht.createTable)(this,ct);return(0,gt.drawTable)(this,bt),this},Ct.API.lastAutoTable=!1,Ct.API.previousAutoTable=!1,Ct.API.autoTable.previous=!1,Ct.API.autoTableText=function(tt,et,st,ct){(0,Ot.default)(tt,et,st,ct,this)},Ct.API.autoTableSetDefaults=function(tt){return Lt.DocHandler.setDefaults(tt,this),this},Ct.autoTableSetDefaults=function(tt,et){Lt.DocHandler.setDefaults(tt,et)},Ct.API.autoTableHtmlToJson=function(tt,et){if(void 0===et&&(et=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var st=new Lt.DocHandler(this),ct=(0,ye.parseHtml)(st,tt,window,et,!1),yt=ct.body;return{columns:ct.head[0].map(function(Zt){return Zt.content}),rows:yt,data:yt}},Ct.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var tt=this.lastAutoTable;return tt&&tt.finalY?tt.finalY:0},Ct.API.autoTableAddPageContent=function(tt){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),Ct.API.autoTable.globalDefaults||(Ct.API.autoTable.globalDefaults={}),Ct.API.autoTable.globalDefaults.addPageContent=tt,this},Ct.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},938:function(Ce,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function se(ye,Ot,Lt,_t,gt){_t=_t||{};var Bt=gt.internal.scaleFactor,Ct=gt.internal.getFontSize()/Bt,et="",st=1;if(("middle"===_t.valign||"bottom"===_t.valign||"center"===_t.halign||"right"===_t.halign)&&(st=(et="string"==typeof ye?ye.split(/\r\n|\r|\n/g):ye).length||1),Lt+=Ct*(2-1.15),"middle"===_t.valign?Lt-=st/2*Ct*1.15:"bottom"===_t.valign&&(Lt-=st*Ct*1.15),"center"===_t.halign||"right"===_t.halign){var ct=Ct;if("center"===_t.halign&&(ct*=.5),et&&st>=1){for(var bt=0;bt<et.length;bt++)gt.text(et[bt],Ot-gt.getStringUnitWidth(et[bt])*ct,Lt),Lt+=1.15*Ct;return gt}Ot-=gt.getStringUnitWidth(ye)*ct}return"justify"===_t.halign?gt.text(ye,Ot,Lt,{maxWidth:_t.maxWidth||100,align:"justify"}):gt.text(ye,Ot,Lt),gt}},200:function(Ce,Rt){function Ot(_t,gt){var Ht=_t>0,Bt=gt||0===gt;return Ht&&Bt?"DF":Ht?"S":Bt?"F":null}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseSpacing=Rt.getFillStyle=Rt.addTableBorder=Rt.getStringWidth=void 0,Rt.getStringWidth=function se(_t,gt,Ht){return Ht.applyStyles(gt,!0),(Array.isArray(_t)?_t:[_t]).map(function(tt){return Ht.getTextWidth(tt)}).reduce(function(tt,et){return Math.max(tt,et)},0)},Rt.addTableBorder=function ye(_t,gt,Ht,Bt){var Ct=gt.settings.tableLineWidth;_t.applyStyles({lineWidth:Ct,lineColor:gt.settings.tableLineColor});var et=Ot(Ct,!1);et&&_t.rect(Ht.x,Ht.y,gt.getWidth(_t.pageSize().width),Bt.y-Ht.y,et)},Rt.getFillStyle=Ot,Rt.parseSpacing=function Lt(_t,gt){var Ht,Bt,Ct,tt;if(_t=_t||gt,Array.isArray(_t)){if(_t.length>=4)return{top:_t[0],right:_t[1],bottom:_t[2],left:_t[3]};if(3===_t.length)return{top:_t[0],right:_t[1],bottom:_t[2],left:_t[1]};if(2===_t.length)return{top:_t[0],right:_t[1],bottom:_t[0],left:_t[1]};_t=1===_t.length?_t[0]:gt}return"object"==typeof _t?("number"==typeof _t.vertical&&(_t.top=_t.vertical,_t.bottom=_t.vertical),"number"==typeof _t.horizontal&&(_t.right=_t.horizontal,_t.left=_t.horizontal),{left:null!==(Ht=_t.left)&&void 0!==Ht?Ht:gt,top:null!==(Bt=_t.top)&&void 0!==Bt?Bt:gt,right:null!==(Ct=_t.right)&&void 0!==Ct?Ct:gt,bottom:null!==(tt=_t.bottom)&&void 0!==tt?tt:gt}):("number"!=typeof _t&&(_t=gt),{top:_t,right:_t,bottom:_t,left:_t})}},913:function(Ce,Rt){var _t,se=this&&this.__extends||(_t=function(gt,Ht){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,Ct){Bt.__proto__=Ct}||function(Bt,Ct){for(var tt in Ct)Object.prototype.hasOwnProperty.call(Ct,tt)&&(Bt[tt]=Ct[tt])})(gt,Ht)},function(gt,Ht){if("function"!=typeof Ht&&null!==Ht)throw new TypeError("Class extends value "+String(Ht)+" is not a constructor or null");function Bt(){this.constructor=gt}_t(gt,Ht),gt.prototype=null===Ht?Object.create(Ht):(Bt.prototype=Ht.prototype,new Bt)});Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getTheme=Rt.defaultStyles=Rt.HtmlRowInput=Rt.FONT_ROW_RATIO=void 0,Rt.FONT_ROW_RATIO=1.15;var ye=function(_t){function gt(Ht){var Bt=_t.call(this)||this;return Bt._element=Ht,Bt}return se(gt,_t),gt}(Array);Rt.HtmlRowInput=ye,Rt.defaultStyles=function Ot(_t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/_t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},Rt.getTheme=function Lt(_t){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[_t]}},259:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseCss=void 0;var ye=se(200);function _t(Bt,Ct){var tt=gt(Bt,Ct);if(!tt)return null;var et=tt.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!et||!Array.isArray(et))return null;var st=[parseInt(et[1]),parseInt(et[2]),parseInt(et[3])];return 0===parseInt(et[4])||isNaN(st[0])||isNaN(st[1])||isNaN(st[2])?null:st}function gt(Bt,Ct){var tt=Ct(Bt);return"rgba(0, 0, 0, 0)"===tt||"transparent"===tt||"initial"===tt||"inherit"===tt?null==Bt.parentElement?null:gt(Bt.parentElement,Ct):tt}Rt.parseCss=function Ot(Bt,Ct,tt,et,st){var ct={},bt=96/72,yt=_t(Ct,function(Ut){return st.getComputedStyle(Ut).backgroundColor});null!=yt&&(ct.fillColor=yt);var kt=_t(Ct,function(Ut){return st.getComputedStyle(Ut).color});null!=kt&&(ct.textColor=kt);var Zt=_t(Ct,function(Ut){return st.getComputedStyle(Ut).borderTopColor});null!=Zt&&(ct.lineColor=Zt);var zt=function Ht(Bt,Ct){var tt=[Bt.paddingTop,Bt.paddingRight,Bt.paddingBottom,Bt.paddingLeft],et=96/(72/Ct),st=(parseInt(Bt.lineHeight)-parseInt(Bt.fontSize))/Ct/2,ct=tt.map(function(yt){return parseInt(yt||"0")/et}),bt=(0,ye.parseSpacing)(ct,0);return st>bt.top&&(bt.top=st),st>bt.bottom&&(bt.bottom=st),bt}(et,tt);zt&&(ct.cellPadding=zt);var Xt=parseInt(et.borderTopWidth||"");(Xt=Xt/bt/tt)&&(ct.lineWidth=Xt);var te=["left","right","center","justify"];-1!==te.indexOf(et.textAlign)&&(ct.halign=et.textAlign),-1!==(te=["middle","bottom","top"]).indexOf(et.verticalAlign)&&(ct.valign=et.verticalAlign);var ft=parseInt(et.fontSize||"");isNaN(ft)||(ct.fontSize=ft/bt);var xe=function Lt(Bt){var Ct="";return("bold"===Bt.fontWeight||"bolder"===Bt.fontWeight||parseInt(Bt.fontWeight)>=700)&&(Ct="bold"),("italic"===Bt.fontStyle||"oblique"===Bt.fontStyle)&&(Ct+="italic"),Ct}(et);xe&&(ct.fontStyle=xe);var Ze=(et.fontFamily||"").toLowerCase();return-1!==Bt.indexOf(Ze)&&(ct.font=Ze),ct}},323:function(Ce,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.DocHandler=void 0;var se={},ye=function(){function Ot(Lt){this.jsPDFDocument=Lt,this.userStyles={textColor:Lt.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Lt.internal.getFontSize(),fontStyle:Lt.internal.getFont().fontStyle,font:Lt.internal.getFont().fontName}}return Ot.setDefaults=function(Lt,_t){void 0===_t&&(_t=null),_t?_t.__autoTableDocumentDefaults=Lt:se=Lt},Ot.unifyColor=function(Lt){return Array.isArray(Lt)?Lt:"number"==typeof Lt?[Lt,Lt,Lt]:"string"==typeof Lt?[Lt]:null},Ot.prototype.applyStyles=function(Lt,_t){var gt,Ht,Bt;void 0===_t&&(_t=!1),Lt.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Lt.fontStyle);var Ct=this.jsPDFDocument.internal.getFont(),tt=Ct.fontStyle,et=Ct.fontName;if(Lt.font&&(et=Lt.font),Lt.fontStyle){tt=Lt.fontStyle;var st=this.getFontList()[et];st&&-1===st.indexOf(tt)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(st[0]),tt=st[0])}if(this.jsPDFDocument.setFont(et,tt),Lt.fontSize&&this.jsPDFDocument.setFontSize(Lt.fontSize),!_t){var ct=Ot.unifyColor(Lt.fillColor);ct&&(gt=this.jsPDFDocument).setFillColor.apply(gt,ct),(ct=Ot.unifyColor(Lt.textColor))&&(Ht=this.jsPDFDocument).setTextColor.apply(Ht,ct),(ct=Ot.unifyColor(Lt.lineColor))&&(Bt=this.jsPDFDocument).setDrawColor.apply(Bt,ct),"number"==typeof Lt.lineWidth&&this.jsPDFDocument.setLineWidth(Lt.lineWidth)}},Ot.prototype.splitTextToSize=function(Lt,_t,gt){return this.jsPDFDocument.splitTextToSize(Lt,_t,gt)},Ot.prototype.rect=function(Lt,_t,gt,Ht,Bt){return this.jsPDFDocument.rect(Lt,_t,gt,Ht,Bt)},Ot.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ot.prototype.getTextWidth=function(Lt){return this.jsPDFDocument.getTextWidth(Lt)},Ot.prototype.getDocument=function(){return this.jsPDFDocument},Ot.prototype.setPage=function(Lt){this.jsPDFDocument.setPage(Lt)},Ot.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ot.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ot.prototype.getGlobalOptions=function(){return se||{}},Ot.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ot.prototype.pageSize=function(){var Lt=this.jsPDFDocument.internal.pageSize;return null==Lt.width&&(Lt={width:Lt.getWidth(),height:Lt.getHeight()}),Lt},Ot.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ot.prototype.pageNumber=function(){var Lt=this.jsPDFDocument.internal.getCurrentPageInfo();return Lt?Lt.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ot}();Rt.DocHandler=ye},148:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseHtml=void 0;var ye=se(259),Ot=se(913);function _t(Ht,Bt,Ct,tt,et,st){for(var ct=new Ot.HtmlRowInput(tt),bt=0;bt<tt.cells.length;bt++){var yt=tt.cells[bt],kt=Ct.getComputedStyle(yt);if(et||"none"!==kt.display){var Zt=void 0;st&&(Zt=(0,ye.parseCss)(Ht,yt,Bt,kt,Ct)),ct.push({rowSpan:yt.rowSpan,colSpan:yt.colSpan,styles:Zt,_element:yt,content:gt(yt)})}}var zt=Ct.getComputedStyle(tt);if(ct.length>0&&(et||"none"!==zt.display))return ct}function gt(Ht){var Bt=Ht.cloneNode(!0);return Bt.innerHTML=Bt.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Bt.innerHTML=Bt.innerHTML.split(/\<br.*?\>/).map(function(Ct){return Ct.trim()}).join("\n"),Bt.innerText||Bt.textContent||""}Rt.parseHtml=function Lt(Ht,Bt,Ct,tt,et){var st,ct,bt;void 0===tt&&(tt=!1),void 0===et&&(et=!1),bt="string"==typeof Bt?Ct.document.querySelector(Bt):Bt;var yt=Object.keys(Ht.getFontList()),kt=Ht.scaleFactor(),Zt=[],zt=[],Xt=[];if(!bt)return console.error("Html table could not be found with input: ",Bt),{head:Zt,body:zt,foot:Xt};for(var te=0;te<bt.rows.length;te++){var ft=bt.rows[te],xe=null===(ct=null===(st=null==ft?void 0:ft.parentElement)||void 0===st?void 0:st.tagName)||void 0===ct?void 0:ct.toLowerCase(),Ze=_t(yt,kt,Ct,ft,tt,et);!Ze||("thead"===xe?Zt.push(Ze):"tfoot"===xe?Xt.push(Ze):zt.push(Ze))}return{head:Zt,body:zt,foot:Xt}}},587:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.parseInput=void 0;var ye=se(148),Ot=se(360),Lt=se(200),_t=se(323),gt=se(291);function ct(bt,yt,kt){var Zt=bt[0]||yt[0]||kt[0]||[],zt=[];return Object.keys(Zt).filter(function(Xt){return"_element"!==Xt}).forEach(function(Xt){var ft,te=1;"object"==typeof(ft=Array.isArray(Zt)?Zt[parseInt(Xt)]:Zt[Xt])&&!Array.isArray(ft)&&(te=(null==ft?void 0:ft.colSpan)||1);for(var xe=0;xe<te;xe++){var Ze;Ze=Array.isArray(Zt)?zt.length:Xt+(xe>0?"_".concat(xe):""),zt.push({dataKey:Ze})}}),zt}Rt.parseInput=function Ht(bt,yt){var kt=new _t.DocHandler(bt),Zt=kt.getDocumentOptions(),zt=kt.getGlobalOptions();(0,gt.default)(kt,zt,Zt,yt);var te,Xt=(0,Ot.assign)({},zt,Zt,yt);"undefined"!=typeof window&&(te=window);var ft=function Bt(bt,yt,kt){for(var Zt={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},zt=function(xe){if("columnStyles"===xe)Zt.columnStyles=(0,Ot.assign)({},bt[xe],yt[xe],kt[xe]);else{var ae=[bt,yt,kt].map(function(Pe){return Pe[xe]||{}});Zt[xe]=(0,Ot.assign)({},ae[0],ae[1],ae[2])}},Xt=0,te=Object.keys(Zt);Xt<te.length;Xt++)zt(te[Xt]);return Zt}(zt,Zt,yt),xe=function Ct(bt,yt,kt){for(var zt={didParseCell:[],willDrawCell:[],didDrawCell:[],didDrawPage:[]},Xt=0,te=[bt,yt,kt];Xt<te.length;Xt++){var ft=te[Xt];ft.didParseCell&&zt.didParseCell.push(ft.didParseCell),ft.willDrawCell&&zt.willDrawCell.push(ft.willDrawCell),ft.didDrawCell&&zt.didDrawCell.push(ft.didDrawCell),ft.didDrawPage&&zt.didDrawPage.push(ft.didDrawPage)}return zt}(zt,Zt,yt),Ze=function tt(bt,yt){var kt,Zt,zt,Xt,te,ft,xe,Ze,Ut,Tt,ie,be,ke,ae=(0,Lt.parseSpacing)(yt.margin,40/bt.scaleFactor()),Pe=null!==(kt=function et(bt,yt){var kt=bt.getLastAutoTable(),Zt=bt.scaleFactor(),zt=bt.pageNumber(),Xt=!1;return kt&&kt.startPageNumber&&(Xt=kt.startPageNumber+kt.pageNumber-1===zt),"number"==typeof yt?yt:null!=yt&&!1!==yt||!Xt||null==(null==kt?void 0:kt.finalY)?null:kt.finalY+20/Zt}(bt,yt.startY))&&void 0!==kt?kt:ae.top;be=!0===yt.showFoot?"everyPage":!1===yt.showFoot?"never":null!==(Zt=yt.showFoot)&&void 0!==Zt?Zt:"everyPage",ke=!0===yt.showHead?"everyPage":!1===yt.showHead?"never":null!==(zt=yt.showHead)&&void 0!==zt?zt:"everyPage";var Ie=null!==(Xt=yt.useCss)&&void 0!==Xt&&Xt,$t=null!==(te=yt.horizontalPageBreakRepeat)&&void 0!==te?te:null;return{includeHiddenHtml:null!==(ft=yt.includeHiddenHtml)&&void 0!==ft&&ft,useCss:Ie,theme:yt.theme||(Ie?"plain":"striped"),startY:Pe,margin:ae,pageBreak:null!==(xe=yt.pageBreak)&&void 0!==xe?xe:"auto",rowPageBreak:null!==(Ze=yt.rowPageBreak)&&void 0!==Ze?Ze:"auto",tableWidth:null!==(Ut=yt.tableWidth)&&void 0!==Ut?Ut:"auto",showHead:ke,showFoot:be,tableLineWidth:null!==(Tt=yt.tableLineWidth)&&void 0!==Tt?Tt:0,tableLineColor:null!==(ie=yt.tableLineColor)&&void 0!==ie?ie:200,horizontalPageBreak:!!yt.horizontalPageBreak,horizontalPageBreakRepeat:$t}}(kt,Xt),Ut=function st(bt,yt,kt){var Zt=yt.head||[],zt=yt.body||[],Xt=yt.foot||[];if(yt.html)if(kt){var ft=(0,ye.parseHtml)(bt,yt.html,kt,yt.includeHiddenHtml,yt.useCss)||{};Zt=ft.head||Zt,zt=ft.body||Zt,Xt=ft.foot||Zt}else console.error("Cannot parse html in non browser environment");return{columns:yt.columns||ct(Zt,zt,Xt),head:Zt,body:zt,foot:Xt}}(kt,Xt,te);return{id:yt.tableId,content:Ut,hooks:xe,styles:ft,settings:Ze}}},291:function(Ce,Rt){function ye(Ot){Ot.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),Ot.minCellHeight||(Ot.minCellHeight=Ot.rowHeight)):Ot.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),Ot.cellWidth||(Ot.cellWidth=Ot.columnWidth))}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function se(Ot,Lt,_t,gt){for(var Ht=function(et){et&&"object"!=typeof et&&console.error("The options parameter should be of type object, is: "+typeof et),void 0!==et.extendWidth&&(et.tableWidth=et.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==et.margins&&(void 0===et.margin&&(et.margin=et.margins),console.error("Use of deprecated option: margins, use margin instead.")),et.startY&&"number"!=typeof et.startY&&(console.error("Invalid value for startY option",et.startY),delete et.startY),!et.didDrawPage&&(et.afterPageContent||et.beforePageContent||et.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),et.didDrawPage=function(Xt){Ot.applyStyles(Ot.userStyles),et.beforePageContent&&et.beforePageContent(Xt),Ot.applyStyles(Ot.userStyles),et.afterPageContent&&et.afterPageContent(Xt),Ot.applyStyles(Ot.userStyles),et.afterPageAdd&&Xt.pageNumber>1&&Xt.afterPageAdd(Xt),Ot.applyStyles(Ot.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Xt){et[Xt]&&console.error('The "'.concat(Xt,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Xt){var te=Xt[0],ft=Xt[1];et[ft]&&(console.error("Use of deprecated option ".concat(ft,". Use ").concat(te," instead")),et[te]=et[ft])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Xt){var te="string"==typeof Xt?Xt:Xt[0],ft="string"==typeof Xt?Xt:Xt[1];void 0!==et[te]&&(void 0===et.styles[ft]&&(et.styles[ft]=et[te]),console.error("Use of deprecated option: "+te+", use the style "+ft+" instead."))});for(var st=0,ct=["styles","bodyStyles","headStyles","footStyles"];st<ct.length;st++)ye(et[ct[st]]||{});for(var yt=et.columnStyles||{},kt=0,Zt=Object.keys(yt);kt<Zt.length;kt++)ye(yt[Zt[kt]]||{})},Bt=0,Ct=[Lt,_t,gt];Bt<Ct.length;Bt++)Ht(Ct[Bt])}},287:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.Column=Rt.Cell=Rt.Row=Rt.Table=void 0;var ye=se(913),Ot=se(662),Lt=se(200),_t=function(){function Ct(tt,et){this.pageNumber=1,this.pageCount=1,this.id=tt.id,this.settings=tt.settings,this.styles=tt.styles,this.hooks=tt.hooks,this.columns=et.columns,this.head=et.head,this.body=et.body,this.foot=et.foot}return Ct.prototype.getHeadHeight=function(tt){return this.head.reduce(function(et,st){return et+st.getMaxCellHeight(tt)},0)},Ct.prototype.getFootHeight=function(tt){return this.foot.reduce(function(et,st){return et+st.getMaxCellHeight(tt)},0)},Ct.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ct.prototype.callCellHooks=function(tt,et,st,ct,bt,yt){for(var kt=0,Zt=et;kt<Zt.length;kt++){var te=!1===(0,Zt[kt])(new Ot.CellHookData(tt,this,st,ct,bt,yt));if(st.text=Array.isArray(st.text)?st.text:[st.text],te)return!1}return!0},Ct.prototype.callEndPageHooks=function(tt,et){tt.applyStyles(tt.userStyles);for(var st=0,ct=this.hooks.didDrawPage;st<ct.length;st++)(0,ct[st])(new Ot.HookData(tt,this,et))},Ct.prototype.getWidth=function(tt){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(ct,bt){return ct+bt.wrappedWidth},0);var st=this.settings.margin;return tt-st.left-st.right},Ct}();Rt.Table=_t;var gt=function(){function Ct(tt,et,st,ct,bt){void 0===bt&&(bt=!1),this.height=0,this.raw=tt,tt instanceof ye.HtmlRowInput&&(this.raw=tt._element,this.element=tt._element),this.index=et,this.section=st,this.cells=ct,this.spansMultiplePages=bt}return Ct.prototype.getMaxCellHeight=function(tt){var et=this;return tt.reduce(function(st,ct){var bt;return Math.max(st,(null===(bt=et.cells[ct.index])||void 0===bt?void 0:bt.height)||0)},0)},Ct.prototype.hasRowSpan=function(tt){var et=this;return tt.filter(function(st){var ct=et.cells[st.index];return!!ct&&ct.rowSpan>1}).length>0},Ct.prototype.canEntireRowFit=function(tt,et){return this.getMaxCellHeight(et)<=tt},Ct.prototype.getMinimumRowHeight=function(tt,et){var st=this;return tt.reduce(function(ct,bt){var yt=st.cells[bt.index];if(!yt)return 0;var kt=yt.styles.fontSize/et.scaleFactor()*ye.FONT_ROW_RATIO,zt=yt.padding("vertical")+kt;return zt>ct?zt:ct},0)},Ct}();Rt.Row=gt;var Ht=function(){function Ct(tt,et,st){var ct,bt;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=et,this.section=st,this.raw=tt;var yt=tt;null==tt||"object"!=typeof tt||Array.isArray(tt)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=tt.rowSpan||1,this.colSpan=tt.colSpan||1,yt=null!==(bt=null!==(ct=tt.content)&&void 0!==ct?ct:tt.title)&&void 0!==bt?bt:tt,tt._element&&(this.raw=tt._element)),this.text=(null!=yt?""+yt:"").split(/\r\n|\r|\n/g)}return Ct.prototype.getTextPos=function(){var tt,st;if("top"===this.styles.valign)tt=this.y+this.padding("top");else if("bottom"===this.styles.valign)tt=this.y+this.height-this.padding("bottom");else{var et=this.height-this.padding("vertical");tt=this.y+et/2+this.padding("top")}if("right"===this.styles.halign)st=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var ct=this.width-this.padding("horizontal");st=this.x+ct/2+this.padding("left")}else st=this.x+this.padding("left");return{x:st,y:tt}},Ct.prototype.getContentHeight=function(tt){var ct=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/tt*ye.FONT_ROW_RATIO)+this.padding("vertical");return Math.max(ct,this.styles.minCellHeight)},Ct.prototype.padding=function(tt){var et=(0,Lt.parseSpacing)(this.styles.cellPadding,0);return"vertical"===tt?et.top+et.bottom:"horizontal"===tt?et.left+et.right:et[tt]},Ct}();Rt.Cell=Ht;var Bt=function(){function Ct(tt,et,st){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=tt,this.raw=et,this.index=st}return Ct.prototype.getMaxCustomCellWidth=function(tt){for(var et=0,st=0,ct=tt.allRows();st<ct.length;st++){var yt=ct[st].cells[this.index];yt&&"number"==typeof yt.styles.cellWidth&&(et=Math.max(et,yt.styles.cellWidth))}return et},Ct}();Rt.Column=Bt},360:function(Ce,Rt){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.assign=void 0,Rt.assign=function se(ye,Ot,Lt,_t,gt){if(null==ye)throw new TypeError("Cannot convert undefined or null to object");for(var Ht=Object(ye),Bt=1;Bt<arguments.length;Bt++){var Ct=arguments[Bt];if(null!=Ct)for(var tt in Ct)Object.prototype.hasOwnProperty.call(Ct,tt)&&(Ht[tt]=Ct[tt])}return Ht}},858:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.createTable=void 0;var ye=se(323),Ot=se(287),Lt=se(189),_t=se(913),gt=se(360);function Ct(bt,yt,kt,Zt,zt,Xt){var te={};return yt.map(function(xe,Ze){for(var Ut=0,Tt={},ie=0,ae=0,Pe=0,be=kt;Pe<be.length;Pe++){var ke=be[Pe];if(null==te[ke.index]||0===te[ke.index].left)if(0===ae){var Ie,Ne={};"object"==typeof(Ie=Array.isArray(xe)?xe[ke.index-ie-Ut]:xe[ke.dataKey])&&!Array.isArray(Ie)&&(Ne=(null==Ie?void 0:Ie.styles)||{});var De=ct(bt,ke,Ze,zt,Zt,Xt,Ne),$t=new Ot.Cell(Ie,De,bt);Tt[ke.dataKey]=$t,Tt[ke.index]=$t,te[ke.index]={left:$t.rowSpan-1,times:ae=$t.colSpan-1}}else ae--,ie++;else te[ke.index].left--,ae=te[ke.index].times,Ut++}return new Ot.Row(xe,Ze,bt,Tt)})}function tt(bt,yt){var kt={};return bt.forEach(function(Zt){if(null!=Zt.raw){var zt=function et(bt,yt){if("head"===bt){if("object"==typeof yt)return yt.header||yt.title||null;if("string"==typeof yt||"number"==typeof yt)return yt}else if("foot"===bt&&"object"==typeof yt)return yt.footer;return null}(yt,Zt.raw);null!=zt&&(kt[Zt.dataKey]=zt)}}),Object.keys(kt).length>0?kt:null}function ct(bt,yt,kt,Zt,zt,Xt,te){var xe,ft=(0,_t.getTheme)(Zt);"head"===bt?xe=zt.headStyles:"body"===bt?xe=zt.bodyStyles:"foot"===bt&&(xe=zt.footStyles);var Ze=(0,gt.assign)({},ft.table,ft[bt],zt.styles,xe),Tt="body"===bt&&(zt.columnStyles[yt.dataKey]||zt.columnStyles[yt.index])||{},ie="body"===bt&&kt%2==0?(0,gt.assign)({},ft.alternateRow,zt.alternateRowStyles):{},ae=(0,_t.defaultStyles)(Xt),Pe=(0,gt.assign)({},ae,Ze,ie,Tt);return(0,gt.assign)(Pe,te)}Rt.createTable=function Ht(bt,yt){var kt=new ye.DocHandler(bt),Zt=function Bt(bt,yt){var zt,kt=bt.content,Zt=function st(bt){return bt.map(function(yt,kt){var Zt,zt,Xt;return Xt="object"==typeof yt&&null!==(zt=null!==(Zt=yt.dataKey)&&void 0!==Zt?Zt:yt.key)&&void 0!==zt?zt:kt,new Ot.Column(Xt,yt,kt)})}(kt.columns);0===kt.head.length&&(zt=tt(Zt,"head"))&&kt.head.push(zt),0===kt.foot.length&&(zt=tt(Zt,"foot"))&&kt.foot.push(zt);var Xt=bt.settings.theme,te=bt.styles;return{columns:Zt,head:Ct("head",kt.head,Zt,te,Xt,yt),body:Ct("body",kt.body,Zt,te,Xt,yt),foot:Ct("foot",kt.foot,Zt,te,Xt,yt)}}(yt,kt.scaleFactor()),zt=new Ot.Table(yt,Zt);return(0,Lt.calculateWidths)(kt,zt),kt.applyStyles(kt.userStyles),zt}},49:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.addPage=Rt.drawTable=void 0;var ye=se(913),Ot=se(200),Lt=se(287),_t=se(323),gt=se(360),Ht=se(938),Bt=se(435);function bt(Ut,Tt,ie){var ae=Ut.styles.fontSize/ie.scaleFactor()*ye.FONT_ROW_RATIO,Pe=Ut.padding("vertical"),be=Math.floor((Tt-Pe)/ae);return Math.max(0,be)}function Zt(Ut,Tt,ie,ae,Pe,be,ke){var Ie=function ft(Ut,Tt,ie,ae){var Pe=Tt.settings.margin.bottom,be=Tt.settings.showFoot;return("everyPage"===be||"lastPage"===be&&ie)&&(Pe+=Tt.getFootHeight(Tt.columns)),Ut.pageSize().height-ae.y-Pe}(Ut,Tt,ae,be);if(ie.canEntireRowFit(Ie,ke))zt(Ut,Tt,ie,be,ke);else if(function kt(Ut,Tt,ie,ae){var Pe=Ut.pageSize().height,be=ae.settings.margin,Ie=Pe-(be.top+be.bottom);"body"===Tt.section&&(Ie-=ae.getHeadHeight(ae.columns)+ae.getFootHeight(ae.columns));var Ne=Tt.getMinimumRowHeight(ae.columns,Ut),De=Ne<ie;if(Ne>Ie)return console.error("Will not be able to print row ".concat(Tt.index," correctly since it's minimum height is larger than page height")),!0;if(!De)return!1;var $t=Tt.hasRowSpan(ae.columns);return Tt.getMaxCellHeight(ae.columns)>Ie?($t&&console.error("The content of row ".concat(Tt.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!($t||"avoid"===ae.settings.rowPageBreak)}(Ut,ie,Ie,Tt)){var Ne=function yt(Ut,Tt,ie,ae){var Pe={};Ut.spansMultiplePages=!0,Ut.height=0;for(var be=0,ke=0,Ie=ie.columns;ke<Ie.length;ke++)if(De=Ut.cells[(Ne=Ie[ke]).index]){Array.isArray(De.text)||(De.text=[De.text]);var $t=new Lt.Cell(De.raw,De.styles,De.section);($t=(0,gt.assign)($t,De)).text=[];var en=bt(De,Tt,ae);De.text.length>en&&($t.text=De.text.splice(en,De.text.length));var zi=ae.scaleFactor();De.contentHeight=De.getContentHeight(zi),De.contentHeight>=Tt&&(De.contentHeight=Tt,$t.styles.minCellHeight-=Tt),De.contentHeight>Ut.height&&(Ut.height=De.contentHeight),$t.contentHeight=$t.getContentHeight(zi),$t.contentHeight>be&&(be=$t.contentHeight),Pe[Ne.index]=$t}var Xi=new Lt.Row(Ut.raw,-1,Ut.section,Pe,!0);Xi.height=be;for(var Zi=0,Hn=ie.columns;Zi<Hn.length;Zi++){var Ne,De;($t=Xi.cells[(Ne=Hn[Zi]).index])&&($t.height=Xi.height),(De=Ut.cells[Ne.index])&&(De.height=Ut.height)}return Xi}(ie,Ie,Tt,Ut);zt(Ut,Tt,ie,be,ke),xe(Ut,Tt,Pe,be,ke),Zt(Ut,Tt,Ne,ae,Pe,be,ke)}else xe(Ut,Tt,Pe,be,ke),Zt(Ut,Tt,ie,ae,Pe,be,ke)}function zt(Ut,Tt,ie,ae,Pe){ae.x=Tt.settings.margin.left;for(var be=0,ke=Pe;be<ke.length;be++){var Ie=ke[be],Ne=ie.cells[Ie.index];if(Ne)if(Ut.applyStyles(Ne.styles),Ne.x=ae.x,Ne.y=ae.y,!1!==Tt.callCellHooks(Ut,Tt.hooks.willDrawCell,Ne,ie,Ie,ae)){Xt(Ut,Ne,ae);var $t=Ne.getTextPos();(0,Ht.default)(Ne.text,$t.x,$t.y,{halign:Ne.styles.halign,valign:Ne.styles.valign,maxWidth:Math.ceil(Ne.width-Ne.padding("left")-Ne.padding("right"))},Ut.getDocument()),Tt.callCellHooks(Ut,Tt.hooks.didDrawCell,Ne,ie,Ie,ae),ae.x+=Ie.width}else ae.x+=Ie.width;else ae.x+=Ie.width}ae.y+=ie.height}function Xt(Ut,Tt,ie){var ae=Tt.styles;if(Ut.getDocument().setFillColor(Ut.getDocument().getFillColor()),"number"==typeof ae.lineWidth){var Pe=(0,Ot.getFillStyle)(ae.lineWidth,ae.fillColor);Pe&&Ut.rect(Tt.x,ie.y,Tt.width,Tt.height,Pe)}else if("object"==typeof ae.lineWidth){Ut.rect(Tt.x,ie.y,Tt.width,Tt.height,"F");var be=Object.keys(ae.lineWidth),ke=ae.lineWidth;be.map(function(Ie){var Ne=(0,Ot.getFillStyle)(ke[Ie],ae.fillColor);!function te(Ut,Tt,ie,ae,Pe,be){var ke,Ie,Ne,De;switch(ae){case"top":ke=ie.x,Ie=ie.y,Ne=ie.x+Tt.width,De=ie.y;break;case"left":ke=ie.x,Ie=ie.y,Ne=ie.x,De=ie.y+Tt.height;break;case"right":ke=ie.x+Tt.width,Ie=ie.y,Ne=ie.x+Tt.width,De=ie.y+Tt.height;break;default:ke=ie.x,Ie=ie.y+Tt.height-be,Ne=ie.x+Tt.width,De=ie.y+Tt.height-be}Ut.getDocument().setLineWidth(be),Ut.getDocument().line(ke,Ie,Ne,De,Pe)}(Ut,Tt,ie,Ie,Ne||"S",ke[Ie])})}}function xe(Ut,Tt,ie,ae,Pe){void 0===Pe&&(Pe=[]),Ut.applyStyles(Ut.userStyles),"everyPage"===Tt.settings.showFoot&&Tt.foot.forEach(function(ke){return zt(Ut,Tt,ke,ae,Pe)}),Tt.callEndPageHooks(Ut,ae);var be=Tt.settings.margin;(0,Ot.addTableBorder)(Ut,Tt,ie,ae),Ze(Ut),Tt.pageNumber++,Tt.pageCount++,ae.x=be.left,ae.y=be.top,ie.y=be.top,"everyPage"===Tt.settings.showHead&&Tt.head.forEach(function(ke){return zt(Ut,Tt,ke,ae,Pe)})}function Ze(Ut){var Tt=Ut.pageNumber();Ut.setPage(Tt+1),Ut.pageNumber()===Tt&&Ut.addPage()}Rt.drawTable=function Ct(Ut,Tt){var ie=Tt.settings,ae=ie.startY,Pe=ie.margin,be={x:Pe.left,y:ae},ke=Tt.getHeadHeight(Tt.columns)+Tt.getFootHeight(Tt.columns),Ie=ae+Pe.bottom+ke;"avoid"===ie.pageBreak&&(Ie+=Tt.allRows().reduce(function(zi,Xi){return zi+Xi.height},0));var $t=new _t.DocHandler(Ut);("always"===ie.pageBreak||null!=ie.startY&&Ie>$t.pageSize().height)&&(Ze($t),be.y=Pe.top);var en=(0,gt.assign)({},be);Tt.startPageNumber=$t.pageNumber(),!0===ie.horizontalPageBreak?function tt(Ut,Tt,ie,ae){Bt.default.calculateAllColumnsCanFitInPage(Ut,Tt).map(function(be,ke){Ut.applyStyles(Ut.userStyles),ke>0?xe(Ut,Tt,ie,ae,be.columns):function et(Ut,Tt,ie,ae){var Pe=Tt.settings;Ut.applyStyles(Ut.userStyles),("firstPage"===Pe.showHead||"everyPage"===Pe.showHead)&&Tt.head.forEach(function(be){return zt(Ut,Tt,be,ie,ae)})}(Ut,Tt,ae,be.columns),function st(Ut,Tt,ie,ae,Pe){Ut.applyStyles(Ut.userStyles),Tt.body.forEach(function(be,ke){Zt(Ut,Tt,be,ke===Tt.body.length-1,ie,ae,Pe)})}(Ut,Tt,ie,ae,be.columns),function ct(Ut,Tt,ie,ae){var Pe=Tt.settings;Ut.applyStyles(Ut.userStyles),("lastPage"===Pe.showFoot||"everyPage"===Pe.showFoot)&&Tt.foot.forEach(function(be){return zt(Ut,Tt,be,ie,ae)})}(Ut,Tt,ae,be.columns)})}($t,Tt,en,be):($t.applyStyles($t.userStyles),("firstPage"===ie.showHead||"everyPage"===ie.showHead)&&Tt.head.forEach(function(zi){return zt($t,Tt,zi,be,Tt.columns)}),$t.applyStyles($t.userStyles),Tt.body.forEach(function(zi,Xi){Zt($t,Tt,zi,Xi===Tt.body.length-1,en,be,Tt.columns)}),$t.applyStyles($t.userStyles),("lastPage"===ie.showFoot||"everyPage"===ie.showFoot)&&Tt.foot.forEach(function(zi){return zt($t,Tt,zi,be,Tt.columns)})),(0,Ot.addTableBorder)($t,Tt,en,be),Tt.callEndPageHooks($t,be),Tt.finalY=be.y,Ut.lastAutoTable=Tt,Ut.previousAutoTable=Tt,Ut.autoTable&&(Ut.autoTable.previous=Tt),$t.applyStyles($t.userStyles)},Rt.addPage=xe},435:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0});var ye=se(200),Ot=function(gt,Ht){var Bt=(0,ye.parseSpacing)(Ht.settings.margin,0);return gt.pageSize().width-(Bt.left+Bt.right)},Lt=function(gt,Ht,Bt){void 0===Bt&&(Bt={});var tt=Ot(gt,Ht),et=Ht.settings.horizontalPageBreakRepeat,st=null,ct=[],bt=[],yt=Ht.columns.length,kt=Bt&&Bt.start?Bt.start:0;for(null!=et&&(st=Ht.columns.find(function(zt){return zt.dataKey===et||zt.index===et}))&&(ct.push(st.index),bt.push(Ht.columns[st.index]),tt-=st.wrappedWidth);kt<yt;)if((null==st?void 0:st.index)!==kt){var Zt=Ht.columns[kt].wrappedWidth;if(tt<Zt){(0===kt||kt===Bt.start)&&(ct.push(kt),bt.push(Ht.columns[kt]));break}ct.push(kt),bt.push(Ht.columns[kt]),tt-=Zt,kt++}else kt++;return{colIndexes:ct,columns:bt,lastIndex:kt}};Rt.default={getColumnsCanFitInPage:Lt,calculateAllColumnsCanFitInPage:function(gt,Ht){for(var Bt=[],Ct=0,tt=Ht.columns.length;Ct<tt;){var et=Lt(gt,Ht,{start:0===Ct?0:Ct});et&&et.columns&&et.columns.length?(Ct=et.lastIndex,Bt.push(et)):Ct++}return Bt},getPageAvailableWidth:Ot}},189:function(Ce,Rt,se){Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.ellipsize=Rt.resizeColumns=Rt.calculateWidths=void 0;var ye=se(200),Ot=se(435);function gt(st,ct,bt){for(var yt=ct,kt=st.reduce(function(Tt,ie){return Tt+ie.wrappedWidth},0),Zt=0;Zt<st.length;Zt++){var zt=st[Zt],ft=zt.width+yt*(zt.wrappedWidth/kt),xe=bt(zt),Ze=ft<xe?xe:ft;ct-=Ze-zt.width,zt.width=Ze}if(ct=Math.round(1e10*ct)/1e10){var Ut=st.filter(function(Tt){return!(ct<0)||Tt.width>bt(Tt)});Ut.length&&(ct=gt(Ut,ct,bt))}return ct}function tt(st,ct,bt,yt,kt){return st.map(function(Zt){return function et(st,ct,bt,yt,kt){var Zt=1e4*yt.scaleFactor();if((ct=Math.ceil(ct*Zt)/Zt)>=(0,ye.getStringWidth)(st,bt,yt))return st;for(;ct<(0,ye.getStringWidth)(st+kt,bt,yt)&&!(st.length<=1);)st=st.substring(0,st.length-1);return st.trim()+kt}(Zt,ct,bt,yt,kt)})}Rt.calculateWidths=function Lt(st,ct){!function _t(st,ct){var bt=st.scaleFactor(),yt=ct.settings.horizontalPageBreak,kt=Ot.default.getPageAvailableWidth(st,ct);ct.allRows().forEach(function(Zt){for(var zt=0,Xt=ct.columns;zt<Xt.length;zt++){var te=Xt[zt],ft=Zt.cells[te.index];if(ft){ct.callCellHooks(st,ct.hooks.didParseCell,ft,Zt,te,null);var Ze=ft.padding("horizontal");ft.contentWidth=(0,ye.getStringWidth)(ft.text,ft.styles,st)+Ze;var Ut=(0,ye.getStringWidth)(ft.text.join(" ").split(/\s+/),ft.styles,st);ft.minReadableWidth=Ut+ft.padding("horizontal"),"number"==typeof ft.styles.cellWidth?(ft.minWidth=ft.styles.cellWidth,ft.wrappedWidth=ft.styles.cellWidth):"wrap"===ft.styles.cellWidth||!0===yt?ft.contentWidth>kt?(ft.minWidth=kt,ft.wrappedWidth=kt):(ft.minWidth=ft.contentWidth,ft.wrappedWidth=ft.contentWidth):(ft.minWidth=ft.styles.minCellWidth||10/bt,ft.wrappedWidth=ft.contentWidth,ft.minWidth>ft.wrappedWidth&&(ft.wrappedWidth=ft.minWidth))}}}),ct.allRows().forEach(function(Zt){for(var zt=0,Xt=ct.columns;zt<Xt.length;zt++){var te=Xt[zt],ft=Zt.cells[te.index];if(ft&&1===ft.colSpan)te.wrappedWidth=Math.max(te.wrappedWidth,ft.wrappedWidth),te.minWidth=Math.max(te.minWidth,ft.minWidth),te.minReadableWidth=Math.max(te.minReadableWidth,ft.minReadableWidth);else{var xe=ct.styles.columnStyles[te.dataKey]||ct.styles.columnStyles[te.index]||{},Ze=xe.cellWidth||xe.minCellWidth;Ze&&"number"==typeof Ze&&(te.minWidth=Ze,te.wrappedWidth=Ze)}ft&&(ft.colSpan>1&&!te.minWidth&&(te.minWidth=ft.minWidth),ft.colSpan>1&&!te.wrappedWidth&&(te.wrappedWidth=ft.minWidth))}})}(st,ct);var bt=[],yt=0;ct.columns.forEach(function(Zt){var zt=Zt.getMaxCustomCellWidth(ct);zt?Zt.width=zt:(Zt.width=Zt.wrappedWidth,bt.push(Zt)),yt+=Zt.width});var kt=ct.getWidth(st.pageSize().width)-yt;kt&&(kt=gt(bt,kt,function(Zt){return Math.max(Zt.minReadableWidth,Zt.minWidth)})),kt&&(kt=gt(bt,kt,function(Zt){return Zt.minWidth})),kt=Math.abs(kt),!ct.settings.horizontalPageBreak&&kt>.1/st.scaleFactor()&&(kt=kt<1?kt:Math.round(kt),console.error("Of the table content, ".concat(kt," units width could not fit page"))),function Bt(st){for(var ct=st.allRows(),bt=0;bt<ct.length;bt++)for(var yt=ct[bt],kt=null,Zt=0,zt=0,Xt=0;Xt<st.columns.length;Xt++){var te=st.columns[Xt];if((zt-=1)>1&&st.columns[Xt+1])Zt+=te.width,delete yt.cells[te.index];else if(kt){var ft=kt;delete yt.cells[te.index],kt=null,ft.width=te.width+Zt}else{if(!(ft=yt.cells[te.index]))continue;if(zt=ft.colSpan,Zt=0,ft.colSpan>1){kt=ft,Zt+=te.width;continue}ft.width=te.width+Zt}}}(ct),function Ct(st,ct){for(var bt={count:0,height:0},yt=0,kt=st.allRows();yt<kt.length;yt++){for(var Zt=kt[yt],zt=0,Xt=st.columns;zt<Xt.length;zt++){var ft=Zt.cells[Xt[zt].index];if(ft){ct.applyStyles(ft.styles,!0);var xe=ft.width-ft.padding("horizontal");"linebreak"===ft.styles.overflow?ft.text=ct.splitTextToSize(ft.text,xe+1/ct.scaleFactor(),{fontSize:ft.styles.fontSize}):"ellipsize"===ft.styles.overflow?ft.text=tt(ft.text,xe,ft.styles,ct,"..."):"hidden"===ft.styles.overflow?ft.text=tt(ft.text,xe,ft.styles,ct,""):"function"==typeof ft.styles.overflow&&(ft.text=ft.styles.overflow(ft.text,xe)),ft.contentHeight=ft.getContentHeight(ct.scaleFactor());var Ze=ft.contentHeight/ft.rowSpan;ft.rowSpan>1&&bt.count*bt.height<Ze*ft.rowSpan?bt={height:Ze,count:ft.rowSpan}:bt&&bt.count>0&&bt.height>Ze&&(Ze=bt.height),Ze>Zt.height&&(Zt.height=Ze)}}bt.count--}}(ct,st),function Ht(st){for(var ct={},bt=1,yt=st.allRows(),kt=0;kt<yt.length;kt++)for(var Zt=yt[kt],zt=0,Xt=st.columns;zt<Xt.length;zt++){var te=Xt[zt],ft=ct[te.index];if(bt>1)bt--,delete Zt.cells[te.index];else if(ft)ft.cell.height+=Zt.height,bt=ft.cell.colSpan,delete Zt.cells[te.index],ft.left--,ft.left<=1&&delete ct[te.index];else{var xe=Zt.cells[te.index];if(!xe)continue;if(xe.height=Zt.height,xe.rowSpan>1){var Ze=yt.length-kt;ct[te.index]={cell:xe,left:xe.rowSpan>Ze?Ze:xe.rowSpan,row:Zt}}}}}(ct)},Rt.resizeColumns=gt,Rt.ellipsize=tt},84:function(Ce){if(void 0===Ae){var Rt=new Error("Cannot find module 'undefined'");throw Rt.code="MODULE_NOT_FOUND",Rt}Ce.exports=Ae}},Gt={};function t(Ce){var Rt=Gt[Ce];if(void 0!==Rt)return Rt.exports;var se=Gt[Ce]={exports:{}};return yi[Ce].call(se.exports,se,se.exports,t),se.exports}var Xe={};return function(){var Ce=Xe;Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.Cell=Ce.Column=Ce.Row=Ce.Table=Ce.CellHookData=Ce.__drawTable=Ce.__createTable=Ce.applyPlugin=void 0;var Rt=t(790),se=t(587),ye=t(49),Ot=t(858),Lt=t(287);Object.defineProperty(Ce,"Table",{enumerable:!0,get:function(){return Lt.Table}});var _t=t(662);Object.defineProperty(Ce,"CellHookData",{enumerable:!0,get:function(){return _t.CellHookData}});var gt=t(287);function Ht(st){(0,Rt.default)(st)}Object.defineProperty(Ce,"Cell",{enumerable:!0,get:function(){return gt.Cell}}),Object.defineProperty(Ce,"Column",{enumerable:!0,get:function(){return gt.Column}}),Object.defineProperty(Ce,"Row",{enumerable:!0,get:function(){return gt.Row}}),Ce.applyPlugin=Ht,Ce.default=function Bt(st,ct){var bt=(0,se.parseInput)(st,ct),yt=(0,Ot.createTable)(st,bt);(0,ye.drawTable)(st,yt)},Ce.__createTable=function Ct(st,ct){var bt=(0,se.parseInput)(st,ct);return(0,Ot.createTable)(st,bt)},Ce.__drawTable=function tt(st,ct){(0,ye.drawTable)(st,ct)};try{var et=t(84);et.jsPDF&&(et=et.jsPDF),Ht(et)}catch(st){}}(),Xe}())},3583:(va,ro,ne)=>{"use strict";function Ae(a){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(a)}ne.r(ro),ne.d(ro,{AcroForm:()=>Sc,AcroFormAppearance:()=>we,AcroFormButton:()=>Oi,AcroFormCheckBox:()=>Wo,AcroFormChoiceField:()=>Or,AcroFormComboBox:()=>Fr,AcroFormEditBox:()=>lo,AcroFormListBox:()=>Er,AcroFormPasswordField:()=>Go,AcroFormPushButton:()=>uo,AcroFormRadioButton:()=>qr,AcroFormTextField:()=>dn,GState:()=>Vo,ShadingPattern:()=>vr,TilingPattern:()=>Ir,default:()=>or,jsPDF:()=>Me});var t=Uint8Array,Xe=Uint16Array,Ce=Uint32Array,Rt=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),se=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ye=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ot=function(a,n){for(var o=new Xe(31),u=0;u<31;++u)o[u]=n+=1<<a[u-1];var d=new Ce(o[30]);for(u=1;u<30;++u)for(var h=o[u];h<o[u+1];++h)d[h]=h-o[u]<<5|u;return[o,d]},Lt=Ot(Rt,2),_t=Lt[0],gt=Lt[1];_t[28]=258,gt[258]=28;for(var Ht=Ot(se,0),Bt=Ht[0],Ct=Ht[1],tt=new Xe(32768),et=0;et<32768;++et){var st=(43690&et)>>>1|(21845&et)<<1;tt[et]=((65280&(st=(61680&(st=(52428&st)>>>2|(13107&st)<<2))>>>4|(3855&st)<<4))>>>8|(255&st)<<8)>>>1}var ct=function(a,n,o){for(var u=a.length,d=0,h=new Xe(n);d<u;++d)++h[a[d]-1];var _,f=new Xe(n);for(d=0;d<n;++d)f[d]=f[d-1]+h[d-1]<<1;if(o){_=new Xe(1<<n);var v=15-n;for(d=0;d<u;++d)if(a[d])for(var w=d<<4|a[d],T=n-a[d],N=f[a[d]-1]++<<T,Z=N|(1<<T)-1;N<=Z;++N)_[tt[N]>>>v]=w}else for(_=new Xe(u),d=0;d<u;++d)_[d]=tt[f[a[d]-1]++]>>>15-a[d];return _},bt=new t(288);for(et=0;et<144;++et)bt[et]=8;for(et=144;et<256;++et)bt[et]=9;for(et=256;et<280;++et)bt[et]=7;for(et=280;et<288;++et)bt[et]=8;var yt=new t(32);for(et=0;et<32;++et)yt[et]=5;var kt=ct(bt,9,0),Zt=ct(bt,9,1),zt=ct(yt,5,0),Xt=ct(yt,5,1),te=function(a){for(var n=a[0],o=1;o<a.length;++o)a[o]>n&&(n=a[o]);return n},ft=function(a,n,o){var u=n/8>>0;return(a[u]|a[u+1]<<8)>>>(7&n)&o},xe=function(a,n){var o=n/8>>0;return(a[o]|a[o+1]<<8|a[o+2]<<16)>>>(7&n)},Ze=function(a){return(a/8>>0)+(7&a&&1)},Ut=function(a,n,o){(null==n||n<0)&&(n=0),(null==o||o>a.length)&&(o=a.length);var u=new(a instanceof Xe?Xe:a instanceof Ce?Ce:t)(o-n);return u.set(a.subarray(n,o)),u},ie=function(a,n,o){var u=n/8>>0;a[u]|=o<<=7&n,a[u+1]|=o>>>8},ae=function(a,n,o){var u=n/8>>0;a[u]|=o<<=7&n,a[u+1]|=o>>>8,a[u+2]|=o>>>16},Pe=function(a,n){for(var o=[],u=0;u<a.length;++u)a[u]&&o.push({s:u,f:a[u]});var d=o.length,h=o.slice();if(!d)return[new t(0),0];if(1==d){var f=new t(o[0].s+1);return f[o[0].s]=1,[f,1]}o.sort(function(At,Yt){return At.f-Yt.f}),o.push({s:-1,f:25001});var _=o[0],v=o[1],w=0,T=1,N=2;for(o[0]={s:-1,f:_.f+v.f,l:_,r:v};T!=d-1;)_=o[o[w].f<o[N].f?w++:N++],v=o[w!=T&&o[w].f<o[N].f?w++:N++],o[T++]={s:-1,f:_.f+v.f,l:_,r:v};var Z=h[0].s;for(u=1;u<d;++u)h[u].s>Z&&(Z=h[u].s);var y=new Xe(Z+1),R=be(o[T-1],y,0);if(R>n){u=0;var M=0,H=R-n,I=1<<H;for(h.sort(function(Yt,dt){return y[dt.s]-y[Yt.s]||Yt.f-dt.f});u<d;++u){var B=h[u].s;if(!(y[B]>n))break;M+=I-(1<<R-y[B]),y[B]=n}for(M>>>=H;M>0;){var X=h[u].s;y[X]<n?M-=1<<n-y[X]++-1:++u}for(;u>=0&&M;--u){var ut=h[u].s;y[ut]==n&&(--y[ut],++M)}R=n}return[new t(y),R]},be=function(a,n,o){return-1==a.s?Math.max(be(a.l,n,o+1),be(a.r,n,o+1)):n[a.s]=o},ke=function(a){for(var n=a.length;n&&!a[--n];);for(var o=new Xe(++n),u=0,d=a[0],h=1,f=function(v){o[u++]=v},_=1;_<=n;++_)if(a[_]==d&&_!=n)++h;else{if(!d&&h>2){for(;h>138;h-=138)f(32754);h>2&&(f(h>10?h-11<<5|28690:h-3<<5|12305),h=0)}else if(h>3){for(f(d),--h;h>6;h-=6)f(8304);h>2&&(f(h-3<<5|8208),h=0)}for(;h--;)f(d);h=1,d=a[_]}return[o.subarray(0,u),n]},Ie=function(a,n){for(var o=0,u=0;u<n.length;++u)o+=a[u]*n[u];return o},Ne=function(a,n,o){var u=o.length,d=Ze(n+2);a[d]=255&u,a[d+1]=u>>>8,a[d+2]=255^a[d],a[d+3]=255^a[d+1];for(var h=0;h<u;++h)a[d+h+4]=o[h];return 8*(d+4+u)},De=function(a,n,o,u,d,h,f,_,v,w,T){ie(n,T++,o),++d[256];for(var N=Pe(d,15),Z=N[0],y=N[1],R=Pe(h,15),M=R[0],H=R[1],I=ke(Z),B=I[0],X=I[1],ut=ke(M),At=ut[0],Yt=ut[1],dt=new Xe(19),J=0;J<B.length;++J)dt[31&B[J]]++;for(J=0;J<At.length;++J)dt[31&At[J]]++;for(var qt=Pe(dt,7),It=qt[0],E=qt[1],O=19;O>4&&!It[ye[O-1]];--O);var wt,Et,pt,Ft,Q=w+5<<3,V=Ie(d,bt)+Ie(h,yt)+f,Pt=Ie(d,Z)+Ie(h,M)+f+14+3*O+Ie(dt,It)+(2*dt[16]+3*dt[17]+7*dt[18]);if(Q<=V&&Q<=Pt)return Ne(n,T,a.subarray(v,v+w));if(ie(n,T,1+(Pt<V)),T+=2,Pt<V){wt=ct(Z,y,0),Et=Z,pt=ct(M,H,0),Ft=M;var Mt=ct(It,E,0);for(ie(n,T,X-257),ie(n,T+5,Yt-1),ie(n,T+10,O-4),T+=14,J=0;J<O;++J)ie(n,T+3*J,It[ye[J]]);T+=3*O;for(var de=[B,At],S=0;S<2;++S){var j=de[S];for(J=0;J<j.length;++J)ie(n,T,Mt[z=31&j[J]]),T+=It[z],z>15&&(ie(n,T,j[J]>>>5&127),T+=j[J]>>>12)}}else wt=kt,Et=bt,pt=zt,Ft=yt;for(J=0;J<_;++J)if(u[J]>255){var z;ae(n,T,wt[257+(z=u[J]>>>18&31)]),T+=Et[z+257],z>7&&(ie(n,T,u[J]>>>23&31),T+=Rt[z]);var $=31&u[J];ae(n,T,pt[$]),T+=Ft[$],$>3&&(ae(n,T,u[J]>>>5&8191),T+=se[$])}else ae(n,T,wt[u[J]]),T+=Et[u[J]];return ae(n,T,wt[256]),T+Et[256]},$t=new Ce([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),en=new t(0),gr=function(a,n,o,u,d){return function(a,n,o,u,d,h){var f=a.length,_=new t(u+f+5*(1+Math.floor(f/7e3))+d),v=_.subarray(u,_.length-d),w=0;if(!n||f<8)for(var T=0;T<=f;T+=65535){var N=T+65535;N<f?w=Ne(v,w,a.subarray(T,N)):(v[T]=h,w=Ne(v,w,a.subarray(T,f)))}else{for(var Z=$t[n-1],y=Z>>>13,R=8191&Z,M=(1<<o)-1,H=new Xe(32768),I=new Xe(M+1),B=Math.ceil(o/3),X=2*B,ut=function(qe){return(a[qe]^a[qe+1]<<B^a[qe+2]<<X)&M},At=new Ce(25e3),Yt=new Xe(288),dt=new Xe(32),J=0,qt=0,It=(T=0,0),E=0,O=0;T<f;++T){var Q=ut(T),V=32767&T,Pt=I[Q];if(H[V]=Pt,I[Q]=V,E<=T){var wt=f-T;if((J>7e3||It>24576)&&wt>423){w=De(a,v,0,At,Yt,dt,qt,It,O,T-O,w),It=J=qt=0,O=T;for(var Et=0;Et<286;++Et)Yt[Et]=0;for(Et=0;Et<30;++Et)dt[Et]=0}var pt=2,Ft=0,Mt=R,de=V-Pt&32767;if(wt>2&&Q==ut(T-de))for(var S=Math.min(y,wt)-1,j=Math.min(32767,T),z=Math.min(258,wt);de<=j&&--Mt&&V!=Pt;){if(a[T+pt]==a[T+pt-de]){for(var $=0;$<z&&a[T+$]==a[T+$-de];++$);if($>pt){if(pt=$,Ft=de,$>S)break;var ot=Math.min(de,$-2),mt=0;for(Et=0;Et<ot;++Et){var vt=T-de+Et+32768&32767,oe=vt-H[vt]+32768&32767;oe>mt&&(mt=oe,Pt=vt)}}}de+=(V=Pt)-(Pt=H[V])+32768&32767}if(Ft){At[It++]=268435456|gt[pt]<<18|Ct[Ft];var re=31&gt[pt],pe=31&Ct[Ft];qt+=Rt[re]+se[pe],++Yt[257+re],++dt[pe],E=T+pt,++J}else At[It++]=a[T],++Yt[a[T]]}}w=De(a,v,h,At,Yt,dt,qt,It,O,T-O,w),h||(w=Ne(v,w,en))}return Ut(_,0,u+Ze(w)+d)}(a,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+n.mem,o,u,!d)};function Yo(a,n){void 0===n&&(n={});var o=function(){var a=1,n=0;return{p:function(o){for(var u=a,d=n,h=o.length,f=0;f!=h;){for(var _=Math.min(f+5552,h);f<_;++f)d+=u+=o[f];u%=65521,d%=65521}a=u,n=d},d:function(){return(a>>>8<<16|(255&n)<<8|n>>>8)+2*((255&a)<<23)}}}();o.p(a);var u=gr(a,n,2,4);return function(a,n){var o=n.level,u=0==o?0:o<6?1:9==o?3:2;a[0]=120,a[1]=u<<6|(u?32-2*u:1)}(u,n),function(a,n,o){for(;o;++n)a[n]=o,o>>>=8}(u,u.length-4,o.d()),u}function xa(a,n){return function(a,n,o){var u=a.length,d=!n||o,h=!o||o.i;o||(o={}),n||(n=new t(3*u));var f=function(ot){var mt=n.length;if(ot>mt){var vt=new t(Math.max(2*mt,ot));vt.set(n),n=vt}},_=o.f||0,v=o.p||0,w=o.b||0,T=o.l,N=o.d,Z=o.m,y=o.n,R=8*u;do{if(!T){o.f=_=ft(a,v,1);var M=ft(a,v+1,3);if(v+=3,!M){var I=a[(H=Ze(v)+4)-4]|a[H-3]<<8,B=H+I;if(B>u){if(h)throw"unexpected EOF";break}d&&f(w+I),n.set(a.subarray(H,B),w),o.b=w+=I,o.p=v=8*B;continue}if(1==M)T=Zt,N=Xt,Z=9,y=5;else{if(2!=M)throw"invalid block type";var X=ft(a,v,31)+257,ut=ft(a,v+10,15)+4,At=X+ft(a,v+5,31)+1;v+=14;for(var Yt=new t(At),dt=new t(19),J=0;J<ut;++J)dt[ye[J]]=ft(a,v+3*J,7);v+=3*ut;var qt=te(dt),It=(1<<qt)-1;if(!h&&v+At*(qt+7)>R)break;var E=ct(dt,qt,1);for(J=0;J<At;){var H,O=E[ft(a,v,It)];if(v+=15&O,(H=O>>>4)<16)Yt[J++]=H;else{var Q=0,V=0;for(16==H?(V=3+ft(a,v,3),v+=2,Q=Yt[J-1]):17==H?(V=3+ft(a,v,7),v+=3):18==H&&(V=11+ft(a,v,127),v+=7);V--;)Yt[J++]=Q}}var Pt=Yt.subarray(0,X),wt=Yt.subarray(X);Z=te(Pt),y=te(wt),T=ct(Pt,Z,1),N=ct(wt,y,1)}if(v>R)throw"unexpected EOF"}d&&f(w+131072);for(var Et=(1<<Z)-1,pt=(1<<y)-1,Ft=Z+y+18;h||v+Ft<R;){var Mt=(Q=T[xe(a,v)&Et])>>>4;if((v+=15&Q)>R)throw"unexpected EOF";if(!Q)throw"invalid length/literal";if(Mt<256)n[w++]=Mt;else{if(256==Mt){T=null;break}var de=Mt-254;Mt>264&&(de=ft(a,v,(1<<(S=Rt[J=Mt-257]))-1)+_t[J],v+=S);var j=N[xe(a,v)&pt],z=j>>>4;if(!j)throw"invalid distance";if(v+=15&j,wt=Bt[z],z>3){var S=se[z];wt+=xe(a,v)&(1<<S)-1,v+=S}if(v>R)throw"unexpected EOF";d&&f(w+131072);for(var $=w+de;w<$;w+=4)n[w]=n[w-wt],n[w+1]=n[w+1-wt],n[w+2]=n[w+2-wt],n[w+3]=n[w+3-wt];w=$}}o.l=T,o.p=v,o.b=w,T&&(_=1,o.m=Z,o.d=N,o.n=y)}while(!_);return w==n.length?n:Ut(n,0,w)}((function(a){if(8!=(15&a[0])||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(32&a[1])throw"invalid zlib data: preset dictionaries not supported"}(a),a.subarray(2,-4)),n)}var Fe=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function ls(){Fe.console&&"function"==typeof Fe.console.log&&Fe.console.log.apply(Fe.console,arguments)}var hi={log:ls,warn:function(a){Fe.console&&("function"==typeof Fe.console.warn?Fe.console.warn.apply(Fe.console,arguments):ls.call(null,arguments))},error:function(a){Fe.console&&("function"==typeof Fe.console.error?Fe.console.error.apply(Fe.console,arguments):ls(a))}};function us(a,n,o){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){Dr(u.response,n,o)},u.onerror=function(){hi.error("could not download file")},u.send()}function bc(a){var n=new XMLHttpRequest;n.open("HEAD",a,!1);try{n.send()}catch(o){}return n.status>=200&&n.status<=299}function Aa(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(o){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(n)}}var Jo,hs,Dr=Fe.saveAs||("object"!==("undefined"==typeof window?"undefined":Ae(window))||window!==Fe?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(a,n,o){var u=Fe.URL||Fe.webkitURL,d=document.createElement("a");d.download=n=n||a.name||"download",d.rel="noopener","string"==typeof a?(d.href=a,d.origin!==location.origin?bc(d.href)?us(a,n,o):Aa(d,d.target="_blank"):Aa(d)):(d.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(d.href)},4e4),setTimeout(function(){Aa(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,n,o){if(n=n||a.name||"download","string"==typeof a)if(bc(a))us(a,n,o);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){Aa(u)})}else navigator.msSaveOrOpenBlob((d=a,void 0===(h=o)?h={autoBom:!1}:"object"!==Ae(h)&&(hi.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob([String.fromCharCode(65279),d],{type:d.type}):d),n);var d,h}:function(a,n,o,u){if((u=u||open("","_blank"))&&(u.document.title=u.document.body.innerText="downloading..."),"string"==typeof a)return us(a,n,o);var d="application/octet-stream"===a.type,h=/constructor/i.test(Fe.HTMLElement)||Fe.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&h)&&"object"===("undefined"==typeof FileReader?"undefined":Ae(FileReader))){var _=new FileReader;_.onloadend=function(){var T=_.result;T=f?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=T:location=T,u=null},_.readAsDataURL(a)}else{var v=Fe.URL||Fe.webkitURL,w=v.createObjectURL(a);u?u.location=w:location.href=w,u=null,setTimeout(function(){v.revokeObjectURL(w)},4e4)}});function yc(a){var n;a=a||"",this.ok=!1,"#"==a.charAt(0)&&(a=a.substr(1,6)),a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[a=(a=a.replace(/ /g,"")).toLowerCase()]||a;for(var o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_){return[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_){return[parseInt(_[1],16),parseInt(_[2],16),parseInt(_[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_){return[parseInt(_[1]+_[1],16),parseInt(_[2]+_[2],16),parseInt(_[3]+_[3],16)]}}],u=0;u<o.length;u++){var h=o[u].process,f=o[u].re.exec(a);f&&(n=h(f),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var _=this.r.toString(16),v=this.g.toString(16),w=this.b.toString(16);return 1==_.length&&(_="0"+_),1==v.length&&(v="0"+v),1==w.length&&(w="0"+w),"#"+_+v+w}}function ds(a,n){var o=a[0],u=a[1],d=a[2],h=a[3];o=Yi(o,u,d,h,n[0],7,-680876936),h=Yi(h,o,u,d,n[1],12,-389564586),d=Yi(d,h,o,u,n[2],17,606105819),u=Yi(u,d,h,o,n[3],22,-1044525330),o=Yi(o,u,d,h,n[4],7,-176418897),h=Yi(h,o,u,d,n[5],12,1200080426),d=Yi(d,h,o,u,n[6],17,-1473231341),u=Yi(u,d,h,o,n[7],22,-45705983),o=Yi(o,u,d,h,n[8],7,1770035416),h=Yi(h,o,u,d,n[9],12,-1958414417),d=Yi(d,h,o,u,n[10],17,-42063),u=Yi(u,d,h,o,n[11],22,-1990404162),o=Yi(o,u,d,h,n[12],7,1804603682),h=Yi(h,o,u,d,n[13],12,-40341101),d=Yi(d,h,o,u,n[14],17,-1502002290),o=Ji(o,u=Yi(u,d,h,o,n[15],22,1236535329),d,h,n[1],5,-165796510),h=Ji(h,o,u,d,n[6],9,-1069501632),d=Ji(d,h,o,u,n[11],14,643717713),u=Ji(u,d,h,o,n[0],20,-373897302),o=Ji(o,u,d,h,n[5],5,-701558691),h=Ji(h,o,u,d,n[10],9,38016083),d=Ji(d,h,o,u,n[15],14,-660478335),u=Ji(u,d,h,o,n[4],20,-405537848),o=Ji(o,u,d,h,n[9],5,568446438),h=Ji(h,o,u,d,n[14],9,-1019803690),d=Ji(d,h,o,u,n[3],14,-187363961),u=Ji(u,d,h,o,n[8],20,1163531501),o=Ji(o,u,d,h,n[13],5,-1444681467),h=Ji(h,o,u,d,n[2],9,-51403784),d=Ji(d,h,o,u,n[7],14,1735328473),o=Vi(o,u=Ji(u,d,h,o,n[12],20,-1926607734),d,h,n[5],4,-378558),h=Vi(h,o,u,d,n[8],11,-2022574463),d=Vi(d,h,o,u,n[11],16,1839030562),u=Vi(u,d,h,o,n[14],23,-35309556),o=Vi(o,u,d,h,n[1],4,-1530992060),h=Vi(h,o,u,d,n[4],11,1272893353),d=Vi(d,h,o,u,n[7],16,-155497632),u=Vi(u,d,h,o,n[10],23,-1094730640),o=Vi(o,u,d,h,n[13],4,681279174),h=Vi(h,o,u,d,n[0],11,-358537222),d=Vi(d,h,o,u,n[3],16,-722521979),u=Vi(u,d,h,o,n[6],23,76029189),o=Vi(o,u,d,h,n[9],4,-640364487),h=Vi(h,o,u,d,n[12],11,-421815835),d=Vi(d,h,o,u,n[15],16,530742520),o=Wi(o,u=Vi(u,d,h,o,n[2],23,-995338651),d,h,n[0],6,-198630844),h=Wi(h,o,u,d,n[7],10,1126891415),d=Wi(d,h,o,u,n[14],15,-1416354905),u=Wi(u,d,h,o,n[5],21,-57434055),o=Wi(o,u,d,h,n[12],6,1700485571),h=Wi(h,o,u,d,n[3],10,-1894986606),d=Wi(d,h,o,u,n[10],15,-1051523),u=Wi(u,d,h,o,n[1],21,-2054922799),o=Wi(o,u,d,h,n[8],6,1873313359),h=Wi(h,o,u,d,n[15],10,-30611744),d=Wi(d,h,o,u,n[6],15,-1560198380),u=Wi(u,d,h,o,n[13],21,1309151649),o=Wi(o,u,d,h,n[4],6,-145523070),h=Wi(h,o,u,d,n[11],10,-1120210379),d=Wi(d,h,o,u,n[2],15,718787259),u=Wi(u,d,h,o,n[9],21,-343485551),a[0]=_r(o,a[0]),a[1]=_r(u,a[1]),a[2]=_r(d,a[2]),a[3]=_r(h,a[3])}function Ca(a,n,o,u,d,h){return n=_r(_r(n,a),_r(u,h)),_r(n<<d|n>>>32-d,o)}function Yi(a,n,o,u,d,h,f){return Ca(n&o|~n&u,a,n,d,h,f)}function Ji(a,n,o,u,d,h,f){return Ca(n&u|o&~u,a,n,d,h,f)}function Vi(a,n,o,u,d,h,f){return Ca(n^o^u,a,n,d,h,f)}function Wi(a,n,o,u,d,h,f){return Ca(o^(n|~u),a,n,d,h,f)}function xc(a){var n,o=a.length,u=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=a.length;n+=64)ds(u,Zl(a.substring(n-64,n)));a=a.substring(n-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<a.length;n++)d[n>>2]|=a.charCodeAt(n)<<(n%4<<3);if(d[n>>2]|=128<<(n%4<<3),n>55)for(ds(u,d),n=0;n<16;n++)d[n]=0;return d[14]=8*o,ds(u,d),u}function Zl(a){var n,o=[];for(n=0;n<64;n+=4)o[n>>2]=a.charCodeAt(n)+(a.charCodeAt(n+1)<<8)+(a.charCodeAt(n+2)<<16)+(a.charCodeAt(n+3)<<24);return o}Jo=Fe.atob.bind(Fe),hs=Fe.btoa.bind(Fe);var wc="0123456789abcdef".split("");function Dl(a){for(var n="",o=0;o<4;o++)n+=wc[a>>8*o+4&15]+wc[a>>8*o&15];return n}function Il(a){return String.fromCharCode((255&a)>>0,(65280&a)>>8,(16711680&a)>>16,(4278190080&a)>>24)}function ps(a){return xc(a).map(Il).join("")}var Ml="5d41402abc4b2a76b9719d911017c592"!=function(a){for(var n=0;n<a.length;n++)a[n]=Dl(a[n]);return a.join("")}(xc("hello"));function _r(a,n){if(Ml){var o=(65535&a)+(65535&n);return(a>>16)+(n>>16)+(o>>16)<<16|65535&o}return a+n&4294967295}function fs(a,n){var o,u,d;if(a!==o){for(var f=(d=a,new Array(1+(256/a.length>>0)+1).join(d)),_=[],v=0;v<256;v++)_[v]=v;var w=0;for(v=0;v<256;v++){var T=_[v];w=(w+T+f.charCodeAt(v))%256,_[v]=_[w],_[w]=T}o=a,u=_}else _=u;var N=n.length,Z=0,y=0,R="";for(v=0;v<N;v++)y=(y+(T=_[Z=(Z+1)%256]))%256,_[Z]=_[y],_[y]=T,f=_[(_[Z]+_[y])%256],R+=String.fromCharCode(n.charCodeAt(v)^f);return R}var Ac={print:4,modify:8,copy:16,"annot-forms":32};function ao(a,n,o,u){this.v=1,this.r=2;var d=192;a.forEach(function(_){if(void 0!==Ac.perm)throw new Error("Invalid permission: "+_);d+=Ac[_]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var h=(n+this.padding).substr(0,32),f=(o+this.padding).substr(0,32);this.O=this.processOwnerPassword(h,f),this.P=-(1+(255^d)),this.encryptionKey=ps(h+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(u)).substr(0,5),this.U=fs(this.encryptionKey,this.padding)}function so(a){if(/[^\u0000-\u00ff]/.test(a))throw new Error("Invalid PDF Name Object: "+a+", Only accept ASCII characters.");for(var n="",o=a.length,u=0;u<o;u++){var d=a.charCodeAt(u);n+=d<33||35===d||37===d||40===d||41===d||47===d||60===d||62===d||91===d||93===d||123===d||125===d||d>126?"#"+("0"+d.toString(16)).slice(-2):a[u]}return n}function Cc(a){if("object"!==Ae(a))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(o,u,d){if(d=d||!1,"string"!=typeof o||"function"!=typeof u||"boolean"!=typeof d)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(o)||(n[o]={});var h=Math.random().toString(35);return n[o][h]=[u,!!d],h},this.unsubscribe=function(o){for(var u in n)if(n[u][o])return delete n[u][o],0===Object.keys(n[u]).length&&delete n[u],!0;return!1},this.publish=function(o){if(n.hasOwnProperty(o)){var u=Array.prototype.slice.call(arguments,1),d=[];for(var h in n[o]){var f=n[o][h];try{f[0].apply(a,u)}catch(_){Fe.console&&hi.error("jsPDF PubSub Error",_.message,_)}f[1]&&d.push(h)}d.length&&d.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Vo(a){if(!(this instanceof Vo))return new Vo(a);var n="opacity,stroke-opacity".split(",");for(var o in a)a.hasOwnProperty(o)&&n.indexOf(o)>=0&&(this[o]=a[o]);this.id="",this.objectNumber=-1}function Tc(a,n){this.gState=a,this.matrix=n,this.id="",this.objectNumber=-1}function vr(a,n,o,u,d){if(!(this instanceof vr))return new vr(a,n,o,u,d);this.type="axial"===a?2:3,this.coords=n,this.colors=o,Tc.call(this,u,d)}function Ir(a,n,o,u,d){if(!(this instanceof Ir))return new Ir(a,n,o,u,d);this.boundingBox=a,this.xStep=n,this.yStep=o,this.stream="",this.cloneIndex=0,Tc.call(this,u,d)}function Me(a){var n,o="string"==typeof arguments[0]?arguments[0]:"p",u=arguments[1],d=arguments[2],h=arguments[3],f=[],_=1,v=16,w="S",T=null;"object"===Ae(a=a||{})&&(o=a.orientation,u=a.unit||u,d=a.format||d,h=a.compress||a.compressPdf||h,null!==(T=a.encryption||null)&&(T.userPassword=T.userPassword||"",T.ownerPassword=T.ownerPassword||"",T.userPermissions=T.userPermissions||[]),_="number"==typeof a.userUnit?Math.abs(a.userUnit):1,void 0!==a.precision&&(n=a.precision),void 0!==a.floatPrecision&&(v=a.floatPrecision),w=a.defaultPathOperation||"S"),f=a.filters||(!0===h?["FlateEncode"]:f),u=u||"mm",o=(""+(o||"P")).toLowerCase();var N=a.putOnlyUsedFonts||!1,Z={},y={internal:{},__private__:{}};y.__private__.PubSub=Cc;var R="1.3",M=y.__private__.getPdfVersion=function(){return R};y.__private__.setPdfVersion=function(p){R=p};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return H};var I=y.__private__.getPageFormat=function(p){return H[p]};d=d||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},X=B.COMPAT;function ut(){this.saveGraphicsState(),Y(new Oe(ge,0,0,-ge,0,$r()*ge).toString()+" cm"),this.setFontSize(this.getFontSize()/ge),w="n",X=B.ADVANCED}function At(){this.restoreGraphicsState(),w="S",X=B.COMPAT}var Yt=y.__private__.combineFontStyleAndFontWeight=function(p,C){if("bold"==p&&"normal"==C||"bold"==p&&400==C||"normal"==p&&"italic"==C||"bold"==p&&"italic"==C)throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(p=400==C||"normal"===C?"italic"===p?"italic":"normal":700!=C&&"bold"!==C||"normal"!==p?(700==C?"bold":C)+""+p:"bold"),p};y.advancedAPI=function(p){var C=X===B.COMPAT;return C&&ut.call(this),"function"!=typeof p||(p(this),C&&At.call(this)),this},y.compatAPI=function(p){var C=X===B.ADVANCED;return C&&At.call(this),"function"!=typeof p||(p(this),C&&ut.call(this)),this},y.isAdvancedAPI=function(){return X===B.ADVANCED};var dt,J=function(p){if(X!==B.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},qt=y.roundToPrecision=y.__private__.roundToPrecision=function(p,C){var U=n||C;if(isNaN(p)||isNaN(U))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(U).replace(/0+$/,"")};dt=y.hpf=y.__private__.hpf="number"==typeof v?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,v)}:"smart"===v?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return qt(p,16)};var It=y.f2=y.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return qt(p,2)},E=y.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return qt(p,3)},O=y.scale=y.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return X===B.COMPAT?p*ge:X===B.ADVANCED?p:void 0},Q=function(p){return X===B.COMPAT?$r()-p:X===B.ADVANCED?p:void 0},V=function(p){return O(Q(p))};y.__private__.setPrecision=y.setPrecision=function(p){"number"==typeof parseInt(p,10)&&(n=parseInt(p,10))};var Pt,wt="00000000000000000000000000000000",Et=y.__private__.getFileId=function(){return wt},pt=y.__private__.setFileId=function(p){return wt=void 0!==p&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():wt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==T&&(Ke=new ao(T.userPermissions,T.userPassword,T.ownerPassword,wt)),wt};y.setFileId=function(p){return pt(p),this},y.getFileId=function(){return Et()};var Ft=y.__private__.convertDateToPDFDate=function(p){var C=p.getTimezoneOffset(),U=C<0?"+":"-",W=Math.floor(Math.abs(C/60)),at=Math.abs(C%60),Nt=[U,z(W),"'",z(at),"'"].join("");return["D:",p.getFullYear(),z(p.getMonth()+1),z(p.getDate()),z(p.getHours()),z(p.getMinutes()),z(p.getSeconds()),Nt].join("")},Mt=y.__private__.convertPDFDateToDate=function(p){var C=parseInt(p.substr(2,4),10),U=parseInt(p.substr(6,2),10)-1,W=parseInt(p.substr(8,2),10),at=parseInt(p.substr(10,2),10),Nt=parseInt(p.substr(12,2),10),Kt=parseInt(p.substr(14,2),10);return new Date(C,U,W,at,Nt,Kt,0)},de=y.__private__.setCreationDate=function(p){var C;if(void 0===p&&(p=new Date),p instanceof Date)C=Ft(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=p}return Pt=C},S=y.__private__.getCreationDate=function(p){var C=Pt;return"jsDate"===p&&(C=Mt(Pt)),C};y.setCreationDate=function(p){return de(p),this},y.getCreationDate=function(p){return S(p)};var j,z=y.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},$=y.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},ot=0,mt=[],vt=[],xt=0,oe=[],re=[],pe=!1,_e=vt,qe=function(){ot=0,xt=0,vt=[],mt=[],oe=[],sr=Di(),Nn=Di()};y.__private__.setCustomOutputDestination=function(p){pe=!0,_e=p};var Dt=function(p){pe||(_e=p)};y.__private__.resetCustomOutputDestination=function(){pe=!1,_e=vt};var Y=y.__private__.out=function(p){return p=p.toString(),xt+=p.length+1,_e.push(p),_e},ze=y.__private__.write=function(p){return Y(1===arguments.length?p.toString():Array.prototype.join.call(arguments," "))},Te=y.__private__.getArrayBuffer=function(p){for(var C=p.length,U=new ArrayBuffer(C),W=new Uint8Array(U);C--;)W[C]=p.charCodeAt(C);return U},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ee};var ce=a.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(p){return ce=X===B.ADVANCED?p/ge:p,this};var fe,ue=y.__private__.getFontSize=y.getFontSize=function(){return X===B.COMPAT?ce:ce*ge},Se=a.R2L||!1;y.__private__.setR2L=y.setR2L=function(p){return Se=p,this},y.__private__.getR2L=y.getR2L=function(){return Se};var Ue,Ve=y.__private__.setZoomMode=function(p){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))fe=p;else if(isNaN(p)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(p))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');fe=p}else fe=parseInt(p,10)};y.__private__.getZoomMode=function(){return fe};var Qe,ni=y.__private__.setPageMode=function(p){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');Ue=p};y.__private__.getPageMode=function(){return Ue};var ui=y.__private__.setLayoutMode=function(p){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Qe=p};y.__private__.getLayoutMode=function(){return Qe},y.__private__.setDisplayMode=y.setDisplayMode=function(p,C,U){return Ve(p),ui(C),ni(U),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(p){if(-1===Object.keys(Re).indexOf(p))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[p]},y.__private__.getDocumentProperties=function(){return Re},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(p){for(var C in Re)Re.hasOwnProperty(C)&&p[C]&&(Re[C]=p[C]);return this},y.__private__.setDocumentProperty=function(p,C){if(-1===Object.keys(Re).indexOf(p))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[p]=C};var $e,ge,Gi,ri,Pn,di={},bi={},Vn=[],ai={},jr={},Ai={},kn={},ar=null,Ci=0,Ye=[],si=new Cc(y),Hr=a.hotfixes||[],Hi={},Wn={},Gn=[],Oe=function p(C,U,W,at,Nt,Kt){if(!(this instanceof p))return new p(C,U,W,at,Nt,Kt);isNaN(C)&&(C=1),isNaN(U)&&(U=0),isNaN(W)&&(W=0),isNaN(at)&&(at=1),isNaN(Nt)&&(Nt=0),isNaN(Kt)&&(Kt=0),this._matrix=[C,U,W,at,Nt,Kt]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Oe.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(dt).join(p)},Oe.prototype.multiply=function(p){return new Oe(p.sx*this.sx+p.shy*this.shx,p.sx*this.shy+p.shy*this.sy,p.shx*this.sx+p.sy*this.shx,p.shx*this.shy+p.sy*this.sy,p.tx*this.sx+p.ty*this.shx+this.tx,p.tx*this.shy+p.ty*this.sy+this.ty)},Oe.prototype.decompose=function(){var p=this.sx,C=this.shy,U=this.shx,W=this.sy,at=this.tx,Nt=this.ty,Kt=Math.sqrt(p*p+C*C),me=(p/=Kt)*U+(C/=Kt)*W;U-=p*me,W-=C*me;var Le=Math.sqrt(U*U+W*W);return me/=Le,p*(W/=Le)<C*(U/=Le)&&(p=-p,C=-C,me=-me,Kt=-Kt),{scale:new Oe(Kt,0,0,Le,0,0),translate:new Oe(1,0,0,1,at,Nt),rotate:new Oe(p,C,-C,p,0,0),skew:new Oe(1,0,me,1,0,0)}},Oe.prototype.toString=function(p){return this.join(" ")},Oe.prototype.inversed=function(){var p=this.sx,C=this.shy,U=this.shx,W=this.sy,at=this.tx,Nt=this.ty,Kt=1/(p*W-C*U),me=W*Kt,Le=-C*Kt,Je=-U*Kt,We=p*Kt;return new Oe(me,Le,Je,We,-me*at-Je*Nt,-Le*at-We*Nt)},Oe.prototype.applyToPoint=function(p){return new Po(p.x*this.sx+p.y*this.shx+this.tx,p.x*this.shy+p.y*this.sy+this.ty)},Oe.prototype.applyToRectangle=function(p){var C=this.applyToPoint(p),U=this.applyToPoint(new Po(p.x+p.w,p.y+p.h));return new ko(C.x,C.y,U.x-C.x,U.y-C.y)},Oe.prototype.clone=function(){return new Oe(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},y.Matrix=Oe;var Sn=y.matrixMult=function(p,C){return C.multiply(p)},Qn=new Oe(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Qn;var on=function(p,C){if(!jr[p]){var U=(C instanceof vr?"Sh":"P")+(Object.keys(ai).length+1).toString(10);C.id=U,jr[p]=U,ai[U]=C,si.publish("addPattern",C)}};y.ShadingPattern=vr,y.TilingPattern=Ir,y.addShadingPattern=function(p,C){return J("addShadingPattern()"),on(p,C),this},y.beginTilingPattern=function(p){J("beginTilingPattern()"),Ja(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},y.endTilingPattern=function(p,C){J("endTilingPattern()"),C.stream=re[j].join("\n"),on(p,C),si.publish("endTilingPattern",C),Gn.pop().restore()};var Ei=y.__private__.newObject=function(){var p=Di();return ln(p,!0),p},Di=y.__private__.newObjectDeferred=function(){return ot++,mt[ot]=function(){return xt},ot},ln=function(p,C){return C="boolean"==typeof C&&C,mt[p]=xt,C&&Y(p+" 0 obj"),p},go=y.__private__.newAdditionalObject=function(){var p={objId:Di(),content:""};return oe.push(p),p},sr=Di(),Nn=Di(),Ln=y.__private__.decodeColorString=function(p){var C=p.split(" ");if(2!==C.length||"g"!==C[1]&&"G"!==C[1])5===C.length&&("k"===C[4]||"K"===C[4])&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var U=parseFloat(C[0]);C=[U,U,U,"r"]}for(var W="#",at=0;at<3;at++)W+=("0"+Math.floor(255*parseFloat(C[at])).toString(16)).slice(-2);return W},Zn=y.__private__.encodeColorString=function(p){var C;"string"==typeof p&&(p={ch1:p});var U=p.ch1,W=p.ch2,at=p.ch3,Nt=p.ch4,Kt="draw"===p.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof U&&"#"!==U.charAt(0)){var me=new yc(U);if(me.ok)U=me.toHex();else if(!/^\d*\.?\d*$/.test(U))throw new Error('Invalid color "'+U+'" passed to jsPDF.encodeColorString.')}if("string"==typeof U&&/^#[0-9A-Fa-f]{3}$/.test(U)&&(U="#"+U[1]+U[1]+U[2]+U[2]+U[3]+U[3]),"string"==typeof U&&/^#[0-9A-Fa-f]{6}$/.test(U)){var Le=parseInt(U.substr(1),16);U=Le>>16&255,W=Le>>8&255,at=255&Le}if(void 0===W||void 0===Nt&&U===W&&W===at)C="string"==typeof U?U+" "+Kt[0]:2===p.precision?It(U/255)+" "+Kt[0]:E(U/255)+" "+Kt[0];else if(void 0===Nt||"object"===Ae(Nt)){if(Nt&&!isNaN(Nt.a)&&0===Nt.a)return["1.","1.","1.",Kt[1]].join(" ");C="string"==typeof U?[U,W,at,Kt[1]].join(" "):2===p.precision?[It(U/255),It(W/255),It(at/255),Kt[1]].join(" "):[E(U/255),E(W/255),E(at/255),Kt[1]].join(" ")}else C="string"==typeof U?[U,W,at,Nt,Kt[2]].join(" "):2===p.precision?[It(U),It(W),It(at),It(Nt),Kt[2]].join(" "):[E(U),E(W),E(at),E(Nt),Kt[2]].join(" ");return C},$n=y.__private__.getFilters=function(){return f},pn=y.__private__.putStream=function(p){var C=(p=p||{}).data||"",U=p.filters||$n(),W=p.alreadyAppliedFilters||[],at=p.addLength1||!1,Nt=C.length,Kt=p.objectId,me=function(Qi){return Qi};if(null!==T&&void 0===Kt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==T&&(me=Ke.encryptor(Kt,0));var Le={};!0===U&&(U=["FlateEncode"]);var Je=p.additionalKeyValues||[],We=(Le=void 0!==Me.API.processDataByFilters?Me.API.processDataByFilters(C,U):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(W)?W.join(" "):W.toString());if(0!==Le.data.length&&(Je.push({key:"Length",value:Le.data.length}),!0===at&&Je.push({key:"Length1",value:Nt})),0!=We.length)if(We.split("/").length-1==1)Je.push({key:"Filter",value:We});else{Je.push({key:"Filter",value:"["+We+"]"});for(var ei=0;ei<Je.length;ei+=1)if("DecodeParms"===Je[ei].key){for(var xi=[],Ti=0;Ti<Le.reverseChain.split("/").length-1;Ti+=1)xi.push("null");xi.push(Je[ei].value),Je[ei].value="["+xi.join(" ")+"]"}}Y("<<");for(var Ii=0;Ii<Je.length;Ii++)Y("/"+Je[Ii].key+" "+Je[Ii].value);Y(">>"),0!==Le.data.length&&(Y("stream"),Y(me(Le.data)),Y("endstream"))},Kn=y.__private__.putPage=function(p){var C=p.number,U=p.data,W=p.objId,at=p.contentsObjId;ln(W,!0),Y("<</Type /Page"),Y("/Parent "+p.rootDictionaryObjId+" 0 R"),Y("/Resources "+p.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(dt(p.mediaBox.bottomLeftX))+" "+parseFloat(dt(p.mediaBox.bottomLeftY))+" "+dt(p.mediaBox.topRightX)+" "+dt(p.mediaBox.topRightY)+"]"),null!==p.cropBox&&Y("/CropBox ["+dt(p.cropBox.bottomLeftX)+" "+dt(p.cropBox.bottomLeftY)+" "+dt(p.cropBox.topRightX)+" "+dt(p.cropBox.topRightY)+"]"),null!==p.bleedBox&&Y("/BleedBox ["+dt(p.bleedBox.bottomLeftX)+" "+dt(p.bleedBox.bottomLeftY)+" "+dt(p.bleedBox.topRightX)+" "+dt(p.bleedBox.topRightY)+"]"),null!==p.trimBox&&Y("/TrimBox ["+dt(p.trimBox.bottomLeftX)+" "+dt(p.trimBox.bottomLeftY)+" "+dt(p.trimBox.topRightX)+" "+dt(p.trimBox.topRightY)+"]"),null!==p.artBox&&Y("/ArtBox ["+dt(p.artBox.bottomLeftX)+" "+dt(p.artBox.bottomLeftY)+" "+dt(p.artBox.topRightX)+" "+dt(p.artBox.topRightY)+"]"),"number"==typeof p.userUnit&&1!==p.userUnit&&Y("/UserUnit "+p.userUnit),si.publish("putPage",{objId:W,pageContext:Ye[C],pageNumber:C,page:U}),Y("/Contents "+at+" 0 R"),Y(">>"),Y("endobj");var Nt=U.join("\n");return X===B.ADVANCED&&(Nt+="\nQ"),ln(at,!0),pn({data:Nt,filters:$n(),objectId:at}),Y("endobj"),W},zr=y.__private__.putPages=function(){var p,C,U=[];for(p=1;p<=Ci;p++)Ye[p].objId=Di(),Ye[p].contentsObjId=Di();for(p=1;p<=Ci;p++)U.push(Kn({number:p,data:re[p],objId:Ye[p].objId,contentsObjId:Ye[p].contentsObjId,mediaBox:Ye[p].mediaBox,cropBox:Ye[p].cropBox,bleedBox:Ye[p].bleedBox,trimBox:Ye[p].trimBox,artBox:Ye[p].artBox,userUnit:Ye[p].userUnit,rootDictionaryObjId:sr,resourceDictionaryObjId:Nn}));ln(sr,!0),Y("<</Type /Pages");var W="/Kids [";for(C=0;C<Ci;C++)W+=U[C]+" 0 R ";Y(W+"]"),Y("/Count "+Ci),Y(">>"),Y("endobj"),si.publish("postPutPages")},mo=function(p){si.publish("putFont",{font:p,out:Y,newObject:Ei,putStream:pn}),!0!==p.isAlreadyPutted&&(p.objectNumber=Ei(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+so(p.postScriptName)),Y("/Subtype /Type1"),"string"==typeof p.encoding&&Y("/Encoding /"+p.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},_o=function(){for(var p in di)di.hasOwnProperty(p)&&(!1===N||!0===N&&Z.hasOwnProperty(p))&&mo(di[p])},vo=function(p){p.objectNumber=Ei();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[dt(p.x),dt(p.y),dt(p.x+p.width),dt(p.y+p.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var U=p.pages[1].join("\n");pn({data:U,additionalKeyValues:C,objectId:p.objectNumber}),Y("endobj")},bo=function(){for(var p in Hi)Hi.hasOwnProperty(p)&&vo(Hi[p])},Za=function(p,C){var U,W=[],at=1/(C-1);for(U=0;U<1;U+=at)W.push(U);W.push(1),0!=p[0].offset&&p.unshift({offset:0,color:p[0].color}),1!=p[p.length-1].offset&&p.push({offset:1,color:p[p.length-1].color});for(var me="",Le=0,Je=0;Je<W.length;Je++){for(U=W[Je];U>p[Le+1].offset;)Le++;var We=p[Le].offset,ei=(U-We)/(p[Le+1].offset-We),xi=p[Le].color,Ti=p[Le+1].color;me+=$(Math.round((1-ei)*xi[0]+ei*Ti[0]).toString(16))+$(Math.round((1-ei)*xi[1]+ei*Ti[1]).toString(16))+$(Math.round((1-ei)*xi[2]+ei*Ti[2]).toString(16))}return me.trim()},As=function(p,C){C||(C=21);var U=Ei(),W=Za(p.colors,C),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+C+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pn({data:W,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:U}),Y("endobj"),p.objectNumber=Ei(),Y("<< /ShadingType "+p.type),Y("/ColorSpace /DeviceRGB");var Nt="/Coords ["+dt(parseFloat(p.coords[0]))+" "+dt(parseFloat(p.coords[1]))+" ";Nt+=2===p.type?dt(parseFloat(p.coords[2]))+" "+dt(parseFloat(p.coords[3])):dt(parseFloat(p.coords[2]))+" "+dt(parseFloat(p.coords[3]))+" "+dt(parseFloat(p.coords[4]))+" "+dt(parseFloat(p.coords[5])),Y(Nt+="]"),p.matrix&&Y("/Matrix ["+p.matrix.toString()+"]"),Y("/Function "+U+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Cs=function(p,C){var U=Di(),W=Ei();C.push({resourcesOid:U,objectOid:W}),p.objectNumber=W;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+p.boundingBox.map(dt).join(" ")+"]"}),at.push({key:"XStep",value:dt(p.xStep)}),at.push({key:"YStep",value:dt(p.yStep)}),at.push({key:"Resources",value:U+" 0 R"}),p.matrix&&at.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),pn({data:p.stream,additionalKeyValues:at,objectId:p.objectNumber}),Y("endobj")},yo=function(p){var C;for(C in ai)ai.hasOwnProperty(C)&&(ai[C]instanceof vr?As(ai[C]):ai[C]instanceof Ir&&Cs(ai[C],p))},Da=function(p){for(var C in p.objectNumber=Ei(),Y("<<"),p)switch(C){case"opacity":Y("/ca "+It(p[C]));break;case"stroke-opacity":Y("/CA "+It(p[C]))}Y(">>"),Y("endobj")},Ts=function(){var p;for(p in Ai)Ai.hasOwnProperty(p)&&Da(Ai[p])},Qo=function(){for(var p in Y("/XObject <<"),Hi)Hi.hasOwnProperty(p)&&Hi[p].objectNumber>=0&&Y("/"+p+" "+Hi[p].objectNumber+" 0 R");si.publish("putXobjectDict"),Y(">>")},Ps=function(){Ke.oid=Ei(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Ke.v),Y("/R "+Ke.r),Y("/U <"+Ke.toHexString(Ke.U)+">"),Y("/O <"+Ke.toHexString(Ke.O)+">"),Y("/P "+Ke.P),Y(">>"),Y("endobj")},Ia=function(){for(var p in Y("/Font <<"),di)di.hasOwnProperty(p)&&(!1===N||!0===N&&Z.hasOwnProperty(p))&&Y("/"+p+" "+di[p].objectNumber+" 0 R");Y(">>")},ks=function(){if(Object.keys(ai).length>0){for(var p in Y("/Shading <<"),ai)ai.hasOwnProperty(p)&&ai[p]instanceof vr&&ai[p].objectNumber>=0&&Y("/"+p+" "+ai[p].objectNumber+" 0 R");si.publish("putShadingPatternDict"),Y(">>")}},xo=function(p){if(Object.keys(ai).length>0){for(var C in Y("/Pattern <<"),ai)ai.hasOwnProperty(C)&&ai[C]instanceof y.TilingPattern&&ai[C].objectNumber>=0&&ai[C].objectNumber<p&&Y("/"+C+" "+ai[C].objectNumber+" 0 R");si.publish("putTilingPatternDict"),Y(">>")}},Ss=function(){if(Object.keys(Ai).length>0){var p;for(p in Y("/ExtGState <<"),Ai)Ai.hasOwnProperty(p)&&Ai[p].objectNumber>=0&&Y("/"+p+" "+Ai[p].objectNumber+" 0 R");si.publish("putGStateDict"),Y(">>")}},Ni=function(p){ln(p.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ia(),ks(),xo(p.objectOid),Ss(),Qo(),Y(">>"),Y("endobj")},Ma=function(){var p=[];_o(),Ts(),bo(),yo(p),si.publish("putResources"),p.forEach(Ni),Ni({resourcesOid:Nn,objectOid:Number.MAX_SAFE_INTEGER}),si.publish("postPutResources")},Oa=function(){si.publish("putAdditionalObjects");for(var p=0;p<oe.length;p++){var C=oe[p];ln(C.objId,!0),Y(C.content),Y("endobj")}si.publish("postPutAdditionalObjects")},Ea=function(p){bi[p.fontName]=bi[p.fontName]||{},bi[p.fontName][p.fontStyle]=p.id},$o=function(p,C,U,W,at){var Nt={id:"F"+(Object.keys(di).length+1).toString(10),postScriptName:p,fontName:C,fontStyle:U,encoding:W,isStandardFont:at||!1,metadata:{}};return si.publish("addFont",{font:Nt,instance:this}),di[Nt.id]=Nt,Ea(Nt),Nt.id},Ns=function(p){for(var C=0,U=ee.length;C<U;C++){var W=$o.call(this,p[C][0],p[C][1],p[C][2],ee[C][3],!0);!1===N&&(Z[W]=!0);var at=p[C][0].split("-");Ea({id:W,fontName:at[0],fontStyle:at[1]||""})}si.publish("addFonts",{fonts:di,dictionary:bi})},Dn=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(W){var C=W.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var U="Error in function "+C.split("\n")[0].split("<")[0]+": "+W.message;if(!Fe.console)throw new Error(U);Fe.console.error(U,W),Fe.alert&&alert(U)}},p.foo.bar=p,p.foo},wo=function(p,C){var U,W,at,Nt,Kt,me,Le,Je,We;if(at=(C=C||{}).sourceEncoding||"Unicode",Kt=C.outputEncoding,(C.autoencode||Kt)&&di[$e].metadata&&di[$e].metadata[at]&&di[$e].metadata[at].encoding&&(Nt=di[$e].metadata[at].encoding,!Kt&&di[$e].encoding&&(Kt=di[$e].encoding),!Kt&&Nt.codePages&&(Kt=Nt.codePages[0]),"string"==typeof Kt&&(Kt=Nt[Kt]),Kt)){for(Le=!1,me=[],U=0,W=p.length;U<W;U++)(Je=Kt[p.charCodeAt(U)])?me.push(String.fromCharCode(Je)):me.push(p[U]),me[U].charCodeAt(0)>>8&&(Le=!0);p=me.join("")}for(U=p.length;void 0===Le&&0!==U;)p.charCodeAt(U-1)>>8&&(Le=!0),U--;if(!Le)return p;for(me=C.noBOM?[]:[254,255],U=0,W=p.length;U<W;U++){if((We=(Je=p.charCodeAt(U))>>8)>>8)throw new Error("Character at position "+U+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");me.push(We),me.push(Je-(We<<8))}return String.fromCharCode.apply(void 0,me)},an=y.__private__.pdfEscape=y.pdfEscape=function(p,C){return wo(p,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=y.__private__.beginPage=function(p){re[++Ci]=[],Ye[Ci]={objId:0,contentsObjId:0,userUnit:Number(_),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},qa(Ci),Dt(re[j])},Fa=function(p,C){var U,W,at;switch(o=C||o,"string"==typeof p&&(U=I(p.toLowerCase()),Array.isArray(U)&&(W=U[0],at=U[1])),Array.isArray(p)&&(W=p[0]*ge,at=p[1]*ge),isNaN(W)&&(W=d[0],at=d[1]),(W>14400||at>14400)&&(hi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),W=Math.min(14400,W),at=Math.min(14400,at)),d=[W,at],o.substr(0,1)){case"l":at>W&&(d=[at,W]);break;case"p":W>at&&(d=[at,W])}Ko(d),Es(za),Y(er),0!==na&&Y(na+" J"),0!==ra&&Y(ra+" j"),si.publish("addPage",{pageNumber:Ci})},Ls=function(p){p>0&&p<=Ci&&(re.splice(p,1),Ye.splice(p,1),Ci--,j>Ci&&(j=Ci),this.setPage(j))},qa=function(p){p>0&&p<=Ci&&(j=p)},xr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return re.length-1},Ra=function(p,C,U){var W,at=void 0;return U=U||{},C=void 0!==C?C:di[$e].fontStyle,W=(p=void 0!==p?p:di[$e].fontName).toLowerCase(),void 0!==bi[W]&&void 0!==bi[W][C]?at=bi[W][C]:void 0!==bi[p]&&void 0!==bi[p][C]?at=bi[p][C]:!1===U.disableWarning&&hi.warn("Unable to look up font label for font '"+p+"', '"+C+"'. Refer to getFontList() for available fonts."),at||U.noFallback||null==(at=bi.times[C])&&(at=bi.times.normal),at},Zs=y.__private__.putInfo=function(){var p=Ei(),C=function(W){return W};for(var U in null!==T&&(C=Ke.encryptor(p,0)),Y("<<"),Y("/Producer ("+an(C("jsPDF "+Me.version))+")"),Re)Re.hasOwnProperty(U)&&Re[U]&&Y("/"+U.substr(0,1).toUpperCase()+U.substr(1)+" ("+an(C(Re[U]))+")");Y("/CreationDate ("+an(C(Pt))+")"),Y(">>"),Y("endobj")},Xo=y.__private__.putCatalog=function(p){var C=(p=p||{}).rootDictionaryObjId||sr;switch(Ei(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+C+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var U=""+fe;"%"===U.substr(U.length-1)&&(fe=parseInt(fe)/100),"number"==typeof fe&&Y("/OpenAction [3 0 R /XYZ null null "+It(fe)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Ue&&Y("/PageMode /"+Ue),si.publish("putCatalog"),Y(">>"),Y("endobj")},Ds=y.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ot+1)),Y("/Root "+ot+" 0 R"),Y("/Info "+(ot-1)+" 0 R"),null!==T&&Y("/Encrypt "+Ke.oid+" 0 R"),Y("/ID [ <"+wt+"> <"+wt+"> ]"),Y(">>")},In=y.__private__.putHeader=function(){Y("%PDF-"+R),Y("%\xba\xdf\xac\xe0")},Mn=y.__private__.putXRef=function(){var p="0000000000";Y("xref"),Y("0 "+(ot+1)),Y("0000000000 65535 f ");for(var C=1;C<=ot;C++)Y("function"==typeof mt[C]?(p+mt[C]()).slice(-10)+" 00000 n ":void 0!==mt[C]?(p+mt[C]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Xn=y.__private__.buildDocument=function(){qe(),Dt(vt),si.publish("buildDocument"),In(),zr(),Oa(),Ma(),null!==T&&Ps(),Zs(),Xo();var p=xt;return Mn(),Ds(),Y("startxref"),Y(""+p),Y("%%EOF"),Dt(re[j]),vt.join("\n")},Yr=y.__private__.getBlob=function(p){return new Blob([Te(p)],{type:"application/pdf"})},fn=y.output=y.__private__.output=Dn(function(p,C){switch("string"==typeof(C=C||{})?C={filename:C}:C.filename=C.filename||"generated.pdf",p){case void 0:return Xn();case"save":y.save(C.filename);break;case"arraybuffer":return Te(Xn());case"blob":return Yr(Xn());case"bloburi":case"bloburl":if(void 0!==Fe.URL&&"function"==typeof Fe.URL.createObjectURL)return Fe.URL&&Fe.URL.createObjectURL(Yr(Xn()))||void 0;hi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var U="",W=Xn();try{U=hs(W)}catch(Ti){U=hs(unescape(encodeURIComponent(W)))}return"data:application/pdf;filename="+C.filename+";base64,"+U;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Fe)){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(at=C.pdfObjectUrl,Nt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",me=Fe.open();return null!==me&&me.document.write(Kt),me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Fe)){var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',Je=Fe.open();if(null!==Je){Je.document.write(Le);var We=this;Je.document.documentElement.querySelector("#pdfViewer").onload=function(){Je.document.title=C.filename,Je.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(We.output("bloburl"))}}return Je}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Fe))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ei='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',xi=Fe.open();if(null!==xi&&(xi.document.write(ei),xi.document.title=C.filename),xi||"undefined"==typeof safari)return xi;break;case"datauri":case"dataurl":return Fe.document.location.href=this.output("datauristring",C);default:return null}}),ti=function(p){return!0===Array.isArray(Hr)&&Hr.indexOf(p)>-1};switch(u){case"pt":ge=1;break;case"mm":ge=72/25.4;break;case"cm":ge=72/2.54;break;case"in":ge=72;break;case"px":ge=1==ti("px_scaling")?.75:96/72;break;case"pc":case"em":ge=12;break;case"ex":ge=6;break;default:if("number"!=typeof u)throw new Error("Invalid unit: "+u);ge=u}var Ke=null;de(),pt();var Is=function(p){return null!==T?Ke.encryptor(p,0):function(C){return C}},Ao=y.__private__.getPageInfo=y.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ye[p].objId,pageNumber:p,pageContext:Ye[p]}},je=y.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in Ye)if(Ye[C].objId===p)break;return Ao(C)},Wc=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ye[j].objId,pageNumber:j,pageContext:Ye[j]}};y.addPage=function(){return Fa.apply(this,arguments),this},y.setPage=function(){return qa.apply(this,arguments),Dt.call(this,re[j]),this},y.insertPage=function(p){return this.addPage(),this.movePage(j,p),this},y.movePage=function(p,C){var U,W;if(p>C){U=re[p],W=Ye[p];for(var at=p;at>C;at--)re[at]=re[at-1],Ye[at]=Ye[at-1];re[C]=U,Ye[C]=W,this.setPage(C)}else if(p<C){U=re[p],W=Ye[p];for(var Nt=p;Nt<C;Nt++)re[Nt]=re[Nt+1],Ye[Nt]=Ye[Nt+1];re[C]=U,Ye[C]=W,this.setPage(C)}return this},y.deletePage=function(){return Ls.apply(this,arguments),this},y.__private__.text=y.text=function(p,C,U,W,at){var Nt,Kt,me,Le,Je,We,ei,xi,Ti,Ii=(W=W||{}).scope||this;if("number"==typeof p&&"number"==typeof C&&("string"==typeof U||Array.isArray(U))){var Qi=U;U=C,C=p,p=Qi}if(arguments[3]instanceof Oe?(J("The transform parameter of text() with a Matrix value"),Ti=at):(me=arguments[4],Le=arguments[5],"object"===Ae(ei=arguments[3])&&null!==ei||("string"==typeof me&&(Le=me,me=null),"string"==typeof ei&&(Le=ei,ei=null),"number"==typeof ei&&(me=ei,ei=null),W={flags:ei,angle:me,align:Le})),isNaN(C)||isNaN(U)||null==p)throw new Error("Invalid arguments passed to jsPDF.text");if(0===p.length)return Ii;var Bi="",On=!1,un="number"==typeof W.lineHeightFactor?W.lineHeightFactor:Wr,lr=Ii.internal.scaleFactor;function Va(gi){return gi=gi.split("\t").join(Array(W.TabLen||9).join(" ")),an(gi,ei)}function sa(gi){for(var mi,Li=gi.concat(),Fi=[],pr=Li.length;pr--;)"string"==typeof(mi=Li.shift())?Fi.push(mi):Array.isArray(gi)&&(1===mi.length||void 0===mi[1]&&void 0===mi[2])?Fi.push(mi[0]):Fi.push([mi[0],mi[1],mi[2]]);return Fi}function ca(gi,mi){var Li;if("string"==typeof gi)Li=mi(gi)[0];else if(Array.isArray(gi)){for(var Fi,pr,Nr=gi.concat(),qo=[],Ga=Nr.length;Ga--;)"string"==typeof(Fi=Nr.shift())?qo.push(mi(Fi)[0]):Array.isArray(Fi)&&"string"==typeof Fi[0]&&(pr=mi(Fi[0],Fi[1],Fi[2]),qo.push([pr[0],pr[1],pr[2]]));Li=qo}return Li}var Lo=!1,la=!0;if("string"==typeof p)Lo=!0;else if(Array.isArray(p)){var ua=p.concat();Kt=[];for(var Zo,sn=ua.length;sn--;)("string"!=typeof(Zo=ua.shift())||Array.isArray(Zo)&&"string"!=typeof Zo[0])&&(la=!1);Lo=la}if(!1===Lo)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');"string"==typeof p&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var Do=ce/Ii.internal.scaleFactor,Io=Do*(un-1);switch(W.baseline){case"bottom":U-=Io;break;case"top":U+=Do-Io;break;case"hanging":U+=Do-2*Io;break;case"middle":U+=Do/2-Io}if((We=W.maxWidth||0)>0&&("string"==typeof p?p=Ii.splitTextToSize(p,We):"[object Array]"===Object.prototype.toString.call(p)&&(p=p.reduce(function(gi,mi){return gi.concat(Ii.splitTextToSize(mi,We))},[]))),si.publish("preProcessText",Nt={text:p,x:C,y:U,options:W,mutex:{pdfEscape:an,activeFontKey:$e,fonts:di,activeFontSize:ce}}),p=Nt.text,me=(W=Nt.options).angle,Ti instanceof Oe||!me||"number"!=typeof me)me&&me instanceof Oe&&(Ti=me);else{me*=Math.PI/180,0===W.rotationDirection&&(me=-me),X===B.ADVANCED&&(me=-me);var Mo=Math.cos(me),ha=Math.sin(me);Ti=new Oe(Mo,ha,-ha,Mo,0,0)}X!==B.ADVANCED||Ti||(Ti=Qn),void 0!==(Je=W.charSpace||To)&&(Bi+=dt(O(Je))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(xi=W.horizontalScale)&&(Bi+=dt(100*xi)+" Tz\n");var cn=-1,Hs=void 0!==W.renderingMode?W.renderingMode:W.stroke,da=Ii.internal.getCurrentPageInfo().pageContext;switch(Hs){case 0:case!1:case"fill":cn=0;break;case 1:case!0:case"stroke":cn=1;break;case 2:case"fillThenStroke":cn=2;break;case 3:case"invisible":cn=3;break;case 4:case"fillAndAddForClipping":cn=4;break;case 5:case"strokeAndAddPathForClipping":cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cn=6;break;case 7:case"addToPathForClipping":cn=7}var Wa=void 0!==da.usedRenderingMode?da.usedRenderingMode:-1;-1!==cn?Bi+=cn+" Tr\n":-1!==Wa&&(Bi+="0 Tr\n"),-1!==cn&&(da.usedRenderingMode=cn),Le=W.align||"left";var En,pa=ce*un,zs=Ii.internal.pageSize.getWidth(),Ys=di[$e];Je=W.charSpace||To,We=W.maxWidth||0,ei=Object.assign({autoencode:!0,noBOM:!0},W.flags);var Tr=[];if("[object Array]"===Object.prototype.toString.call(p)){var mn;Kt=sa(p),"left"!==Le&&(En=Kt.map(function(gi){return Ii.getStringUnitWidth(gi,{font:Ys,charSpace:Je,fontSize:ce,doKerning:!1})*ce/lr}));var Fn,Pr=0;if("right"===Le){C-=En[0],p=[],sn=Kt.length;for(var ir=0;ir<sn;ir++)0===ir?(Fn=cr(C),mn=gn(U)):(Fn=O(Pr-En[ir]),mn=-pa),p.push([Kt[ir],Fn,mn]),Pr=En[ir]}else if("center"===Le){C-=En[0]/2,p=[],sn=Kt.length;for(var ur=0;ur<sn;ur++)0===ur?(Fn=cr(C),mn=gn(U)):(Fn=O((Pr-En[ur])/2),mn=-pa),p.push([Kt[ur],Fn,mn]),Pr=En[ur]}else if("left"===Le){p=[],sn=Kt.length;for(var Oo=0;Oo<sn;Oo++)p.push(Kt[Oo])}else{if("justify"!==Le)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');p=[],sn=Kt.length,We=0!==We?We:zs;for(var qn=0;qn<sn;qn++)mn=0===qn?gn(U):-pa,Fn=0===qn?cr(C):0,Tr.push(qn<sn-1?dt(O((We-En[qn])/(Kt[qn].split(" ").length-1))):0),p.push([Kt[qn],Fn,mn])}}var Eo="boolean"==typeof W.R2L?W.R2L:Se;!0===Eo&&(p=ca(p,function(gi,mi,Li){return[gi.split("").reverse().join(""),mi,Li]})),si.publish("postProcessText",Nt={text:p,x:C,y:U,options:W,mutex:{pdfEscape:an,activeFontKey:$e,fonts:di,activeFontSize:ce}}),p=Nt.text,On=Nt.mutex.isHex||!1;var fa=di[$e].encoding;"WinAnsiEncoding"!==fa&&"StandardEncoding"!==fa||(p=ca(p,function(gi,mi,Li){return[Va(gi),mi,Li]})),Kt=sa(p),p=[];for(var kr,Rn,hr,Kr=0,Fo=1,Xr=Array.isArray(Kt[0])?Fo:Kr,Sr="",ga=function(gi,mi,Li){var Fi="";return Li instanceof Oe?(Li="number"==typeof W.angle?Sn(Li,new Oe(1,0,0,1,gi,mi)):Sn(new Oe(1,0,0,1,gi,mi),Li),X===B.ADVANCED&&(Li=Sn(new Oe(1,0,0,-1,0,0),Li)),Fi=Li.join(" ")+" Tm\n"):Fi=dt(gi)+" "+dt(mi)+" Td\n",Fi},_n=0;_n<Kt.length;_n++){switch(Sr="",Xr){case Fo:hr=(On?"<":"(")+Kt[_n][0]+(On?">":")"),kr=parseFloat(Kt[_n][1]),Rn=parseFloat(Kt[_n][2]);break;case Kr:hr=(On?"<":"(")+Kt[_n]+(On?">":")"),kr=cr(C),Rn=gn(U)}void 0!==Tr&&void 0!==Tr[_n]&&(Sr=Tr[_n]+" Tw\n"),0===_n?p.push(Sr+ga(kr,Rn,Ti)+hr):Xr===Kr?p.push(Sr+hr):Xr===Fo&&p.push(Sr+ga(kr,Rn,Ti)+hr)}p=p.join(Xr===Kr?" Tj\nT* ":" Tj\n"),p+=" Tj\n";var dr="BT\n/";return dr+=$e+" "+ce+" Tf\n",dr+=dt(ce*un)+" TL\n",dr+=Cr+"\n",dr+=Bi,dr+=p,Y(dr+="ET"),Z[$e]=!0,Ii};var Ms=y.__private__.clip=y.clip=function(p){return Y("evenodd"===p?"W*":"W"),this};y.clipEvenOdd=function(){return Ms("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Y("n"),this};var tr=y.__private__.isValidStyle=function(p){var C=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)&&(C=!0),C};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(p){return tr(p)&&(w=p),this};var Ba=y.__private__.getStyle=y.getStyle=function(p){var C=w;switch(p){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=p}return C},Ua=y.close=function(){return Y("h"),this};y.stroke=function(){return Y("S"),this},y.fill=function(p){return Jr("f",p),this},y.fillEvenOdd=function(p){return Jr("f*",p),this},y.fillStroke=function(p){return Jr("B",p),this},y.fillStrokeEvenOdd=function(p){return Jr("B*",p),this};var Jr=function(p,C){"object"===Ae(C)?ja(C,p):Y(p)},ta=function(p){null===p||X===B.ADVANCED&&void 0===p||(p=Ba(p),Y(p))};function Os(p,C,U,W,at){var Nt=new Ir(C||this.boundingBox,U||this.xStep,W||this.yStep,this.gState,at||this.matrix);Nt.stream=this.stream;var Kt=p+"$$"+this.cloneIndex+++"$$";return on(Kt,Nt),Nt}var ja=function(p,C){var U=jr[p.key],W=ai[U];if(W instanceof vr)Y("q"),Y(Gc(C)),W.gState&&y.setGState(W.gState),Y(p.matrix.toString()+" cm"),Y("/"+U+" sh"),Y("Q");else if(W instanceof Ir){var at=new Oe(1,0,0,-1,0,$r());p.matrix&&(at=at.multiply(p.matrix||Qn),U=Os.call(W,p.key,p.boundingBox,p.xStep,p.yStep,at).id),Y("q"),Y("/Pattern cs"),Y("/"+U+" scn"),W.gState&&y.setGState(W.gState),Y(C),Y("Q")}},Gc=function(p){switch(p){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ea=y.moveTo=function(p,C){return Y(dt(O(p))+" "+dt(V(C))+" m"),this},Vr=y.lineTo=function(p,C){return Y(dt(O(p))+" "+dt(V(C))+" l"),this},wr=y.curveTo=function(p,C,U,W,at,Nt){return Y([dt(O(p)),dt(V(C)),dt(O(U)),dt(V(W)),dt(O(at)),dt(V(Nt)),"c"].join(" ")),this};y.__private__.line=y.line=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!tr(at))throw new Error("Invalid arguments passed to jsPDF.line");return X===B.COMPAT?this.lines([[U-p,W-C]],p,C,[1,1],at||"S"):this.lines([[U-p,W-C]],p,C,[1,1]).stroke()},y.__private__.lines=y.lines=function(p,C,U,W,at,Nt){var Kt,me,Le,Je,We,Qi,Bi,On;if("number"==typeof p&&(On=U,U=C,C=p,p=On),W=W||[1,1],Nt=Nt||!1,isNaN(C)||isNaN(U)||!Array.isArray(p)||!Array.isArray(W)||!tr(at)||"boolean"!=typeof Nt)throw new Error("Invalid arguments passed to jsPDF.lines");for(ea(C,U),Kt=W[0],me=W[1],Je=p.length,Qi=C,Bi=U,Le=0;Le<Je;Le++)2===(We=p[Le]).length?Vr(Qi=We[0]*Kt+Qi,Bi=We[1]*me+Bi):wr(We[0]*Kt+Qi,We[1]*me+Bi,We[2]*Kt+Qi,We[3]*me+Bi,Qi=We[4]*Kt+Qi,Bi=We[5]*me+Bi);return Nt&&Ua(),ta(at),this},y.path=function(p){for(var C=0;C<p.length;C++){var U=p[C],W=U.c;switch(U.op){case"m":ea(W[0],W[1]);break;case"l":Vr(W[0],W[1]);break;case"c":wr.apply(this,W);break;case"h":Ua()}}return this},y.__private__.rect=y.rect=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!tr(at))throw new Error("Invalid arguments passed to jsPDF.rect");return X===B.COMPAT&&(W=-W),Y([dt(O(p)),dt(V(C)),dt(O(U)),dt(O(W)),"re"].join(" ")),ta(at),this},y.__private__.triangle=y.triangle=function(p,C,U,W,at,Nt,Kt){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(at)||isNaN(Nt)||!tr(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[U-p,W-C],[at-U,Nt-W],[p-at,C-Nt]],p,C,[1,1],Kt,!0),this},y.__private__.roundedRect=y.roundedRect=function(p,C,U,W,at,Nt,Kt){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||isNaN(at)||isNaN(Nt)||!tr(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var me=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*U),Nt=Math.min(Nt,.5*W),this.lines([[U-2*at,0],[at*me,0,at,Nt-Nt*me,at,Nt],[0,W-2*Nt],[0,Nt*me,-at*me,Nt,-at,Nt],[2*at-U,0],[-at*me,0,-at,-Nt*me,-at,-Nt],[0,2*Nt-W],[0,-Nt*me,at*me,-Nt,at,-Nt]],p+at,C,[1,1],Kt,!0),this},y.__private__.ellipse=y.ellipse=function(p,C,U,W,at){if(isNaN(p)||isNaN(C)||isNaN(U)||isNaN(W)||!tr(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*U,Kt=4/3*(Math.SQRT2-1)*W;return ea(p+U,C),wr(p+U,C-Kt,p+Nt,C-W,p,C-W),wr(p-Nt,C-W,p-U,C-Kt,p-U,C),wr(p-U,C+Kt,p-Nt,C+W,p,C+W),wr(p+Nt,C+W,p+U,C+Kt,p+U,C),ta(at),this},y.__private__.circle=y.circle=function(p,C,U,W){if(isNaN(p)||isNaN(C)||isNaN(U)||!tr(W))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,C,U,U,W)},y.setFont=function(p,C,U){return U&&(C=Yt(C,U)),$e=Ra(p,C,{disableWarning:!1}),this};var Ha=y.__private__.getFont=y.getFont=function(){return di[Ra.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var p,C,U={};for(p in bi)if(bi.hasOwnProperty(p))for(C in U[p]=[],bi[p])bi[p].hasOwnProperty(C)&&U[p].push(C);return U},y.addFont=function(p,C,U,W,at){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Nt.indexOf(arguments[3])?at=arguments[3]:arguments[3]&&-1==Nt.indexOf(arguments[3])&&(U=Yt(U,W)),$o.call(this,p,C,U,at=at||"Identity-H")};var Wr,za=a.lineWidth||.200025,ia=y.__private__.getLineWidth=y.getLineWidth=function(){return za},Es=y.__private__.setLineWidth=y.setLineWidth=function(p){return za=p,Y(dt(O(p))+" w"),this};y.__private__.setLineDash=Me.API.setLineDash=Me.API.setLineDashPattern=function(p,C){if(p=p||[],C=C||0,isNaN(C)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(U){return dt(O(U))}).join(" "),C=dt(O(C)),Y("["+p+"] "+C+" d"),this};var Fs=y.__private__.getLineHeight=y.getLineHeight=function(){return ce*Wr};y.__private__.getLineHeight=y.getLineHeight=function(){return ce*Wr};var qs=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(p){return"number"==typeof(p=p||1.15)&&(Wr=p),this},Rs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Wr};qs(a.lineHeight);var cr=y.__private__.getHorizontalCoordinate=function(p){return O(p)},gn=y.__private__.getVerticalCoordinate=function(p){return X===B.ADVANCED?p:Ye[j].mediaBox.topRightY-Ye[j].mediaBox.bottomLeftY-O(p)},Bs=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(p){return dt(cr(p))},Ar=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(p){return dt(gn(p))},er=a.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Ln(er)},y.__private__.setStrokeColor=y.setDrawColor=function(p,C,U,W){return er=Zn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"draw",precision:2}),Y(er),this};var Co=a.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Ln(Co)},y.__private__.setFillColor=y.setFillColor=function(p,C,U,W){return Co=Zn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"fill",precision:2}),Y(Co),this};var Cr=a.textColor||"0 g",Ya=y.__private__.getTextColor=y.getTextColor=function(){return Ln(Cr)};y.__private__.setTextColor=y.setTextColor=function(p,C,U,W){return Cr=Zn({ch1:p,ch2:C,ch3:U,ch4:W,pdfColorType:"text",precision:3}),this};var To=a.charSpace,Us=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(To||0)};y.__private__.setCharSpace=y.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return To=p,this};var na=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(p){var C=y.CapJoinStyles[p];if(void 0===C)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=C,Y(C+" J"),this};var ra=0;y.__private__.setLineJoin=y.setLineJoin=function(p){var C=y.CapJoinStyles[p];if(void 0===C)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ra=C,Y(C+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(dt(O(p))+" M"),this},y.GState=Vo,y.setGState=function(p){(p="string"==typeof p?Ai[kn[p]]:Gr(null,p)).equals(ar)||(Y("/"+p.id+" gs"),ar=p)};var Gr=function(p,C){if(!p||!kn[p]){var U=!1;for(var W in Ai)if(Ai.hasOwnProperty(W)&&Ai[W].equals(C)){U=!0;break}if(U)C=Ai[W];else{var at="GS"+(Object.keys(Ai).length+1).toString(10);Ai[at]=C,C.id=at}return p&&(kn[p]=C.id),si.publish("addGState",C),C}};y.addGState=function(p,C){return Gr(p,C),this},y.saveGraphicsState=function(){return Y("q"),Vn.push({key:$e,size:ce,color:Cr}),this},y.restoreGraphicsState=function(){Y("Q");var p=Vn.pop();return $e=p.key,ce=p.size,Cr=p.color,ar=null,this},y.setCurrentTransformationMatrix=function(p){return Y(p.toString()+" cm"),this},y.comment=function(p){return Y("#"+p),this};var Po=function(p,C){var U=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return U},set:function(Nt){isNaN(Nt)||(U=parseFloat(Nt))}});var W=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return W},set:function(Nt){isNaN(Nt)||(W=parseFloat(Nt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Nt){at=Nt.toString()}}),this},ko=function(p,C,U,W){Po.call(this,p,C),this.type="rect";var at=U||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Kt){isNaN(Kt)||(at=parseFloat(Kt))}});var Nt=W||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(Kt){isNaN(Kt)||(Nt=parseFloat(Kt))}}),this},oa=function(){this.page=Ci,this.currentPage=j,this.pages=re.slice(0),this.pagesContext=Ye.slice(0),this.x=Gi,this.y=ri,this.matrix=Pn,this.width=Qr(j),this.height=$r(j),this.outputDestination=_e,this.id="",this.objectNumber=-1};oa.prototype.restore=function(){Ci=this.page,Ye=this.pagesContext,re=this.pages,Gi=this.x,ri=this.y,Pn=this.matrix,No(j=this.currentPage,this.width),aa(j,this.height),_e=this.outputDestination};var Ja=function(p,C,U,W,at){Gn.push(new oa),Ci=j=0,re=[],Gi=p,ri=C,Pn=at,Ko([U,W])},js=function(p){if(Wn[p])Gn.pop().restore();else{var C=new oa,U="Xo"+(Object.keys(Hi).length+1).toString(10);C.id=U,Wn[p]=U,Hi[U]=C,si.publish("addFormObject",C),Gn.pop().restore()}};for(var So in y.beginFormObject=function(p,C,U,W,at){return Ja(p,C,U,W,at),this},y.endFormObject=function(p){return js(p),this},y.doFormObject=function(p,C){var U=Hi[Wn[p]];return Y("q"),Y(C.toString()+" cm"),Y("/"+U.id+" Do"),Y("Q"),this},y.getFormObject=function(p){var C=Hi[Wn[p]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},y.save=function(p,C){return p=p||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,!1===C.returnPromise?(Dr(Yr(Xn()),p),"function"==typeof Dr.unload&&Fe.setTimeout&&setTimeout(Dr.unload,911),this):new Promise(function(U,W){try{var at=Dr(Yr(Xn()),p);"function"==typeof Dr.unload&&Fe.setTimeout&&setTimeout(Dr.unload,911),U(at)}catch(Nt){W(Nt.message)}})},Me.API)Me.API.hasOwnProperty(So)&&("events"===So&&Me.API.events.length?function(p,C){var W,at;for(at=C.length-1;-1!==at;at--)p.subscribe.apply(p,[C[at][0]].concat("function"==typeof(W=C[at][1])?[W]:W))}(si,Me.API.events):y[So]=Me.API[So]);var Qr=y.getPageWidth=function(p){return(Ye[p=p||j].mediaBox.topRightX-Ye[p].mediaBox.bottomLeftX)/ge},No=y.setPageWidth=function(p,C){Ye[p].mediaBox.topRightX=C*ge+Ye[p].mediaBox.bottomLeftX},$r=y.getPageHeight=function(p){return(Ye[p=p||j].mediaBox.topRightY-Ye[p].mediaBox.bottomLeftY)/ge},aa=y.setPageHeight=function(p,C){Ye[p].mediaBox.topRightY=C*ge+Ye[p].mediaBox.bottomLeftY};return y.internal={pdfEscape:an,getStyle:Ba,getFont:Ha,getFontSize:ue,getCharSpace:Us,getTextColor:Ya,getLineHeight:Fs,getLineHeightFactor:Rs,getLineWidth:ia,write:ze,getHorizontalCoordinate:cr,getVerticalCoordinate:gn,getCoordinateString:Bs,getVerticalCoordinateString:Ar,collections:{},newObject:Ei,newAdditionalObject:go,newObjectDeferred:Di,newObjectDeferredBegin:ln,getFilters:$n,putStream:pn,events:si,scaleFactor:ge,pageSize:{getWidth:function(){return Qr(j)},setWidth:function(p){No(j,p)},getHeight:function(){return $r(j)},setHeight:function(p){aa(j,p)}},encryptionOptions:T,encryption:Ke,getEncryptor:Is,output:fn,getNumberOfPages:xr,pages:re,out:Y,f2:It,f3:E,getPageInfo:Ao,getPageInfoByObjId:je,getCurrentPageInfo:Wc,getPDFVersion:M,Point:Po,Rectangle:ko,Matrix:Oe,hasHotfix:ti},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Qr(j)},set:function(p){No(j,p)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return $r(j)},set:function(p){aa(j,p)},enumerable:!0,configurable:!0}),Ns.call(y,ee),$e="F1",Fa(d,o),si.publish("initialized"),y}ao.prototype.lsbFirstWord=function(a){return String.fromCharCode(a>>0&255,a>>8&255,a>>16&255,a>>24&255)},ao.prototype.toHexString=function(a){return a.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ao.prototype.hexToBytes=function(a){for(var n=[],o=0;o<a.length;o+=2)n.push(String.fromCharCode(parseInt(a.substr(o,2),16)));return n.join("")},ao.prototype.processOwnerPassword=function(a,n){return fs(ps(n).substr(0,5),a)},ao.prototype.encryptor=function(a,n){var o=ps(this.encryptionKey+String.fromCharCode(255&a,a>>8&255,a>>16&255,255&n,n>>8&255)).substr(0,10);return function(u){return fs(o,u)}},Vo.prototype.equals=function(a){var n,o="id,objectNumber,equals";if(!a||Ae(a)!==Ae(this))return!1;var u=0;for(n in this)if(!(o.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!a.hasOwnProperty(n)||this[n]!==a[n])return!1;u++}for(n in a)a.hasOwnProperty(n)&&o.indexOf(n)<0&&u--;return 0===u},Me.API={events:[]},Me.version="2.5.1";var wi=Me.API,gs=1,Mr=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},co=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},He=function(a){return a.toFixed(2)},br=function(a){return a.toFixed(5)};wi.__acroform__={};var nn=function(a,n){a.prototype=Object.create(n.prototype),a.prototype.constructor=a},Pc=function(a){return a*gs},zn=function(a){var n=new ka,o=we.internal.getHeight(a)||0,u=we.internal.getWidth(a)||0;return n.BBox=[0,0,Number(He(u)),Number(He(o))],n},Ol=wi.__acroform__.setBit=function(a,n){if(a=a||0,n=n||0,isNaN(a)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return a|1<<n},El=wi.__acroform__.clearBit=function(a,n){if(a=a||0,n=n||0,isNaN(a)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return a&~(1<<n)},Fl=wi.__acroform__.getBit=function(a,n){if(isNaN(a)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(a&1<<n)?0:1},Pi=wi.__acroform__.getBitForPdf=function(a,n){if(isNaN(a)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Fl(a,n-1)},ki=wi.__acroform__.setBitForPdf=function(a,n){if(isNaN(a)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ol(a,n-1)},Si=wi.__acroform__.clearBitForPdf=function(a,n){if(isNaN(a)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return El(a,n-1)},ql=wi.__acroform__.calculateCoordinates=function(a,n){var o=n.internal.getHorizontalCoordinate,u=n.internal.getVerticalCoordinate,d=a[0],h=a[1],f=a[2],_=a[3],v={};return v.lowerLeft_X=o(d)||0,v.lowerLeft_Y=u(h+_)||0,v.upperRight_X=o(d+f)||0,v.upperRight_Y=u(h)||0,[Number(He(v.lowerLeft_X)),Number(He(v.lowerLeft_Y)),Number(He(v.upperRight_X)),Number(He(v.upperRight_Y))]},Rl=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var n=[],u=ms(a,a._V||a.DV),d=a.scope.internal.getFont(a.fontName,a.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(a.scope.__private__.encodeColorString(a.color)),n.push("/"+d+" "+He(u.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(u.text),n.push("ET"),n.push("Q"),n.push("EMC");var h=zn(a);return h.scope=a.scope,h.stream=n.join("\n"),h}},ms=function(a,n){var o=0===a.fontSize?a.maxFontSize:a.fontSize,u={text:"",fontSize:""},d=(n=")"==(n="("==n.substr(0,1)?n.substr(1):n).substr(n.length-1)?n.substr(0,n.length-1):n).split(" ");d=d.map(a.multiline?function(E){return E.split("\n")}:function(E){return[E]});var h=o,f=we.internal.getHeight(a)||0;f=f<0?-f:f;var E,_=we.internal.getWidth(a)||0;_=_<0?-_:_,h++;t:for(;h>0;){n="",h--;var w,T,N=Ta("3",a,h).height,Z=a.multiline?f-h:(f-N)/2,y=Z+=2,R=0,M=0,H=0;if(h<=0){n="(...) Tj\n",n+="% Width of Text: "+Ta(n,a,h=12).width+", FieldWidth:"+_+"\n";break}for(var I="",B=0,X=0;X<d.length;X++)if(d.hasOwnProperty(X)){var ut=!1;if(1!==d[X].length&&H!==d[X].length-1){if((N+2)*(B+2)+2>f)continue t;I+=d[X][H],ut=!0,M=X,X--}else{I=" "==(I+=d[X][H]+" ").substr(I.length-1)?I.substr(0,I.length-1):I;var At=parseInt(X),Yt=(E=At)+1<d.length&&Ta(I+" "+d[E+1][0],a,h).width<=_-4,dt=X>=d.length-1;if(Yt&&!dt){I+=" ",H=0;continue}if(Yt||dt){if(dt)M=At;else if(a.multiline&&(N+2)*(B+2)+2>f)continue t}else{if(!a.multiline||(N+2)*(B+2)+2>f)continue t;M=At}}for(var J="",qt=R;qt<=M;qt++){var It=d[qt];if(a.multiline){if(qt===M){J+=It[H]+" ",H=(H+1)%It.length;continue}if(qt===R){J+=It[It.length-1]+" ";continue}}J+=It[0]+" "}switch(J=" "==J.substr(J.length-1)?J.substr(0,J.length-1):J,T=Ta(J,a,h).width,a.textAlign){case"right":w=_-T-2;break;case"center":w=(_-T)/2;break;default:w=2}n+=He(w)+" "+He(y)+" Td\n",n+="("+Mr(J)+") Tj\n",n+=-He(w)+" 0 Td\n",y=-(h+2),T=0,R=ut?M:M+1,B++,I=""}break}return u.text=n,u.fontSize=h,u},Ta=function(a,n,o){var u=n.scope.internal.getFont(n.fontName,n.fontStyle),d=n.scope.getStringUnitWidth(a,{font:u,fontSize:parseFloat(o),charSpace:0})*parseFloat(o);return{height:n.scope.getStringUnitWidth("3",{font:u,fontSize:parseFloat(o),charSpace:0})*parseFloat(o)*1.5,width:d}},Bl={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ul=function(a,n){var o={type:"reference",object:a};void 0===n.internal.getPageInfo(a.page).pageContext.annotations.find(function(u){return u.type===o.type&&u.object===o.object})&&n.internal.getPageInfo(a.page).pageContext.annotations.push(o)},_s=wi.__acroform__.arrayToPdfArray=function(a,n,o){var u=function(f){return f};if(Array.isArray(a)){for(var d="[",h=0;h<a.length;h++)switch(0!==h&&(d+=" "),Ae(a[h])){case"boolean":case"number":case"object":d+=a[h].toString();break;case"string":"/"!==a[h].substr(0,1)?(void 0!==n&&o&&(u=o.internal.getEncryptor(n)),d+="("+Mr(u(a[h].toString()))+")"):d+=a[h].toString()}return d+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pa=function(a,n,o){var u=function(d){return d};return void 0!==n&&o&&(u=o.internal.getEncryptor(n)),(a=a||"").toString(),"("+Mr(u(a))+")"},Be=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(a){this._objId=a}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Be.prototype.toString=function(){return this.objId+" 0 R"},Be.prototype.putStream=function(){var a=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:a,objectId:this.objId}),this.scope.internal.out("endobj")},Be.prototype.getKeyValueListForStream=function(){var a=[],n=Object.getOwnPropertyNames(this).filter(function(h){return"content"!=h&&"appearanceStreamContent"!=h&&"scope"!=h&&"objId"!=h&&"_"!=h.substring(0,1)});for(var o in n)if(!1===Object.getOwnPropertyDescriptor(this,n[o]).configurable){var u=n[o],d=this[u];d&&(Array.isArray(d)?a.push({key:u,value:_s(d,this.objId,this.scope)}):d instanceof Be?(d.scope=this.scope,a.push({key:u,value:d.objId+" 0 R"})):"function"!=typeof d&&a.push({key:u,value:d}))}return a};var ka=function(){Be.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var a,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(o){a=o.trim()},get:function(){return a||null}})};nn(ka,Be);var vs=function(){Be.call(this);var a,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(a){var o=function(u){return u};return this.scope&&(o=this.scope.internal.getEncryptor(this.objId)),"("+Mr(o(a))+")"}},set:function(o){a=o}})};nn(vs,Be);var An=function a(){Be.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');n=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(n,3))},set:function(I){this.F=!0===Boolean(I)?ki(n,3):Si(n,3)}});var o=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return o},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');o=I}});var u=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==u.length)return u},set:function(I){u=void 0!==I?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[0])?0:u[0]},set:function(I){u[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[1])?0:u[1]},set:function(I){u[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[2])?0:u[2]},set:function(I){u[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!u||isNaN(u[3])?0:u[3]},set:function(I){u[3]=I}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var h=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!h||h.length<1){if(this instanceof Sa)return;h="FieldObject"+a.FieldNum++}var I=function(B){return B};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Mr(I(h))+")"},set:function(I){h=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return h},set:function(I){h=I}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var _="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return _},set:function(I){_=I}});var v=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return v},set:function(I){v=I}});var w=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===w?50/gs:w},set:function(I){w=I}});var T="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return T},set:function(I){T=I}});var N="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!N||this instanceof Sa||this instanceof dn))return Pa(N,this.objId,this.scope)},set:function(I){I=I.toString(),N=I}});var Z=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Z)return this instanceof Oi?Z:Pa(Z,this.objId,this.scope)},set:function(I){I=I.toString(),Z=this instanceof Oi?I:"("===I.substr(0,1)?co(I.substr(1,I.length-2)):co(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi?co(Z.substr(1,Z.length-1)):Z},set:function(I){I=I.toString(),Z=this instanceof Oi?"/"+I:I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Oi?y:Pa(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof Oi?I:"("===I.substr(0,1)?co(I.substr(1,I.length-2)):co(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi?co(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof Oi?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(I){I=Boolean(I),M=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(I){R=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,1))},set:function(I){this.Ff=!0===Boolean(I)?ki(this.Ff,1):Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,2))},set:function(I){this.Ff=!0===Boolean(I)?ki(this.Ff,2):Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,3))},set:function(I){this.Ff=!0===Boolean(I)?ki(this.Ff,3):Si(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==H)return H},set:function(I){if(-1===[0,1,2].indexOf(I))throw new Error('Invalid value "'+I+'" for attribute Q supplied.');H=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(H){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:H=2;break;case"center":case 1:H=1;break;default:H=0}}})};nn(An,Be);var Or=function(){An.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(o){a=o}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _s(n,this.objId,this.scope)},set:function(o){var u,d;d=[],"string"==typeof(u=o)&&(d=function(h,f,_){_||(_=1);for(var v,w=[];v=f.exec(h);)w.push(v[_]);return w}(u,/\((.*?)\)/g)),n=d}}),this.getOptions=function(){return n},this.setOptions=function(o){n=o,this.sort&&n.sort()},this.addOption=function(o){o=(o=o||"").toString(),n.push(o),this.sort&&n.sort()},this.removeOption=function(o,u){for(u=u||!1,o=(o=o||"").toString();-1!==n.indexOf(o)&&(n.splice(n.indexOf(o),1),!1!==u););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,18))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,18):Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,19))},set:function(o){!0===this.combo&&(this.Ff=!0===Boolean(o)?ki(this.Ff,19):Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,20))},set:function(o){!0===Boolean(o)?(this.Ff=ki(this.Ff,20),n.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,22))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,22):Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,23))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,23):Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,27))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,27):Si(this.Ff,27)}}),this.hasAppearanceStream=!1};nn(Or,An);var Er=function(){Or.call(this),this.fontName="helvetica",this.combo=!1};nn(Er,Or);var Fr=function(){Er.call(this),this.combo=!0};nn(Fr,Er);var lo=function(){Fr.call(this),this.edit=!0};nn(lo,Fr);var Oi=function(){An.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,15))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,15):Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,16))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,16):Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,17))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,17):Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,26))},set:function(o){this.Ff=!0===Boolean(o)?ki(this.Ff,26):Si(this.Ff,26)}});var a,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};if(this.scope&&(o=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(n).length){var u,d=[];for(u in d.push("<<"),n)d.push("/"+u+" ("+Mr(o(n[u]))+")");return d.push(">>"),d.join("\n")}},set:function(o){"object"===Ae(o)&&(n=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(o){"string"==typeof o&&(n.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(o){a="/"+o}})};nn(Oi,An);var uo=function(){Oi.call(this),this.pushButton=!0};nn(uo,Oi);var qr=function(){Oi.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(n){a=void 0!==n?n:[]}})};nn(qr,Oi);var Sa=function(){var a,n;An.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return a},set:function(d){a=d}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(d){n=d}});var o,u={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var d=function(_){return _};this.scope&&(d=this.scope.internal.getEncryptor(this.objId));var h,f=[];for(h in f.push("<<"),u)f.push("/"+h+" ("+Mr(d(u[h]))+")");return f.push(">>"),f.join("\n")},set:function(d){"object"===Ae(d)&&(u=d)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return u.CA||""},set:function(d){"string"==typeof d&&(u.CA=d)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(d){o="/"+d}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=we.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};nn(Sa,An),qr.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a)||!("getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var o=this.Kids[n];o.appearanceStreamContent=a.createAppearanceStream(o.optionName),o.caption=a.getCA()}},qr.prototype.createOption=function(a){var n=new Sa;return n.Parent=this,n.optionName=a,this.Kids.push(n),kc.call(this.scope,n),n};var Wo=function(){Oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=we.CheckBox.createAppearanceStream()};nn(Wo,Oi);var dn=function(){An.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,13))},set:function(n){this.Ff=!0===Boolean(n)?ki(this.Ff,13):Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,21))},set:function(n){this.Ff=!0===Boolean(n)?ki(this.Ff,21):Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,23))},set:function(n){this.Ff=!0===Boolean(n)?ki(this.Ff,23):Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,24))},set:function(n){this.Ff=!0===Boolean(n)?ki(this.Ff,24):Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,25))},set:function(n){this.Ff=!0===Boolean(n)?ki(this.Ff,25):Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,26))},set:function(n){this.Ff=!0===Boolean(n)?ki(this.Ff,26):Si(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(n){Number.isInteger(n)&&(a=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};nn(dn,An);var Go=function(){dn.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Pi(this.Ff,14))},set:function(a){this.Ff=!0===Boolean(a)?ki(this.Ff,14):Si(this.Ff,14)}}),this.password=!0};nn(Go,dn);var we={CheckBox:{createAppearanceStream:function(){return{N:{On:we.CheckBox.YesNormal},D:{On:we.CheckBox.YesPushDown,Off:we.CheckBox.OffPushDown}}},YesPushDown:function(a){var n=zn(a);n.scope=a.scope;var o=[],u=a.scope.internal.getFont(a.fontName,a.fontStyle).id,d=a.scope.__private__.encodeColorString(a.color),h=ms(a,a.caption);return o.push("0.749023 g"),o.push("0 0 "+He(we.internal.getWidth(a))+" "+He(we.internal.getHeight(a))+" re"),o.push("f"),o.push("BMC"),o.push("q"),o.push("0 0 1 rg"),o.push("/"+u+" "+He(h.fontSize)+" Tf "+d),o.push("BT"),o.push(h.text),o.push("ET"),o.push("Q"),o.push("EMC"),n.stream=o.join("\n"),n},YesNormal:function(a){var n=zn(a);n.scope=a.scope;var o=a.scope.internal.getFont(a.fontName,a.fontStyle).id,u=a.scope.__private__.encodeColorString(a.color),d=[],h=we.internal.getHeight(a),f=we.internal.getWidth(a),_=ms(a,a.caption);return d.push("1 g"),d.push("0 0 "+He(f)+" "+He(h)+" re"),d.push("f"),d.push("q"),d.push("0 0 1 rg"),d.push("0 0 "+He(f-1)+" "+He(h-1)+" re"),d.push("W"),d.push("n"),d.push("0 g"),d.push("BT"),d.push("/"+o+" "+He(_.fontSize)+" Tf "+u),d.push(_.text),d.push("ET"),d.push("Q"),n.stream=d.join("\n"),n},OffPushDown:function(a){var n=zn(a);n.scope=a.scope;var o=[];return o.push("0.749023 g"),o.push("0 0 "+He(we.internal.getWidth(a))+" "+He(we.internal.getHeight(a))+" re"),o.push("f"),n.stream=o.join("\n"),n}},RadioButton:{Circle:{createAppearanceStream:function(a){var n={D:{Off:we.RadioButton.Circle.OffPushDown},N:{}};return n.N[a]=we.RadioButton.Circle.YesNormal,n.D[a]=we.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(a){var n=zn(a);n.scope=a.scope;var o=[],u=we.internal.getWidth(a)<=we.internal.getHeight(a)?we.internal.getWidth(a)/4:we.internal.getHeight(a)/4;u=Number((.9*u).toFixed(5));var h=Number((u*we.internal.Bezier_C).toFixed(5));return o.push("q"),o.push("1 0 0 1 "+br(we.internal.getWidth(a)/2)+" "+br(we.internal.getHeight(a)/2)+" cm"),o.push(u+" 0 m"),o.push(u+" "+h+" "+h+" "+u+" 0 "+u+" c"),o.push("-"+h+" "+u+" -"+u+" "+h+" -"+u+" 0 c"),o.push("-"+u+" -"+h+" -"+h+" -"+u+" 0 -"+u+" c"),o.push(h+" -"+u+" "+u+" -"+h+" "+u+" 0 c"),o.push("f"),o.push("Q"),n.stream=o.join("\n"),n},YesPushDown:function(a){var n=zn(a);n.scope=a.scope;var o=[],u=we.internal.getWidth(a)<=we.internal.getHeight(a)?we.internal.getWidth(a)/4:we.internal.getHeight(a)/4;u=Number((.9*u).toFixed(5));var d=Number((2*u).toFixed(5)),h=Number((d*we.internal.Bezier_C).toFixed(5)),f=Number((u*we.internal.Bezier_C).toFixed(5));return o.push("0.749023 g"),o.push("q"),o.push("1 0 0 1 "+br(we.internal.getWidth(a)/2)+" "+br(we.internal.getHeight(a)/2)+" cm"),o.push(d+" 0 m"),o.push(d+" "+h+" "+h+" "+d+" 0 "+d+" c"),o.push("-"+h+" "+d+" -"+d+" "+h+" -"+d+" 0 c"),o.push("-"+d+" -"+h+" -"+h+" -"+d+" 0 -"+d+" c"),o.push(h+" -"+d+" "+d+" -"+h+" "+d+" 0 c"),o.push("f"),o.push("Q"),o.push("0 g"),o.push("q"),o.push("1 0 0 1 "+br(we.internal.getWidth(a)/2)+" "+br(we.internal.getHeight(a)/2)+" cm"),o.push(u+" 0 m"),o.push(u+" "+f+" "+f+" "+u+" 0 "+u+" c"),o.push("-"+f+" "+u+" -"+u+" "+f+" -"+u+" 0 c"),o.push("-"+u+" -"+f+" -"+f+" -"+u+" 0 -"+u+" c"),o.push(f+" -"+u+" "+u+" -"+f+" "+u+" 0 c"),o.push("f"),o.push("Q"),n.stream=o.join("\n"),n},OffPushDown:function(a){var n=zn(a);n.scope=a.scope;var o=[],u=we.internal.getWidth(a)<=we.internal.getHeight(a)?we.internal.getWidth(a)/4:we.internal.getHeight(a)/4;u=Number((.9*u).toFixed(5));var d=Number((2*u).toFixed(5)),h=Number((d*we.internal.Bezier_C).toFixed(5));return o.push("0.749023 g"),o.push("q"),o.push("1 0 0 1 "+br(we.internal.getWidth(a)/2)+" "+br(we.internal.getHeight(a)/2)+" cm"),o.push(d+" 0 m"),o.push(d+" "+h+" "+h+" "+d+" 0 "+d+" c"),o.push("-"+h+" "+d+" -"+d+" "+h+" -"+d+" 0 c"),o.push("-"+d+" -"+h+" -"+h+" -"+d+" 0 -"+d+" c"),o.push(h+" -"+d+" "+d+" -"+h+" "+d+" 0 c"),o.push("f"),o.push("Q"),n.stream=o.join("\n"),n}},Cross:{createAppearanceStream:function(a){var n={D:{Off:we.RadioButton.Cross.OffPushDown},N:{}};return n.N[a]=we.RadioButton.Cross.YesNormal,n.D[a]=we.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(a){var n=zn(a);n.scope=a.scope;var o=[],u=we.internal.calculateCross(a);return o.push("q"),o.push("1 1 "+He(we.internal.getWidth(a)-2)+" "+He(we.internal.getHeight(a)-2)+" re"),o.push("W"),o.push("n"),o.push(He(u.x1.x)+" "+He(u.x1.y)+" m"),o.push(He(u.x2.x)+" "+He(u.x2.y)+" l"),o.push(He(u.x4.x)+" "+He(u.x4.y)+" m"),o.push(He(u.x3.x)+" "+He(u.x3.y)+" l"),o.push("s"),o.push("Q"),n.stream=o.join("\n"),n},YesPushDown:function(a){var n=zn(a);n.scope=a.scope;var o=we.internal.calculateCross(a),u=[];return u.push("0.749023 g"),u.push("0 0 "+He(we.internal.getWidth(a))+" "+He(we.internal.getHeight(a))+" re"),u.push("f"),u.push("q"),u.push("1 1 "+He(we.internal.getWidth(a)-2)+" "+He(we.internal.getHeight(a)-2)+" re"),u.push("W"),u.push("n"),u.push(He(o.x1.x)+" "+He(o.x1.y)+" m"),u.push(He(o.x2.x)+" "+He(o.x2.y)+" l"),u.push(He(o.x4.x)+" "+He(o.x4.y)+" m"),u.push(He(o.x3.x)+" "+He(o.x3.y)+" l"),u.push("s"),u.push("Q"),n.stream=u.join("\n"),n},OffPushDown:function(a){var n=zn(a);n.scope=a.scope;var o=[];return o.push("0.749023 g"),o.push("0 0 "+He(we.internal.getWidth(a))+" "+He(we.internal.getHeight(a))+" re"),o.push("f"),n.stream=o.join("\n"),n}}},createDefaultAppearanceStream:function(a){var n=a.scope.internal.getFont(a.fontName,a.fontStyle).id,o=a.scope.__private__.encodeColorString(a.color);return"/"+n+" "+a.fontSize+" Tf "+o}};we.internal={Bezier_C:.551915024494,calculateCross:function(a){var n=we.internal.getWidth(a),o=we.internal.getHeight(a),u=Math.min(n,o);return{x1:{x:(n-u)/2,y:(o-u)/2+u},x2:{x:(n-u)/2+u,y:(o-u)/2},x3:{x:(n-u)/2,y:(o-u)/2},x4:{x:(n-u)/2+u,y:(o-u)/2+u}}}},we.internal.getWidth=function(a){var n=0;return"object"===Ae(a)&&(n=Pc(a.Rect[2])),n},we.internal.getHeight=function(a){var n=0;return"object"===Ae(a)&&(n=Pc(a.Rect[3])),n};var kc=wi.addField=function(a){if(function(a,n){if(n.scope=a,void 0!==a.internal&&(void 0===a.internal.acroformPlugin||!1===a.internal.acroformPlugin.isInitialized)){if(An.FieldNum=0,a.internal.acroformPlugin=JSON.parse(JSON.stringify(Bl)),a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gs=a.internal.scaleFactor,a.internal.acroformPlugin.acroFormDictionaryRoot=new vs,a.internal.acroformPlugin.acroFormDictionaryRoot.scope=a,a.internal.acroformPlugin.acroFormDictionaryRoot._eventID=a.internal.events.subscribe("postPutResources",function(){var o;(o=a).internal.events.unsubscribe(o.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete o.internal.acroformPlugin.acroFormDictionaryRoot._eventID,o.internal.acroformPlugin.printedOut=!0}),a.internal.events.subscribe("buildDocument",function(){!function(o){o.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var u=o.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var d in u)if(u.hasOwnProperty(d)){var h=u[d];h.objId=void 0,h.hasAnnotation&&Ul(h,o)}}(a)}),a.internal.events.subscribe("putCatalog",function(){!function(o){if(void 0===o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");o.internal.write("/AcroForm "+o.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(a)}),a.internal.events.subscribe("postPutPages",function(o){!function(u,d){var h=!u;for(var f in u||(d.internal.newObjectDeferredBegin(d.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),d.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),u=u||d.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(u.hasOwnProperty(f)){var _=u[f],v=[],w=_.Rect;if(_.Rect&&(_.Rect=ql(_.Rect,d)),d.internal.newObjectDeferredBegin(_.objId,!0),_.DA=we.createDefaultAppearanceStream(_),"object"===Ae(_)&&"function"==typeof _.getKeyValueListForStream&&(v=_.getKeyValueListForStream()),_.Rect=w,_.hasAppearanceStream&&!_.appearanceStreamContent){var T=Rl(_);v.push({key:"AP",value:"<</N "+T+">>"}),d.internal.acroformPlugin.xForms.push(T)}if(_.appearanceStreamContent){var N="";for(var Z in _.appearanceStreamContent)if(_.appearanceStreamContent.hasOwnProperty(Z)){var y=_.appearanceStreamContent[Z];if(N+="/"+Z+" ",N+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var f in y)if(y.hasOwnProperty(f)){var R=y[f];"function"==typeof R&&(R=R.call(d,_)),N+="/"+f+" "+R+" ",d.internal.acroformPlugin.xForms.indexOf(R)>=0||d.internal.acroformPlugin.xForms.push(R)}}else"function"==typeof(R=y)&&(R=R.call(d,_)),N+="/"+f+" "+R,d.internal.acroformPlugin.xForms.indexOf(R)>=0||d.internal.acroformPlugin.xForms.push(R);N+=">>"}v.push({key:"AP",value:"<<\n"+N+">>"})}d.internal.putStream({additionalKeyValues:v,objectId:_.objId}),d.internal.out("endobj")}h&&function(a,n){for(var o in a)if(a.hasOwnProperty(o)){var u=o,d=a[o];n.internal.newObjectDeferredBegin(d.objId,!0),"object"===Ae(d)&&"function"==typeof d.putStream&&d.putStream(),delete a[u]}}(d.internal.acroformPlugin.xForms,d)}(o,a)}),a.internal.acroformPlugin.isInitialized=!0}}(this,a),!(a instanceof An))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=a).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),a.page=a.scope.internal.getCurrentPageInfo().pageNumber,this};wi.AcroFormChoiceField=Or,wi.AcroFormListBox=Er,wi.AcroFormComboBox=Fr,wi.AcroFormEditBox=lo,wi.AcroFormButton=Oi,wi.AcroFormPushButton=uo,wi.AcroFormRadioButton=qr,wi.AcroFormCheckBox=Wo,wi.AcroFormTextField=dn,wi.AcroFormPasswordField=Go,wi.AcroFormAppearance=we,wi.AcroForm={ChoiceField:Or,ListBox:Er,ComboBox:Fr,EditBox:lo,Button:Oi,PushButton:uo,RadioButton:qr,CheckBox:Wo,TextField:dn,PasswordField:Go,Appearance:we};var a,n,Sc=Me.AcroForm={ChoiceField:Or,ListBox:Er,ComboBox:Fr,EditBox:lo,Button:Oi,PushButton:uo,RadioButton:qr,CheckBox:Wo,TextField:dn,PasswordField:Go,Appearance:we};function Nc(a){return a.reduce(function(n,o,u){return n[o]=u,n},{})}(function(a){a.__addimage__={};var n="UNKNOWN",o={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},u=a.__addimage__.getImageFileTypeByImageData=function(E,O){var Q,V,Pt,wt,Et,pt=n;if("RGBA"===(O=O||n)||void 0!==E.data&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Yt(E))for(Et in o)for(Pt=o[Et],Q=0;Q<Pt.length;Q+=1){for(wt=!0,V=0;V<Pt[Q].length;V+=1)if(void 0!==Pt[Q][V]&&Pt[Q][V]!==E[V]){wt=!1;break}if(!0===wt){pt=Et;break}}else for(Et in o)for(Pt=o[Et],Q=0;Q<Pt.length;Q+=1){for(wt=!0,V=0;V<Pt[Q].length;V+=1)if(void 0!==Pt[Q][V]&&Pt[Q][V]!==E.charCodeAt(V)){wt=!1;break}if(!0===wt){pt=Et;break}}return pt===n&&O!==n&&(pt=O),pt},d=function E(O){for(var Q=this.internal.write,V=this.internal.putStream,Pt=(0,this.internal.getFilters)();-1!==Pt.indexOf("FlateEncode");)Pt.splice(Pt.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var wt=[];if(wt.push({key:"Type",value:"/XObject"}),wt.push({key:"Subtype",value:"/Image"}),wt.push({key:"Width",value:O.width}),wt.push({key:"Height",value:O.height}),O.colorSpace===H.INDEXED?wt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&void 0!==O.sMask?O.objectId+2:O.objectId+1)+" 0 R]"}):(wt.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===H.DEVICE_CMYK&&wt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),wt.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&void 0!==O.decodeParameters&&wt.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var Et="",pt=0,Ft=O.transparency.length;pt<Ft;pt++)Et+=O.transparency[pt]+" "+O.transparency[pt]+" ";wt.push({key:"Mask",value:"["+Et+"]"})}if(void 0!==O.sMask&&wt.push({key:"SMask",value:O.objectId+1+" 0 R"}),V({data:O.data,additionalKeyValues:wt,alreadyAppliedFilters:void 0!==O.filter?["/"+O.filter]:void 0,objectId:O.objectId}),Q("endobj"),"sMask"in O&&void 0!==O.sMask){var S={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:"/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,data:O.sMask};"filter"in O&&(S.filter=O.filter),E.call(this,S)}if(O.colorSpace===H.INDEXED){var j=this.internal.newObject();V({data:J(new Uint8Array(O.palette)),objectId:j}),Q("endobj")}},h=function(){var E=this.internal.collections.addImage_images;for(var O in E)d.call(this,E[O])},f=function(){var E,O=this.internal.collections.addImage_images,Q=this.internal.write;for(var V in O)Q("/I"+(E=O[V]).index,E.objectId,"0","R")},_=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",f))},v=function(){var E=this.internal.collections.addImage_images;return _.call(this),E},w=function(){return Object.keys(this.internal.collections.addImage_images).length},T=function(E){return"function"==typeof a["process"+E.toUpperCase()]},N=function(E){return"object"===Ae(E)&&1===E.nodeType},Z=function(E,O){if("IMG"===E.nodeName&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(0===Q.indexOf("data:image/"))return Jo(unescape(Q).split("base64,").pop());var V=a.loadFile(Q,!0);if(void 0!==V)return V}if("CANVAS"===E.nodeName){if(0===E.width||0===E.height)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Pt;switch(O){case"PNG":Pt="image/png";break;case"WEBP":Pt="image/webp";break;default:Pt="image/jpeg"}return Jo(E.toDataURL(Pt,1).split("base64,").pop())}},y=function(E){var O=this.internal.collections.addImage_images;if(O)for(var Q in O)if(E===O[Q].alias)return O[Q]},R=function(E,O,Q){return E||O||(E=-96,O=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),O<0&&(O=-1*Q.height*72/O/this.internal.scaleFactor),0===E&&(E=O*Q.width/Q.height),0===O&&(O=E*Q.height/Q.width),[E,O]},M=function(E,O,Q,V,Pt,wt){var Et=R.call(this,Q,V,Pt),pt=this.internal.getCoordinateString,Ft=this.internal.getVerticalCoordinateString,Mt=v.call(this);if(Q=Et[0],V=Et[1],Mt[Pt.index]=Pt,wt){wt*=Math.PI/180;var de=Math.cos(wt),S=Math.sin(wt),j=function($){return $.toFixed(4)},z=[j(de),j(S),j(-1*S),j(de),0,0,"cm"]}this.internal.write("q"),wt?(this.internal.write([1,"0","0",1,pt(E),Ft(O+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([pt(Q),"0","0",pt(V),"0","0","cm"].join(" "))):this.internal.write([pt(Q),"0","0",pt(V),pt(E),Ft(O+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Pt.index+" Do"),this.internal.write("Q")},H=a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=a.__addimage__.sHashCode=function(E){var O,Q,V=0;if("string"==typeof E)for(Q=E.length,O=0;O<Q;O++)V=(V<<5)-V+E.charCodeAt(O),V|=0;else if(Yt(E))for(Q=E.byteLength/2,O=0;O<Q;O++)V=(V<<5)-V+E[O],V|=0;return V},X=a.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var O=!0;return 0===E.length&&(O=!1),E.length%4!=0&&(O=!1),!1===/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))&&(O=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))&&(O=!1),O},ut=a.__addimage__.extractImageFromDataUrl=function(E){var O=(E=E||"").split("base64,"),Q=null;if(2===O.length){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(V)&&(Q={mimeType:V[1],charset:V[2],data:O[1]})}return Q},At=a.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};a.__addimage__.isArrayBuffer=function(E){return At()&&E instanceof ArrayBuffer};var Yt=a.__addimage__.isArrayBufferView=function(E){return At()&&"undefined"!=typeof Uint32Array&&(E instanceof Int8Array||E instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},dt=a.__addimage__.binaryStringToUint8Array=function(E){for(var O=E.length,Q=new Uint8Array(O),V=0;V<O;V++)Q[V]=E.charCodeAt(V);return Q},J=a.__addimage__.arrayBufferToBinaryString=function(E){for(var O="",Q=Yt(E)?E:new Uint8Array(E),V=0;V<Q.length;V+=8192)O+=String.fromCharCode.apply(null,Q.subarray(V,V+8192));return O};a.addImage=function(){var E,O,Q,V,Pt,wt,Et,pt,Ft;if("number"==typeof arguments[1]?(O=n,Q=arguments[1],V=arguments[2],Pt=arguments[3],wt=arguments[4],Et=arguments[5],pt=arguments[6],Ft=arguments[7]):(O=arguments[1],Q=arguments[2],V=arguments[3],Pt=arguments[4],wt=arguments[5],Et=arguments[6],pt=arguments[7],Ft=arguments[8]),"object"===Ae(E=arguments[0])&&!N(E)&&"imageData"in E){var Mt=E;E=Mt.imageData,O=Mt.format||O||n,Q=Mt.x||Q||0,V=Mt.y||V||0,Pt=Mt.w||Mt.width||Pt,wt=Mt.h||Mt.height||wt,Et=Mt.alias||Et,pt=Mt.compression||pt,Ft=Mt.rotation||Mt.angle||Ft}var de=this.internal.getFilters();if(void 0===pt&&-1!==de.indexOf("FlateEncode")&&(pt="SLOW"),isNaN(Q)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");_.call(this);var S=qt.call(this,E,O,Et,pt);return M.call(this,Q,V,Pt,wt,S,Ft),this};var qt=function(E,O,Q,V){var Pt,wt,Et,Ft;if("string"==typeof E&&u(E)===n){E=unescape(E);var pt=It(E,!1);(""!==pt||void 0!==(pt=a.loadFile(E,!0)))&&(E=pt)}if(N(E)&&(E=Z(E,O)),O=u(E,O),!T(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if((null==(Et=Q)||0===Et.length)&&(Q="string"==typeof(Ft=E)||Yt(Ft)?B(Ft):Yt(Ft.data)?B(Ft.data):null),(Pt=y.call(this,Q))||(At()&&(E instanceof Uint8Array||"RGBA"===O||(wt=E,E=dt(E))),Pt=this["process"+O.toUpperCase()](E,w.call(this),Q,function(Ft){return Ft&&"string"==typeof Ft&&(Ft=Ft.toUpperCase()),Ft in a.image_compression?Ft:I.NONE}(V),wt)),!Pt)throw new Error("An unknown error occurred whilst processing the image.");return Pt},It=a.__addimage__.convertBase64ToBinaryString=function(E,O){var Q;O="boolean"!=typeof O||O;var V,Pt="";if("string"==typeof E){V=null!==(Q=ut(E))?Q.data:E;try{Pt=Jo(V)}catch(wt){if(O)throw X(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+wt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Pt};a.getImageProperties=function(E){var O,Q,V="";if(N(E)&&(E=Z(E)),"string"==typeof E&&u(E)===n&&(""===(V=It(E,!1))&&(V=a.loadFile(E)||""),E=V),Q=u(E),!T(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!At()||E instanceof Uint8Array||(E=dt(E)),!(O=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=Q,O}})(Me.API),a=Me.API,n=function(o){if(void 0!==o&&""!=o)return!0},Me.API.events.push(["addPage",function(o){this.internal.getPageInfo(o.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(o){for(var u,d,h,f=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString,v=this.internal.getPageInfoByObjId(o.objId),w=o.pageContext.annotations,T=!1,N=0;N<w.length&&!T;N++)switch((u=w[N]).type){case"link":(n(u.options.url)||n(u.options.pageNumber))&&(T=!0);break;case"reference":case"text":case"freetext":T=!0}if(0!=T){this.internal.write("/Annots [");for(var Z=0;Z<w.length;Z++){u=w[Z];var y=this.internal.pdfEscape,R=this.internal.getEncryptor(o.objId);switch(u.type){case"reference":this.internal.write(" "+u.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(M.objId),B=u.title||"Note";h="<</Type /Annot /Subtype /Text "+(d="/Rect ["+f(u.bounds.x)+" "+_(u.bounds.y+u.bounds.h)+" "+f(u.bounds.x+u.bounds.w)+" "+_(u.bounds.y)+"] ")+"/Contents ("+y(I(u.contents))+")",h+=" /Popup "+H.objId+" 0 R",h+=" /P "+v.objId+" 0 R",h+=" /T ("+y(I(B))+") >>",M.content=h;var X=M.objId+" 0 R";h="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+f(u.bounds.x+30)+" "+_(u.bounds.y+u.bounds.h)+" "+f(u.bounds.x+u.bounds.w+30)+" "+_(u.bounds.y)+"] ")+" /Parent "+X,u.open&&(h+=" /Open true"),H.content=h+=" >>",this.internal.write(M.objId,"0 R",H.objId,"0 R");break;case"freetext":d="/Rect ["+f(u.bounds.x)+" "+_(u.bounds.y)+" "+f(u.bounds.x+u.bounds.w)+" "+_(u.bounds.y+u.bounds.h)+"] ";var ut=u.color||"#000000";h="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+y(R(u.contents))+")",h+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ut+")",h+=" /Border [0 0 0]",this.internal.write(h+=" >>");break;case"link":if(u.options.name){var At=this.annotations._nameMap[u.options.name];u.options.pageNumber=At.page,u.options.top=At.y}else u.options.top||(u.options.top=0);if(d="/Rect ["+u.finalBounds.x+" "+u.finalBounds.y+" "+u.finalBounds.w+" "+u.finalBounds.h+"] ",h="",u.options.url)h="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+y(R(u.options.url))+") >>";else if(u.options.pageNumber)switch(h="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(u.options.pageNumber).objId+" 0 R",u.options.magFactor=u.options.magFactor||"XYZ",u.options.magFactor){case"Fit":h+=" /Fit]";break;case"FitH":h+=" /FitH "+u.options.top+"]";break;case"FitV":u.options.left=u.options.left||0,h+=" /FitV "+u.options.left+"]";break;default:var Yt=_(u.options.top);u.options.left=u.options.left||0,void 0===u.options.zoom&&(u.options.zoom=0),h+=" /XYZ "+u.options.left+" "+Yt+" "+u.options.zoom+"]"}""!=h&&this.internal.write(h+=" >>")}}this.internal.write("]")}}]),a.createAnnotation=function(o){var u=this.internal.getCurrentPageInfo();switch(o.type){case"link":this.link(o.bounds.x,o.bounds.y,o.bounds.w,o.bounds.h,o);break;case"text":case"freetext":u.pageContext.annotations.push(o)}},a.link=function(o,u,d,h,f){var _=this.internal.getCurrentPageInfo(),v=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString;_.pageContext.annotations.push({finalBounds:{x:v(o),y:w(u),w:v(o+d),h:w(u+h)},options:f,type:"link"})},a.textWithLink=function(o,u,d,h){var f,_,v=this.getTextWidth(o),w=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==h.maxWidth){var T=this.splitTextToSize(o,_=h.maxWidth).length;f=Math.ceil(w*T)}else _=v,f=w;return this.text(o,u,d,h),"center"===h.align&&(u-=v/2),"right"===h.align&&(u-=v),this.link(u,(d+=.2*w)-w,_,f,h),v},a.getTextWidth=function(o){var u=this.internal.getFontSize();return this.getStringUnitWidth(o)*u/this.internal.scaleFactor},function(a){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},o={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},u={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},d=[1570,1571,1573,1575];a.__arabicParser__={};var h=a.__arabicParser__.isInArabicSubstitutionA=function(M){return void 0!==n[M.charCodeAt(0)]},f=a.__arabicParser__.isArabicLetter=function(M){return"string"==typeof M&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},_=a.__arabicParser__.isArabicEndLetter=function(M){return f(M)&&h(M)&&n[M.charCodeAt(0)].length<=2},v=a.__arabicParser__.isArabicAlfLetter=function(M){return f(M)&&d.indexOf(M.charCodeAt(0))>=0};a.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return f(M)&&h(M)&&n[M.charCodeAt(0)].length>=1};var w=a.__arabicParser__.arabicLetterHasFinalForm=function(M){return f(M)&&h(M)&&n[M.charCodeAt(0)].length>=2};a.__arabicParser__.arabicLetterHasInitialForm=function(M){return f(M)&&h(M)&&n[M.charCodeAt(0)].length>=3};var T=a.__arabicParser__.arabicLetterHasMedialForm=function(M){return f(M)&&h(M)&&4==n[M.charCodeAt(0)].length},N=a.__arabicParser__.resolveLigatures=function(M){var H=0,I=o,B="",X=0;for(H=0;H<M.length;H+=1)void 0!==I[M.charCodeAt(H)]?(X++,"number"==typeof(I=I[M.charCodeAt(H)])&&(B+=String.fromCharCode(I),I=o,X=0),H===M.length-1&&(I=o,B+=M.charAt(H-(X-1)),H-=X-1,X=0)):(I=o,B+=M.charAt(H-X),H-=X,X=0);return B};a.__arabicParser__.isArabicDiacritic=function(M){return void 0!==M&&void 0!==u[M.charCodeAt(0)]};var Z=a.__arabicParser__.getCorrectForm=function(M,H,I){return f(M)?!1===h(M)?-1:!w(M)||!f(H)&&!f(I)||!f(I)&&_(H)||_(M)&&!f(H)||_(M)&&v(H)||_(M)&&_(H)?0:T(M)&&f(H)&&!_(H)&&f(I)&&w(I)?3:_(M)||!f(I)?1:2:-1},y=function(M){var H=0,I=0,B=0,X="",ut="",At="",Yt=(M=M||"").split("\\s+"),dt=[];for(H=0;H<Yt.length;H+=1){for(dt.push(""),I=0;I<Yt[H].length;I+=1)ut=Yt[H][I-1],At=Yt[H][I+1],f(X=Yt[H][I])?(B=Z(X,ut,At),dt[H]+=-1!==B?String.fromCharCode(n[X.charCodeAt(0)][B]):X):dt[H]+=X;dt[H]=N(dt[H])}return dt.join(" ")},R=a.__arabicParser__.processArabic=a.processArabic=function(){var M,H="string"==typeof arguments[0]?arguments[0]:arguments[0].text,I=[];if(Array.isArray(H)){var B=0;for(I=[],B=0;B<H.length;B+=1)Array.isArray(H[B])?I.push([y(H[B][0]),H[B][1],H[B][2]]):I.push([y(H[B])]);M=I}else M=y(H);return"string"==typeof arguments[0]?M:(arguments[0].text=M,arguments[0])};a.events.push(["preProcessText",R])}(Me.API),Me.API.autoPrint=function(a){var n;return"javascript"===((a=a||{}).variant=a.variant||"non-conform",a.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},function(a){var n=function(){var o=void 0;Object.defineProperty(this,"pdf",{get:function(){return o},set:function(_){o=_}});var u=150;Object.defineProperty(this,"width",{get:function(){return u},set:function(_){u=isNaN(_)||!1===Number.isInteger(_)||_<0?150:_,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=u+1)}});var d=300;Object.defineProperty(this,"height",{get:function(){return d},set:function(_){d=isNaN(_)||!1===Number.isInteger(_)||_<0?300:_,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=d+1)}});var h=[];Object.defineProperty(this,"childNodes",{get:function(){return h},set:function(_){h=_}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(_){f=_}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(o,u){var d;if("2d"!==(o=o||"2d"))return null;for(d in u)this.pdf.context2d.hasOwnProperty(d)&&(this.pdf.context2d[d]=u[d]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(Me.API),function(a){var n={left:0,top:0,bottom:0,right:0},o=!1,u=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),d.call(this))},d=function(){this.internal.__cell__.lastCell=new h,this.internal.__cell__.pages=1},h=function(){var v=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return v},set:function(M){v=M}});var w=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var T=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return T},set:function(M){T=M}});var N=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return N},set:function(M){N=M}});var Z=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Z},set:function(M){Z=M}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(M){y=M}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(M){R=M}}),this};h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},h.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},a.setHeaderFunction=function(v){return u.call(this),this.internal.__cell__.headerFunction="function"==typeof v?v:void 0,this},a.getTextDimensions=function(v,w){u.call(this);var T=(w=w||{}).fontSize||this.getFontSize(),N=w.font||this.getFont(),Z=w.scaleFactor||this.internal.scaleFactor,y=0,R=0,M=0,H=this;if(!Array.isArray(v)&&"string"!=typeof v){if("number"!=typeof v)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");v=String(v)}var I=w.maxWidth;I>0?"string"==typeof v?v=this.splitTextToSize(v,I):"[object Array]"===Object.prototype.toString.call(v)&&(v=v.reduce(function(X,ut){return X.concat(H.splitTextToSize(ut,I))},[])):v=Array.isArray(v)?v:[v];for(var B=0;B<v.length;B++)y<(M=this.getStringUnitWidth(v[B],{font:N})*T)&&(y=M);return 0!==y&&(R=v.length),{w:y/=Z,h:Math.max((R*T*this.getLineHeightFactor()-T*(this.getLineHeightFactor()-1))/Z,0)}},a.cellAddPage=function(){u.call(this),this.addPage();var v=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new h(v.left,v.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=a.cell=function(){var v;v=arguments[0]instanceof h?arguments[0]:new h(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),u.call(this);var w=this.internal.__cell__.lastCell,T=this.internal.__cell__.padding,N=this.internal.__cell__.margins||n,Z=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return void 0!==w.lineNumber&&(w.lineNumber===v.lineNumber?(v.x=(w.x||0)+(w.width||0),v.y=w.y||0):w.y+w.height+v.height+N.bottom>this.getPageHeight()?(this.cellAddPage(),v.y=N.top,y&&Z&&(this.printHeaderRow(v.lineNumber,!0),v.y+=Z[0].height)):v.y=w.y+w.height||v.y),void 0!==v.text[0]&&(this.rect(v.x,v.y,v.width,v.height,!0===o?"FD":void 0),"right"===v.align?this.text(v.text,v.x+v.width-T,v.y+T,{align:"right",baseline:"top"}):"center"===v.align?this.text(v.text,v.x+v.width/2,v.y+T,{align:"center",baseline:"top",maxWidth:v.width-T-T}):this.text(v.text,v.x+T,v.y+T,{align:"left",baseline:"top",maxWidth:v.width-T-T})),this.internal.__cell__.lastCell=v,this};a.table=function(v,w,T,N,Z){if(u.call(this),!T)throw new Error("No data for PDF table.");var y,R,M,H,I=[],B=[],X=[],ut={},At={},Yt=[],dt=[],J=(Z=Z||{}).autoSize||!1,qt=!1!==Z.printHeaders,It=Z.css&&void 0!==Z.css["font-size"]?16*Z.css["font-size"]:Z.fontSize||12,E=Z.margins||Object.assign({width:this.getPageWidth()},n),O="number"==typeof Z.padding?Z.padding:3,Q=Z.headerBackgroundColor||"#c8c8c8",V=Z.headerTextColor||"#000";if(d.call(this),this.internal.__cell__.printHeaders=qt,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=It,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=V,this.setFontSize(It),null==N)B=I=Object.keys(T[0]),X=I.map(function(){return"left"});else if(Array.isArray(N)&&"object"===Ae(N[0]))for(I=N.map(function(Mt){return Mt.name}),B=N.map(function(Mt){return Mt.prompt||Mt.name||""}),X=N.map(function(Mt){return Mt.align||"left"}),y=0;y<N.length;y+=1)At[N[y].name]=N[y].width*(19.049976/25.4);else Array.isArray(N)&&"string"==typeof N[0]&&(B=I=N,X=I.map(function(){return"left"}));if(J||Array.isArray(N)&&"string"==typeof N[0])for(y=0;y<I.length;y+=1){for(ut[H=I[y]]=T.map(function(Mt){return Mt[H]}),this.setFont(void 0,"bold"),Yt.push(this.getTextDimensions(B[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=ut[H],this.setFont(void 0,"normal"),M=0;M<R.length;M+=1)Yt.push(this.getTextDimensions(R[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);At[H]=Math.max.apply(null,Yt)+O+O,Yt=[]}if(qt){var Pt={};for(y=0;y<I.length;y+=1)Pt[I[y]]={},Pt[I[y]].text=B[y],Pt[I[y]].align=X[y];var wt=_.call(this,Pt,At);dt=I.map(function(Mt){return new h(v,w,At[Mt],wt,Pt[Mt].text,void 0,Pt[Mt].align)}),this.setTableHeaderRow(dt),this.printHeaderRow(1,!1)}var Et=N.reduce(function(Mt,de){return Mt[de.name]=de.align,Mt},{});for(y=0;y<T.length;y+=1){"rowStart"in Z&&Z.rowStart instanceof Function&&Z.rowStart({row:y,data:T[y]},this);var pt=_.call(this,T[y],At);for(M=0;M<I.length;M+=1){var Ft=T[y][I[M]];"cellStart"in Z&&Z.cellStart instanceof Function&&Z.cellStart({row:y,col:M,data:Ft},this),f.call(this,new h(v,w,At[I[M]],pt,Ft,y+2,Et[I[M]]))}}return this.internal.__cell__.table_x=v,this.internal.__cell__.table_y=w,this};var _=function(v,w){var T=this.internal.__cell__.padding,N=this.internal.__cell__.table_font_size,Z=this.internal.scaleFactor;return Object.keys(v).map(function(y){var R=v[y];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,w[y]-T-T)},this).map(function(y){return this.getLineHeightFactor()*y.length*N/Z+T+T},this).reduce(function(y,R){return Math.max(y,R)},0)};a.setTableHeaderRow=function(v){u.call(this),this.internal.__cell__.tableHeaderRow=v},a.printHeaderRow=function(v,w){if(u.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var T;if(o=!0,"function"==typeof this.internal.__cell__.headerFunction){var N=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new h(N[0],N[1],N[2],N[3],void 0,-1)}this.setFont(void 0,"bold");for(var Z=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){T=this.internal.__cell__.tableHeaderRow[y].clone(),w&&(T.y=this.internal.__cell__.margins.top||0,Z.push(T)),T.lineNumber=v;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,T),this.setTextColor(R)}Z.length>0&&this.setTableHeaderRow(Z),this.setFont(void 0,"normal"),o=!1}}(Me.API);var Lc={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zc=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bs=Nc(Zc),Dc=[100,200,300,400,500,600,700,800,900],zl=Nc(Dc);function ys(a){var h,n=a.family.replace(/"|'/g,"").toLowerCase(),o=Lc[h=(h=a.style)||"normal"]?h:"normal",u=function(h){return h?"number"==typeof h?h>=100&&h<=900&&h%100==0?h:400:/^\d00$/.test(h)?parseInt(h):"bold"===h?700:400:400}(a.weight),d=function(h){return"number"==typeof bs[h=h||"normal"]?h:"normal"}(a.stretch);return{family:n,style:o,weight:u,stretch:d,src:a.src||[],ref:a.ref||{name:n,style:[d,o,u].join(" ")}}}function Ic(a,n,o,u){var d;for(d=o;d>=0&&d<n.length;d+=u)if(a[n[d]])return a[n[d]];for(d=o;d>=0&&d<n.length;d-=u)if(a[n[d]])return a[n[d]]}var Yl={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Oc(a){return[a.stretch,a.style,a.weight,a.family].join(" ")}function Ec(a){return a.trimLeft()}function Vl(a,n){for(var o=0;o<a.length;){if(a.charAt(o)===n)return[a.substring(0,o),a.substring(o+1)];o+=1}return null}function Wl(a){var n=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===n?null:[n[0],a.substring(n[0].length)]}var Na,Fc,qc,xs=["times"];(function(a){var n,o,u,d,h,f,_,v,w,T=function(S){return this.isStrokeTransparent=(S=S||{}).isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=void 0!==S.transform?S.transform.clone():new v,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new f,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new f,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof S.ignoreClearRect||S.ignoreClearRect,this};a.events.push(["initialized",function(){this.context2d=new N(this),n=this.internal.f2,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getHorizontalCoordinate,h=this.internal.getVerticalCoordinate,f=this.internal.Point,_=this.internal.Rectangle,v=this.internal.Matrix,w=new T}]);var N=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=S;Object.defineProperty(this,"pdf",{get:function(){return j}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Dt){z=Boolean(Dt)}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(Dt){$=Boolean(Dt)}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(Dt){isNaN(Dt)||(ot=Dt)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(Dt){isNaN(Dt)||(mt=Dt)}}),Object.defineProperty(this,"margin",{get:function(){return w.margin},set:function(Dt){var Y;"number"==typeof Dt?Y=[Dt,Dt,Dt,Dt]:((Y=new Array(4))[0]=Dt[0],Y[1]=Dt.length>=2?Dt[1]:Y[0],Y[2]=Dt.length>=3?Dt[2]:Y[0],Y[3]=Dt.length>=4?Dt[3]:Y[1]),w.margin=Y}});var vt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return vt},set:function(Dt){vt=Dt}});var xt=0;Object.defineProperty(this,"lastBreak",{get:function(){return xt},set:function(Dt){xt=Dt}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(Dt){oe=Dt}}),Object.defineProperty(this,"ctx",{get:function(){return w},set:function(Dt){Dt instanceof T&&(w=Dt)}}),Object.defineProperty(this,"path",{get:function(){return w.path},set:function(Dt){w.path=Dt}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(Dt){re=Dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Dt){var Y;Y=Z(Dt),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=0===Y.a,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Dt){var Y=Z(Dt);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=0===Y.a,this.ctx.strokeOpacity=Y.a,0===Y.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Y.r,Y.g,Y.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Dt){-1!==["butt","round","square"].indexOf(Dt)&&(this.ctx.lineCap=Dt,this.pdf.setLineCap(Dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Dt){isNaN(Dt)||(this.ctx.lineWidth=Dt,this.pdf.setLineWidth(Dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Dt){-1!==["bevel","round","miter"].indexOf(Dt)&&(this.ctx.lineJoin=Dt,this.pdf.setLineJoin(Dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Dt){isNaN(Dt)||(this.ctx.miterLimit=Dt,this.pdf.setMiterLimit(Dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Dt){this.ctx.textBaseline=Dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Dt){-1!==["right","end","center","left","start"].indexOf(Dt)&&(this.ctx.textAlign=Dt)}});var pe=null,qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(Dt){pe=null,qe=Dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Dt){var Y;if(this.ctx.font=Dt,null!==(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Dt))){var ze=Y[1],Te=Y[3],ee=Y[4],ce=Y[6],fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ee)[2];ee=Math.floor("px"===fe?parseFloat(ee)*this.pdf.internal.scaleFactor:"em"===fe?parseFloat(ee)*this.pdf.getFontSize():parseFloat(ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ee);var ue=function(Re){var $e,ge,Gi=[],ri=Re.trim();if(""===ri)return xs;if(ri in Mc)return[Mc[ri]];for(;""!==ri;){switch(ge=null,$e=(ri=Ec(ri)).charAt(0)){case'"':case"'":ge=Vl(ri.substring(1),$e);break;default:ge=Wl(ri)}if(null===ge||(Gi.push(ge[0]),""!==(ri=Ec(ge[1]))&&","!==ri.charAt(0)))return xs;ri=ri.replace(/^,/,"")}return Gi}(ce);if(this.fontFaces){var Se=function Jl(a,n,o){for(var u=(o=o||{}).defaultFontFamily||"times",d=Object.assign({},Yl,o.genericFontFamilies||{}),h=null,f=null,_=0;_<n.length;++_)if(d[(h=ys(n[_])).family]&&(h.family=d[h.family]),a.hasOwnProperty(h.family)){f=a[h.family];break}if(!(f=f||a[u]))throw new Error("Could not find a font-family for the rule '"+Oc(h)+"' and default family '"+u+"'.");if(f=function(v,w){if(w[v])return w[v];var T=bs[v],Z=Ic(w,Zc,T,T<=bs.normal?-1:1);if(!Z)throw new Error("Could not find a matching font-stretch value for "+v);return Z}(h.stretch,f),f=function(v,w){if(w[v])return w[v];for(var T=Lc[v],N=0;N<T.length;++N)if(w[T[N]])return w[T[N]];throw new Error("Could not find a matching font-style for "+v)}(h.style,f),!(f=function(v,w){if(w[v])return w[v];if(400===v&&w[500])return w[500];if(500===v&&w[400])return w[400];var N=Ic(w,Dc,zl[v],v<400?-1:1);if(!N)throw new Error("Could not find a matching font-weight for value "+v);return N}(h.weight,f)))throw new Error("Failed to resolve a font for the rule '"+Oc(h)+"'.");return f}(function _e(Dt,Y){if(null===pe){var ze=(Te=Dt.getFontList(),ee=[],Object.keys(Te).forEach(function(ce){Te[ce].forEach(function(fe){var ue=null;switch(fe){case"bold":ue={family:ce,weight:"bold"};break;case"italic":ue={family:ce,style:"italic"};break;case"bolditalic":ue={family:ce,weight:"bold",style:"italic"};break;case"":case"normal":ue={family:ce}}null!==ue&&(ue.ref={name:ce,style:fe},ee.push(ue))})}),ee);pe=function(Te){for(var ee={},ce=0;ce<Te.length;++ce){var fe=ys(Te[ce]),ue=fe.family,Se=fe.stretch,Ue=fe.style,Ve=fe.weight;ee[ue]=ee[ue]||{},ee[ue][Se]=ee[ue][Se]||{},ee[ue][Se][Ue]=ee[ue][Se][Ue]||{},ee[ue][Se][Ue][Ve]=fe}return ee}(ze.concat(Y))}var Te,ee;return pe}(this.pdf,this.fontFaces),ue.map(function(Re){return{family:Re,stretch:"normal",weight:Te,style:ze}}));this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var Ue="";("bold"===Te||parseInt(Te,10)>=700||"bold"===ze)&&(Ue="bold"),"italic"===ze&&(Ue+="italic"),0===Ue.length&&(Ue="normal");for(var Ve="",Qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ni=0;ni<ue.length;ni++){if(void 0!==this.pdf.internal.getFont(ue[ni],Ue,{noFallback:!0,disableWarning:!0})){Ve=ue[ni];break}if("bolditalic"===Ue&&void 0!==this.pdf.internal.getFont(ue[ni],"bold",{noFallback:!0,disableWarning:!0}))Ve=ue[ni],Ue="bold";else if(void 0!==this.pdf.internal.getFont(ue[ni],"normal",{noFallback:!0,disableWarning:!0})){Ve=ue[ni],Ue="normal";break}}if(""===Ve)for(var ui=0;ui<ue.length;ui++)if(Qe[ue[ui]]){Ve=Qe[ue[ui]];break}this.pdf.setFont(Ve=""===Ve?"Times":Ve,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Dt){this.ctx.globalCompositeOperation=Dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Dt){this.ctx.globalAlpha=Dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Dt){this.ctx.lineDashOffset=Dt,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Dt){this.ctx.lineDash=Dt,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Dt){this.ctx.ignoreClearRect=Boolean(Dt)}})};N.prototype.setLineDash=function(S){this.lineDash=S},N.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},N.prototype.fill=function(){ut.call(this,"fill",!1)},N.prototype.stroke=function(){ut.call(this,"stroke",!1)},N.prototype.beginPath=function(){this.path=[{type:"begin"}]},N.prototype.moveTo=function(S,j){if(isNaN(S)||isNaN(j))throw hi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new f(S,j));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new f(S,j)},N.prototype.closePath=function(){var S=new f(0,0),j=0;for(j=this.path.length-1;-1!==j;j--)if("begin"===this.path[j].type&&"object"===Ae(this.path[j+1])&&"number"==typeof this.path[j+1].x){S=new f(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(S.x,S.y)},N.prototype.lineTo=function(S,j){if(isNaN(S)||isNaN(j))throw hi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new f(S,j));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new f(z.x,z.y)},N.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ut.call(this,null,!0)},N.prototype.quadraticCurveTo=function(S,j,z,$){if(isNaN(z)||isNaN($)||isNaN(S)||isNaN(j))throw hi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new f(z,$)),mt=this.ctx.transform.applyToPoint(new f(S,j));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new f(ot.x,ot.y)},N.prototype.bezierCurveTo=function(S,j,z,$,ot,mt){if(isNaN(ot)||isNaN(mt)||isNaN(S)||isNaN(j)||isNaN(z)||isNaN($))throw hi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var vt=this.ctx.transform.applyToPoint(new f(ot,mt)),xt=this.ctx.transform.applyToPoint(new f(S,j)),oe=this.ctx.transform.applyToPoint(new f(z,$));this.path.push({type:"bct",x1:xt.x,y1:xt.y,x2:oe.x,y2:oe.y,x:vt.x,y:vt.y}),this.ctx.lastPoint=new f(vt.x,vt.y)},N.prototype.arc=function(S,j,z,$,ot,mt){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN($)||isNaN(ot))throw hi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=Boolean(mt),!this.ctx.transform.isIdentity){var vt=this.ctx.transform.applyToPoint(new f(S,j));S=vt.x,j=vt.y;var xt=this.ctx.transform.applyToPoint(new f(0,z)),oe=this.ctx.transform.applyToPoint(new f(0,0));z=Math.sqrt(Math.pow(xt.x-oe.x,2)+Math.pow(xt.y-oe.y,2))}Math.abs(ot-$)>=2*Math.PI&&($=0,ot=2*Math.PI),this.path.push({type:"arc",x:S,y:j,radius:z,startAngle:$,endAngle:ot,counterclockwise:mt})},N.prototype.arcTo=function(S,j,z,$,ot){throw new Error("arcTo not implemented.")},N.prototype.rect=function(S,j,z,$){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN($))throw hi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,j),this.lineTo(S+z,j),this.lineTo(S+z,j+$),this.lineTo(S,j+$),this.lineTo(S,j),this.lineTo(S+z,j),this.lineTo(S,j)},N.prototype.fillRect=function(S,j,z,$){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN($))throw hi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ot={};"butt"!==this.lineCap&&(ot.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,j,z,$),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},N.prototype.strokeRect=function(S,j,z,$){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN($))throw hi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(S,j,z,$),this.stroke())},N.prototype.clearRect=function(S,j,z,$){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN($))throw hi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,j,z,$))},N.prototype.save=function(S){S="boolean"!=typeof S||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new T(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},N.prototype.restore=function(S){S="boolean"!=typeof S||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(j),S&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},N.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Z=function(S){var j,z,$,ot;if(!0===S.isCanvasGradient&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))j=0,z=0,$=0,ot=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(null!==mt)j=parseInt(mt[1]),z=parseInt(mt[2]),$=parseInt(mt[3]),ot=1;else if(null!==(mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S)))j=parseInt(mt[1]),z=parseInt(mt[2]),$=parseInt(mt[3]),ot=parseFloat(mt[4]);else{if(ot=1,"string"==typeof S&&"#"!==S.charAt(0)){var vt=new yc(S);S=vt.ok?vt.toHex():"#000000"}4===S.length?(j=S.substring(1,2),j+=j,z=S.substring(2,3),z+=z,$=S.substring(3,4),$+=$):(j=S.substring(1,3),z=S.substring(3,5),$=S.substring(5,7)),j=parseInt(j,16),z=parseInt(z,16),$=parseInt($,16)}}return{r:j,g:z,b:$,a:ot,style:S}},y=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},R=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};N.prototype.fillText=function(S,j,z,$){if(isNaN(j)||isNaN(z)||"string"!=typeof S)throw hi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!y.call(this)){var ot=pt(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;O.call(this,{text:S,x:j,y:z,scale:mt,angle:ot,align:this.textAlign,maxWidth:$})}},N.prototype.strokeText=function(S,j,z,$){if(isNaN(j)||isNaN(z)||"string"!=typeof S)throw hi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){$=isNaN($)?void 0:$;var ot=pt(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;O.call(this,{text:S,x:j,y:z,scale:mt,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:$})}},N.prototype.measureText=function(S){if("string"!=typeof S)throw hi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,z=this.pdf.internal.scaleFactor,$=j.internal.getFontSize(),ot=j.getStringUnitWidth(S)*$/j.internal.scaleFactor,mt=function(vt){var xt=(vt=vt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xt}}),this};return new mt({width:ot*=Math.round(96*z/72*1e4)/1e4})},N.prototype.scale=function(S,j){if(isNaN(S)||isNaN(j))throw hi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new v(S,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},N.prototype.rotate=function(S){if(isNaN(S))throw hi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new v(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},N.prototype.translate=function(S,j){if(isNaN(S)||isNaN(j))throw hi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new v(1,0,0,1,S,j);this.ctx.transform=this.ctx.transform.multiply(z)},N.prototype.transform=function(S,j,z,$,ot,mt){if(isNaN(S)||isNaN(j)||isNaN(z)||isNaN($)||isNaN(ot)||isNaN(mt))throw hi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var vt=new v(S,j,z,$,ot,mt);this.ctx.transform=this.ctx.transform.multiply(vt)},N.prototype.setTransform=function(S,j,z,$,ot,mt){S=isNaN(S)?1:S,j=isNaN(j)?0:j,z=isNaN(z)?0:z,$=isNaN($)?1:$,ot=isNaN(ot)?0:ot,mt=isNaN(mt)?0:mt,this.ctx.transform=new v(S,j,z,$,ot,mt)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};N.prototype.drawImage=function(S,j,z,$,ot,mt,vt,xt,oe){var re=this.pdf.getImageProperties(S),pe=1,_e=1,qe=1,Dt=1;void 0!==$&&void 0!==xt&&(qe=xt/$,Dt=oe/ot,pe=re.width/$*xt/$,_e=re.height/ot*oe/ot),void 0===mt&&(mt=j,vt=z,j=0,z=0),void 0!==$&&void 0===xt&&(xt=$,oe=ot),void 0===$&&void 0===xt&&(xt=re.width,oe=re.height);for(var Y,ze=this.ctx.transform.decompose(),Te=pt(ze.rotate.shx),ee=new v,ce=(ee=(ee=(ee=ee.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new _(mt-j*qe,vt-z*Dt,$*pe,ot*_e)),fe=H.call(this,ce),ue=[],Se=0;Se<fe.length;Se+=1)-1===ue.indexOf(fe[Se])&&ue.push(fe[Se]);if(X(ue),this.autoPaging)for(var Ue=ue[0],Ve=ue[ue.length-1],Qe=Ue;Qe<Ve+1;Qe++){this.pdf.setPage(Qe);var ni=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ui=1===Qe?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=1===Qe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Qe-2)*$e;if(0!==this.ctx.clip_path.length){var Gi=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Y,this.posX+this.margin[3],-ge+ui+this.ctx.prevPageLastElemOffset),At.call(this,"fill",!0),this.path=Gi}var ri=JSON.parse(JSON.stringify(ce));ri=B([ri],this.posX+this.margin[3],-ge+ui+this.ctx.prevPageLastElemOffset)[0];var Pn=(Qe>Ue||Qe<Ve)&&M.call(this);Pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ni,$e,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",ri.x,ri.y,ri.w,ri.h,null,null,Te),Pn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,Te)};var H=function(S,j,z){var $=[];j=j||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":$.push(Math.floor((S.y+ot)/z)+1);break;case"arc":$.push(Math.floor((S.y+ot-S.radius)/z)+1),$.push(Math.floor((S.y+ot+S.radius)/z)+1);break;case"qct":var mt=Ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);$.push(Math.floor((mt.y+ot)/z)+1),$.push(Math.floor((mt.y+mt.h+ot)/z)+1);break;case"bct":var vt=Mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);$.push(Math.floor((vt.y+ot)/z)+1),$.push(Math.floor((vt.y+vt.h+ot)/z)+1);break;case"rect":$.push(Math.floor((S.y+ot)/z)+1),$.push(Math.floor((S.y+S.h+ot)/z)+1)}for(var xt=0;xt<$.length;xt+=1)for(;this.pdf.internal.getNumberOfPages()<$[xt];)I.call(this);return $},I=function(){var S=this.fillStyle,j=this.strokeStyle,z=this.font,$=this.lineCap,ot=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=j,this.font=z,this.lineCap=$,this.lineWidth=ot,this.lineJoin=mt},B=function(S,j,z){for(var $=0;$<S.length;$++)switch(S[$].type){case"bct":S[$].x2+=j,S[$].y2+=z;case"qct":S[$].x1+=j,S[$].y1+=z;default:S[$].x+=j,S[$].y+=z}return S},X=function(S){return S.sort(function(j,z){return j-z})},ut=function(S,j){for(var z,$,ot=this.fillStyle,mt=this.strokeStyle,vt=this.lineCap,xt=this.lineWidth,oe=Math.abs(xt*this.ctx.transform.scaleX),re=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),qe=[],Dt=0;Dt<_e.length;Dt++)if(void 0!==_e[Dt].x)for(var Y=H.call(this,_e[Dt]),ze=0;ze<Y.length;ze+=1)-1===qe.indexOf(Y[ze])&&qe.push(Y[ze]);for(var Te=0;Te<qe.length;Te++)for(;this.pdf.internal.getNumberOfPages()<qe[Te];)I.call(this);if(X(qe),this.autoPaging)for(var ee=qe[0],ce=qe[qe.length-1],fe=ee;fe<ce+1;fe++){this.pdf.setPage(fe),this.fillStyle=ot,this.strokeStyle=mt,this.lineCap=vt,this.lineWidth=oe,this.lineJoin=re;var ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=1===fe?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=1===fe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(fe-2)*Ve;if(0!==this.ctx.clip_path.length){var ni=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(z,this.posX+this.margin[3],-Qe+Se+this.ctx.prevPageLastElemOffset),At.call(this,S,!0),this.path=ni}if($=JSON.parse(JSON.stringify(pe)),this.path=B($,this.posX+this.margin[3],-Qe+Se+this.ctx.prevPageLastElemOffset),!1===j||0===fe){var ui=(fe>ee||fe<ce)&&M.call(this);ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,Ve,null).clip().discardPath()),At.call(this,S,j),ui&&this.pdf.restoreGraphicsState()}this.lineWidth=xt}else this.lineWidth=oe,At.call(this,S,j),this.lineWidth=xt;this.path=pe},At=function(S,j){if(("stroke"!==S||j||!R.call(this))&&("stroke"===S||j||!y.call(this))){for(var z,$,ot=[],mt=this.path,vt=0;vt<mt.length;vt++){var xt=mt[vt];switch(xt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:xt,deltas:[],abs:[]});break;case"lt":var oe=ot.length;if(mt[vt-1]&&!isNaN(mt[vt-1].x)&&(z=[xt.x-mt[vt-1].x,xt.y-mt[vt-1].y],oe>0))for(;oe>=0;oe--)if(!0!==ot[oe-1].close&&!0!==ot[oe-1].begin){ot[oe-1].deltas.push(z),ot[oe-1].abs.push(xt);break}break;case"bct":ot[ot.length-1].deltas.push(z=[xt.x1-mt[vt-1].x,xt.y1-mt[vt-1].y,xt.x2-mt[vt-1].x,xt.y2-mt[vt-1].y,xt.x-mt[vt-1].x,xt.y-mt[vt-1].y]);break;case"qct":ot[ot.length-1].deltas.push(z=[mt[vt-1].x+2/3*(xt.x1-mt[vt-1].x)-mt[vt-1].x,mt[vt-1].y+2/3*(xt.y1-mt[vt-1].y)-mt[vt-1].y,xt.x+2/3*(xt.x1-xt.x)-mt[vt-1].x,xt.y+2/3*(xt.y1-xt.y)-mt[vt-1].y,xt.x-mt[vt-1].x,xt.y-mt[vt-1].y]);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(xt)}}$=j?null:"stroke"===S?"stroke":"fill";for(var ze=!1,Te=0;Te<ot.length;Te++)if(ot[Te].arc)for(var ee=ot[Te].abs,ce=0;ce<ee.length;ce++){var fe=ee[ce];"arc"===fe.type?J.call(this,fe.x,fe.y,fe.radius,fe.startAngle,fe.endAngle,fe.counterclockwise,void 0,j,!ze):Q.call(this,fe.x,fe.y),ze=!0}else!0===ot[Te].close?(this.pdf.internal.out("h"),ze=!1):!0!==ot[Te].begin&&(V.call(this,ot[Te].deltas,ot[Te].start.x,ot[Te].start.y),ze=!0);$&&qt.call(this,$),j&&It.call(this)}},Yt=function(S){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-z;case"top":return S+j-z;case"hanging":return S+j-2*z;case"middle":return S+j/2-z;default:return S}},dt=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};N.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(j,z){this.colorStops.push([j,z])},S.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},N.prototype.createPattern=function(){return this.createLinearGradient()},N.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(S,j,z,$,ot,mt,vt,xt,oe){for(var re=wt.call(this,z,$,ot,mt),pe=0;pe<re.length;pe++){var _e=re[pe];0===pe&&(oe?E.call(this,_e.x1+S,_e.y1+j):Q.call(this,_e.x1+S,_e.y1+j)),Pt.call(this,S,j,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}xt?It.call(this):qt.call(this,vt)},qt=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},It=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(S,j){this.pdf.internal.out(o(S)+" "+u(j)+" m")},O=function(S){var j;switch(S.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var z=this.pdf.getTextDimensions(S.text),$=Yt.call(this,S.y),ot=dt.call(this,$)-z.h,mt=this.ctx.transform.applyToPoint(new f(S.x,$)),vt=this.ctx.transform.decompose(),xt=new v;xt=(xt=(xt=xt.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale);for(var oe,re,pe,_e=this.ctx.transform.applyToRectangle(new _(S.x,$,z.w,z.h)),qe=xt.applyToRectangle(new _(S.x,ot,z.w,z.h)),Dt=H.call(this,qe),Y=[],ze=0;ze<Dt.length;ze+=1)-1===Y.indexOf(Dt[ze])&&Y.push(Dt[ze]);if(X(Y),this.autoPaging)for(var Te=Y[0],ee=Y[Y.length-1],ce=Te;ce<ee+1;ce++){this.pdf.setPage(ce);var fe=1===ce?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.margin[2],Ue=Se-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],Qe=Ve-this.margin[3],ni=1===ce?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ce-2)*Ue;if(0!==this.ctx.clip_path.length){var ui=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(oe,this.posX+this.margin[3],-1*ni+fe),At.call(this,"fill",!0),this.path=ui}var Re=B([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-ni+fe+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*S.scale),this.lineWidth=(pe=this.lineWidth)*S.scale);var $e="text"!==this.autoPaging;if($e||Re.y+Re.h<=Se){if($e||Re.y>=fe&&Re.x<=Ve){var ge=$e?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||Ve-Re.x)[0],Gi=B([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-ni+fe+this.ctx.prevPageLastElemOffset)[0],ri=$e&&(ce>Te||ce<ee)&&M.call(this);ri&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Ue,null).clip().discardPath()),this.pdf.text(ge,Gi.x,Gi.y,{angle:S.angle,align:j,renderingMode:S.renderingMode}),ri&&this.pdf.restoreGraphicsState()}}else Re.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-Re.y);S.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=pe)}else S.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*S.scale),this.lineWidth=(pe=this.lineWidth)*S.scale),this.pdf.text(S.text,mt.x+this.posX,mt.y+this.posY,{angle:S.angle,align:j,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=pe)},Q=function(S,j,z,$){$=$||0,this.pdf.internal.out(o(S+(z=z||0))+" "+u(j+$)+" l")},V=function(S,j,z){return this.pdf.lines(S,j,z,null,null)},Pt=function(S,j,z,$,ot,mt,vt,xt){this.pdf.internal.out([n(d(z+S)),n(h($+j)),n(d(ot+S)),n(h(mt+j)),n(d(vt+S)),n(h(xt+j)),"c"].join(" "))},wt=function(S,j,z,$){for(var ot=2*Math.PI,mt=Math.PI/2;j>z;)j-=ot;var vt=Math.abs(z-j);vt<ot&&$&&(vt=ot-vt);for(var xt=[],oe=$?-1:1,re=j;vt>1e-5;){var pe=re+oe*Math.min(vt,mt);xt.push(Et.call(this,S,re,pe)),vt-=Math.abs(pe-re),re=pe}return xt},Et=function(S,j,z){var $=(z-j)/2,ot=S*Math.cos($),mt=S*Math.sin($),vt=ot,xt=-mt,oe=vt*vt+xt*xt,re=oe+vt*ot+xt*mt,pe=4/3*(Math.sqrt(2*oe*re)-re)/(vt*mt-xt*ot),_e=vt-pe*xt,qe=xt+pe*vt,Dt=_e,Y=-qe,ze=$+j,Te=Math.cos(ze),ee=Math.sin(ze);return{x1:S*Math.cos(j),y1:S*Math.sin(j),x2:_e*Te-qe*ee,y2:_e*ee+qe*Te,x3:Dt*Te-Y*ee,y3:Dt*ee+Y*Te,x4:S*Math.cos(z),y4:S*Math.sin(z)}},pt=function(S){return 180*S/Math.PI},Ft=function(S,j,z,$,ot,mt){var vt=S+.5*(z-S),xt=j+.5*($-j),oe=ot+.5*(z-ot),re=mt+.5*($-mt),pe=Math.min(S,ot,vt,oe),_e=Math.max(S,ot,vt,oe),qe=Math.min(j,mt,xt,re),Dt=Math.max(j,mt,xt,re);return new _(pe,qe,_e-pe,Dt-qe)},Mt=function(S,j,z,$,ot,mt,vt,xt){var oe,re,pe,_e,qe,Dt,Y,ze,Te,ee,ce,fe,ue,Se,Ue=z-S,Ve=$-j,Qe=ot-z,ni=mt-$,ui=vt-ot,Re=xt-mt;for(re=0;re<41;re++)Te=(Y=(pe=S+(oe=re/40)*Ue)+oe*((qe=z+oe*Qe)-pe))+oe*(qe+oe*(ot+oe*ui-qe)-Y),ee=(ze=(_e=j+oe*Ve)+oe*((Dt=$+oe*ni)-_e))+oe*(Dt+oe*(mt+oe*Re-Dt)-ze),0==re?(ce=Te,fe=ee,ue=Te,Se=ee):(ce=Math.min(ce,Te),fe=Math.min(fe,ee),ue=Math.max(ue,Te),Se=Math.max(Se,ee));return new _(Math.round(ce),Math.round(fe),Math.round(ue-ce),Math.round(Se-fe))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Me.API),function(a){var n=function(h){var f,_,v,w,T,N,Z,y,R,M;for(/[^\x00-\xFF]/.test(h),_=[],v=0,w=(h+=f="\0\0\0\0".slice(h.length%4||4)).length;w>v;v+=4)0!==(T=(h.charCodeAt(v)<<24)+(h.charCodeAt(v+1)<<16)+(h.charCodeAt(v+2)<<8)+h.charCodeAt(v+3))?(N=(T=((T=((T=((T=(T-(M=T%85))/85)-(R=T%85))/85)-(y=T%85))/85)-(Z=T%85))/85)%85,_.push(N+33,Z+33,y+33,R+33,M+33)):_.push(122);return function(H,I){for(var B=I;B>0;B--)H.pop()}(_,f.length),String.fromCharCode.apply(String,_)+"~>"},o=function(h){var f,_,v,w,T,N=String,Z="length",y=255,R="charCodeAt",M="slice",H="replace";for(h[M](-2),h=h[M](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),v=[],w=0,T=(h+=f="uuuuu"[M](h[Z]%5||5))[Z];T>w;w+=5)_=52200625*(h[R](w)-33)+614125*(h[R](w+1)-33)+7225*(h[R](w+2)-33)+85*(h[R](w+3)-33)+(h[R](w+4)-33),v.push(y&_>>24,y&_>>16,y&_>>8,y&_);return function(I,B){for(var X=B;X>0;X--)I.pop()}(v,f[Z]),N.fromCharCode.apply(N,v)},u=function(h){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(h=h.replace(/\s/g,"")).indexOf(">")&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),!1===f.test(h))return"";for(var _="",v=0;v<h.length;v+=2)_+=String.fromCharCode("0x"+(h[v]+h[v+1]));return _},d=function(h){for(var f=new Uint8Array(h.length),_=h.length;_--;)f[_]=h.charCodeAt(_);return(f=Yo(f)).reduce(function(v,w){return v+String.fromCharCode(w)},"")};a.processDataByFilters=function(h,f){var _=0,v=h||"",w=[];for("string"==typeof(f=f||[])&&(f=[f]),_=0;_<f.length;_+=1)switch(f[_]){case"ASCII85Decode":case"/ASCII85Decode":v=o(v),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=n(v),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=u(v),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=v.split("").map(function(T){return("0"+T.charCodeAt().toString(16)).slice(-2)}).join("")+">",w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=d(v),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[_]+'" is not implemented')}return{data:v,reverseChain:w.reverse().join(" ")}}}(Me.API),function(a){a.loadFile=function(n,o,u){return function(d,h,f){h=!1!==h,f="function"==typeof f?f:function(){};var _=void 0;try{_=function(v,w,T){var N=new XMLHttpRequest,Z=0,y=function(R){var M=R.length,H=[],I=String.fromCharCode;for(Z=0;Z<M;Z+=1)H.push(I(255&R.charCodeAt(Z)));return H.join("")};if(N.open("GET",v,!w),N.overrideMimeType("text/plain; charset=x-user-defined"),!1===w&&(N.onload=function(){T(200===N.status?y(this.responseText):void 0)}),N.send(null),w&&200===N.status)return y(N.responseText)}(d,h,f)}catch(v){}return _}(n,o,u)},a.loadImageFile=a.loadFile}(Me.API),function(a){function n(){return(Fe.html2canvas?Promise.resolve(Fe.html2canvas):ne.e(159).then(ne.t.bind(ne,4159,23))).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function o(){return(Fe.DOMPurify?Promise.resolve(Fe.DOMPurify):ne.e(735).then(ne.t.bind(ne,2735,23))).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var u=function(f){var _=Ae(f);return"undefined"===_?"undefined":"string"===_||f instanceof String?"string":"number"===_||f instanceof Number?"number":"function"===_||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&1===f.nodeType?"element":"object"===_?"object":"unknown"},d=function(f,_){var v=document.createElement(f);for(var w in _.className&&(v.className=_.className),_.innerHTML&&_.dompurify&&(v.innerHTML=_.dompurify.sanitize(_.innerHTML)),_.style)v.style[w]=_.style[w];return v},h=function f(_){var v=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),w=f.convert(Promise.resolve(),v);return(w=w.setProgress(1,f,1,[f])).set(_)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(f,_){return f.__proto__=_||h.prototype,f},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(f,_){return this.then(function(){switch(_=_||function(v){switch(u(v)){case"string":return"string";case"element":return"canvas"===v.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(f)){case"string":return this.then(o).then(function(v){return this.set({src:d("div",{innerHTML:f,dompurify:v})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},h.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},_=function v(w,T){for(var N=3===w.nodeType?document.createTextNode(w.nodeValue):w.cloneNode(!1),Z=w.firstChild;Z;Z=Z.nextSibling)!0!==T&&1===Z.nodeType&&"SCRIPT"===Z.nodeName||N.appendChild(v(Z,T));return 1===w.nodeType&&("CANVAS"===w.nodeName?(N.width=w.width,N.height=w.height,N.getContext("2d").drawImage(w,0,0)):"TEXTAREA"!==w.nodeName&&"SELECT"!==w.nodeName||(N.value=w.value),N.addEventListener("load",function(){N.scrollTop=w.scrollTop,N.scrollLeft=w.scrollLeft},!0)),N}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===_.tagName&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=d("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=d("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(_),this.prop.container.firstChild.appendChild(d("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(_){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,_(this.prop.container,v)}).then(function(_){(this.opt.html2canvas.onrendered||function(){})(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(_){var v=this.opt.jsPDF,w=this.opt.fontFaces,T="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:T,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,v.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=w,w)for(var Z=0;Z<w.length;++Z){var y=w[Z],R=y.src.find(function(M){return"truetype"===M.format});R&&v.addFont(R.url,y.ref.name,y.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=0==N.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,v.context2d.save(!0),_(this.prop.container,N)}).then(function(_){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(f,_,v){return"img"===(v=v||"pdf").toLowerCase()||"image"===v.toLowerCase()?this.outputImg(f,_):this.outputPdf(f,_)},h.prototype.outputPdf=function(f,_){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,_)})},h.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},h.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(f){if("object"!==u(f))return this;var _=Object.keys(f||{}).map(function(v){if(v in h.template.prop)return function(){this.prop[v]=f[v]};switch(v){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[v]=f[v]}}},this);return this.then(function(){return this.thenList(_)})},h.prototype.get=function(f,_){return this.then(function(){var v=f in h.template.prop?this.prop[f]:this.opt[f];return _?_(v):v})},h.prototype.setMargin=function(f){return this.then(function(){switch(u(f)){case"number":f=[f,f,f,f];case"array":if(2===f.length&&(f=[f[0],f[1],f[0],f[1]]),4===f.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},h.prototype.setPageSize=function(f){function _(v,w){return Math.floor(v*w/72*96)}return this.then(function(){(f=f||Me.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:_(f.inner.width,f.k),height:_(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},h.prototype.setProgress=function(f,_,v,w){return null!=f&&(this.progress.val=f),null!=_&&(this.progress.state=_),null!=v&&(this.progress.n=v),null!=w&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(f,_,v,w){return this.setProgress(f?this.progress.val+f:null,_||null,v?this.progress.n+v:null,w?this.progress.stack.concat(w):null)},h.prototype.then=function(f,_){var v=this;return this.thenCore(f,_,function(w,T){return v.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(N){return v.updateProgress(null,w),N}).then(w,T).then(function(N){return v.updateProgress(1),N})})},h.prototype.thenCore=function(f,_,v){v=v||Promise.prototype.then,f&&(f=f.bind(this)),_&&(_=_.bind(this));var w=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:h.convert(Object.assign({},this),Promise.prototype),T=v.call(w,f,_);return h.convert(T,this.__proto__)},h.prototype.thenExternal=function(f,_){return Promise.prototype.then.call(this,f,_)},h.prototype.thenList=function(f){var _=this;return f.forEach(function(v){_=_.thenCore(v)}),_},h.prototype.catch=function(f){f&&(f=f.bind(this));var _=Promise.prototype.catch.call(this,f);return h.convert(_,this)},h.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},h.prototype.error=function(f){return this.then(function(){throw new Error(f)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Me.getPageSize=function(f,_,v){if("object"===Ae(f)){var w=f;f=w.orientation,_=w.unit||_,v=w.format||v}_=_||"mm",v=v||"a4",f=(""+(f||"P")).toLowerCase();var T,N=(""+v).toLowerCase(),Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(_){case"pt":T=1;break;case"mm":T=72/25.4;break;case"cm":T=72/2.54;break;case"in":T=72;break;case"px":T=.75;break;case"pc":case"em":T=12;break;case"ex":T=6;break;default:throw"Invalid unit: "+_}var y,R=0,M=0;if(Z.hasOwnProperty(N))R=Z[N][1]/T,M=Z[N][0]/T;else try{R=v[1],M=v[0]}catch(H){throw new Error("Invalid format: "+v)}if("p"===f||"portrait"===f)f="p",M>R&&(y=M,M=R,R=y);else{if("l"!==f&&"landscape"!==f)throw"Invalid orientation: "+f;f="l",R>M&&(y=M,M=R,R=y)}return{width:M,height:R,unit:_,k:T,orientation:f}},a.html=function(f,_){(_=_||{}).callback=_.callback||function(){},_.html2canvas=_.html2canvas||{},_.html2canvas.canvas=_.html2canvas.canvas||this.canvas,_.jsPDF=_.jsPDF||this,_.fontFaces=_.fontFaces?_.fontFaces.map(ys):null;var v=new h(_);return _.worker?v:v.from(f).doCallback()}}(Me.API),Me.API.addJS=function(a){return qc=a,this.internal.events.subscribe("postPutResources",function(){Na=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Na+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Fc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Na&&void 0!==Fc&&this.internal.out("/Names <</JavaScript "+Na+" 0 R>>")}),this},function(a){var n;a.events.push(["postPutResources",function(){var o=this,u=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var d=o.outline.render().split(/\r\n/),h=0;h<d.length;h++){var f=d[h],_=u.exec(f);null!=_&&o.internal.newObjectDeferredBegin(_[1],!1),o.internal.write(f)}if(this.outline.createNamedDestinations){var w=this.internal.pages.length,T=[];for(h=0;h<w;h++){var N=o.internal.newObject();T.push(N);var Z=o.internal.getPageInfo(h+1);o.internal.write("<< /D["+Z.objId+" 0 R /XYZ null null null]>> endobj")}var y=o.internal.newObject();for(o.internal.write("<< /Names [ "),h=0;h<T.length;h++)o.internal.write("(page_"+(h+1)+")"+T[h]+" 0 R");o.internal.write(" ] >>","endobj"),n=o.internal.newObject(),o.internal.write("<< /Dests "+y+" 0 R"),o.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),a.events.push(["initialized",function(){var o=this;o.outline={createNamedDestinations:!1,root:{children:[]}},o.outline.add=function(u,d,h){var f={title:d,options:h,children:[]};return null==u&&(u=this.root),u.children.push(f),f},o.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=o,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},o.outline.genIds_r=function(u){u.id=o.internal.newObjectDeferred();for(var d=0;d<u.children.length;d++)this.genIds_r(u.children[d])},o.outline.renderRoot=function(u){this.objStart(u),this.line("/Type /Outlines"),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1]))),this.line("/Count "+this.count_r({count:0},u)),this.objEnd()},o.outline.renderItems=function(u){for(var d=this.ctx.pdf.internal.getVerticalCoordinateString,h=0;h<u.children.length;h++){var f=u.children[h];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(u)),h>0&&this.line("/Prev "+this.makeRef(u.children[h-1])),h<u.children.length-1&&this.line("/Next "+this.makeRef(u.children[h+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var _=this.count=this.count_r({count:0},f);if(_>0&&this.line("/Count "+_),f.options&&f.options.pageNumber){var v=o.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+v.objId+" 0 R /XYZ 0 "+d(0)+" 0]")}this.objEnd()}for(var w=0;w<u.children.length;w++)this.renderItems(u.children[w])},o.outline.line=function(u){this.ctx.val+=u+"\r\n"},o.outline.makeRef=function(u){return u.id+" 0 R"},o.outline.makeString=function(u){return"("+o.internal.pdfEscape(u)+")"},o.outline.objStart=function(u){this.ctx.val+="\r\n"+u.id+" 0 obj\r\n<<\r\n"},o.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},o.outline.count_r=function(u,d){for(var h=0;h<d.children.length;h++)u.count++,this.count_r(u,d.children[h]);return u.count}}])}(Me.API),function(a){var n=[192,193,194,195,196,197,198,199];a.processJPEG=function(o,u,d,h,f,_){var v,w=this.decode.DCT_DECODE,T=null;if("string"==typeof o||this.__addimage__.isArrayBuffer(o)||this.__addimage__.isArrayBufferView(o)){switch(o=this.__addimage__.isArrayBuffer(o=f||o)?new Uint8Array(o):o,(v=function(N){for(var Z,y=256*N.charCodeAt(4)+N.charCodeAt(5),R=N.length,M={width:0,height:0,numcomponents:1},H=4;H<R;H+=2){if(-1!==n.indexOf(N.charCodeAt((H+=y)+1))){Z=256*N.charCodeAt(H+5)+N.charCodeAt(H+6),M={width:256*N.charCodeAt(H+7)+N.charCodeAt(H+8),height:Z,numcomponents:N.charCodeAt(H+9)};break}y=256*N.charCodeAt(H+2)+N.charCodeAt(H+3)}return M}(o=this.__addimage__.isArrayBufferView(o)?this.__addimage__.arrayBufferToBinaryString(o):o)).numcomponents){case 1:_=this.color_spaces.DEVICE_GRAY;break;case 4:_=this.color_spaces.DEVICE_CMYK;break;case 3:_=this.color_spaces.DEVICE_RGB}T={data:o,width:v.width,height:v.height,colorSpace:_,bitsPerComponent:8,filter:w,index:u,alias:d}}return T}}(Me.API);var ho,La,Rc,Bc,Uc,Gl=function(){var a,n,o;function u(h){var f,v,w,T,N,Z,y,R,M,H,I,B,X;for(this.data=h,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},N=null;;){switch(f=this.readUInt32(),R=function(){var ut,At;for(At=[],ut=0;ut<4;++ut)At.push(String.fromCharCode(this.data[this.pos++]));return At}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":N&&this.animation.frames.push(N),this.pos+=4,N={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},T=this.readUInt16(),w=this.readUInt16()||100,N.delay=1e3*T/w,N.disposeOp=this.data[this.pos++],N.blendOp=this.data[this.pos++],N.data=[];break;case"IDAT":case"fdAT":for("fdAT"===R&&(this.pos+=4,f-=4),h=(null!=N?N.data:void 0)||this.imgData,I=0;0<=f?I<f:I>f;0<=f?++I:--I)h.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(v=this.palette.length/3,this.transparency.indexed=this.read(f),this.transparency.indexed.length>v)throw new Error("More transparent colors than palette size");if((M=v-this.transparency.indexed.length)>0)for(B=0;0<=M?B<M:B>M;0<=M?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":Z=(H=this.read(f)).indexOf(0),y=String.fromCharCode.apply(String,H.slice(0,Z)),this.text[y]=String.fromCharCode.apply(String,H.slice(Z+1));break;case"IEND":return N&&this.animation.frames.push(N),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(X=this.colorType)||6===X,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}u.prototype.read=function(h){var f,_;for(_=[],f=0;0<=h?f<h:f>h;0<=h?++f:--f)_.push(this.data[this.pos++]);return _},u.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},u.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},u.prototype.decodePixels=function(h){var f=this.pixelBitlength/8,_=new Uint8Array(this.width*this.height*f),v=0,w=this;if(null==h&&(h=this.imgData),0===h.length)return new Uint8Array(0);function T(N,Z,y,R){var M,H,I,B,X,ut,At,Yt,J,qt,It,E,O,Q,V,Pt,wt,Et,pt,Ft,Mt=Math.ceil((w.width-N)/y),de=Math.ceil((w.height-Z)/R),S=w.width==Mt&&w.height==de;for(O=f*Mt,It=S?_:new Uint8Array(O*de),ut=h.length,E=0,H=0;E<de&&v<ut;){switch(h[v++]){case 0:for(B=Pt=0;Pt<O;B=Pt+=1)It[H++]=h[v++];break;case 1:for(B=wt=0;wt<O;B=wt+=1)M=h[v++],X=B<f?0:It[H-f],It[H++]=(M+X)%256;break;case 2:for(B=Et=0;Et<O;B=Et+=1)M=h[v++],I=(B-B%f)/f,It[H++]=((Q=E&&It[(E-1)*O+I*f+B%f])+M)%256;break;case 3:for(B=pt=0;pt<O;B=pt+=1)M=h[v++],I=(B-B%f)/f,X=B<f?0:It[H-f],Q=E&&It[(E-1)*O+I*f+B%f],It[H++]=(M+Math.floor((X+Q)/2))%256;break;case 4:for(B=Ft=0;Ft<O;B=Ft+=1)M=h[v++],I=(B-B%f)/f,0===E?Q=V=0:(Q=It[(E-1)*O+I*f+B%f],V=I&&It[(E-1)*O+(I-1)*f+B%f]),At=(X=B<f?0:It[H-f])+Q-V,Yt=Math.abs(At-X),J=Math.abs(At-Q),qt=Math.abs(At-V),It[H++]=(M+(Yt<=J&&Yt<=qt?X:J<=qt?Q:V))%256;break;default:throw new Error("Invalid filter algorithm: "+h[v-1])}if(!S){var j=((Z+E*R)*w.width+N)*f,z=E*O;for(B=0;B<Mt;B+=1){for(var $=0;$<f;$+=1)_[j++]=It[z++];j+=(y-1)*f}}E++}}return h=xa(h),1==w.interlaceMethod?(T(0,0,8,8),T(4,0,8,8),T(0,4,4,8),T(2,0,4,4),T(0,2,2,4),T(1,0,2,2),T(0,1,1,2)):T(0,0,1,1),_},u.prototype.decodePalette=function(){var h,f,_,v,w,T,N,Z,y;for(_=this.palette,T=this.transparency.indexed||[],w=new Uint8Array((T.length||0)+_.length),v=0,h=0,f=N=0,Z=_.length;N<Z;f=N+=3)w[v++]=_[f],w[v++]=_[f+1],w[v++]=_[f+2],w[v++]=null!=(y=T[h++])?y:255;return w},u.prototype.copyToImageData=function(h,f){var _,v,w,T,N,Z,y,R,M,H,I;if(v=this.colors,M=null,_=this.hasAlphaChannel,this.palette.length&&(M=null!=(I=this._decodedPalette)?I:this._decodedPalette=this.decodePalette(),v=4,_=!0),R=(w=h.data||h).length,N=M||f,T=Z=0,1===v)for(;T<R;)y=M?4*f[T/4]:Z,H=N[y++],w[T++]=H,w[T++]=H,w[T++]=H,w[T++]=_?N[y++]:255,Z=y;else for(;T<R;)y=M?4*f[T/4]:Z,w[T++]=N[y++],w[T++]=N[y++],w[T++]=N[y++],w[T++]=_?N[y++]:255,Z=y},u.prototype.decode=function(){var h;return h=new Uint8Array(this.width*this.height*4),this.copyToImageData(h,this.decodePixels()),h};var d=function(){if("[object Window]"===Object.prototype.toString.call(Fe)){try{n=Fe.document.createElement("canvas"),o=n.getContext("2d")}catch(h){return!1}return!0}return!1};return d(),a=function(h){var f;if(!0===d())return o.width=h.width,o.height=h.height,o.clearRect(0,0,h.width,h.height),o.putImageData(h,0,0),(f=new Image).src=n.toDataURL(),f;throw new Error("This method requires a Browser with Canvas-capability.")},u.prototype.decodeFrames=function(h){var f,_,v,w,T,N,Z,y;if(this.animation){for(y=[],_=T=0,N=(Z=this.animation.frames).length;T<N;_=++T)v=h.createImageData((f=Z[_]).width,f.height),w=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(v,w),f.imageData=v,y.push(f.image=a(v));return y}},u.prototype.renderFrame=function(h,f){var _,v,w;return _=(v=this.animation.frames)[f],w=v[f-1],0===f&&h.clearRect(0,0,this.width,this.height),1===(null!=w?w.disposeOp:void 0)?h.clearRect(w.xOffset,w.yOffset,w.width,w.height):2===(null!=w?w.disposeOp:void 0)&&h.putImageData(w.imageData,w.xOffset,w.yOffset),0===_.blendOp&&h.clearRect(_.xOffset,_.yOffset,_.width,_.height),h.drawImage(_.image,_.xOffset,_.yOffset)},u.prototype.animate=function(h){var f,_,v,w,T,N,Z=this;return _=0,w=(N=this.animation).numFrames,v=N.frames,T=N.numPlays,(f=function(){var y,R;if(y=_++%w,R=v[y],Z.renderFrame(h,y),w>1&&_/w<T)return Z.animation._timeout=setTimeout(f,R.delay)})()},u.prototype.stopAnimation=function(){var h;return clearTimeout(null!=(h=this.animation)?h._timeout:void 0)},u.prototype.render=function(h){var f,_;return h._png&&h._png.stopAnimation(),h._png=this,h.width=this.width,h.height=this.height,f=h.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(_=f.createImageData(this.width,this.height),this.copyToImageData(_,this.decodePixels()),f.putImageData(_,0,0))},u}();function Ql(a){var n=0;if(71!==a[n++]||73!==a[n++]||70!==a[n++]||56!==a[n++]||56!=(a[n++]+1&253)||97!==a[n++])throw new Error("Invalid GIF 87a/89a header.");var o=a[n++]|a[n++]<<8,u=a[n++]|a[n++]<<8,d=a[n++],f=1<<1+(7&d);n++,n++;var _=null,v=null;d>>7&&(_=n,v=f,n+=3*f);var w=!0,T=[],N=0,Z=null,y=0,R=null;for(this.width=o,this.height=u;w&&n<a.length;)switch(a[n++]){case 33:switch(a[n++]){case 255:if(11!==a[n]||78==a[n+1]&&69==a[n+2]&&84==a[n+3]&&83==a[n+4]&&67==a[n+5]&&65==a[n+6]&&80==a[n+7]&&69==a[n+8]&&50==a[n+9]&&46==a[n+10]&&48==a[n+11]&&3==a[n+12]&&1==a[n+13]&&0==a[n+16])n+=14,R=a[n++]|a[n++]<<8,n++;else for(n+=12;;){if(!((E=a[n++])>=0))throw Error("Invalid block size");if(0===E)break;n+=E}break;case 249:if(4!==a[n++]||0!==a[n+4])throw new Error("Invalid graphics extension block.");var M=a[n++];N=a[n++]|a[n++]<<8,Z=a[n++],0==(1&M)&&(Z=null),y=M>>2&7,n++;break;case 254:for(;;){if(!((E=a[n++])>=0))throw Error("Invalid block size");if(0===E)break;n+=E}break;default:throw new Error("Unknown graphic control label: 0x"+a[n-1].toString(16))}break;case 44:var H=a[n++]|a[n++]<<8,I=a[n++]|a[n++]<<8,B=a[n++]|a[n++]<<8,X=a[n++]|a[n++]<<8,ut=a[n++],At=ut>>6&1,Yt=1<<1+(7&ut),dt=_,J=v,qt=!1;ut>>7&&(qt=!0,dt=n,J=Yt,n+=3*Yt);var It=n;for(n++;;){var E;if(!((E=a[n++])>=0))throw Error("Invalid block size");if(0===E)break;n+=E}T.push({x:H,y:I,width:B,height:X,has_local_palette:qt,palette_offset:dt,palette_size:J,data_offset:It,data_length:n-It,transparent_index:Z,interlaced:!!At,delay:N,disposal:y});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+a[n-1].toString(16))}this.numFrames=function(){return T.length},this.loopCount=function(){return R},this.frameInfo=function(O){if(O<0||O>=T.length)throw new Error("Frame index out of range.");return T[O]},this.decodeAndBlitFrameBGRA=function(O,Q){var V=this.frameInfo(O),Pt=V.width*V.height,wt=new Uint8Array(Pt);jc(a,V.data_offset,wt,Pt);var Et=V.palette_offset,pt=V.transparent_index;null===pt&&(pt=256);var Ft=V.width,Mt=o-Ft,de=Ft,S=4*(V.y*o+V.x),j=4*((V.y+V.height)*o+V.x),z=S,$=4*Mt;!0===V.interlaced&&($+=4*o*7);for(var ot=8,mt=0,vt=wt.length;mt<vt;++mt){var xt=wt[mt];if(0===de&&(de=Ft,(z+=$)>=j&&($=4*Mt+4*o*(ot-1),z=S+(Ft+Mt)*(ot<<1),ot>>=1)),xt===pt)z+=4;else{var oe=a[Et+3*xt],re=a[Et+3*xt+1];Q[z++]=a[Et+3*xt+2],Q[z++]=re,Q[z++]=oe,Q[z++]=255}--de}},this.decodeAndBlitFrameRGBA=function(O,Q){var V=this.frameInfo(O),Pt=V.width*V.height,wt=new Uint8Array(Pt);jc(a,V.data_offset,wt,Pt);var Et=V.palette_offset,pt=V.transparent_index;null===pt&&(pt=256);var Ft=V.width,Mt=o-Ft,de=Ft,S=4*(V.y*o+V.x),j=4*((V.y+V.height)*o+V.x),z=S,$=4*Mt;!0===V.interlaced&&($+=4*o*7);for(var ot=8,mt=0,vt=wt.length;mt<vt;++mt){var xt=wt[mt];if(0===de&&(de=Ft,(z+=$)>=j&&($=4*Mt+4*o*(ot-1),z=S+(Ft+Mt)*(ot<<1),ot>>=1)),xt===pt)z+=4;else{var re=a[Et+3*xt+1],pe=a[Et+3*xt+2];Q[z++]=a[Et+3*xt],Q[z++]=re,Q[z++]=pe,Q[z++]=255}--de}}}function jc(a,n,o,u){for(var d=a[n++],h=1<<d,f=h+1,_=f+1,v=d+1,w=(1<<v)-1,T=0,N=0,Z=0,y=a[n++],R=new Int32Array(4096),M=null;;){for(;T<16&&0!==y;)N|=a[n++]<<T,T+=8,1===y?y=a[n++]:--y;if(T<v)break;var H=N&w;if(N>>=v,T-=v,H!==h){if(H===f)break;for(var I=H<_?H:M,B=0,X=I;X>h;)X=R[X]>>8,++B;var ut=X;if(Z+B+(I!==H?1:0)>u)return void hi.log("Warning, gif stream longer than expected.");o[Z++]=ut;var At=Z+=B;for(I!==H&&(o[Z++]=ut),X=I;B--;)o[--At]=255&(X=R[X]),X>>=8;null!==M&&_<4096&&(R[_++]=M<<8|ut,_>=w+1&&v<12&&(++v,w=w<<1|1)),M=H}else _=f+1,w=(1<<(v=d+1))-1,M=null}return Z!==u&&hi.log("Warning, gif stream shorter than expected."),o}function ws(a){var n,o,u,d,h,f=Math.floor,_=new Array(64),v=new Array(64),w=new Array(64),T=new Array(64),N=new Array(65535),Z=new Array(65535),y=new Array(64),R=new Array(64),M=[],H=0,I=7,B=new Array(64),X=new Array(64),ut=new Array(64),At=new Array(256),Yt=new Array(2048),dt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],qt=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function wt(S,j){for(var z=0,$=0,ot=new Array,mt=1;mt<=16;mt++){for(var vt=1;vt<=S[mt];vt++)ot[j[$]]=[],ot[j[$]][0]=z,ot[j[$]][1]=mt,$++,z++;z*=2}return ot}function Et(S){for(var j=S[0],z=S[1]-1;z>=0;)j&1<<z&&(H|=1<<I),z--,--I<0&&(255==H?(pt(255),pt(0)):pt(H),I=7,H=0)}function pt(S){M.push(S)}function Ft(S){pt(S>>8&255),pt(255&S)}function Mt(S,j,z,$,ot){for(var mt,vt=ot[0],xt=ot[240],oe=function(ee,ce){var fe,ue,Se,Ue,Ve,Qe,ni,ui,Re,$e,ge=0;for(Re=0;Re<8;++Re){var Gi=(fe=ee[ge])+(ui=ee[ge+7]),ri=fe-ui,Pn=(ue=ee[ge+1])+(ni=ee[ge+6]),di=ue-ni,bi=(Se=ee[ge+2])+(Qe=ee[ge+5]),Vn=Se-Qe,ai=(Ue=ee[ge+3])+(Ve=ee[ge+4]),jr=Ue-Ve,Ai=Gi+ai,kn=Gi-ai,ar=Pn+bi,Ci=Pn-bi;ee[ge]=Ai+ar,ee[ge+4]=Ai-ar;var Ye=.707106781*(Ci+kn);ee[ge+2]=kn+Ye,ee[ge+6]=kn-Ye;var si=.382683433*((Ai=jr+Vn)-(Ci=di+ri)),Hr=.5411961*Ai+si,Hi=1.306562965*Ci+si,Wn=.707106781*(ar=Vn+di),Gn=ri+Wn,Oe=ri-Wn;ee[ge+5]=Oe+Hr,ee[ge+3]=Oe-Hr,ee[ge+1]=Gn+Hi,ee[ge+7]=Gn-Hi,ge+=8}for(ge=0,Re=0;Re<8;++Re){var Sn=(fe=ee[ge])+(ui=ee[ge+56]),Qn=fe-ui,on=(ue=ee[ge+8])+(ni=ee[ge+48]),Ei=ue-ni,Di=(Se=ee[ge+16])+(Qe=ee[ge+40]),ln=Se-Qe,go=(Ue=ee[ge+24])+(Ve=ee[ge+32]),sr=Ue-Ve,Nn=Sn+go,Ln=Sn-go,Zn=on+Di,$n=on-Di;ee[ge]=Nn+Zn,ee[ge+32]=Nn-Zn;var pn=.707106781*($n+Ln);ee[ge+16]=Ln+pn,ee[ge+48]=Ln-pn;var Kn=.382683433*((Nn=sr+ln)-($n=Ei+Qn)),zr=.5411961*Nn+Kn,mo=1.306562965*$n+Kn,_o=.707106781*(Zn=ln+Ei),vo=Qn+_o,bo=Qn-_o;ee[ge+40]=bo+zr,ee[ge+24]=bo-zr,ee[ge+8]=vo+mo,ee[ge+56]=vo-mo,ge++}for(Re=0;Re<64;++Re)y[Re]=($e=ee[Re]*ce[Re])>0?$e+.5|0:$e-.5|0;return y}(S,j),re=0;re<64;++re)R[dt[re]]=oe[re];var pe=R[0]-z;z=R[0],0==pe?Et($[0]):(Et($[Z[mt=32767+pe]]),Et(N[mt]));for(var _e=63;_e>0&&0==R[_e];)_e--;if(0==_e)return Et(vt),z;for(var qe,Dt=1;Dt<=_e;){for(var Y=Dt;0==R[Dt]&&Dt<=_e;)++Dt;var ze=Dt-Y;if(ze>=16){qe=ze>>4;for(var Te=1;Te<=qe;++Te)Et(xt);ze&=15}Et(ot[(ze<<4)+Z[mt=32767+R[Dt]]]),Et(N[mt]),Dt++}return 63!=_e&&Et(vt),z}function de(S){S=Math.min(Math.max(S,1),100),h!=S&&(function(j){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var ot=f((z[$]*j+50)/100);ot=Math.min(Math.max(ot,1),255),_[dt[$]]=ot}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],vt=0;vt<64;vt++){var xt=f((mt[vt]*j+50)/100);xt=Math.min(Math.max(xt,1),255),v[dt[vt]]=xt}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,pe=0;pe<8;pe++)for(var _e=0;_e<8;_e++)w[re]=1/(_[dt[re]]*oe[pe]*oe[_e]*8),T[re]=1/(v[dt[re]]*oe[pe]*oe[_e]*8),re++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),h=S)}this.encode=function(S,j){var ue,Se;j&&de(j),M=new Array,H=0,I=7,Ft(65496),Ft(65504),Ft(16),pt(74),pt(70),pt(73),pt(70),pt(0),pt(1),pt(1),pt(0),Ft(1),Ft(1),pt(0),pt(0),function(){Ft(65499),Ft(132),pt(0);for(var ue=0;ue<64;ue++)pt(_[ue]);pt(1);for(var Se=0;Se<64;Se++)pt(v[Se])}(),ue=S.width,Se=S.height,Ft(65472),Ft(17),pt(8),Ft(Se),Ft(ue),pt(3),pt(1),pt(17),pt(0),pt(2),pt(17),pt(1),pt(3),pt(17),pt(1),function(){Ft(65476),Ft(418),pt(0);for(var ue=0;ue<16;ue++)pt(J[ue+1]);for(var Se=0;Se<=11;Se++)pt(qt[Se]);pt(16);for(var Ue=0;Ue<16;Ue++)pt(It[Ue+1]);for(var Ve=0;Ve<=161;Ve++)pt(E[Ve]);pt(1);for(var Qe=0;Qe<16;Qe++)pt(O[Qe+1]);for(var ni=0;ni<=11;ni++)pt(Q[ni]);pt(17);for(var ui=0;ui<16;ui++)pt(V[ui+1]);for(var Re=0;Re<=161;Re++)pt(Pt[Re])}(),Ft(65498),Ft(12),pt(3),pt(1),pt(0),pt(2),pt(17),pt(3),pt(17),pt(0),pt(63),pt(0);var z=0,$=0,ot=0;H=0,I=7,this.encode.displayName="_encode_";for(var mt,vt,xt,oe,re,pe,_e,qe,Dt,Y=S.data,Te=S.height,ee=4*S.width,ce=0;ce<Te;){for(mt=0;mt<ee;){for(re=ee*ce+mt,_e=-1,qe=0,Dt=0;Dt<64;Dt++)pe=re+(qe=Dt>>3)*ee+(_e=4*(7&Dt)),ce+qe>=Te&&(pe-=ee*(ce+1+qe-Te)),mt+_e>=ee&&(pe-=mt+_e-ee+4),vt=Y[pe++],xt=Y[pe++],oe=Y[pe++],B[Dt]=(Yt[vt]+Yt[xt+256>>0]+Yt[oe+512>>0]>>16)-128,X[Dt]=(Yt[vt+768>>0]+Yt[xt+1024>>0]+Yt[oe+1280>>0]>>16)-128,ut[Dt]=(Yt[vt+1280>>0]+Yt[xt+1536>>0]+Yt[oe+1792>>0]>>16)-128;z=Mt(B,w,z,n,u),$=Mt(X,T,$,o,d),ot=Mt(ut,T,ot,o,d),mt+=32}ce+=8}if(I>=0){var fe=[];fe[1]=I+1,fe[0]=(1<<I+1)-1,Et(fe)}return Ft(65497),new Uint8Array(M)},a=a||50,function(){for(var S=String.fromCharCode,j=0;j<256;j++)At[j]=S(j)}(),n=wt(J,qt),o=wt(O,Q),u=wt(It,E),d=wt(V,Pt),function(){for(var S=1,j=2,z=1;z<=15;z++){for(var $=S;$<j;$++)Z[32767+$]=z,N[32767+$]=[],N[32767+$][1]=z,N[32767+$][0]=$;for(var ot=-(j-1);ot<=-S;ot++)Z[32767+ot]=z,N[32767+ot]=[],N[32767+ot][1]=z,N[32767+ot][0]=j-1+ot;S<<=1,j<<=1}}(),function(){for(var S=0;S<256;S++)Yt[S]=19595*S,Yt[S+256>>0]=38470*S,Yt[S+512>>0]=7471*S+32768,Yt[S+768>>0]=-11059*S,Yt[S+1024>>0]=-21709*S,Yt[S+1280>>0]=32768*S+8421375,Yt[S+1536>>0]=-27439*S,Yt[S+1792>>0]=-5329*S}(),de(a)}function Cn(a,n){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hc(a){function n(J){if(!J)throw Error("assert :P")}function o(J,qt,It){for(var E=0;4>E;E++)if(J[qt+E]!=It.charCodeAt(E))return!0;return!1}function u(J,qt,It,E,O){for(var Q=0;Q<O;Q++)J[qt+Q]=It[E+Q]}function d(J,qt,It,E){for(var O=0;O<E;O++)J[qt+O]=It}function h(J){return new Int32Array(J)}function f(J,qt){for(var It=[],E=0;E<J;E++)It.push(new qt);return It}function _(J,qt){var It=[];return function E(O,Q,V){for(var Pt=V[Q],wt=0;wt<Pt&&(O.push(V.length>Q+1?[]:new qt),!(V.length<Q+1));wt++)E(O[wt],Q+1,V)}(It,0,J),It}var v=function(){var J=this;function qt(i,l){for(var g=1<<l-1>>>0;i&g;)g>>>=1;return g?(i&g-1)+g:i}function It(i,l,g,b,A){n(!(b%g));do{i[l+(b-=g)]=A}while(0<b)}function E(i,l,g,b,A){if(n(2328>=A),512>=A)var P=h(512);else if(null==(P=h(A)))return 0;return function(k,L,D,F,G,lt){var ht,nt,Wt=L,St=1<<D,K=h(16),it=h(16);for(n(0!=G),n(null!=F),n(null!=k),n(0<D),nt=0;nt<G;++nt){if(15<F[nt])return 0;++K[F[nt]]}if(K[0]==G)return 0;for(it[1]=0,ht=1;15>ht;++ht){if(K[ht]>1<<ht)return 0;it[ht+1]=it[ht]+K[ht]}for(nt=0;nt<G;++nt)ht=F[nt],0<F[nt]&&(lt[it[ht]++]=nt);if(1==it[15])return(F=new O).g=0,F.value=lt[0],It(k,Wt,1,St,F),St;var jt,Qt=-1,Jt=St-1,ve=0,le=1,Ee=1,he=1<<D;for(nt=0,ht=1,G=2;ht<=D;++ht,G<<=1){if(le+=Ee<<=1,0>(Ee-=K[ht]))return 0;for(;0<K[ht];--K[ht])(F=new O).g=ht,F.value=lt[nt++],It(k,Wt+ve,G,he,F),ve=qt(ve,ht)}for(ht=D+1,G=2;15>=ht;++ht,G<<=1){if(le+=Ee<<=1,0>(Ee-=K[ht]))return 0;for(;0<K[ht];--K[ht]){if(F=new O,(ve&Jt)!=Qt){for(Wt+=he,jt=1<<(Qt=ht)-D;15>Qt&&!(0>=(jt-=K[Qt]));)++Qt,jt<<=1;St+=he=1<<(jt=Qt-D),k[L+(Qt=ve&Jt)].g=jt+D,k[L+Qt].value=Wt-L-Qt}F.g=ht-D,F.value=lt[nt++],It(k,Wt+(ve>>D),G,he,F),ve=qt(ve,ht)}}return le!=2*it[15]-1?0:St}(i,l,g,b,A,P)}function O(){this.value=this.g=0}function Q(){this.value=this.g=0}function V(){this.G=f(5,O),this.H=h(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(sn,Q)}function Pt(i,l,g,b){n(null!=i),n(null!=l),n(2147483648>b),i.Ca=254,i.I=0,i.b=-8,i.Ka=0,i.oa=l,i.pa=g,i.Jd=l,i.Yc=g+b,i.Zc=4<=b?g+b-4+1:g,mt(i)}function wt(i,l){for(var g=0;0<l--;)g|=xt(i,128)<<l;return g}function Et(i,l){var g=wt(i,l);return vt(i)?-g:g}function pt(i,l,g,b){var A,P=0;for(n(null!=i),n(null!=l),n(4294967288>b),i.Sb=b,i.Ra=0,i.u=0,i.h=0,4<b&&(b=4),A=0;A<b;++A)P+=l[g+A]<<8*A;i.Ra=P,i.bb=b,i.oa=l,i.pa=g}function Ft(i){for(;8<=i.u&&i.bb<i.Sb;)i.Ra>>>=8,i.Ra+=i.oa[i.pa+i.bb]<<Mo-8>>>0,++i.bb,i.u-=8;z(i)&&(i.h=1,i.u=0)}function Mt(i,l){if(n(0<=l),!i.h&&l<=Io){var g=j(i)&Do[l];return i.u+=l,Ft(i),g}return i.h=1,i.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(i){return i.Ra>>>(i.u&Mo-1)>>>0}function z(i){return n(i.bb<=i.Sb),i.h||i.bb==i.Sb&&i.u>Mo}function $(i,l){i.u=l,i.h=z(i)}function ot(i){i.u>=ha&&(n(i.u>=ha),Ft(i))}function mt(i){n(null!=i&&null!=i.oa),i.pa<i.Zc?(i.I=(i.oa[i.pa++]|i.I<<8)>>>0,i.b+=8):(n(null!=i&&null!=i.oa),i.pa<i.Yc?(i.b+=8,i.I=i.oa[i.pa++]|i.I<<8):i.Ka?i.b=0:(i.I<<=8,i.b+=8,i.Ka=1))}function vt(i){return wt(i,1)}function xt(i,l){var g=i.Ca;0>i.b&&mt(i);var b=i.b,A=g*l>>>8,P=(i.I>>>b>A)+0;for(P?(g-=A,i.I-=A+1<<b>>>0):g=A+1,b=g,A=0;256<=b;)A+=8,b>>=8;return i.b-=b=7^A+cn[b],i.Ca=(g<<b)-1,P}function oe(i,l,g){i[l+0]=g>>24&255,i[l+1]=g>>16&255,i[l+2]=g>>8&255,i[l+3]=g>>0&255}function re(i,l){return i[l+0]<<0|i[l+1]<<8}function pe(i,l){return re(i,l)|i[l+2]<<16}function _e(i,l){return re(i,l)|re(i,l+2)<<16}function qe(i,l){var g=1<<l;return n(null!=i),n(0<l),i.X=h(g),null==i.X?0:(i.Mb=32-l,i.Xa=l,1)}function Dt(i,l){n(null!=i),n(null!=l),n(i.Xa==l.Xa),u(l.X,0,i.X,0,1<<l.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function ze(i,l,g,b){n(null!=g),n(null!=b);var A=g[0],P=b[0];return 0==A&&(A=(i*P+l/2)/l),0==P&&(P=(l*A+i/2)/i),0>=A||0>=P?0:(g[0]=A,b[0]=P,1)}function Te(i,l){return i+(1<<l)-1>>>l}function ee(i,l){return((4278255360&i)+(4278255360&l)>>>0&4278255360)+((16711935&i)+(16711935&l)>>>0&16711935)>>>0}function ce(i,l){J[l]=function(g,b,A,P,k,L,D){var F;for(F=0;F<k;++F){var G=J[i](L[D+F-1],A,P+F);L[D+F]=ee(g[b+F],G)}}}function fe(){this.ud=this.hd=this.jd=0}function ue(i,l){return((4278124286&(i^l))>>>1)+(i&l)>>>0}function Se(i){return 0<=i&&256>i?i:0>i?0:255<i?255:void 0}function Ue(i,l){return Se(i+(i-l+.5>>1))}function Ve(i,l,g){return Math.abs(l-g)-Math.abs(i-g)}function Qe(i,l,g,b,A,P,k){for(b=P[k-1],g=0;g<A;++g)P[k+g]=b=ee(i[l+g],b)}function ni(i,l,g,b,A){var P;for(P=0;P<g;++P){var k=i[l+P],L=k>>8&255,D=16711935&(D=(D=16711935&k)+((L<<16)+L));b[A+P]=(4278255360&k)+D>>>0}}function ui(i,l){l.jd=i>>0&255,l.hd=i>>8&255,l.ud=i>>16&255}function Re(i,l,g,b,A,P){var k;for(k=0;k<b;++k){var L=l[g+k],D=L>>>8,F=L,G=255&(G=(G=L>>>16)+((i.jd<<24>>24)*(D<<24>>24)>>>5));F=255&(F=(F+=(i.hd<<24>>24)*(D<<24>>24)>>>5)+((i.ud<<24>>24)*(G<<24>>24)>>>5)),A[P+k]=(4278255360&L)+(G<<16)+F}}function $e(i,l,g,b,A){J[l]=function(P,k,L,D,F,G,lt,ht,nt){for(D=lt;D<ht;++D)for(lt=0;lt<nt;++lt)F[G++]=A(L[b(P[k++])])},J[i]=function(P,k,L,D,F,G,lt){var ht=8>>P.b,nt=P.Ea,Wt=P.K[0],St=P.w;if(8>ht)for(P=(1<<P.b)-1,St=(1<<ht)-1;k<L;++k){var K,it=0;for(K=0;K<nt;++K)K&P||(it=b(D[F++])),G[lt++]=A(Wt[it&St]),it>>=ht}else J["VP8LMapColor"+g](D,F,Wt,St,G,lt,k,L,nt)}}function ge(i,l,g,b,A){for(g=l+g;l<g;){var P=i[l++];b[A++]=P>>16&255,b[A++]=P>>8&255,b[A++]=P>>0&255}}function Gi(i,l,g,b,A){for(g=l+g;l<g;){var P=i[l++];b[A++]=P>>16&255,b[A++]=P>>8&255,b[A++]=P>>0&255,b[A++]=P>>24&255}}function ri(i,l,g,b,A){for(g=l+g;l<g;){var P=(k=i[l++])>>16&240|k>>12&15,k=k>>0&240|k>>28&15;b[A++]=P,b[A++]=k}}function Pn(i,l,g,b,A){for(g=l+g;l<g;){var P=(k=i[l++])>>16&248|k>>13&7,k=k>>5&224|k>>3&31;b[A++]=P,b[A++]=k}}function di(i,l,g,b,A){for(g=l+g;l<g;){var P=i[l++];b[A++]=P>>0&255,b[A++]=P>>8&255,b[A++]=P>>16&255}}function bi(i,l,g,b,A,P){if(0==P)for(g=l+g;l<g;)oe(b,((P=i[l++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),A+=32;else u(b,A,i,l,g)}function Vn(i,l){J[l][0]=J[i+"0"],J[l][1]=J[i+"1"],J[l][2]=J[i+"2"],J[l][3]=J[i+"3"],J[l][4]=J[i+"4"],J[l][5]=J[i+"5"],J[l][6]=J[i+"6"],J[l][7]=J[i+"7"],J[l][8]=J[i+"8"],J[l][9]=J[i+"9"],J[l][10]=J[i+"10"],J[l][11]=J[i+"11"],J[l][12]=J[i+"12"],J[l][13]=J[i+"13"],J[l][14]=J[i+"0"],J[l][15]=J[i+"0"]}function ai(i){return i==el||i==il||i==Qs||i==nl}function jr(){this.eb=[],this.size=this.A=this.fb=0}function Ai(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jr,this.f.kb=new Ai,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ci(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ye(i){return alert("todo:WebPSamplerProcessPlane"),i.T}function si(i,l){var g=i.T,b=l.ba.f.RGBA,A=b.eb,P=b.fb+i.ka*b.A,k=bn[l.ba.S],L=i.y,D=i.O,F=i.f,G=i.N,lt=i.ea,ht=i.W,nt=l.cc,Wt=l.dc,St=l.Mc,K=l.Nc,it=i.ka,jt=i.ka+i.T,Qt=i.U,Jt=Qt+1>>1;for(0==it?k(L,D,null,null,F,G,lt,ht,F,G,lt,ht,A,P,null,null,Qt):(k(l.ec,l.fc,L,D,nt,Wt,St,K,F,G,lt,ht,A,P-b.A,A,P,Qt),++g);it+2<jt;it+=2)k(L,(D+=2*i.fa)-i.fa,L,D,nt=F,Wt=G,St=lt,K=ht,F,G+=i.Rc,lt,ht+=i.Rc,A,(P+=2*b.A)-b.A,A,P,Qt);return D+=i.fa,i.j+jt<i.o?(u(l.ec,l.fc,L,D,Qt),u(l.cc,l.dc,F,G,Jt),u(l.Mc,l.Nc,lt,ht,Jt),g--):1&jt||k(L,D,null,null,F,G,lt,ht,F,G,lt,ht,A,P+b.A,null,null,Qt),g}function Hr(i,l,g){var b=i.F,A=[i.J];if(null!=b){var P=i.U,k=l.ba.S,L=k==Gs||k==Qs;l=l.ba.f.RGBA;var D=[0],F=i.ka;D[0]=i.T,i.Kb&&(0==F?--D[0]:(--F,A[0]-=i.width),i.j+i.ka+i.T==i.o&&(D[0]=i.o-i.j-F));var G=l.eb;i=Ga(b,A[0],i.width,P,D,G,(F=l.fb+F*l.A)+(L?0:3),l.A),n(g==D),i&&ai(k)&&Nr(G,F,L,P,D,l.A)}return 0}function Hi(i){var l=i.ma,g=l.ba.S,b=11>g,A=g==Ws||g==$a||g==Gs||g==tl||12==g||ai(g);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!la(l.Oa,i,A?11:12))return 0;if(A&&ai(g)&&Kt(),i.da)alert("todo:use_scaling");else{if(b){if(l.Ib=Ye,i.Kb){if(l.memory=h(i.U+2*(g=i.U+1>>1)),null==l.memory)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+i.U,l.Mc=l.cc,l.Nc=l.dc+g,l.Ib=si,Kt()}}else alert("todo:EmitYUV");A&&(l.Jb=Hr,b&&at())}if(b&&!ul){for(i=0;256>i;++i)vu[i]=89858*(i-128)+Xa>>Xs,c[i]=-22014*(i-128)+Xa,s[i]=-45773*(i-128),bu[i]=113618*(i-128)+Xa>>Xs;for(i=ma;i<ll;++i)e[i-ma]=un(l=76283*(i-16)+Xa>>Xs,255),r[i-ma]=un(l+8>>4,15);ul=1}return 1}function Wn(i){var l=i.ma,g=i.U,b=i.T;return n(!(1&i.ka)),0>=g||0>=b?0:(g=l.Ib(i,l),null!=l.Jb&&l.Jb(i,l,g),l.Dc+=g,1)}function Gn(i){i.ma.memory=null}function Oe(i,l,g,b){return 47!=Mt(i,8)?0:(l[0]=Mt(i,14)+1,g[0]=Mt(i,14)+1,b[0]=Mt(i,1),0!=Mt(i,3)?0:!i.h)}function Sn(i,l){if(4>i)return i+1;var g=i-2>>1;return(2+(1&i)<<g)+Mt(l,g)+1}function Qn(i,l){return 120<l?l-120:1<=(g=((g=nh[l-1])>>4)*i+(8-(15&g)))?g:1;var g}function on(i,l,g){var b=j(g),A=i[l+=255&b].g-8;return 0<A&&($(g,g.u+8),b=j(g),l+=i[l].value,l+=b&(1<<A)-1),$(g,g.u+i[l].g),i[l].value}function Ei(i,l,g){return g.g+=i.g,g.value+=i.value<<l>>>0,n(8>=g.g),i.g}function Di(i,l,g){var b=i.xc;return n((l=0==b?0:i.vc[i.md*(g>>b)+(l>>b)])<i.Wb),i.Ya[l]}function ln(i,l,g,b){var A=i.ab,P=i.c*l,k=i.C;l=k+l;var L=g,D=b;for(b=i.Ta,g=i.Ua;0<A--;){var F=i.gc[A],G=k,lt=l,ht=L,nt=D,Wt=(D=b,L=g,F.Ea);switch(n(G<lt),n(lt<=F.nc),F.hc){case 2:Wa(ht,nt,(lt-G)*Wt,D,L);break;case 0:var St=G,K=lt,it=D,jt=L,Qt=(he=F).Ea;0==St&&(Hs(ht,nt,null,null,1,it,jt),Qe(ht,nt+1,0,0,Qt-1,it,jt+1),nt+=Qt,jt+=Qt,++St);for(var Jt=1<<he.b,ve=Jt-1,le=Te(Qt,he.b),Ee=he.K,he=he.w+(St>>he.b)*le;St<K;){var ci=Ee,pi=he,oi=1;for(da(ht,nt,it,jt-Qt,1,it,jt);oi<Qt;){var ii=(oi&~ve)+Jt;ii>Qt&&(ii=Qt),(0,Tr[ci[pi++]>>8&15])(ht,nt+ +oi,it,jt+oi-Qt,ii-oi,it,jt+oi),oi=ii}nt+=Qt,jt+=Qt,++St&ve||(he+=le)}lt!=F.nc&&u(D,L-Wt,D,L+(lt-G-1)*Wt,Wt);break;case 1:for(Wt=ht,K=nt,Qt=(ht=F.Ea)-(jt=ht&~(it=(nt=1<<F.b)-1)),St=Te(ht,F.b),Jt=F.K,F=F.w+(G>>F.b)*St;G<lt;){for(ve=Jt,le=F,Ee=new fe,he=K+jt,ci=K+ht;K<he;)ui(ve[le++],Ee),mn(Ee,Wt,K,nt,D,L),K+=nt,L+=nt;K<ci&&(ui(ve[le++],Ee),mn(Ee,Wt,K,Qt,D,L),K+=Qt,L+=Qt),++G&it||(F+=St)}break;case 3:if(ht==D&&nt==L&&0<F.b){for(K=D,ht=Wt=L+(lt-G)*Wt-(jt=(lt-G)*Te(F.Ea,F.b)),nt=D,it=L,St=[],jt=(Qt=jt)-1;0<=jt;--jt)St[jt]=nt[it+jt];for(jt=Qt-1;0<=jt;--jt)K[ht+jt]=St[jt];En(F,G,lt,D,Wt,D,L)}else En(F,G,lt,ht,nt,D,L)}L=b,D=g}D!=g&&u(b,g,L,D,P)}function go(i,l){var g=i.V,b=i.Ba+i.c*i.C,A=l-i.C;if(n(l<=i.l.o),n(16>=A),0<A){var P=i.l,k=i.Ta,L=i.Ua,D=P.width;if(ln(i,A,g,b),A=L=[L],n((g=i.C)<(b=l)),n(P.v<P.va),b>P.o&&(b=P.o),g<P.j){var F=P.j-g;g=P.j,A[0]+=F*D}if(g>=b?g=0:(A[0]+=4*P.v,P.ka=g-P.j,P.U=P.va-P.v,P.T=b-g,g=1),g){if(L=L[0],11>(g=i.ca).S){var G=g.f.RGBA,lt=(b=g.S,A=P.U,P=P.T,F=G.eb,G.A),ht=P;for(G=G.fb+i.Ma*G.A;0<ht--;){var nt=k,Wt=L,St=A,K=F,it=G;switch(b){case Vs:Fn(nt,Wt,St,K,it);break;case Ws:Pr(nt,Wt,St,K,it);break;case el:Pr(nt,Wt,St,K,it),Nr(K,it,0,St,1,0);break;case ou:Oo(nt,Wt,St,K,it);break;case $a:bi(nt,Wt,St,K,it,1);break;case il:bi(nt,Wt,St,K,it,1),Nr(K,it,0,St,1,0);break;case Gs:bi(nt,Wt,St,K,it,0);break;case Qs:bi(nt,Wt,St,K,it,0),Nr(K,it,1,St,1,0);break;case tl:ir(nt,Wt,St,K,it);break;case nl:ir(nt,Wt,St,K,it),qo(K,it,St,1,0);break;case au:ur(nt,Wt,St,K,it);break;default:n(0)}L+=D,G+=lt}i.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");n(i.Ma<=g.height)}}i.C=l,n(i.C<=i.i)}function sr(i){var l;if(0<i.ua)return 0;for(l=0;l<i.Wb;++l){var g=i.Ya[l].G,b=i.Ya[l].H;if(0<g[1][b[1]+0].g||0<g[2][b[2]+0].g||0<g[3][b[3]+0].g)return 0}return 1}function Nn(i,l,g,b,A,P){if(0!=i.Z){var k=i.qd,L=i.rd;for(n(null!=eo[i.Z]);l<g;++l)eo[i.Z](k,L,b,A,b,A,P),k=b,L=A,A+=P;i.qd=k,i.rd=L}}function Ln(i,l){var g=i.l.ma,b=0==g.Z||1==g.Z?i.l.j:i.C;if(b=i.C<b?b:i.C,n(l<=i.l.o),l>b){var A=i.l.width,P=g.ca,k=g.tb+A*b,L=i.V,D=i.Ba+i.c*b,F=i.gc;n(1==i.ab),n(3==F[0].hc),zs(F[0],b,l,L,D,P,k),Nn(g,b,l,P,k,A)}i.C=i.Ma=l}function Zn(i,l,g,b,A,P,k){var L=i.$/b,D=i.$%b,F=i.m,G=i.s,lt=g+i.$,ht=lt;A=g+b*A;var nt=g+b*P,Wt=280+G.ua,St=i.Pb?L:16777216,K=0<G.ua?G.Wa:null,it=G.wc,jt=lt<nt?Di(G,D,L):null;n(i.C<P),n(nt<=A);var Qt=!1;t:for(;;){for(;Qt||lt<nt;){var Jt=0;if(L>=St){var ve=lt-g;n((St=i).Pb),St.wd=St.m,St.xd=ve,0<St.s.ua&&Dt(St.s.Wa,St.s.vb),St=L+oh}if(D&it||(jt=Di(G,D,L)),n(null!=jt),jt.Qb&&(l[lt]=jt.qb,Qt=!0),!Qt)if(ot(F),jt.jc){ve=l;var le=lt,Ee=jt.pd[j(Jt=F)&sn-1];n(jt.jc),256>Ee.g?($(Jt,Jt.u+Ee.g),ve[le]=Ee.value,Jt=0):($(Jt,Jt.u+Ee.g-256),n(256<=Ee.value),Jt=Ee.value),0==Jt&&(Qt=!0)}else Jt=on(jt.G[0],jt.H[0],F);if(F.h)break;if(Qt||256>Jt){if(!Qt)if(jt.nd)l[lt]=(jt.qb|Jt<<8)>>>0;else{if(ot(F),Qt=on(jt.G[1],jt.H[1],F),ot(F),ve=on(jt.G[2],jt.H[2],F),le=on(jt.G[3],jt.H[3],F),F.h)break;l[lt]=(le<<24|Qt<<16|Jt<<8|ve)>>>0}if(Qt=!1,++lt,++D>=b&&(D=0,++L,null!=k&&L<=P&&!(L%16)&&k(i,L),null!=K))for(;ht<lt;)Jt=l[ht++],K.X[(506832829*Jt&4294967295)>>>K.Mb]=Jt}else if(280>Jt){if(Jt=Sn(Jt-256,F),ve=on(jt.G[4],jt.H[4],F),ot(F),ve=Qn(b,ve=Sn(ve,F)),F.h)break;if(lt-g<ve||A-lt<Jt)break t;for(le=0;le<Jt;++le)l[lt+le]=l[lt+le-ve];for(lt+=Jt,D+=Jt;D>=b;)D-=b,++L,null!=k&&L<=P&&!(L%16)&&k(i,L);if(n(lt<=A),D&it&&(jt=Di(G,D,L)),null!=K)for(;ht<lt;)Jt=l[ht++],K.X[(506832829*Jt&4294967295)>>>K.Mb]=Jt}else{if(!(Jt<Wt))break t;for(Qt=Jt-280,n(null!=K);ht<lt;)Jt=l[ht++],K.X[(506832829*Jt&4294967295)>>>K.Mb]=Jt;Jt=lt,n(!(Qt>>>(ve=K).Xa)),l[Jt]=ve.X[Qt],Qt=!0}Qt||n(F.h==z(F))}if(i.Pb&&F.h&&lt<A)n(i.m.h),i.a=5,i.m=i.wd,i.$=i.xd,0<i.s.ua&&Dt(i.s.vb,i.s.Wa);else{if(F.h)break t;null!=k&&k(i,L>P?P:L),i.a=0,i.$=lt-g}return 1}return i.a=3,0}function $n(i){n(null!=i),i.vc=null,i.yc=null,i.Ya=null;var l=i.Wa;null!=l&&(l.X=null),i.vb=null,n(null!=i)}function pn(){var i=new js;return null==i?null:(i.a=0,i.xb=du,Vn("Predictor","VP8LPredictors"),Vn("Predictor","VP8LPredictors_C"),Vn("PredictorAdd","VP8LPredictorsAdd"),Vn("PredictorAdd","VP8LPredictorsAdd_C"),Wa=ni,mn=Re,Fn=ge,Pr=Gi,ir=ri,ur=Pn,Oo=di,J.VP8LMapColor32b=pa,J.VP8LMapColor8b=Ys,i)}function Kn(i,l,g,b,A){var P=1,k=[i],L=[l],D=b.m,F=b.s,G=null,lt=0;t:for(;;){if(g)for(;P&&Mt(D,1);){var ht=k,nt=L,Wt=b,St=1,K=Wt.m,it=Wt.gc[Wt.ab],jt=Mt(K,2);if(Wt.Oc&1<<jt)P=0;else{switch(Wt.Oc|=1<<jt,it.hc=jt,it.Ea=ht[0],it.nc=nt[0],it.K=[null],++Wt.ab,n(4>=Wt.ab),jt){case 0:case 1:it.b=Mt(K,3)+2,St=Kn(Te(it.Ea,it.b),Te(it.nc,it.b),0,Wt,it.K),it.K=it.K[0];break;case 3:var Qt,Jt=Mt(K,8)+1,ve=16<Jt?0:4<Jt?1:2<Jt?2:3;if(ht[0]=Te(it.Ea,ve),it.b=ve,Qt=St=Kn(Jt,1,0,Wt,it.K)){var le,Ee=Jt,he=it,ci=1<<(8>>he.b),pi=h(ci);if(null==pi)Qt=0;else{var oi=he.K[0],ii=he.w;for(pi[0]=he.K[0][0],le=1;le<1*Ee;++le)pi[le]=ee(oi[ii+le],pi[le-1]);for(;le<4*ci;++le)pi[le]=0;he.K[0]=null,he.K[0]=pi,Qt=1}}St=Qt;break;case 2:break;default:n(0)}P=St}}if(k=k[0],L=L[0],P&&Mt(D,1)&&!(P=1<=(lt=Mt(D,4))&&11>=lt)){b.a=3;break t}var vi;if(vi=P)e:{var _i,Ge,Ui,yn=b,ji=k,xn=L,fi=lt,Un=g,jn=yn.m,$i=yn.s,tn=[null],hn=1,rr=0,Zr=rh[fi];i:for(;;){if(Un&&Mt(jn,1)){var Ki=Mt(jn,3)+2,io=Te(ji,Ki),_a=Te(xn,Ki),ts=io*_a;if(!Kn(io,_a,0,yn,tn))break i;for(tn=tn[0],$i.xc=Ki,_i=0;_i<ts;++_i){var Ro=tn[_i]>>8&65535;tn[_i]=Ro,Ro>=hn&&(hn=Ro+1)}}if(jn.h)break i;for(Ge=0;5>Ge;++Ge){var Mi=su[Ge];!Ge&&0<fi&&(Mi+=1<<fi),rr<Mi&&(rr=Mi)}var yu=f(hn*Zr,O),uh=hn,hh=f(uh,V);if(null==hh)var hl=null;else n(65536>=uh),hl=hh;var tc=h(rr);if(null==hl||null==tc||null==yu){yn.a=1;break i}var dl=yu;for(_i=Ui=0;_i<hn;++_i){var fr=hl[_i],es=fr.G,is=fr.H,dh=0,pl=1,ph=0;for(Ge=0;5>Ge;++Ge){Mi=su[Ge],es[Ge]=dl,is[Ge]=Ui,!Ge&&0<fi&&(Mi+=1<<fi);r:{var fl,xu=Mi,gl=yn,ec=tc,Th=dl,Ph=Ui,wu=0,Bo=gl.m,kh=Mt(Bo,1);if(d(ec,0,0,xu),kh){var Sh=Mt(Bo,1)+1,Nh=Mt(Bo,1),fh=Mt(Bo,0==Nh?1:8);ec[fh]=1,2==Sh&&(ec[fh=Mt(Bo,8)]=1);var ml=1}else{var gh=h(19),mh=Mt(Bo,4)+4;if(19<mh){gl.a=3;var _l=0;break r}for(fl=0;fl<mh;++fl)gh[ih[fl]]=Mt(Bo,3);var Au=void 0,ic=void 0,_h=gl,Lh=gh,vl=xu,vh=ec,Cu=0,Uo=_h.m,bh=8,yh=f(128,O);n:for(;E(yh,0,7,Lh,19);){if(Mt(Uo,1)){var Zh=2+2*Mt(Uo,3);if((Au=2+Mt(Uo,Zh))>vl)break n}else Au=vl;for(ic=0;ic<vl&&Au--;){ot(Uo);var xh=yh[0+(127&j(Uo))];$(Uo,Uo.u+xh.g);var ns=xh.value;if(16>ns)vh[ic++]=ns,0!=ns&&(bh=ns);else{var Dh=16==ns,wh=ns-16,Ih=rl[wh],Ah=Mt(Uo,th[wh])+Ih;if(ic+Ah>vl)break n;for(var Mh=Dh?bh:0;0<Ah--;)vh[ic++]=Mh}}Cu=1;break n}Cu||(_h.a=3),ml=Cu}(ml=ml&&!Bo.h)&&(wu=E(Th,Ph,8,ec,xu)),ml&&0!=wu?_l=wu:(gl.a=3,_l=0)}if(0==_l)break i;if(pl&&1==eh[Ge]&&(pl=0==dl[Ui].g),dh+=dl[Ui].g,Ui+=_l,3>=Ge){var nc,Tu=tc[0];for(nc=1;nc<Mi;++nc)tc[nc]>Tu&&(Tu=tc[nc]);ph+=Tu}}if(fr.nd=pl,fr.Qb=0,pl&&(fr.qb=(es[3][is[3]+0].value<<24|es[1][is[1]+0].value<<16|es[2][is[2]+0].value)>>>0,0==dh&&256>es[0][is[0]+0].value&&(fr.Qb=1,fr.qb+=es[0][is[0]+0].value<<8)),fr.jc=!fr.Qb&&6>ph,fr.jc){var bl,no=fr;for(bl=0;bl<sn;++bl){var jo=bl,Ho=no.pd[jo],yl=no.G[0][no.H[0]+jo];256<=yl.value?(Ho.g=yl.g+256,Ho.value=yl.value):(Ho.g=0,Ho.value=0,jo>>=Ei(yl,8,Ho),jo>>=Ei(no.G[1][no.H[1]+jo],16,Ho),jo>>=Ei(no.G[2][no.H[2]+jo],0,Ho),Ei(no.G[3][no.H[3]+jo],24,Ho))}}}$i.vc=tn,$i.Wb=hn,$i.Ya=hl,$i.yc=yu,vi=1;break e}vi=0}if(!(P=vi)){b.a=3;break t}if(0<lt){if(F.ua=1<<lt,!qe(F.Wa,lt)){b.a=1,P=0;break t}}else F.ua=0;var Pu=b,Ch=k,Oh=L,ku=Pu.s,Su=ku.xc;if(Pu.c=Ch,Pu.i=Oh,ku.md=Te(Ch,Su),ku.wc=0==Su?-1:(1<<Su)-1,g){b.xb=ch;break t}if(null==(G=h(k*L))){b.a=1,P=0;break t}P=(P=Zn(b,G,0,k,L,L,null))&&!D.h;break t}return P?(null!=A?A[0]=G:(n(null==G),n(g)),b.$=0,g||$n(F)):$n(F),P}function zr(i,l){var g=i.c*i.i,b=g+l+16*l;return n(i.c<=l),i.V=h(b),null==i.V?(i.Ta=null,i.Ua=0,i.a=1,0):(i.Ta=i.V,i.Ua=i.Ba+g+l,1)}function mo(i,l){var g=i.C,b=l-g,A=i.V,P=i.Ba+i.c*g;for(n(l<=i.l.o);0<b;){var k=16<b?16:b,L=i.l.ma,D=i.l.width,F=D*k,G=L.ca,lt=L.tb+D*g,ht=i.Ta,nt=i.Ua;ln(i,k,A,P),Qc(ht,nt,G,lt,F),Nn(L,g,g+k,G,lt,D),b-=k,A+=k*i.c,g+=k}n(g==l),i.C=i.Ma=l}function _o(){this.ub=this.yd=this.td=this.Rb=0}function vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bo(){this.Fb=this.Bb=this.Cb=0,this.Zb=h(4),this.Lb=h(4)}function Za(){var i;this.Yb=(function l(g,b,A){for(var P=A[b],k=0;k<P&&(g.push(A.length>b+1?[]:0),!(A.length<b+1));k++)l(g[k],b+1,A)}(i=[],0,[3,11]),i)}function As(){this.jb=h(3),this.Wc=_([4,8],Za),this.Xc=_([4,17],Za)}function Cs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new h(4),this.od=new h(4)}function yo(){this.ld=this.La=this.dd=this.tc=0}function Da(){this.Na=this.la=0}function Ts(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qo(){this.ad=h(384),this.Za=0,this.Ob=h(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ps(){this.uc=this.M=this.Nb=0,this.wa=Array(new yo),this.Y=0,this.ya=Array(new Qo),this.aa=0,this.l=new xo}function Ia(){this.y=h(16),this.f=h(8),this.ea=h(8)}function ks(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new _o,this.Kc=new vo,this.ed=new Cs,this.Qa=new bo,this.Ic=this.$c=this.Aa=0,this.D=new Ps,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,de),this.ia=0,this.pb=f(4,Ts),this.Pa=new As,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ia),this.Hd=0,this.rb=Array(new Da),this.sb=0,this.wa=Array(new yo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qo),this.L=this.aa=0,this.gd=_([4,2],yo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ss(){var i=new ks;return null!=i&&(i.a=0,i.sc="OK",i.cb=0,i.Xb=0,Ka||(Ka=Ea)),i}function Ni(i,l,g){return 0==i.a&&(i.a=l,i.sc=g,i.cb=0),0}function Ma(i,l,g){return 3<=g&&157==i[l+0]&&1==i[l+1]&&42==i[l+2]}function Oa(i,l){if(null==i)return 0;if(i.a=0,i.sc="OK",null==l)return Ni(i,2,"null VP8Io passed to VP8GetHeaders()");var g=l.data,b=l.w,A=l.ha;if(4>A)return Ni(i,7,"Truncated header.");var P=g[b+0]|g[b+1]<<8|g[b+2]<<16,k=i.Od;if(k.Rb=!(1&P),k.td=P>>1&7,k.yd=P>>4&1,k.ub=P>>5,3<k.td)return Ni(i,3,"Incorrect keyframe parameters.");if(!k.yd)return Ni(i,4,"Frame not displayable.");b+=3,A-=3;var L=i.Kc;if(k.Rb){if(7>A)return Ni(i,7,"cannot parse picture header");if(!Ma(g,b,A))return Ni(i,3,"Bad code word");L.c=16383&(g[b+4]<<8|g[b+3]),L.Td=g[b+4]>>6,L.i=16383&(g[b+6]<<8|g[b+5]),L.Ud=g[b+6]>>6,b+=7,A-=7,i.za=L.c+15>>4,i.Ub=L.i+15>>4,l.width=L.c,l.height=L.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,d((P=i.Pa).jb,0,255,P.jb.length),n(null!=(P=i.Qa)),P.Cb=0,P.Bb=0,P.Fb=1,d(P.Zb,0,0,P.Zb.length),d(P.Lb,0,0,P.Lb)}if(k.ub>A)return Ni(i,7,"bad partition length");Pt(P=i.m,g,b,k.ub),b+=k.ub,A-=k.ub,k.Rb&&(L.Ld=vt(P),L.Kd=vt(P)),L=i.Qa;var D,F=i.Pa;if(n(null!=P),n(null!=L),L.Cb=vt(P),L.Cb){if(L.Bb=vt(P),vt(P)){for(L.Fb=vt(P),D=0;4>D;++D)L.Zb[D]=vt(P)?Et(P,7):0;for(D=0;4>D;++D)L.Lb[D]=vt(P)?Et(P,6):0}if(L.Bb)for(D=0;3>D;++D)F.jb[D]=vt(P)?wt(P,8):255}else L.Bb=0;if(P.Ka)return Ni(i,3,"cannot parse segment header");if((L=i.ed).zd=vt(P),L.Tb=wt(P,6),L.wb=wt(P,3),L.Pc=vt(P),L.Pc&&vt(P)){for(F=0;4>F;++F)vt(P)&&(L.vd[F]=Et(P,6));for(F=0;4>F;++F)vt(P)&&(L.od[F]=Et(P,6))}if(i.L=0==L.Tb?0:L.zd?1:2,P.Ka)return Ni(i,3,"cannot parse filter header");var G=A;if(A=D=b,b=D+G,L=G,i.Xb=(1<<wt(i.m,2))-1,G<3*(F=i.Xb))g=7;else{for(D+=3*F,L-=3*F,G=0;G<F;++G){var lt=g[A+0]|g[A+1]<<8|g[A+2]<<16;lt>L&&(lt=L),Pt(i.Jc[+G],g,D,lt),D+=lt,L-=lt,A+=3}Pt(i.Jc[+F],g,D,L),g=D<b?0:5}if(0!=g)return Ni(i,g,"cannot parse partitions");for(g=wt(D=i.m,7),A=vt(D)?Et(D,4):0,b=vt(D)?Et(D,4):0,L=vt(D)?Et(D,4):0,F=vt(D)?Et(D,4):0,D=vt(D)?Et(D,4):0,G=i.Qa,lt=0;4>lt;++lt){if(G.Cb){var ht=G.Zb[lt];G.Fb||(ht+=g)}else{if(0<lt){i.pb[lt]=i.pb[0];continue}ht=g}var nt=i.pb[lt];nt.Sc[0]=ol[un(ht+A,127)],nt.Sc[1]=al[un(ht+0,127)],nt.Eb[0]=2*ol[un(ht+b,127)],nt.Eb[1]=101581*al[un(ht+L,127)]>>16,8>nt.Eb[1]&&(nt.Eb[1]=8),nt.Qc[0]=ol[un(ht+F,117)],nt.Qc[1]=al[un(ht+D,127)],nt.lc=ht+D}if(!k.Rb)return Ni(i,4,"Not a key frame.");for(vt(P),k=i.Pa,g=0;4>g;++g){for(A=0;8>A;++A)for(b=0;3>b;++b)for(L=0;11>L;++L)F=xt(P,$s[g][A][b][L])?wt(P,8):lu[g][A][b][L],k.Wc[g][A].Yb[b][L]=F;for(A=0;17>A;++A)k.Xc[g][A]=k.Wc[g][hu[A]]}return i.kc=vt(P),i.kc&&(i.Bd=wt(P,8)),i.cb=1}function Ea(i,l,g,b,A,P,k){var L=l[A].Yb[g];for(g=0;16>A;++A){if(!xt(i,L[g+0]))return A;for(;!xt(i,L[g+1]);)if(L=l[++A].Yb[0],g=0,16==A)return 16;var D=l[A+1].Yb;if(xt(i,L[g+2])){var F=i,G=0;if(xt(F,(ht=L)[(lt=g)+3]))if(xt(F,ht[lt+6])){for(L=0,lt=2*(G=xt(F,ht[lt+8]))+(ht=xt(F,ht[lt+9+G])),G=0,ht=ah[lt];ht[L];++L)G+=G+xt(F,ht[L]);G+=3+(8<<lt)}else xt(F,ht[lt+7])?(G=7+2*xt(F,165),G+=xt(F,145)):G=5+xt(F,159);else G=xt(F,ht[lt+4])?3+xt(F,ht[lt+5]):2;L=D[2]}else G=1,L=D[1];D=k+sh[A],0>(F=i).b&&mt(F);var lt,ht=F.b,nt=(lt=F.Ca>>1)-(F.I>>ht)>>31;--F.b,F.Ca+=nt,F.Ca|=1,F.I-=(lt+1&nt)<<ht,P[D]=((G^nt)-nt)*b[(0<A)+0]}return 16}function $o(i){var l=i.rb[i.sb-1];l.la=0,l.Na=0,d(i.zc,0,0,i.zc.length),i.ja=0}function Dn(i,l,g,b,A){i[l+g+32*b]=-256&(A=i[l+g+32*b]+(A>>3))?0>A?0:255:A}function wo(i,l,g,b,A,P){Dn(i,l,0,g,b+A),Dn(i,l,1,g,b+P),Dn(i,l,2,g,b-P),Dn(i,l,3,g,b-A)}function an(i){return(20091*i>>16)+i}function Ko(i,l,g,b){var A,P=0,k=h(16);for(A=0;4>A;++A){var L=i[l+0]+i[l+8],D=i[l+0]-i[l+8],F=(35468*i[l+4]>>16)-an(i[l+12]),G=an(i[l+4])+(35468*i[l+12]>>16);k[P+0]=L+G,k[P+1]=D+F,k[P+2]=D-F,k[P+3]=L-G,P+=4,l++}for(A=P=0;4>A;++A)L=(i=k[P+0]+4)+k[P+8],D=i-k[P+8],F=(35468*k[P+4]>>16)-an(k[P+12]),Dn(g,b,0,0,L+(G=an(k[P+4])+(35468*k[P+12]>>16))),Dn(g,b,1,0,D+F),Dn(g,b,2,0,D-F),Dn(g,b,3,0,L-G),P++,b+=32}function Fa(i,l,g,b){var A=i[l+0]+4,P=35468*i[l+4]>>16,k=an(i[l+4]),L=35468*i[l+1]>>16;wo(g,b,0,A+k,i=an(i[l+1]),L),wo(g,b,1,A+P,i,L),wo(g,b,2,A-P,i,L),wo(g,b,3,A-k,i,L)}function Ls(i,l,g,b,A){Ko(i,l,g,b),A&&Ko(i,l+16,g,b+4)}function qa(i,l,g,b){Eo(i,l+0,g,b,1),Eo(i,l+32,g,b+128,1)}function xr(i,l,g,b){var A;for(i=i[l+0]+4,A=0;4>A;++A)for(l=0;4>l;++l)Dn(g,b,l,A,i)}function Ra(i,l,g,b){i[l+0]&&Rn(i,l+0,g,b),i[l+16]&&Rn(i,l+16,g,b+4),i[l+32]&&Rn(i,l+32,g,b+128),i[l+48]&&Rn(i,l+48,g,b+128+4)}function Zs(i,l,g,b){var A,P=h(16);for(A=0;4>A;++A){var k=i[l+0+A]+i[l+12+A],L=i[l+4+A]+i[l+8+A],D=i[l+4+A]-i[l+8+A],F=i[l+0+A]-i[l+12+A];P[0+A]=k+L,P[8+A]=k-L,P[4+A]=F+D,P[12+A]=F-D}for(A=0;4>A;++A)k=(i=P[0+4*A]+3)+P[3+4*A],D=P[1+4*A]-P[2+4*A],F=i-P[3+4*A],g[b+0]=k+(L=P[1+4*A]+P[2+4*A])>>3,g[b+16]=F+D>>3,g[b+32]=k-L>>3,g[b+48]=F-D>>3,b+=64}function Xo(i,l,g){var b,A=l-32,P=vn,k=255-i[A-1];for(b=0;b<g;++b){var L,D=P,F=k+i[l-1];for(L=0;L<g;++L)i[l+L]=D[F+i[A+L]];l+=32}}function Ds(i,l){Xo(i,l,4)}function In(i,l){Xo(i,l,8)}function Mn(i,l){Xo(i,l,16)}function Xn(i,l){var g;for(g=0;16>g;++g)u(i,l+32*g,i,l-32,16)}function Yr(i,l){var g;for(g=16;0<g;--g)d(i,l,i[l-1],16),l+=32}function fn(i,l,g){var b;for(b=0;16>b;++b)d(l,g+32*b,i,16)}function ti(i,l){var g,b=16;for(g=0;16>g;++g)b+=i[l-1+32*g]+i[l+g-32];fn(b>>5,i,l)}function Ke(i,l){var g,b=8;for(g=0;16>g;++g)b+=i[l-1+32*g];fn(b>>4,i,l)}function Is(i,l){var g,b=8;for(g=0;16>g;++g)b+=i[l+g-32];fn(b>>4,i,l)}function Ao(i,l){fn(128,i,l)}function je(i,l,g){return i+2*l+g+2>>2}function Wc(i,l){var g,b=l-32;for(b=new Uint8Array([je(i[b-1],i[b+0],i[b+1]),je(i[b+0],i[b+1],i[b+2]),je(i[b+1],i[b+2],i[b+3]),je(i[b+2],i[b+3],i[b+4])]),g=0;4>g;++g)u(i,l+32*g,b,0,b.length)}function Ms(i,l){var g=i[l-1],b=i[l-1+32],A=i[l-1+64],P=i[l-1+96];oe(i,l+0,16843009*je(i[l-1-32],g,b)),oe(i,l+32,16843009*je(g,b,A)),oe(i,l+64,16843009*je(b,A,P)),oe(i,l+96,16843009*je(A,P,P))}function tr(i,l){var g,b=4;for(g=0;4>g;++g)b+=i[l+g-32]+i[l-1+32*g];for(b>>=3,g=0;4>g;++g)d(i,l+32*g,b,4)}function Ba(i,l){var g=i[l-1+0],b=i[l-1+32],A=i[l-1+64],P=i[l-1-32],k=i[l+0-32],L=i[l+1-32],D=i[l+2-32],F=i[l+3-32];i[l+0+96]=je(b,A,i[l-1+96]),i[l+1+96]=i[l+0+64]=je(g,b,A),i[l+2+96]=i[l+1+64]=i[l+0+32]=je(P,g,b),i[l+3+96]=i[l+2+64]=i[l+1+32]=i[l+0+0]=je(k,P,g),i[l+3+64]=i[l+2+32]=i[l+1+0]=je(L,k,P),i[l+3+32]=i[l+2+0]=je(D,L,k),i[l+3+0]=je(F,D,L)}function Ua(i,l){var g=i[l+1-32],b=i[l+2-32],A=i[l+3-32],P=i[l+4-32],k=i[l+5-32],L=i[l+6-32],D=i[l+7-32];i[l+0+0]=je(i[l+0-32],g,b),i[l+1+0]=i[l+0+32]=je(g,b,A),i[l+2+0]=i[l+1+32]=i[l+0+64]=je(b,A,P),i[l+3+0]=i[l+2+32]=i[l+1+64]=i[l+0+96]=je(A,P,k),i[l+3+32]=i[l+2+64]=i[l+1+96]=je(P,k,L),i[l+3+64]=i[l+2+96]=je(k,L,D),i[l+3+96]=je(L,D,D)}function Jr(i,l){var g=i[l-1+0],b=i[l-1+32],A=i[l-1+64],P=i[l-1-32],k=i[l+0-32],L=i[l+1-32],D=i[l+2-32],F=i[l+3-32];i[l+0+0]=i[l+1+64]=P+k+1>>1,i[l+1+0]=i[l+2+64]=k+L+1>>1,i[l+2+0]=i[l+3+64]=L+D+1>>1,i[l+3+0]=D+F+1>>1,i[l+0+96]=je(A,b,g),i[l+0+64]=je(b,g,P),i[l+0+32]=i[l+1+96]=je(g,P,k),i[l+1+32]=i[l+2+96]=je(P,k,L),i[l+2+32]=i[l+3+96]=je(k,L,D),i[l+3+32]=je(L,D,F)}function ta(i,l){var g=i[l+0-32],b=i[l+1-32],A=i[l+2-32],P=i[l+3-32],k=i[l+4-32],L=i[l+5-32],D=i[l+6-32],F=i[l+7-32];i[l+0+0]=g+b+1>>1,i[l+1+0]=i[l+0+64]=b+A+1>>1,i[l+2+0]=i[l+1+64]=A+P+1>>1,i[l+3+0]=i[l+2+64]=P+k+1>>1,i[l+0+32]=je(g,b,A),i[l+1+32]=i[l+0+96]=je(b,A,P),i[l+2+32]=i[l+1+96]=je(A,P,k),i[l+3+32]=i[l+2+96]=je(P,k,L),i[l+3+64]=je(k,L,D),i[l+3+96]=je(L,D,F)}function Os(i,l){var g=i[l-1+0],b=i[l-1+32],A=i[l-1+64],P=i[l-1+96];i[l+0+0]=g+b+1>>1,i[l+2+0]=i[l+0+32]=b+A+1>>1,i[l+2+32]=i[l+0+64]=A+P+1>>1,i[l+1+0]=je(g,b,A),i[l+3+0]=i[l+1+32]=je(b,A,P),i[l+3+32]=i[l+1+64]=je(A,P,P),i[l+3+64]=i[l+2+64]=i[l+0+96]=i[l+1+96]=i[l+2+96]=i[l+3+96]=P}function ja(i,l){var g=i[l-1+0],b=i[l-1+32],A=i[l-1+64],P=i[l-1+96],k=i[l-1-32],L=i[l+0-32],D=i[l+1-32],F=i[l+2-32];i[l+0+0]=i[l+2+32]=g+k+1>>1,i[l+0+32]=i[l+2+64]=b+g+1>>1,i[l+0+64]=i[l+2+96]=A+b+1>>1,i[l+0+96]=P+A+1>>1,i[l+3+0]=je(L,D,F),i[l+2+0]=je(k,L,D),i[l+1+0]=i[l+3+32]=je(g,k,L),i[l+1+32]=i[l+3+64]=je(b,g,k),i[l+1+64]=i[l+3+96]=je(A,b,g),i[l+1+96]=je(P,A,b)}function Gc(i,l){var g;for(g=0;8>g;++g)u(i,l+32*g,i,l-32,8)}function ea(i,l){var g;for(g=0;8>g;++g)d(i,l,i[l-1],8),l+=32}function Vr(i,l,g){var b;for(b=0;8>b;++b)d(l,g+32*b,i,8)}function wr(i,l){var g,b=8;for(g=0;8>g;++g)b+=i[l+g-32]+i[l-1+32*g];Vr(b>>4,i,l)}function Ha(i,l){var g,b=4;for(g=0;8>g;++g)b+=i[l+g-32];Vr(b>>3,i,l)}function Wr(i,l){var g,b=4;for(g=0;8>g;++g)b+=i[l-1+32*g];Vr(b>>3,i,l)}function za(i,l){Vr(128,i,l)}function ia(i,l,g){var b=i[l-g],A=i[l+0],P=3*(A-b)+Js[1020+i[l-2*g]-i[l+g]],k=Qa[112+(P+4>>3)];i[l-g]=vn[255+b+Qa[112+(P+3>>3)]],i[l+0]=vn[255+A-k]}function Es(i,l,g,b){return Bn[255+i[l-2*g]-i[l-g]]>b||Bn[255+i[l+g]-i[l+0]]>b}function Fs(i,l,g,b){return 4*Bn[255+i[l-g]-i[l+0]]+Bn[255+i[l-2*g]-i[l+g]]<=b}function qs(i,l,g,b,A){var P=i[l-3*g],k=i[l-2*g],L=i[l-g],D=i[l+0],F=i[l+g],G=i[l+2*g];return 4*Bn[255+L-D]+Bn[255+k-F]>b?0:Bn[255+i[l-4*g]-P]<=A&&Bn[255+P-k]<=A&&Bn[255+k-L]<=A&&Bn[255+i[l+3*g]-G]<=A&&Bn[255+G-F]<=A&&Bn[255+F-D]<=A}function Rs(i,l,g,b){var A=2*b+1;for(b=0;16>b;++b)Fs(i,l+b,g,A)&&ia(i,l+b,g)}function cr(i,l,g,b){var A=2*b+1;for(b=0;16>b;++b)Fs(i,l+b*g,1,A)&&ia(i,l+b*g,1)}function gn(i,l,g,b){var A;for(A=3;0<A;--A)Rs(i,l+=4*g,g,b)}function Bs(i,l,g,b){var A;for(A=3;0<A;--A)cr(i,l+=4,g,b)}function Ar(i,l,g,b,A,P,k,L){for(P=2*P+1;0<A--;){if(qs(i,l,g,P,k))if(Es(i,l,g,L))ia(i,l,g);else{var D=i,F=l,G=g,lt=D[F-2*G],ht=D[F-G],nt=D[F+0],Wt=D[F+G],St=D[F+2*G],K=27*(jt=Js[1020+3*(nt-ht)+Js[1020+lt-Wt]])+63>>7,it=18*jt+63>>7,jt=9*jt+63>>7;D[F-3*G]=vn[255+D[F-3*G]+jt],D[F-2*G]=vn[255+lt+it],D[F-G]=vn[255+ht+K],D[F+0]=vn[255+nt-K],D[F+G]=vn[255+Wt-it],D[F+2*G]=vn[255+St-jt]}l+=b}}function er(i,l,g,b,A,P,k,L){for(P=2*P+1;0<A--;){if(qs(i,l,g,P,k))if(Es(i,l,g,L))ia(i,l,g);else{var D=i,F=l,G=g,lt=D[F-G],ht=D[F+0],nt=D[F+G],Wt=Qa[112+(4+(St=3*(ht-lt))>>3)],St=Qa[112+(St+3>>3)],K=Wt+1>>1;D[F-2*G]=vn[255+D[F-2*G]+K],D[F-G]=vn[255+lt+St],D[F+0]=vn[255+ht-Wt],D[F+G]=vn[255+nt-K]}l+=b}}function Co(i,l,g,b,A,P){Ar(i,l,g,1,16,b,A,P)}function Cr(i,l,g,b,A,P){Ar(i,l,1,g,16,b,A,P)}function Ya(i,l,g,b,A,P){var k;for(k=3;0<k;--k)er(i,l+=4*g,g,1,16,b,A,P)}function To(i,l,g,b,A,P){var k;for(k=3;0<k;--k)er(i,l+=4,1,g,16,b,A,P)}function Us(i,l,g,b,A,P,k,L){Ar(i,l,A,1,8,P,k,L),Ar(g,b,A,1,8,P,k,L)}function na(i,l,g,b,A,P,k,L){Ar(i,l,1,A,8,P,k,L),Ar(g,b,1,A,8,P,k,L)}function ra(i,l,g,b,A,P,k,L){er(i,l+4*A,A,1,8,P,k,L),er(g,b+4*A,A,1,8,P,k,L)}function Gr(i,l,g,b,A,P,k,L){er(i,l+4,1,A,8,P,k,L),er(g,b+4,1,A,8,P,k,L)}function Po(){this.ba=new kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ci,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ko(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function oa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ja(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new O}function js(){this.xb=this.a=0,this.l=new xo,this.ca=new kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ja,this.ab=0,this.gc=f(4,oa),this.Oc=0}function So(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qr(i,l,g,b,A,P,k){for(i=null==i?0:i[l+0],l=0;l<k;++l)A[P+l]=i+g[b+l]&255,i=A[P+l]}function No(i,l,g,b,A,P,k){var L;if(null==i)Qr(null,null,g,b,A,P,k);else for(L=0;L<k;++L)A[P+L]=i[l+L]+g[b+L]&255}function $r(i,l,g,b,A,P,k){if(null==i)Qr(null,null,g,b,A,P,k);else{var L,D=i[l+0],F=D,G=D;for(L=0;L<k;++L)F=G+(D=i[l+L])-F,G=g[b+L]+(-256&F?0>F?0:255:F)&255,F=D,A[P+L]=G}}function aa(i,l,g,b){var A=l.width,P=l.o;if(n(null!=i&&null!=l),0>g||0>=b||g+b>P)return null;if(!i.Cc){if(null==i.ga){var k;if(i.ga=new So,(k=null==i.ga)||(k=l.width*l.o,n(0==i.Gb.length),i.Gb=h(k),i.Uc=0,null==i.Gb?k=0:(i.mb=i.Gb,i.nb=i.Uc,i.rc=null,k=1),k=!k),!k){var L=i.Fa,D=i.P,F=i.qc,G=i.mb,lt=i.nb,ht=D+1,nt=F-1,Wt=(k=i.ga).l;if(n(null!=L&&null!=G&&null!=l),eo[0]=null,eo[1]=Qr,eo[2]=No,eo[3]=$r,k.ca=G,k.tb=lt,k.c=l.width,k.i=l.height,n(0<k.c&&0<k.i),1>=F)l=0;else if(k.$a=L[D+0]>>0&3,k.Z=L[D+0]>>2&3,k.Lc=L[D+0]>>4&3,D=L[D+0]>>6&3,0>k.$a||1<k.$a||4<=k.Z||1<k.Lc||D)l=0;else if(Wt.put=Wn,Wt.ac=Hi,Wt.bc=Gn,Wt.ma=k,Wt.width=l.width,Wt.height=l.height,Wt.Da=l.Da,Wt.v=l.v,Wt.va=l.va,Wt.j=l.j,Wt.o=l.o,k.$a)t:{n(1==k.$a),l=pn();e:for(;;){if(null==l){l=0;break t}if(n(null!=k),k.mc=l,l.c=k.c,l.i=k.i,l.l=k.l,l.l.ma=k,l.l.width=k.c,l.l.height=k.i,l.a=0,pt(l.m,L,ht,nt),!Kn(k.c,k.i,1,l,null)||(1==l.ab&&3==l.gc[0].hc&&sr(l.s)?(k.ic=1,L=l.c*l.i,l.Ta=null,l.Ua=0,l.V=h(L),l.Ba=0,null==l.V?(l.a=1,l=0):l=1):(k.ic=0,l=zr(l,k.c)),!l))break e;l=1;break t}k.mc=null,l=0}else l=nt>=k.c*k.i;k=!l}if(k)return null;1!=i.ga.Lc?i.Ga=0:b=P-g}n(null!=i.ga),n(g+b<=P);t:{if(l=(L=i.ga).c,P=L.l.o,0==L.$a){if(ht=i.rc,nt=i.Vc,Wt=i.Fa,F=i.mb,G=i.nb+g*l,n((D=i.P+1+g*l)<=i.P+i.qc),0!=L.Z)for(n(null!=eo[L.Z]),k=0;k<b;++k)eo[L.Z](ht,nt,Wt,D,F,G,l),ht=F,nt=G,G+=l,D+=l;else for(k=0;k<b;++k)u(F,G,Wt,D,l),ht=F,nt=G,G+=l,D+=l;i.rc=ht,i.Vc=nt}else{if(n(null!=L.mc),l=g+b,n(null!=(k=L.mc)),n(l<=k.i),k.C>=l)l=1;else if(L.ic||at(),L.ic){L=k.V,ht=k.Ba;var St=k.i,K=(Wt=1,D=k.$/(nt=k.c),F=k.$%nt,G=k.m,lt=k.s,k.$),it=nt*St,jt=nt*l,Qt=lt.wc,Jt=K<jt?Di(lt,F,D):null;n(K<=it),n(l<=St),n(sr(lt));e:for(;;){for(;!G.h&&K<jt;){if(F&Qt||(Jt=Di(lt,F,D)),n(null!=Jt),ot(G),256>(St=on(Jt.G[0],Jt.H[0],G)))L[ht+K]=St,++K,++F>=nt&&(F=0,++D<=l&&!(D%16)&&Ln(k,D));else{if(!(280>St)){Wt=0;break e}St=Sn(St-256,G);var ve,le=on(Jt.G[4],Jt.H[4],G);if(ot(G),!(K>=(le=Qn(nt,le=Sn(le,G)))&&it-K>=St)){Wt=0;break e}for(ve=0;ve<St;++ve)L[ht+K+ve]=L[ht+K+ve-le];for(K+=St,F+=St;F>=nt;)F-=nt,++D<=l&&!(D%16)&&Ln(k,D);K<jt&&F&Qt&&(Jt=Di(lt,F,D))}n(G.h==z(G))}Ln(k,D>l?l:D);break e}!Wt||G.h&&K<it?(Wt=0,k.a=G.h?5:3):k.$=K,l=Wt}else l=Zn(k,k.V,k.Ba,k.c,k.i,l,mo);if(!l){b=0;break t}}g+b>=P&&(i.Cc=1),b=1}if(!b)return null;if(i.Cc&&(null!=(b=i.ga)&&(b.mc=null),i.ga=null,0<i.Ga))return alert("todo:WebPDequantizeLevels"),null}return i.nb+g*A}function p(i,l,g,b,A,P){for(;0<A--;){var k,L=i,D=l+(g?1:0),F=i,G=l+(g?0:3);for(k=0;k<b;++k){var lt=F[G+4*k];255!=lt&&(L[D+4*k+0]=L[D+4*k+0]*(lt*=32897)>>23,L[D+4*k+1]=L[D+4*k+1]*lt>>23,L[D+4*k+2]=L[D+4*k+2]*lt>>23)}l+=P}}function C(i,l,g,b,A){for(;0<b--;){var P;for(P=0;P<g;++P){var k=i[l+2*P+0],L=15&(F=i[l+2*P+1]),D=4369*L,F=(240&F|F>>4)*D>>16;i[l+2*P+0]=(240&k|k>>4)*D>>16&240|(15&k|k<<4)*D>>16>>4&15,i[l+2*P+1]=240&F|L}l+=A}}function U(i,l,g,b,A,P,k,L){var D,F,G=255;for(F=0;F<A;++F){for(D=0;D<b;++D){var lt=i[l+D];P[k+4*D]=lt,G&=lt}l+=g,k+=L}return 255!=G}function W(i,l,g,b,A){var P;for(P=0;P<A;++P)g[b+P]=i[l+P]>>8}function at(){Nr=p,qo=C,Ga=U,Qc=W}function Nt(i,l,g){J[i]=function(b,A,P,k,L,D,F,G,lt,ht,nt,Wt,St,K,it,jt,Qt){var Jt,ve=Qt-1>>1,le=L[D+0]|F[G+0]<<16,Ee=lt[ht+0]|nt[Wt+0]<<16;n(null!=b);var he=3*le+Ee+131074>>2;for(l(b[A+0],255&he,he>>16,St,K),null!=P&&l(P[k+0],255&(he=3*Ee+le+131074>>2),he>>16,it,jt),Jt=1;Jt<=ve;++Jt){var ci=L[D+Jt]|F[G+Jt]<<16,pi=lt[ht+Jt]|nt[Wt+Jt]<<16,oi=le+ci+Ee+pi+524296,ii=oi+2*(ci+Ee)>>3;he=ii+le>>1,le=(oi=oi+2*(le+pi)>>3)+ci>>1,l(b[A+2*Jt-1],255&he,he>>16,St,K+(2*Jt-1)*g),l(b[A+2*Jt-0],255&le,le>>16,St,K+(2*Jt-0)*g),null!=P&&(le=ii+pi>>1,l(P[k+2*Jt-1],255&(he=oi+Ee>>1),he>>16,it,jt+(2*Jt-1)*g),l(P[k+2*Jt+0],255&le,le>>16,it,jt+(2*Jt+0)*g)),le=ci,Ee=pi}1&Qt||(l(b[A+Qt-1],255&(he=3*le+Ee+131074>>2),he>>16,St,K+(Qt-1)*g),null!=P&&l(P[k+Qt-1],255&(he=3*Ee+le+131074>>2),he>>16,it,jt+(Qt-1)*g))}}function Kt(){bn[Vs]=pu,bn[Ws]=fu,bn[ou]=lh,bn[$a]=Ks,bn[Gs]=sl,bn[tl]=cl,bn[au]=gu,bn[el]=fu,bn[il]=Ks,bn[Qs]=sl,bn[nl]=cl}function me(i){return i&~_u?0>i?0:255:i>>mu}function Le(i,l){return me((19077*i>>8)+(26149*l>>8)-14234)}function Je(i,l,g){return me((19077*i>>8)-(6419*l>>8)-(13320*g>>8)+8708)}function We(i,l){return me((19077*i>>8)+(33050*l>>8)-17685)}function ei(i,l,g,b,A){b[A+0]=Le(i,g),b[A+1]=Je(i,l,g),b[A+2]=We(i,l)}function xi(i,l,g,b,A){b[A+0]=We(i,l),b[A+1]=Je(i,l,g),b[A+2]=Le(i,g)}function Ti(i,l,g,b,A){var P=Je(i,l,g);l=P<<3&224|We(i,l)>>3,b[A+0]=248&Le(i,g)|P>>5,b[A+1]=l}function Ii(i,l,g,b,A){var P=240&We(i,l)|15;b[A+0]=240&Le(i,g)|Je(i,l,g)>>4,b[A+1]=P}function Qi(i,l,g,b,A){b[A+0]=255,ei(i,l,g,b,A+1)}function Bi(i,l,g,b,A){xi(i,l,g,b,A),b[A+3]=255}function On(i,l,g,b,A){ei(i,l,g,b,A),b[A+3]=255}function un(i,l){return 0>i?0:i>l?l:i}function lr(i,l,g){J[i]=function(b,A,P,k,L,D,F,G,lt){for(var ht=G+(-2&lt)*g;G!=ht;)l(b[A+0],P[k+0],L[D+0],F,G),l(b[A+1],P[k+0],L[D+0],F,G+g),A+=2,++k,++D,G+=2*g;1&lt&&l(b[A+0],P[k+0],L[D+0],F,G)}}function Va(i,l,g){return 0==g?0==i?0==l?6:5:0==l?4:0:g}function sa(i,l,g,b,A){switch(i>>>30){case 3:Eo(l,g,b,A,0);break;case 2:fa(l,g,b,A);break;case 1:Rn(l,g,b,A)}}function ca(i,l){var g,b,A=l.M,P=l.Nb,k=i.oc,L=i.pc+40,D=i.oc,F=i.pc+584,G=i.oc,lt=i.pc+600;for(g=0;16>g;++g)k[L+32*g-1]=129;for(g=0;8>g;++g)D[F+32*g-1]=129,G[lt+32*g-1]=129;for(0<A?k[L-1-32]=D[F-1-32]=G[lt-1-32]=129:(d(k,L-32-1,127,21),d(D,F-32-1,127,9),d(G,lt-32-1,127,9)),b=0;b<i.za;++b){var ht=l.ya[l.aa+b];if(0<b){for(g=-1;16>g;++g)u(k,L+32*g-4,k,L+32*g+12,4);for(g=-1;8>g;++g)u(D,F+32*g-4,D,F+32*g+4,4),u(G,lt+32*g-4,G,lt+32*g+4,4)}var nt=i.Gd,Wt=i.Hd+b,St=ht.ad,K=ht.Hc;if(0<A&&(u(k,L-32,nt[Wt].y,0,16),u(D,F-32,nt[Wt].f,0,8),u(G,lt-32,nt[Wt].ea,0,8)),ht.Za){var it=k,jt=L-32+16;for(0<A&&(b>=i.za-1?d(it,jt,nt[Wt].y[15],4):u(it,jt,nt[Wt+1].y,0,4)),g=0;4>g;g++)it[jt+128+g]=it[jt+256+g]=it[jt+384+g]=it[jt+0+g];for(g=0;16>g;++g,K<<=2)nr[ht.Ob[g]](it=k,jt=L+m[g]),sa(K,St,16*+g,it,jt)}else if(it=Va(b,A,ht.Ob[0]),to[it](k,L),0!=K)for(g=0;16>g;++g,K<<=2)sa(K,St,16*+g,k,L+m[g]);for(g=ht.Gc,it=Va(b,A,ht.Dd),Lr[it](D,F),Lr[it](G,lt),K=St,it=D,jt=F,255&(ht=g>>0)&&(170&ht?kr(K,256,it,jt):hr(K,256,it,jt)),ht=G,K=lt,255&(g>>=8)&&(170&g?kr(St,320,ht,K):hr(St,320,ht,K)),A<i.Ub-1&&(u(nt[Wt].y,0,k,L+480,16),u(nt[Wt].f,0,D,F+224,8),u(nt[Wt].ea,0,G,lt+224,8)),nt=i.sa,Wt=i.ta+16*b+16*P*i.R,St=i.qa,ht=i.ra+8*b+(g=8*P*i.B),K=i.Ha,it=i.Ia+8*b+g,g=0;16>g;++g)u(nt,Wt+g*i.R,k,L+32*g,16);for(g=0;8>g;++g)u(St,ht+g*i.B,D,F+32*g,8),u(K,it+g*i.B,G,lt+32*g,8)}}function Lo(i,l,g,b,A,P,k,L,D){var F=[0],G=[0],lt=0,ht=null!=D?D.kd:0,nt=null!=D?D:new ko;if(null==i||12>g)return 7;nt.data=i,nt.w=l,nt.ha=g,l=[l],g=[g],nt.gb=[nt.gb];t:{var Wt=l,St=g,K=nt.gb;if(n(null!=i),n(null!=St),n(null!=K),K[0]=0,12<=St[0]&&!o(i,Wt[0],"RIFF")){if(o(i,Wt[0]+8,"WEBP")){K=3;break t}var it=_e(i,Wt[0]+4);if(12>it||4294967286<it){K=3;break t}if(ht&&it>St[0]-8){K=7;break t}K[0]=it,Wt[0]+=12,St[0]-=12}K=0}if(0!=K)return K;for(it=0<nt.gb[0],g=g[0];;){t:{var jt=i;St=l,K=g;var Qt=F,Jt=G,ve=Wt=[0];if((he=lt=[lt])[0]=0,8>K[0])K=7;else{if(!o(jt,St[0],"VP8X")){if(10!=_e(jt,St[0]+4)){K=3;break t}if(18>K[0]){K=7;break t}var le=_e(jt,St[0]+8),Ee=1+pe(jt,St[0]+12);if(2147483648<=Ee*(jt=1+pe(jt,St[0]+15))){K=3;break t}null!=ve&&(ve[0]=le),null!=Qt&&(Qt[0]=Ee),null!=Jt&&(Jt[0]=jt),St[0]+=18,K[0]-=18,he[0]=1}K=0}}if(lt=lt[0],0!=K)return K;if(St=!!(2&(Wt=Wt[0])),!it&&lt)return 3;if(null!=P&&(P[0]=!!(16&Wt)),null!=k&&(k[0]=St),null!=L&&(L[0]=0),k=F[0],Wt=G[0],lt&&St&&null==D){K=0;break}if(4>g){K=7;break}if(it&&lt||!it&&!lt&&!o(i,l[0],"ALPH")){g=[g],nt.na=[nt.na],nt.P=[nt.P],nt.Sa=[nt.Sa];t:{K=l,it=g;var he=nt.gb;Qt=nt.na,Jt=nt.P,ve=nt.Sa,Ee=22,n(null!=(le=i)),n(null!=it),jt=K[0];var ci=it[0];for(n(null!=Qt),n(null!=ve),Qt[0]=null,Jt[0]=null,ve[0]=0;;){if(K[0]=jt,it[0]=ci,8>ci){K=7;break t}var pi=_e(le,jt+4);if(4294967286<pi){K=3;break t}var oi=8+pi+1&-2;if(Ee+=oi,0<he&&Ee>he){K=3;break t}if(!o(le,jt,"VP8 ")||!o(le,jt,"VP8L")){K=0;break t}if(ci[0]<oi){K=7;break t}o(le,jt,"ALPH")||(Qt[0]=le,Jt[0]=jt+8,ve[0]=pi),jt+=oi,ci-=oi}}if(g=g[0],nt.na=nt.na[0],nt.P=nt.P[0],nt.Sa=nt.Sa[0],0!=K)break}g=[g],nt.Ja=[nt.Ja],nt.xa=[nt.xa];t:if(he=i,K=l,it=g,Qt=nt.gb[0],Jt=nt.Ja,ve=nt.xa,le=K[0],jt=!o(he,le,"VP8 "),Ee=!o(he,le,"VP8L"),n(null!=he),n(null!=it),n(null!=Jt),n(null!=ve),8>it[0])K=7;else{if(jt||Ee){if(he=_e(he,le+4),12<=Qt&&he>Qt-12){K=3;break t}if(ht&&he>it[0]-8){K=7;break t}Jt[0]=he,K[0]+=8,it[0]-=8,ve[0]=Ee}else ve[0]=5<=it[0]&&47==he[le+0]&&!(he[le+4]>>5),Jt[0]=it[0];K=0}if(g=g[0],nt.Ja=nt.Ja[0],nt.xa=nt.xa[0],l=l[0],0!=K)break;if(4294967286<nt.Ja)return 3;if(null==L||St||(L[0]=nt.xa?2:1),k=[k],Wt=[Wt],nt.xa){if(5>g){K=7;break}L=k,ht=Wt,St=P,null==i||5>g?i=0:5<=g&&47==i[l+0]&&!(i[l+4]>>5)?(it=[0],he=[0],Qt=[0],pt(Jt=new S,i,l,g),Oe(Jt,it,he,Qt)?(null!=L&&(L[0]=it[0]),null!=ht&&(ht[0]=he[0]),null!=St&&(St[0]=Qt[0]),i=1):i=0):i=0}else{if(10>g){K=7;break}L=Wt,null==i||10>g||!Ma(i,l+3,g-3)?i=0:(ht=i[l+0]|i[l+1]<<8|i[l+2]<<16,St=16383&(i[l+7]<<8|i[l+6]),i=16383&(i[l+9]<<8|i[l+8]),1&ht||3<(ht>>1&7)||!(ht>>4&1)||ht>>5>=nt.Ja||!St||!i?i=0:(k&&(k[0]=St),L&&(L[0]=i),i=1))}if(!i||(k=k[0],Wt=Wt[0],lt&&(F[0]!=k||G[0]!=Wt)))return 3;null!=D&&(D[0]=nt,D.offset=l-D.w,n(4294967286>l-D.w),n(D.offset==D.ha-g));break}return 0==K||7==K&&lt&&null==D?(null!=P&&(P[0]|=null!=nt.na&&0<nt.na.length),null!=b&&(b[0]=k),null!=A&&(A[0]=Wt),0):K}function la(i,l,g){var b=l.width,A=l.height,P=0,k=0,L=b,D=A;if(l.Da=null!=i&&0<i.Da,l.Da&&(L=i.cd,D=i.bd,P=i.v,k=i.j,11>g||(P&=-2,k&=-2),0>P||0>k||0>=L||0>=D||P+L>b||k+D>A))return 0;if(l.v=P,l.j=k,l.va=P+L,l.o=k+D,l.U=L,l.T=D,l.da=null!=i&&0<i.da,l.da){if(!ze(L,D,g=[i.ib],P=[i.hb]))return 0;l.ib=g[0],l.hb=P[0]}return l.ob=null!=i&&i.ob,l.Kb=null==i||!i.Sd,l.da&&(l.ob=l.ib<3*b/4&&l.hb<3*A/4,l.Kb=0),1}function ua(i){if(null==i)return 2;if(11>i.S){var l=i.f.RGBA;l.fb+=(i.height-1)*l.A,l.A=-l.A}else(l=i.f.kb).O+=((i=i.height)-1)*l.fa,l.fa=-l.fa,l.N+=(i-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(i-1>>1)*l.Db,l.Db=-l.Db,null!=l.F&&(l.J+=(i-1)*l.lb,l.lb=-l.lb);return 0}function Zo(i,l,g,b){if(null==b||0>=i||0>=l)return 2;if(null!=g){if(g.Da){var A=g.cd,P=g.bd,k=-2&g.v,L=-2&g.j;if(0>k||0>L||0>=A||0>=P||k+A>i||L+P>l)return 2;i=A,l=P}if(g.da){if(!ze(i,l,A=[g.ib],P=[g.hb]))return 2;i=A[0],l=P[0]}}b.width=i,b.height=l;t:{var D=b.width,F=b.height;if(i=b.S,0>=D||0>=F||!(i>=Vs&&13>i))i=2;else{if(0>=b.Rd&&null==b.sd){k=P=A=l=0;var G=(L=D*Vt[i])*F;if(11>i||(P=(F+1)/2*(l=(D+1)/2),12==i&&(k=(A=D)*F)),null==(F=h(G+2*P+k))){i=1;break t}b.sd=F,11>i?((D=b.f.RGBA).eb=F,D.fb=0,D.A=L,D.size=G):((D=b.f.kb).y=F,D.O=0,D.fa=L,D.Fd=G,D.f=F,D.N=0+G,D.Ab=l,D.Cd=P,D.ea=F,D.W=0+G+P,D.Db=l,D.Ed=P,12==i&&(D.F=F,D.J=0+G+2*P),D.Tc=k,D.lb=A)}if(l=1,P=b.width,k=b.height,(A=b.S)>=Vs&&13>A)if(11>A)i=b.f.RGBA,l&=(L=Math.abs(i.A))*(k-1)+P<=i.size,l&=L>=P*Vt[A],l&=null!=i.eb;else{i=b.f.kb,L=(P+1)/2,G=(k+1)/2,D=Math.abs(i.fa),F=Math.abs(i.Ab);var lt=Math.abs(i.Db),ht=Math.abs(i.lb);l&=D*(k-1)+P<=i.Fd,l&=F*(G-1)+L<=i.Cd,l=(l&=lt*(G-1)+L<=i.Ed)&D>=P&F>=L&lt>=L,l&=null!=i.y,l&=null!=i.f,l&=null!=i.ea,12==A&&(l&=ht>=P,l&=ht*(k-1)+P<=i.Tc,l&=null!=i.F)}else l=0;i=l?0:2}}return 0!=i||null!=g&&g.fd&&(i=ua(b)),i}var sn=64,Do=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Io=24,Mo=32,ha=8,cn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),J.Predictor0=function(){return 4278190080},J.Predictor1=function(i){return i},J.Predictor2=function(i,l,g){return l[g+0]},J.Predictor3=function(i,l,g){return l[g+1]},J.Predictor4=function(i,l,g){return l[g-1]},J.Predictor5=function(i,l,g){return ue(ue(i,l[g+1]),l[g+0])},J.Predictor6=function(i,l,g){return ue(i,l[g-1])},J.Predictor7=function(i,l,g){return ue(i,l[g+0])},J.Predictor8=function(i,l,g){return ue(l[g-1],l[g+0])},J.Predictor9=function(i,l,g){return ue(l[g+0],l[g+1])},J.Predictor10=function(i,l,g){return ue(ue(i,l[g-1]),ue(l[g+0],l[g+1]))},J.Predictor11=function(i,l,g){var b=l[g+0];return 0>=Ve(b>>24&255,i>>24&255,(l=l[g-1])>>24&255)+Ve(b>>16&255,i>>16&255,l>>16&255)+Ve(b>>8&255,i>>8&255,l>>8&255)+Ve(255&b,255&i,255&l)?b:i},J.Predictor12=function(i,l,g){var b=l[g+0];return(Se((i>>24&255)+(b>>24&255)-((l=l[g-1])>>24&255))<<24|Se((i>>16&255)+(b>>16&255)-(l>>16&255))<<16|Se((i>>8&255)+(b>>8&255)-(l>>8&255))<<8|Se((255&i)+(255&b)-(255&l)))>>>0},J.Predictor13=function(i,l,g){var b=l[g-1];return(Ue((i=ue(i,l[g+0]))>>24&255,b>>24&255)<<24|Ue(i>>16&255,b>>16&255)<<16|Ue(i>>8&255,b>>8&255)<<8|Ue(i>>0&255,b>>0&255))>>>0};var Hs=J.PredictorAdd0;J.PredictorAdd1=Qe,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var da=J.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(i){return i>>8&255},function(i){return i}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(i){return i},function(i){return i>>8&255});var Wa,En=J.ColorIndexInverseTransform,pa=J.MapARGB,zs=J.VP8LColorIndexInverseTransformAlpha,Ys=J.MapAlpha,Tr=J.VP8LPredictorsAdd=[];Tr.length=16,(J.VP8LPredictors=[]).length=16,(J.VP8LPredictorsAdd_C=[]).length=16,(J.VP8LPredictors_C=[]).length=16;var mn,Fn,Pr,ir,ur,Oo,qn,Eo,fa,kr,Rn,hr,Kr,Fo,Xr,Sr,ga,_n,dr,gi,mi,Li,Fi,pr,Nr,qo,Ga,Qc,$c=h(511),Kc=h(2041),Xc=h(225),nu=h(767),ru=0,Js=Kc,Qa=Xc,vn=nu,Bn=$c,Vs=0,Ws=1,ou=2,$a=3,Gs=4,tl=5,au=6,el=7,il=8,Qs=9,nl=10,th=[2,3,7],rl=[3,3,11],su=[280,256,256,256,40],eh=[0,1,1,1,0],ih=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oh=8,ol=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],al=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ka=null,ah=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$s=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],to=[],nr=[],Lr=[],ch=1,du=2,eo=[],bn=[];Nt("UpsampleRgbLinePair",ei,3),Nt("UpsampleBgrLinePair",xi,3),Nt("UpsampleRgbaLinePair",On,4),Nt("UpsampleBgraLinePair",Bi,4),Nt("UpsampleArgbLinePair",Qi,4),Nt("UpsampleRgba4444LinePair",Ii,2),Nt("UpsampleRgb565LinePair",Ti,2);var pu=J.UpsampleRgbLinePair,lh=J.UpsampleBgrLinePair,fu=J.UpsampleRgbaLinePair,Ks=J.UpsampleBgraLinePair,sl=J.UpsampleArgbLinePair,cl=J.UpsampleRgba4444LinePair,gu=J.UpsampleRgb565LinePair,Xs=16,Xa=1<<Xs-1,ma=-227,ll=482,mu=6,_u=(256<<mu)-1,ul=0,vu=h(256),bu=h(256),s=h(256),c=h(256),e=h(ll-ma),r=h(ll-ma);lr("YuvToRgbRow",ei,3),lr("YuvToBgrRow",xi,3),lr("YuvToRgbaRow",On,4),lr("YuvToBgraRow",Bi,4),lr("YuvToArgbRow",Qi,4),lr("YuvToRgba4444Row",Ii,2),lr("YuvToRgb565Row",Ti,2);var m=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],x=[0,2,8],q=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(i,l,g,b,A){var P=Ws,k=new Po,L=new kn;k.ba=L,L.S=P,L.width=[L.width],L.height=[L.height];var D=L.width,F=L.height,G=new ar;if(null==G||null==i)var lt=2;else n(null!=G),lt=Lo(i,l,g,G.width,G.height,G.Pd,G.Qd,G.format,null);if(0!=lt?D=0:(null!=D&&(D[0]=G.width[0]),null!=F&&(F[0]=G.height[0]),D=1),D){L.width=L.width[0],L.height=L.height[0],null!=b&&(b[0]=L.width),null!=A&&(A[0]=L.height);t:{if(b=new xo,(A=new ko).data=i,A.w=l,A.ha=g,A.kd=1,l=[0],n(null!=A),(0==(i=Lo(A.data,A.w,A.ha,null,null,null,l,null,A))||7==i)&&l[0]&&(i=4),0==(l=i)){if(n(null!=k),b.data=A.data,b.w=A.w+A.offset,b.ha=A.ha-A.offset,b.put=Wn,b.ac=Hi,b.bc=Gn,b.ma=k,A.xa){if(null==(i=pn())){k=1;break t}if(function(ht,nt){var Wt=[0],St=[0],K=[0];e:for(;;){if(null==ht)return 0;if(null==nt)return ht.a=2,0;if(ht.l=nt,ht.a=0,pt(ht.m,nt.data,nt.w,nt.ha),!Oe(ht.m,Wt,St,K)){ht.a=3;break e}if(ht.xb=du,nt.width=Wt[0],nt.height=St[0],!Kn(Wt[0],St[0],1,ht,null))break e;return 1}return n(0!=ht.a),0}(i,b)){if(b=0==(l=Zo(b.width,b.height,k.Oa,k.ba))){e:{b=i;i:for(;;){if(null==b){b=0;break e}if(n(null!=b.s.yc),n(null!=b.s.Ya),n(0<b.s.Wb),n(null!=(g=b.l)),n(null!=(A=g.ma)),0!=b.xb){if(b.ca=A.ba,b.tb=A.tb,n(null!=b.ca),!la(A.Oa,g,$a)){b.a=2;break i}if(!zr(b,g.width)||g.da)break i;if((g.da||ai(b.ca.S))&&at(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=b.ca.f.kb.F&&at()),b.Pb&&0<b.s.ua&&null==b.s.vb.X&&!qe(b.s.vb,b.s.Wa.Xa)){b.a=1;break i}b.xb=0}if(!Zn(b,b.V,b.Ba,b.c,b.i,g.o,go))break i;A.Dc=b.Ma,b=1;break e}n(0!=b.a),b=0}b=!b}b&&(l=i.a)}else l=i.a}else{if(null==(i=new Ss)){k=1;break t}if(i.Fa=A.na,i.P=A.P,i.qc=A.Sa,Oa(i,b)){if(0==(l=Zo(b.width,b.height,k.Oa,k.ba))){if(i.Aa=0,g=k.Oa,n(null!=(A=i)),null!=g){if(0<(D=0>(D=g.Md)?0:100<D?255:255*D/100)){for(F=G=0;4>F;++F)12>(lt=A.pb[F]).lc&&(lt.ia=D*q[0>lt.lc?0:lt.lc]>>3),G|=lt.ia;G&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=g.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function Ns(i,l){if(null==i)return 0;if(null==l)return Ni(i,2,"NULL VP8Io parameter in VP8Decode().");if(!i.cb&&!Oa(i,l))return 0;if(n(i.cb),null==l.ac||l.ac(l)){l.ob&&(i.L=0);var g=x[i.L];if(2==i.L?(i.yb=0,i.zb=0):(i.yb=l.v-g>>4,i.zb=l.j-g>>4,0>i.yb&&(i.yb=0),0>i.zb&&(i.zb=0)),i.Va=l.o+15+g>>4,i.Hb=l.va+15+g>>4,i.Hb>i.za&&(i.Hb=i.za),i.Va>i.Ub&&(i.Va=i.Ub),0<i.L){var b=i.ed;for(g=0;4>g;++g){var A;if(i.Qa.Cb){var P=i.Qa.Lb[g];i.Qa.Fb||(P+=b.Tb)}else P=b.Tb;for(A=0;1>=A;++A){var k=i.gd[g][A],L=P;if(b.Pc&&(L+=b.vd[0],A&&(L+=b.od[0])),0<(L=0>L?0:63<L?63:L)){var D=L;0<b.wb&&(D=4<b.wb?D>>2:D>>1)>9-b.wb&&(D=9-b.wb),1>D&&(D=1),k.dd=D,k.tc=2*L+D,k.ld=40<=L?2:15<=L?1:0}else k.tc=0;k.La=A}}}g=0}else Ni(i,6,"Frame setup failed"),g=i.a;if(g=0==g){if(g){i.$c=0,0<i.Aa||(i.Ic=1);t:{b=4*(D=i.za);var F=32*D,G=D+1,lt=0<i.L?D*(0<i.Aa?2:1):0,ht=(2==i.Aa?2:1)*D;if((k=b+832+(A=3*(16*(g=i.Ic)+x[i.L])/2*F)+(P=null!=i.Fa&&0<i.Fa.length?i.Kc.c*i.Kc.i:0))!=k)g=0;else{if(k>i.Vb){if(i.Vb=0,i.Ec=h(k),i.Fc=0,null==i.Ec){g=Ni(i,1,"no memory during frame initialization.");break t}i.Vb=k}L=i.Fc,i.Ac=k=i.Ec,i.Bc=L,L+=b,i.Gd=f(F,Ia),i.Hd=0,i.rb=f(G+1,Da),i.sb=1,i.wa=lt?f(lt,yo):null,i.Y=0,i.D.Nb=0,i.D.wa=i.wa,i.D.Y=i.Y,0<i.Aa&&(i.D.Y+=D),n(!0),i.oc=k,i.pc=L,L+=832,i.ya=f(ht,Qo),i.aa=0,i.D.ya=i.ya,i.D.aa=i.aa,2==i.Aa&&(i.D.aa+=D),i.R=16*D,i.B=8*D,D=(F=x[i.L])*i.R,F=F/2*i.B,i.sa=k,i.ta=L+D,i.qa=i.sa,i.ra=i.ta+16*g*i.R+F,i.Ha=i.qa,i.Ia=i.ra+8*g*i.B+F,i.$c=0,L+=A,i.mb=P?k:null,i.nb=P?L:null,n(L+P<=i.Fc+i.Vb),$o(i),d(i.Ac,i.Bc,0,b),g=1}}if(g){if(l.ka=0,l.y=i.sa,l.O=i.ta,l.f=i.qa,l.N=i.ra,l.ea=i.Ha,l.Vd=i.Ia,l.fa=i.R,l.Rc=i.B,l.F=null,l.J=0,!ru){for(g=-255;255>=g;++g)$c[255+g]=0>g?-g:g;for(g=-1020;1020>=g;++g)Kc[1020+g]=-128>g?-128:127<g?127:g;for(g=-112;112>=g;++g)Xc[112+g]=-16>g?-16:15<g?15:g;for(g=-255;510>=g;++g)nu[255+g]=0>g?0:255<g?255:g;ru=1}qn=Zs,Eo=Ls,kr=qa,Rn=xr,hr=Ra,fa=Fa,Kr=Co,Fo=Cr,Xr=Us,Sr=na,ga=Ya,_n=To,dr=ra,gi=Gr,mi=Rs,Li=cr,Fi=gn,pr=Bs,nr[0]=tr,nr[1]=Ds,nr[2]=Wc,nr[3]=Ms,nr[4]=Ba,nr[5]=Jr,nr[6]=Ua,nr[7]=ta,nr[8]=ja,nr[9]=Os,to[0]=ti,to[1]=Mn,to[2]=Xn,to[3]=Yr,to[4]=Ke,to[5]=Is,to[6]=Ao,Lr[0]=wr,Lr[1]=In,Lr[2]=Gc,Lr[3]=ea,Lr[4]=Wr,Lr[5]=Ha,Lr[6]=za,g=1}else g=0}g&&(g=function(nt,Wt){for(nt.M=0;nt.M<nt.Va;++nt.M){var St,K=nt.Jc[nt.M&nt.Xb],it=nt.m,jt=nt;for(St=0;St<jt.za;++St){var Qt=it,Jt=jt,ve=Jt.Ac,le=Jt.Bc+4*St,Ee=Jt.zc,he=Jt.ya[Jt.aa+St];if(he.$b=Jt.Qa.Bb?xt(Qt,Jt.Pa.jb[0])?2+xt(Qt,Jt.Pa.jb[2]):xt(Qt,Jt.Pa.jb[1]):0,Jt.kc&&(he.Ad=xt(Qt,Jt.Bd)),he.Za=!xt(Qt,145)+0,he.Za){var ci=he.Ob,pi=0;for(Jt=0;4>Jt;++Jt){var oi,ii=Ee[0+Jt];for(oi=0;4>oi;++oi){for(var vi=cu[xt(Qt,(ii=uu[ve[le+oi]][ii])[0])];0<vi;)vi=cu[2*vi+xt(Qt,ii[vi])];ve[le+oi]=ii=-vi}u(ci,pi,ve,le,4),pi+=4,Ee[0+Jt]=ii}}else ii=xt(Qt,156)?xt(Qt,128)?1:3:xt(Qt,163)?2:0,he.Ob[0]=ii,d(ve,le,ii,4),d(Ee,0,ii,4);he.Dd=xt(Qt,142)?xt(Qt,114)?xt(Qt,183)?1:3:2:0}if(jt.m.Ka)return Ni(nt,7,"Premature end-of-partition0 encountered.");for(;nt.ja<nt.za;++nt.ja){if(jt=K,Qt=(it=nt).rb[it.sb-1],ve=it.rb[it.sb+it.ja],St=it.ya[it.aa+it.ja],le=it.kc?St.Ad:0)Qt.la=ve.la=0,St.Za||(Qt.Na=ve.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var _i,Ge;if(Qt=ve,ve=jt,le=it.Pa.Xc,he=it.pb[(Ee=it.ya[it.aa+it.ja]).$b],pi=it.rb[it.sb-1],ii=oi=0,d(Jt=Ee.ad,ci=0,0,384),Ee.Za)var Ui=0,yn=le[3];else{vi=h(16);var ji=Qt.Na+pi.Na;if(ji=Ka(ve,le[1],ji,he.Eb,0,vi,0),Qt.Na=pi.Na=(0<ji)+0,1<ji)qn(vi,0,Jt,ci);else{var xn=vi[0]+3>>3;for(vi=0;256>vi;vi+=16)Jt[ci+vi]=xn}Ui=1,yn=le[0]}var fi=15&Qt.la,Un=15&pi.la;for(vi=0;4>vi;++vi){var jn=1&Un;for(xn=Ge=0;4>xn;++xn)fi=fi>>1|(jn=(ji=Ka(ve,yn,ji=jn+(1&fi),he.Sc,Ui,Jt,ci))>Ui)<<7,Ge=Ge<<2|(3<ji?3:1<ji?2:0!=Jt[ci+0]),ci+=16;fi>>=4,Un=Un>>1|jn<<7,oi=(oi<<8|Ge)>>>0}for(yn=fi,Ui=Un>>4,_i=0;4>_i;_i+=2){for(Ge=0,fi=Qt.la>>4+_i,Un=pi.la>>4+_i,vi=0;2>vi;++vi){for(jn=1&Un,xn=0;2>xn;++xn)fi=fi>>1|(jn=0<(ji=Ka(ve,le[2],ji=jn+(1&fi),he.Qc,0,Jt,ci)))<<3,Ge=Ge<<2|(3<ji?3:1<ji?2:0!=Jt[ci+0]),ci+=16;fi>>=2,Un=Un>>1|jn<<5}ii|=Ge<<4*_i,yn|=fi<<4<<_i,Ui|=(240&Un)<<_i}Qt.la=yn,pi.la=Ui,Ee.Hc=oi,Ee.Gc=ii,Ee.ia=43690&ii?0:he.ia,le=!(oi|ii)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[St.$b][St.Za],it.wa[it.Y+it.ja].La|=!le),jt.Ka)return Ni(nt,7,"Premature end-of-file encountered.")}if($o(nt),it=Wt,jt=1,St=(K=nt).D,Qt=0<K.L&&K.M>=K.zb&&K.M<=K.Va,0==K.Aa)t:{if(St.M=K.M,St.uc=Qt,ca(K,St),jt=1,St=(Ge=K.D).Nb,Qt=(ii=x[K.L])*K.R,le=K.sa,Ee=K.ta-Qt+(vi=16*St*K.R),he=K.qa,Jt=K.ra-(ve=ii/2*K.B)+(xn=8*St*K.B),ci=K.Ha,pi=K.Ia-ve+xn,Un=0==(fi=Ge.M),oi=fi>=K.Va-1,2==K.Aa&&ca(K,Ge),Ge.uc)for(jn=(ji=K).D.M,n(ji.D.uc),Ge=ji.yb;Ge<ji.Hb;++Ge){yn=jn;var $i=(tn=(Mi=ji).D).Nb,tn=tn.wa[tn.Y+(Ui=Ge)],hn=Mi.sa,rr=Mi.ta+16*$i*(_i=Mi.R)+16*Ui,Zr=tn.dd,Ki=tn.tc;if(0!=Ki)if(n(3<=Ki),1==Mi.L)0<Ui&&Li(hn,rr,_i,Ki+4),tn.La&&pr(hn,rr,_i,Ki),0<yn&&mi(hn,rr,_i,Ki+4),tn.La&&Fi(hn,rr,_i,Ki);else{var io=Mi.B,_a=Mi.qa,ts=Mi.ra+8*$i*io+8*Ui,Ro=Mi.Ha,Mi=Mi.Ia+8*$i*io+8*Ui;$i=tn.ld,0<Ui&&(Fo(hn,rr,_i,Ki+4,Zr,$i),Sr(_a,ts,Ro,Mi,io,Ki+4,Zr,$i)),tn.La&&(_n(hn,rr,_i,Ki,Zr,$i),gi(_a,ts,Ro,Mi,io,Ki,Zr,$i)),0<yn&&(Kr(hn,rr,_i,Ki+4,Zr,$i),Xr(_a,ts,Ro,Mi,io,Ki+4,Zr,$i)),tn.La&&(ga(hn,rr,_i,Ki,Zr,$i),dr(_a,ts,Ro,Mi,io,Ki,Zr,$i))}}if(K.ia&&alert("todo:DitherRow"),null!=it.put){if(Ge=16*fi,fi=16*(fi+1),Un?(it.y=K.sa,it.O=K.ta+vi,it.f=K.qa,it.N=K.ra+xn,it.ea=K.Ha,it.W=K.Ia+xn):(Ge-=ii,it.y=le,it.O=Ee,it.f=he,it.N=Jt,it.ea=ci,it.W=pi),oi||(fi-=ii),fi>it.o&&(fi=it.o),it.F=null,it.J=null,null!=K.Fa&&0<K.Fa.length&&Ge<fi&&(it.J=aa(K,it,Ge,fi-Ge),it.F=K.mb,null==it.F&&0==it.F.length)){jt=Ni(K,3,"Could not decode alpha data.");break t}Ge<it.j&&(ii=it.j-Ge,Ge=it.j,n(!(1&ii)),it.O+=K.R*ii,it.N+=K.B*(ii>>1),it.W+=K.B*(ii>>1),null!=it.F&&(it.J+=it.width*ii)),Ge<fi&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,null!=it.F&&(it.J+=it.v),it.ka=Ge-it.j,it.U=it.va-it.v,it.T=fi-Ge,jt=it.put(it))}St+1!=K.Ic||oi||(u(K.sa,K.ta-Qt,le,Ee+16*K.R,Qt),u(K.qa,K.ra-ve,he,Jt+8*K.B,ve),u(K.Ha,K.Ia-ve,ci,pi+8*K.B,ve))}if(!jt)return Ni(nt,6,"Output aborted.")}return 1}(i,l)),null!=l.bc&&l.bc(l),g&=1}return g?(i.cb=0,g):0})(i,b)||(l=i.a)}}else l=i.a}0==l&&null!=k.Oa&&k.Oa.fd&&(l=ua(k.ba))}k=l}P=0!=k?null:11>P?L.f.RGBA.eb:L.f.kb.y}else P=null;return P};var Vt=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function w(J,qt){for(var It="",E=0;E<4;E++)It+=String.fromCharCode(J[qt++]);return It}function T(J,qt){return(J[qt+0]<<0|J[qt+1]<<8|J[qt+2]<<16)>>>0}function N(J,qt){return(J[qt+0]<<0|J[qt+1]<<8|J[qt+2]<<16|J[qt+3]<<24)>>>0}new v;var Z=[0],y=[0],R=[],M=new v,H=a,I=function(J,qt){var It={},E=0,O=!1,Q=0,V=0;if(It.frames=[],!function(j,z,$,ot){for(var mt=0;mt<4;mt++)if(j[z+mt]!="RIFF".charCodeAt(mt))return!0;return!1}(J,qt)){var Pt,wt;for(N(J,qt+=4),qt+=8;qt<J.length;){var Et=w(J,qt),pt=N(J,qt+=4);qt+=4;var Ft=pt+(1&pt);switch(Et){case"VP8 ":case"VP8L":void 0===It.frames[E]&&(It.frames[E]={}),(S=It.frames[E]).src_off=O?V:qt-8,S.src_size=Q+pt+8,E++,O&&(O=!1,Q=0,V=0);break;case"VP8X":(S=It.header={}).feature_flags=J[qt];var Mt=qt+4;S.canvas_width=1+T(J,Mt),S.canvas_height=1+T(J,Mt+=3),Mt+=3;break;case"ALPH":O=!0,Q=Ft+8,V=qt-8;break;case"ANIM":(S=It.header).bgcolor=N(J,qt),S.loop_count=(Pt=J)[(wt=Mt=qt+4)+0]<<0|Pt[wt+1]<<8,Mt+=2;break;case"ANMF":var de,S;(S=It.frames[E]={}).offset_x=2*T(J,qt),S.offset_y=2*T(J,qt+=3),S.width=1+T(J,qt+=3),S.height=1+T(J,qt+=3),S.duration=T(J,qt+=3),qt+=3,de=J[qt++],S.dispose=1&de,S.blend=de>>1&1}"ANMF"!=Et&&(qt+=Ft)}return It}}(H,0);I.response=H,I.rgbaoutput=!0,I.dataurl=!1;var B=I.header?I.header:null,X=I.frames?I.frames:null;if(B){B.loop_counter=B.loop_count,Z=[B.canvas_height],y=[B.canvas_width];for(var ut=0;ut<X.length&&0!=X[ut].blend;ut++);}var At=X[0],Yt=M.WebPDecodeRGBA(H,At.src_off,At.src_size,y,Z);At.rgba=Yt,At.imgwidth=y[0],At.imgheight=Z[0];for(var dt=0;dt<y[0]*Z[0]*4;dt++)R[dt]=Yt[dt];return this.width=y,this.height=Z,this.data=R,this}(function(a){var o=function(Z,y,R,M){var H=4,I=f;switch(M){case a.image_compression.FAST:H=1,I=h;break;case a.image_compression.MEDIUM:H=6,I=_;break;case a.image_compression.SLOW:H=9,I=v}var B=Yo(Z=u(Z,y,R,I),{level:H});return a.__addimage__.arrayBufferToBinaryString(B)},u=function(Z,y,R,M){for(var H,I,B,X=Z.length/y,ut=new Uint8Array(Z.length+X),At=T(),Yt=0;Yt<X;Yt+=1){if(H=Z.subarray(B=Yt*y,B+y),M)ut.set(M(H,R,I),B+Yt);else{for(var dt,J=At.length,qt=[];dt<J;dt+=1)qt[dt]=At[dt](H,R,I);var It=N(qt.concat());ut.set(qt[It],B+Yt)}I=H}return ut},d=function(Z){var y=Array.apply([],Z);return y.unshift(0),y},h=function(Z,y){var M=[],H=Z.length;M[0]=1;for(var I=0;I<H;I+=1)M[I+1]=Z[I]-(Z[I-y]||0)+256&255;return M},f=function(Z,y,R){var H=[],I=Z.length;H[0]=2;for(var B=0;B<I;B+=1)H[B+1]=Z[B]-(R&&R[B]||0)+256&255;return H},_=function(Z,y,R){var I=[],B=Z.length;I[0]=3;for(var X=0;X<B;X+=1)I[X+1]=Z[X]+256-((Z[X-y]||0)+(R&&R[X]||0)>>>1)&255;return I},v=function(Z,y,R){var B,X=[],ut=Z.length;X[0]=4;for(var At=0;At<ut;At+=1)B=w(Z[At-y]||0,R&&R[At]||0,R&&R[At-y]||0),X[At+1]=Z[At]-B+256&255;return X},w=function(Z,y,R){if(Z===y&&y===R)return Z;var M=Math.abs(y-R),H=Math.abs(Z-R),I=Math.abs(Z+y-R-R);return M<=H&&M<=I?Z:H<=I?y:R},T=function(){return[d,h,f,_,v]},N=function(Z){var y=Z.map(function(R){return R.reduce(function(M,H){return M+Math.abs(H)},0)});return y.indexOf(Math.min.apply(null,y))};a.processPNG=function(Z,y,R,M){var H,I,B,X,ut,At,Yt,dt,J,qt,It,E,O,Q,V,Pt=this.decode.FLATE_DECODE,wt="";if(this.__addimage__.isArrayBuffer(Z)&&(Z=new Uint8Array(Z)),this.__addimage__.isArrayBufferView(Z)){if(Z=(B=new Gl(Z)).imgData,I=B.bits,H=B.colorSpace,ut=B.colors,-1!==[4,6].indexOf(B.colorType)){if(8===B.bits){J=(dt=32==B.pixelBitlength?new Uint32Array(B.decodePixels().buffer):16==B.pixelBitlength?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,It=new Uint8Array(J*B.colors),qt=new Uint8Array(J);var Et,pt=B.pixelBitlength-B.bits;for(Q=0,V=0;Q<J;Q++){for(O=dt[Q],Et=0;Et<pt;)It[V++]=O>>>Et&255,Et+=B.bits;qt[Q]=O>>>Et&255}}if(16===B.bits){J=(dt=new Uint32Array(B.decodePixels().buffer)).length,It=new Uint8Array(J*(32/B.pixelBitlength)*B.colors),qt=new Uint8Array(J*(32/B.pixelBitlength)),E=B.colors>1,Q=0,V=0;for(var Ft=0;Q<J;)O=dt[Q++],It[V++]=O>>>0&255,E&&(It[V++]=O>>>16&255,O=dt[Q++],It[V++]=O>>>0&255),qt[Ft++]=O>>>16&255;I=8}M!==a.image_compression.NONE?(Z=o(It,B.width*B.colors,B.colors,M),Yt=o(qt,B.width,1,M)):(Z=It,Yt=qt,Pt=void 0)}if(3===B.colorType&&(H=this.color_spaces.INDEXED,At=B.palette,B.transparency.indexed)){var Mt=B.transparency.indexed,de=0;for(Q=0,J=Mt.length;Q<J;++Q)de+=Mt[Q];if((de/=255)==J-1&&-1!==Mt.indexOf(0))X=[Mt.indexOf(0)];else if(de!==J){for(dt=B.decodePixels(),qt=new Uint8Array(dt.length),Q=0,J=dt.length;Q<J;Q++)qt[Q]=Mt[dt[Q]];Yt=o(qt,B.width,1)}}var S=function(j){var z;switch(j){case a.image_compression.FAST:z=11;break;case a.image_compression.MEDIUM:z=13;break;case a.image_compression.SLOW:z=14;break;default:z=12}return z}(M);return Pt===this.decode.FLATE_DECODE&&(wt="/Predictor "+S+" "),wt+="/Colors "+ut+" /BitsPerComponent "+I+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),(Yt&&this.__addimage__.isArrayBuffer(Yt)||this.__addimage__.isArrayBufferView(Yt))&&(Yt=this.__addimage__.arrayBufferToBinaryString(Yt)),{alias:R,data:Z,index:y,filter:Pt,decodeParameters:wt,transparency:X,palette:At,sMask:Yt,predictor:S,width:B.width,height:B.height,bitsPerComponent:I,colorSpace:H}}}})(Me.API),function(a){a.processGIF89A=function(n,o,u,d){var h=new Ql(n),f=h.width,_=h.height,v=[];h.decodeAndBlitFrameRGBA(0,v);var w={data:v,width:f,height:_},T=new ws(100).encode(w,100);return a.processJPEG.call(this,T,o,u,d)},a.processGIF87A=a.processGIF89A}(Me.API),Cn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var n=0;n<a;n++){var o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:d,green:u,blue:o,quad:h}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cn.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[a]()}catch(o){hi.log("bit decode error:"+o)}},Cn.prototype.bit1=function(){var a,n=Math.ceil(this.width/8),o=n%4;for(a=this.height-1;a>=0;a--){for(var u=this.bottom_up?a:this.height-1-a,d=0;d<n;d++)for(var h=this.datav.getUint8(this.pos++,!0),f=u*this.width*4+8*d*4,_=0;_<8&&8*d+_<this.width;_++){var v=this.palette[h>>7-_&1];this.data[f+4*_]=v.blue,this.data[f+4*_+1]=v.green,this.data[f+4*_+2]=v.red,this.data[f+4*_+3]=255}0!==o&&(this.pos+=4-o)}},Cn.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),n=a%4,o=this.height-1;o>=0;o--){for(var u=this.bottom_up?o:this.height-1-o,d=0;d<a;d++){var h=this.datav.getUint8(this.pos++,!0),f=u*this.width*4+2*d*4,v=15&h,w=this.palette[h>>4];if(this.data[f]=w.blue,this.data[f+1]=w.green,this.data[f+2]=w.red,this.data[f+3]=255,2*d+1>=this.width)break;this.data[f+4]=(w=this.palette[v]).blue,this.data[f+4+1]=w.green,this.data[f+4+2]=w.red,this.data[f+4+3]=255}0!==n&&(this.pos+=4-n)}},Cn.prototype.bit8=function(){for(var a=this.width%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,u=0;u<this.width;u++){var d=this.datav.getUint8(this.pos++,!0),h=o*this.width*4+4*u;if(d<this.palette.length){var f=this.palette[d];this.data[h]=f.red,this.data[h+1]=f.green,this.data[h+2]=f.blue,this.data[h+3]=255}else this.data[h]=255,this.data[h+1]=255,this.data[h+2]=255,this.data[h+3]=255}0!==a&&(this.pos+=4-a)}},Cn.prototype.bit15=function(){for(var a=this.width%3,n=parseInt("11111",2),o=this.height-1;o>=0;o--){for(var u=this.bottom_up?o:this.height-1-o,d=0;d<this.width;d++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(h&n)/n*255|0,_=(h>>5&n)/n*255|0,w=h>>15?255:0,T=u*this.width*4+4*d;this.data[T]=(h>>10&n)/n*255|0,this.data[T+1]=_,this.data[T+2]=f,this.data[T+3]=w}this.pos+=a}},Cn.prototype.bit16=function(){for(var a=this.width%3,n=parseInt("11111",2),o=parseInt("111111",2),u=this.height-1;u>=0;u--){for(var d=this.bottom_up?u:this.height-1-u,h=0;h<this.width;h++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var _=(f&n)/n*255|0,v=(f>>5&o)/o*255|0,T=d*this.width*4+4*h;this.data[T]=(f>>11)/n*255|0,this.data[T+1]=v,this.data[T+2]=_,this.data[T+3]=255}this.pos+=a}},Cn.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var u=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+4*o;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=u,this.data[f+3]=255}this.pos+=this.width%4}},Cn.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var n=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var u=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),_=n*this.width*4+4*o;this.data[_]=h,this.data[_+1]=d,this.data[_+2]=u,this.data[_+3]=f}},Cn.prototype.getData=function(){return this.data},function(a){a.processBMP=function(n,o,u,d){var h=new Cn(n,!1),f=h.width,_=h.height,v={data:h.getData(),width:f,height:_},w=new ws(100).encode(v,100);return a.processJPEG.call(this,w,o,u,d)}}(Me.API),Hc.prototype.getData=function(){return this.data},function(a){a.processWEBP=function(n,o,u,d){var h=new Hc(n,!1),f=h.width,_=h.height,v={data:h.getData(),width:f,height:_},w=new ws(100).encode(v,100);return a.processJPEG.call(this,w,o,u,d)}}(Me.API),Me.API.processRGBA=function(a,n,o){for(var u=a.data,d=u.length,h=new Uint8Array(d/4*3),f=new Uint8Array(d/4),_=0,v=0,w=0;w<d;w+=4){var N=u[w+1],Z=u[w+2],y=u[w+3];h[_++]=u[w],h[_++]=N,h[_++]=Z,f[v++]=y}var R=this.__addimage__.arrayBufferToBinaryString(h);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:R,index:n,alias:o,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height}},Me.API.setLanguage=function(a){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[a]&&(this.internal.languageSettings.languageCode=a,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},La=(ho=Me.API).getCharWidthsArray=function(a,n){var o,u,d=(n=n||{}).font||this.internal.getFont(),h=n.fontSize||this.internal.getFontSize(),f=n.charSpace||this.internal.getCharSpace(),_=n.widths?n.widths:d.metadata.Unicode.widths,v=_.fof?_.fof:1,w=n.kerning?n.kerning:d.metadata.Unicode.kerning,T=w.fof?w.fof:1,N=!1!==n.doKerning,Z=0,y=a.length,R=0,M=_[0]||v,H=[];for(o=0;o<y;o++)u=a.charCodeAt(o),"function"==typeof d.metadata.widthOfString?H.push((d.metadata.widthOfGlyph(d.metadata.characterToGlyph(u))+f*(1e3/h)||0)/1e3):(Z=N&&"object"===Ae(w[u])&&!isNaN(parseInt(w[u][R],10))?w[u][R]/T:0,H.push((_[u]||M)/v+Z)),R=u;return H},Rc=ho.getStringUnitWidth=function(a,n){var o=(n=n||{}).fontSize||this.internal.getFontSize(),u=n.font||this.internal.getFont(),d=n.charSpace||this.internal.getCharSpace();return ho.processArabic&&(a=ho.processArabic(a)),"function"==typeof u.metadata.widthOfString?u.metadata.widthOfString(a,o,d)/o:La.apply(this,arguments).reduce(function(h,f){return h+f},0)},Bc=function(a,n,o,u){for(var d=[],h=0,f=a.length,_=0;h!==f&&_+n[h]<o;)_+=n[h],h++;d.push(a.slice(0,h));var v=h;for(_=0;h!==f;)_+n[h]>u&&(d.push(a.slice(v,h)),_=0,v=h),_+=n[h],h++;return v!==h&&d.push(a.slice(v,h)),d},Uc=function(a,n,o){o||(o={});var u,d,h,f,_,v,T=[],N=[T],Z=o.textIndent||0,y=0,R=0,M=a.split(" "),H=La.apply(this,[" ",o])[0];if(v=-1===o.lineIndent?M[0].length+2:o.lineIndent||0){var I=Array(v).join(" "),B=[];M.map(function(ut){(ut=ut.split(/\s*\n/)).length>1?B=B.concat(ut.map(function(At,Yt){return(Yt&&At.length?"\n":"")+At})):B.push(ut[0])}),M=B,v=Rc.apply(this,[I,o])}for(h=0,f=M.length;h<f;h++){var X=0;if(u=M[h],v&&"\n"==u[0]&&(u=u.substr(1),X=1),Z+y+(R=(d=La.apply(this,[u,o])).reduce(function(ut,At){return ut+At},0))>n||X){if(R>n){for(_=Bc.apply(this,[u,d,n-(Z+y),n]),T.push(_.shift()),T=[_.pop()];_.length;)N.push([_.shift()]);R=d.slice(u.length-(T[0]?T[0].length:0)).reduce(function(ut,At){return ut+At},0)}else T=[u];N.push(T),Z=R+v,y=H}else T.push(u),Z+=y+R,y=H}return N.map(v?function(ut,At){return(At?I:"")+ut.join(" ")}:function(ut){return ut.join(" ")})},ho.splitTextToSize=function(a,n,o){var u,d=(o=o||{}).fontSize||this.internal.getFontSize(),h=function(T){if(T.widths&&T.kerning)return{widths:T.widths,kerning:T.kerning};var N=this.internal.getFont(T.fontName,T.fontStyle);return N.metadata.Unicode?{widths:N.metadata.Unicode.widths||{0:1},kerning:N.metadata.Unicode.kerning||{}}:{font:N.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,o);u=Array.isArray(a)?a:String(a).split(/\r?\n/);var f=1*this.internal.scaleFactor*n/d;h.textIndent=o.textIndent?1*o.textIndent*this.internal.scaleFactor/d:0,h.lineIndent=o.lineIndent;var _,v,w=[];for(_=0,v=u.length;_<v;_++)w=w.concat(Uc.apply(this,[u[_],f,h]));return w},function(a){a.__fontmetrics__=a.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",o={},u={},d=0;d<n.length;d++)o[n[d]]="0123456789abcdef"[d],u["0123456789abcdef"[d]]=n[d];var h=function(N){return"0x"+parseInt(N,10).toString(16)},f=a.__fontmetrics__.compress=function(N){var Z,y,R,M,H=["{"];for(var I in N){if(Z=N[I],isNaN(parseInt(I,10))?y="'"+I+"'":(I=parseInt(I,10),y=(y=h(I).slice(2)).slice(0,-1)+u[y.slice(-1)]),"number"==typeof Z)Z<0?(R=h(Z).slice(3),M="-"):(R=h(Z).slice(2),M=""),R=M+R.slice(0,-1)+u[R.slice(-1)];else{if("object"!==Ae(Z))throw new Error("Don't know what to do with value type "+Ae(Z)+".");R=f(Z)}H.push(y+R)}return H.push("}"),H.join("")},_=a.__fontmetrics__.uncompress=function(N){if("string"!=typeof N)throw new Error("Invalid argument passed to uncompress.");for(var Z,y,R,M,H={},I=1,B=H,X=[],ut="",At="",Yt=N.length-1,dt=1;dt<Yt;dt+=1)"'"==(M=N[dt])?Z?(R=Z.join(""),Z=void 0):Z=[]:Z?Z.push(M):"{"==M?(X.push([B,R]),B={},R=void 0):"}"==M?((y=X.pop())[0][y[1]]=B,R=void 0,B=y[0]):"-"==M?I=-1:void 0===R?o.hasOwnProperty(M)?(ut+=o[M],R=parseInt(ut,16)*I,I=1,ut=""):ut+=M:o.hasOwnProperty(M)?(At+=o[M],B[R]=parseInt(At,16)*I,I=1,R=void 0,At=""):At+=M;return H},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:_("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},T={Unicode:{"Courier-Oblique":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":_("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":_("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":_("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:_("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:_("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":_("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:_("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":_("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":_("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":_("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":_("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(N){var Z=N.font,y=T.Unicode[Z.postScriptName];y&&(Z.metadata.Unicode={},Z.metadata.Unicode.widths=y.widths,Z.metadata.Unicode.kerning=y.kerning);var R=w.Unicode[Z.postScriptName];R&&(Z.metadata.Unicode.encoding=R,Z.encoding=R.codePages[0])}])}(Me.API),function(a){var n=function(o){for(var u=o.length,d=new Uint8Array(u),h=0;h<u;h++)d[h]=o.charCodeAt(h);return d};a.API.events.push(["addFont",function(o){var f,_,u=void 0,d=o.font,h=o.instance;if(!d.isStandardFont){if(void 0===h)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");if("string"!=typeof(u=!1===h.existsFileInVFS(d.postScriptName)?h.loadFile(d.postScriptName):h.getFileFromVFS(d.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");f=d,_=/^\x00\x01\x00\x00/.test(_=u)?n(_):n(Jo(_)),f.metadata=a.API.TTFFont.open(_),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]}}])}(Me),function(a){function n(){return(Fe.canvg?Promise.resolve(Fe.canvg):ne.e(399).then(ne.bind(ne,7399))).catch(function(o){return Promise.reject(new Error("Could not load canvg: "+o))}).then(function(o){return o.default?o.default:o})}Me.API.addSvgAsImage=function(o,u,d,h,f,_,v,w){if(isNaN(u)||isNaN(d))throw hi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(h)||isNaN(f))throw hi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var T=document.createElement("canvas");T.width=h,T.height=f;var N=T.getContext("2d");N.fillStyle="#fff",N.fillRect(0,0,T.width,T.height);var Z={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return n().then(function(R){return R.fromString(N,o,Z)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(Z)}).then(function(){y.addImage(T.toDataURL("image/jpeg",1),u,d,h,f,v,w)})}}(),Me.API.putTotalPages=function(a){var n,o=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(a,"g"),o=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),o=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var u=1;u<=this.internal.getNumberOfPages();u++)for(var d=0;d<this.internal.pages[u].length;d++)this.internal.pages[u][d]=this.internal.pages[u][d].replace(n,o);return this},Me.API.viewerPreferences=function(a,n){var o;a=a||{},n=n||!1;var u,d,h,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},_=Object.keys(f),v=[],w=0,T=0,N=0;function Z(R,M){var H,I=!1;for(H=0;H<R.length;H+=1)R[H]===M&&(I=!0);return I}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),o=this.internal.viewerpreferences.configuration,"reset"===a||!0===n){var y=_.length;for(N=0;N<y;N+=1)o[_[N]].value=o[_[N]].defaultValue,o[_[N]].explicitSet=!1}if("object"===Ae(a))for(d in a)if(h=a[d],Z(_,d)&&void 0!==h){if("boolean"===o[d].type&&"boolean"==typeof h)o[d].value=h;else if("name"===o[d].type&&Z(o[d].valueSet,h))o[d].value=h;else if("integer"===o[d].type&&Number.isInteger(h))o[d].value=h;else if("array"===o[d].type){for(w=0;w<h.length;w+=1)if(u=!0,1===h[w].length&&"number"==typeof h[w][0])v.push(String(h[w]-1));else if(h[w].length>1){for(T=0;T<h[w].length;T+=1)"number"!=typeof h[w][T]&&(u=!1);!0===u&&v.push([h[w][0]-1,h[w][1]-1].join(" "))}o[d].value="["+v.join(" ")+"]"}else o[d].value=o[d].defaultValue;o[d].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var R,M=[];for(R in o)!0===o[R].explicitSet&&M.push("name"===o[R].type?"/"+R+" /"+o[R].value:"/"+R+" "+o[R].value);0!==M.length&&this.internal.write("/ViewerPreferences\n<<\n"+M.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=o,this},function(a){var n=function(){var u='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',d=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),h=unescape(encodeURIComponent(u)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),_=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),v=unescape(encodeURIComponent("</x:xmpmeta>")),w=h.length+f.length+_.length+d.length+v.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+w+" >>"),this.internal.write("stream"),this.internal.write(d+h+f+_+v),this.internal.write("endstream"),this.internal.write("endobj")},o=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};a.addMetadata=function(u,d){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:u,namespaceuri:d||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",o),this.internal.events.subscribe("postPutResources",n)),this}}(Me.API),function(a){var n=a.API,o=n.pdfEscape16=function(h,f){for(var _,v=f.metadata.Unicode.widths,w=["","0","00","000","0000"],T=[""],N=0,Z=h.length;N<Z;++N){if(_=f.metadata.characterToGlyph(h.charCodeAt(N)),f.metadata.glyIdsUsed.push(_),f.metadata.toUnicode[_]=h.charCodeAt(N),-1==v.indexOf(_)&&(v.push(_),v.push([parseInt(f.metadata.widthOfGlyph(_),10)])),"0"==_)return T.join("");_=_.toString(16),T.push(w[4-_.length],_)}return T.join("")},u=function(h){var f,_,v,w,T,N,Z;for(T="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",v=[],N=0,Z=(_=Object.keys(h).sort(function(y,R){return y-R})).length;N<Z;N++)f=_[N],v.length>=100&&(T+="\n"+v.length+" beginbfchar\n"+v.join("\n")+"\nendbfchar",v=[]),null!=h[f]&&"function"==typeof h[f].toString&&(w=("0000"+h[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),v.push("<"+f+"><"+w+">"));return v.length&&(T+="\n"+v.length+" beginbfchar\n"+v.join("\n")+"\nendbfchar\n"),T+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(h){!function(f){var _=f.font,v=f.out,w=f.newObject,T=f.putStream;if(_.metadata instanceof a.API.TTFFont&&"Identity-H"===_.encoding){for(var N=_.metadata.Unicode.widths,Z=_.metadata.subset.encode(_.metadata.glyIdsUsed,1),y="",R=0;R<Z.length;R++)y+=String.fromCharCode(Z[R]);var M=w();T({data:y,addLength1:!0,objectId:M}),v("endobj");var H=w();T({data:u(_.metadata.toUnicode),addLength1:!0,objectId:H}),v("endobj");var I=w();v("<<"),v("/Type /FontDescriptor"),v("/FontName /"+so(_.fontName)),v("/FontFile2 "+M+" 0 R"),v("/FontBBox "+a.API.PDFObject.convert(_.metadata.bbox)),v("/Flags "+_.metadata.flags),v("/StemV "+_.metadata.stemV),v("/ItalicAngle "+_.metadata.italicAngle),v("/Ascent "+_.metadata.ascender),v("/Descent "+_.metadata.decender),v("/CapHeight "+_.metadata.capHeight),v(">>"),v("endobj");var B=w();v("<<"),v("/Type /Font"),v("/BaseFont /"+so(_.fontName)),v("/FontDescriptor "+I+" 0 R"),v("/W "+a.API.PDFObject.convert(N)),v("/CIDToGIDMap /Identity"),v("/DW 1000"),v("/Subtype /CIDFontType2"),v("/CIDSystemInfo"),v("<<"),v("/Supplement 0"),v("/Registry (Adobe)"),v("/Ordering ("+_.encoding+")"),v(">>"),v(">>"),v("endobj"),_.objectNumber=w(),v("<<"),v("/Type /Font"),v("/Subtype /Type0"),v("/ToUnicode "+H+" 0 R"),v("/BaseFont /"+so(_.fontName)),v("/Encoding /"+_.encoding),v("/DescendantFonts ["+B+" 0 R]"),v(">>"),v("endobj"),_.isAlreadyPutted=!0}}(h)}]),n.events.push(["putFont",function(h){!function(f){var _=f.font,v=f.out,w=f.newObject,T=f.putStream;if(_.metadata instanceof a.API.TTFFont&&"WinAnsiEncoding"===_.encoding){for(var N=_.metadata.rawData,Z="",y=0;y<N.length;y++)Z+=String.fromCharCode(N[y]);var R=w();T({data:Z,addLength1:!0,objectId:R}),v("endobj");var M=w();T({data:u(_.metadata.toUnicode),addLength1:!0,objectId:M}),v("endobj");var H=w();v("<<"),v("/Descent "+_.metadata.decender),v("/CapHeight "+_.metadata.capHeight),v("/StemV "+_.metadata.stemV),v("/Type /FontDescriptor"),v("/FontFile2 "+R+" 0 R"),v("/Flags 96"),v("/FontBBox "+a.API.PDFObject.convert(_.metadata.bbox)),v("/FontName /"+so(_.fontName)),v("/ItalicAngle "+_.metadata.italicAngle),v("/Ascent "+_.metadata.ascender),v(">>"),v("endobj"),_.objectNumber=w();for(var I=0;I<_.metadata.hmtx.widths.length;I++)_.metadata.hmtx.widths[I]=parseInt(_.metadata.hmtx.widths[I]*(1e3/_.metadata.head.unitsPerEm));v("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+so(_.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+_.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(_.metadata.hmtx.widths)+">>"),v("endobj"),_.isAlreadyPutted=!0}}(h)}]);var d=function(h){var f,_=h.text||"",v=h.x,w=h.y,T=h.options||{},N=h.mutex||{},Z=N.pdfEscape,y=N.activeFontKey,R=N.fonts,M=y,H="",I=0,B="",X=R[M].encoding;if("Identity-H"!==R[M].encoding)return{text:_,x:v,y:w,options:T,mutex:N};for(B=_,M=y,Array.isArray(_)&&(B=_[0]),I=0;I<B.length;I+=1)R[M].metadata.hasOwnProperty("cmap")&&(f=R[M].metadata.cmap.unicode.codeMap[B[I].charCodeAt(0)]),f||B[I].charCodeAt(0)<256&&R[M].metadata.hasOwnProperty("Unicode")?H+=B[I]:H+="";var ut="";return parseInt(M.slice(1))<14||"WinAnsiEncoding"===X?ut=Z(H,M).split("").map(function(At){return At.charCodeAt(0).toString(16)}).join(""):"Identity-H"===X&&(ut=o(H,R[M])),N.isHex=!0,{text:ut,x:v,y:w,options:T,mutex:N}};n.events.push(["postProcessText",function(h){var f=h.text||"",_=[],v={text:f,x:h.x,y:h.y,options:h.options,mutex:h.mutex};if(Array.isArray(f)){var w=0;for(w=0;w<f.length;w+=1)Array.isArray(f[w])&&3===f[w].length?_.push([d(Object.assign({},v,{text:f[w][0]})).text,f[w][1],f[w][2]]):_.push(d(Object.assign({},v,{text:f[w]})).text);h.text=_}else h.text=d(Object.assign({},v,{text:f})).text}])}(Me),function(a){var n=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};a.existsFileInVFS=function(o){return n.call(this),void 0!==this.internal.vFS[o]},a.addFileToVFS=function(o,u){return n.call(this),this.internal.vFS[o]=u,this},a.getFileFromVFS=function(o){return n.call(this),void 0!==this.internal.vFS[o]?this.internal.vFS[o]:null}}(Me.API),function(a){a.__bidiEngine__=a.prototype.__bidiEngine__=function(u){var d,h,f,_,v,w,T,N=n,Z=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,X=0;this.__bidiEngine__={};var ut=function(E){var O=E.charCodeAt(),Q=O>>8,V=M[Q];return void 0!==V?N[256*V+(255&O)]:252===Q||253===Q?"AL":I.test(Q)?"L":8===Q?"R":"N"},At=function(E){for(var O,Q=0;Q<E.length;Q++){if("L"===(O=ut(E.charAt(Q))))return!1;if("R"===O)return!0}return!1},Yt=function(E,O,Q,V){var Pt,wt,Et,pt,Ft=O[V];switch(Ft){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(Ft="AN");break;case"AL":B=!0,Ft="R";break;case"WS":case"BN":Ft="N";break;case"CS":V<1||V+1>=O.length||"EN"!==(Pt=Q[V-1])&&"AN"!==Pt||"EN"!==(wt=O[V+1])&&"AN"!==wt?Ft="N":B&&(wt="AN"),Ft=wt===Pt?wt:"N";break;case"ES":Ft="EN"===(Pt=V>0?Q[V-1]:"B")&&V+1<O.length&&"EN"===O[V+1]?"EN":"N";break;case"ET":if(V>0&&"EN"===Q[V-1]){Ft="EN";break}if(B){Ft="N";break}for(Et=V+1,pt=O.length;Et<pt&&"ET"===O[Et];)Et++;Ft=Et<pt&&"EN"===O[Et]?"EN":"N";break;case"NSM":if(f&&!_){for(pt=O.length,Et=V+1;Et<pt&&"NSM"===O[Et];)Et++;if(Et<pt){var Mt=E[V];if(Pt=O[Et],(Mt>=1425&&Mt<=2303||64286===Mt)&&("R"===Pt||"AL"===Pt)){Ft="R";break}}}Ft=V<1||"B"===(Pt=O[V-1])?"N":Q[V-1];break;case"B":B=!1,d=!0,Ft=X;break;case"S":h=!0,Ft="N"}return Ft},dt=function(E,O,Q){var V=E.split("");return Q&&J(V,Q,{hiLevel:X}),V.reverse(),O&&O.reverse(),V.join("")},J=function(E,O,Q){var V,Pt,wt,Et,pt,Ft=-1,Mt=E.length,de=0,S=[],j=X?y:Z,z=[];for(B=!1,d=!1,h=!1,Pt=0;Pt<Mt;Pt++)z[Pt]=ut(E[Pt]);for(wt=0;wt<Mt;wt++){if(pt=de,S[wt]=Yt(E,z,S,wt),V=240&(de=j[pt][R[S[wt]]]),O[wt]=Et=j[de&=15][5],V>0)if(16===V){for(Pt=Ft;Pt<wt;Pt++)O[Pt]=1;Ft=-1}else Ft=-1;if(j[de][6])-1===Ft&&(Ft=wt);else if(Ft>-1){for(Pt=Ft;Pt<wt;Pt++)O[Pt]=Et;Ft=-1}"B"===z[wt]&&(O[wt]=0),Q.hiLevel|=Et}h&&function($,ot,mt){for(var vt=0;vt<mt;vt++)if("S"===$[vt]){ot[vt]=X;for(var xt=vt-1;xt>=0&&"WS"===$[xt];xt--)ot[xt]=X}}(z,O,Mt)},qt=function(E,O,Q,V,Pt){if(!(Pt.hiLevel<E)){if(1===E&&1===X&&!d)return O.reverse(),void(Q&&Q.reverse());for(var wt,Et,pt,Ft,Mt=O.length,de=0;de<Mt;){if(V[de]>=E){for(pt=de+1;pt<Mt&&V[pt]>=E;)pt++;for(Ft=de,Et=pt-1;Ft<Et;Ft++,Et--)wt=O[Ft],O[Ft]=O[Et],O[Et]=wt,Q&&(wt=Q[Ft],Q[Ft]=Q[Et],Q[Et]=wt);de=pt}de++}}},It=function(E,O,Q){var V=E.split(""),Pt={hiLevel:X};return Q||(Q=[]),J(V,Q,Pt),function(wt,Et,pt){if(0!==pt.hiLevel&&T)for(var Ft,Mt=0;Mt<wt.length;Mt++)1===Et[Mt]&&(Ft=H.indexOf(wt[Mt]))>=0&&(wt[Mt]=H[Ft+1])}(V,Q,Pt),qt(2,V,O,Q,Pt),qt(1,V,O,Q,Pt),V.join("")};return this.__bidiEngine__.doBidiReorder=function(E,O,Q){if(function(Pt,wt){if(wt)for(var Et=0;Et<Pt.length;Et++)wt[Et]=Et;void 0===_&&(_=At(Pt)),void 0===w&&(w=At(Pt))}(E,O),f||!v||w)if(f&&v&&_^w)X=_?1:0,E=dt(E,O,Q);else if(!f&&v&&w)X=_?1:0,E=It(E,O,Q),E=dt(E,O);else if(!f||_||v||w){if(f&&!v&&_^w)E=dt(E,O),_?(X=0,E=It(E,O,Q)):(X=1,E=It(E,O,Q),E=dt(E,O));else if(f&&_&&!v&&w)X=1,E=It(E,O,Q),E=dt(E,O);else if(!f&&!v&&_^w){var V=T;_?(X=1,E=It(E,O,Q),X=0,T=!1,E=It(E,O,Q),T=V):(X=0,E=It(E,O,Q),E=dt(E,O),X=1,T=!1,E=It(E,O,Q),T=V,E=dt(E,O))}}else X=0,E=It(E,O,Q);else X=_?1:0,E=It(E,O,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(f=E.isInputVisual,v=E.isOutputVisual,_=E.isInputRtl,w=E.isOutputRtl,T=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(u),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],o=new a.__bidiEngine__({isInputVisual:!0});a.API.events.push(["postProcessText",function(u){var d=u.text,h=u.options||{},f=[];if(h.isInputVisual="boolean"!=typeof h.isInputVisual||h.isInputVisual,o.setOptions(h),"[object Array]"===Object.prototype.toString.call(d)){var _=0;for(f=[],_=0;_<d.length;_+=1)"[object Array]"===Object.prototype.toString.call(d[_])?f.push([o.doBidiReorder(d[_][0]),d[_][1],d[_][2]]):f.push([o.doBidiReorder(d[_])]);u.text=f}else u.text=o.doBidiReorder(d);o.setOptions({isInputVisual:!0})}])}(Me),Me.API.TTFFont=function(){function a(n){var o;if(this.rawData=n,o=this.contents=new yr(n),this.contents.pos=4,"ttcf"===o.readString(4))throw new Error("TTCF not supported.");o.pos=0,this.parse(),this.subset=new Vc(this),this.registerTTF()}return a.open=function(n){return new a(n)},a.prototype.parse=function(){return this.directory=new $l(this.contents),this.head=new Xl(this),this.name=new tu(this),this.cmap=new Rr(this),this.toUnicode={},this.hhea=new Br(this),this.maxp=new eu(this),this.hmtx=new iu(this),this.post=new li(this),this.os2=new rn(this),this.loca=new fo(this),this.glyf=new Jc(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var o,u,d,h;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var f,_,v,w;for(w=[],f=0,_=(v=this.bbox).length;f<_;f++)w.push(Math.round(v[f]*this.scaleFactor));return w}.call(this),this.stemV=0,this.post.exists?(u=255&(d=this.post.italic_angle),0!=(32768&(o=d>>16))&&(o=-(1+(65535^o))),this.italicAngle=+(o+"."+u)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(h=this.familyClass)||2===h||3===h||4===h||5===h||7===h,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(n){var o;return(null!=(o=this.cmap.unicode)?o.codeMap[n]:void 0)||0},a.prototype.widthOfGlyph=function(n){var o;return o=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*o},a.prototype.widthOfString=function(n,o,u){var d,h,f,_;for(f=0,h=0,_=(n=""+n).length;0<=_?h<_:h>_;h=0<=_?++h:--h)d=n.charCodeAt(h),f+=this.widthOfGlyph(this.characterToGlyph(d))+u*(1e3/o)||0;return f*(o/1e3)},a.prototype.lineHeight=function(n,o){return null==o&&(o=!1),(this.ascender+(o?this.lineGap:0)-this.decender)/1e3*n},a}();var Tn,yr=function(){function a(n){this.data=null!=n?n:[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(n){return this.data[this.pos++]=n},a.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},a.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},a.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},a.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},a.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},a.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},a.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},a.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},a.prototype.readString=function(n){var o,u;for(u=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)u[o]=String.fromCharCode(this.readByte());return u.join("")},a.prototype.writeString=function(n){var o,u,d;for(d=[],o=0,u=n.length;0<=u?o<u:o>u;o=0<=u?++o:--o)d.push(this.writeByte(n.charCodeAt(o)));return d},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(n){return this.writeInt16(n)},a.prototype.readLongLong=function(){var n,o,u,d,h,f,_,v;return n=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),h=this.readByte(),f=this.readByte(),_=this.readByte(),v=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^o)+1099511627776*(255^u)+4294967296*(255^d)+16777216*(255^h)+65536*(255^f)+256*(255^_)+(255^v)+1):72057594037927940*n+281474976710656*o+1099511627776*u+4294967296*d+16777216*h+65536*f+256*_+v},a.prototype.writeLongLong=function(n){var o,u;return o=Math.floor(n/4294967296),u=4294967295&n,this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o),this.writeByte(u>>24&255),this.writeByte(u>>16&255),this.writeByte(u>>8&255),this.writeByte(255&u)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(n){return this.writeInt32(n)},a.prototype.read=function(n){var o,u;for(o=[],u=0;0<=n?u<n:u>n;u=0<=n?++u:--u)o.push(this.readByte());return o},a.prototype.write=function(n){var u,d,h;for(h=[],u=0,d=n.length;u<d;u++)h.push(this.writeByte(n[u]));return h},a}(),$l=function(){var a;function n(o){var u,d,h;for(this.scalarType=o.readInt(),this.tableCount=o.readShort(),this.searchRange=o.readShort(),this.entrySelector=o.readShort(),this.rangeShift=o.readShort(),this.tables={},d=0,h=this.tableCount;0<=h?d<h:d>h;d=0<=h?++d:--d)u={tag:o.readString(4),checksum:o.readInt(),offset:o.readInt(),length:o.readInt()},this.tables[u.tag]=u}return n.prototype.encode=function(o){var u,d,f,_,v,w,T,N,Z,y,R,M;for(M in y=Object.keys(o).length,v=Math.log(2),N=16*Math.floor(Math.log(y)/v),f=Math.floor(N/v),T=16*y-N,(d=new yr).writeInt(this.scalarType),d.writeShort(y),d.writeShort(N),d.writeShort(f),d.writeShort(T),w=d.pos+16*y,_=null,R=[],o)for(Z=o[M],d.writeString(M),d.writeInt(a(Z)),d.writeInt(w),d.writeInt(Z.length),R=R.concat(Z),"head"===M&&(_=w),w+=Z.length;w%4;)R.push(0),w++;return d.write(R),u=2981146554-a(d.data),d.pos=_+8,d.writeUInt32(u),d.data},a=function(o){var u,d,h,f;for(o=Yc.call(o);o.length%4;)o.push(0);for(h=new yr(o),d=0,u=0,f=o.length;u<f;u=u+=4)d+=h.readUInt32();return 4294967295&d},n}(),Kl={}.hasOwnProperty,Yn=function(a,n){for(var o in n)Kl.call(n,o)&&(a[o]=n[o]);function u(){this.constructor=a}return u.prototype=n.prototype,a.prototype=new u,a.__super__=n.prototype,a};Tn=function(){function a(n){var o;this.file=n,this.exists=!!(o=this.file.directory.tables[this.tag]),o&&(this.offset=o.offset,this.length=o.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var Xl=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="head",n.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.revision=o.readInt(),this.checkSumAdjustment=o.readInt(),this.magicNumber=o.readInt(),this.flags=o.readShort(),this.unitsPerEm=o.readShort(),this.created=o.readLongLong(),this.modified=o.readLongLong(),this.xMin=o.readShort(),this.yMin=o.readShort(),this.xMax=o.readShort(),this.yMax=o.readShort(),this.macStyle=o.readShort(),this.lowestRecPPEM=o.readShort(),this.fontDirectionHint=o.readShort(),this.indexToLocFormat=o.readShort(),this.glyphDataFormat=o.readShort()},n.prototype.encode=function(o){var u;return(u=new yr).writeInt(this.version),u.writeInt(this.revision),u.writeInt(this.checkSumAdjustment),u.writeInt(this.magicNumber),u.writeShort(this.flags),u.writeShort(this.unitsPerEm),u.writeLongLong(this.created),u.writeLongLong(this.modified),u.writeShort(this.xMin),u.writeShort(this.yMin),u.writeShort(this.xMax),u.writeShort(this.yMax),u.writeShort(this.macStyle),u.writeShort(this.lowestRecPPEM),u.writeShort(this.fontDirectionHint),u.writeShort(o),u.writeShort(this.glyphDataFormat),u.data},n}(),zc=function(){function a(n,o){var u,d,h,f,_,v,w,T,N,Z,y,R,M,H,I,B,X;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=o+n.readInt(),N=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(v=0;v<256;++v)this.codeMap[v]=n.readByte();break;case 4:for(y=n.readUInt16(),Z=y/2,n.pos+=6,h=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(n.readUInt16());return At}(),n.pos+=2,M=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(n.readUInt16());return At}(),w=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(n.readUInt16());return At}(),T=function(){var ut,At;for(At=[],v=ut=0;0<=Z?ut<Z:ut>Z;v=0<=Z?++ut:--ut)At.push(n.readUInt16());return At}(),d=(this.length-n.pos+this.offset)/2,_=function(){var ut,At;for(At=[],v=ut=0;0<=d?ut<d:ut>d;v=0<=d?++ut:--ut)At.push(n.readUInt16());return At}(),v=I=0,X=h.length;I<X;v=++I)for(H=h[v],u=B=R=M[v];R<=H?B<=H:B>=H;u=R<=H?++B:--B)0===T[v]?f=u+w[v]:0!==(f=_[T[v]/2+(u-R)-(Z-v)]||0)&&(f+=w[v]),this.codeMap[u]=65535&f}n.pos=N}return a.encode=function(n,o){var u,d,h,f,_,v,w,T,N,Z,y,R,M,H,I,B,X,At,Yt,dt,J,qt,It,E,O,Q,V,Pt,wt,Et,pt,Ft,Mt,de,S,j,z,$,ot,mt,vt,xt,oe,re,pe;switch(V=new yr,f=Object.keys(n).sort(function(_e,qe){return _e-qe}),o){case"macroman":for(M=0,H=function(){var _e=[];for(R=0;R<256;++R)_e.push(0);return _e}(),B={0:0},h={},Pt=0,Ft=f.length;Pt<Ft;Pt++)null==B[xt=n[d=f[Pt]]]&&(B[xt]=++M),h[d]={old:n[d],new:B[n[d]]},H[d]=B[n[d]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(H),{charMap:h,subtable:V.data,maxGlyphID:M+1};case"unicode":for(O=[],N=[],X=0,B={},u={},I=w=null,wt=0,Mt=f.length;wt<Mt;wt++)null==B[At=n[d=f[wt]]]&&(B[At]=++X),u[d]={old:At,new:B[At]},_=B[At]-d,null!=I&&_===w||(I&&N.push(I),O.push(d),w=_),I=d;for(I&&N.push(I),N.push(65535),O.push(65535),It=2*(qt=O.length),J=2*Math.pow(Math.log(qt)/Math.LN2,2),Z=Math.log(J/2)/Math.LN2,dt=2*qt-J,v=[],Yt=[],y=[],R=Et=0,de=O.length;Et<de;R=++Et){if(T=N[R],65535===(E=O[R])){v.push(0),Yt.push(0);break}if(E-(Q=u[E].new)>=32768)for(v.push(0),Yt.push(2*(y.length+qt-R)),d=pt=E;E<=T?pt<=T:pt>=T;d=E<=T?++pt:--pt)y.push(u[d].new);else v.push(Q-E),Yt.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*qt+2*y.length),V.writeUInt16(0),V.writeUInt16(It),V.writeUInt16(J),V.writeUInt16(Z),V.writeUInt16(dt),mt=0,S=N.length;mt<S;mt++)V.writeUInt16(d=N[mt]);for(V.writeUInt16(0),vt=0,j=O.length;vt<j;vt++)V.writeUInt16(d=O[vt]);for(oe=0,z=v.length;oe<z;oe++)V.writeUInt16(_=v[oe]);for(re=0,$=Yt.length;re<$;re++)V.writeUInt16(Yt[re]);for(pe=0,ot=y.length;pe<ot;pe++)V.writeUInt16(M=y[pe]);return{charMap:u,subtable:V.data,maxGlyphID:X+1}}},a}(),Rr=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="cmap",n.prototype.parse=function(o){var u,d,h;for(o.pos=this.offset,this.version=o.readUInt16(),h=o.readUInt16(),this.tables=[],this.unicode=null,d=0;0<=h?d<h:d>h;d=0<=h?++d:--d)u=new zc(o,this.offset),this.tables.push(u),u.isUnicode&&null==this.unicode&&(this.unicode=u);return!0},n.encode=function(o,u){var d,h;return null==u&&(u="macroman"),d=zc.encode(o,u),(h=new yr).writeUInt16(0),h.writeUInt16(1),d.table=h.data.concat(d.subtable),d},n}(),Br=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="hhea",n.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.ascender=o.readShort(),this.decender=o.readShort(),this.lineGap=o.readShort(),this.advanceWidthMax=o.readShort(),this.minLeftSideBearing=o.readShort(),this.minRightSideBearing=o.readShort(),this.xMaxExtent=o.readShort(),this.caretSlopeRise=o.readShort(),this.caretSlopeRun=o.readShort(),this.caretOffset=o.readShort(),o.pos+=8,this.metricDataFormat=o.readShort(),this.numberOfMetrics=o.readUInt16()},n}(),rn=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="OS/2",n.prototype.parse=function(o){if(o.pos=this.offset,this.version=o.readUInt16(),this.averageCharWidth=o.readShort(),this.weightClass=o.readUInt16(),this.widthClass=o.readUInt16(),this.type=o.readShort(),this.ySubscriptXSize=o.readShort(),this.ySubscriptYSize=o.readShort(),this.ySubscriptXOffset=o.readShort(),this.ySubscriptYOffset=o.readShort(),this.ySuperscriptXSize=o.readShort(),this.ySuperscriptYSize=o.readShort(),this.ySuperscriptXOffset=o.readShort(),this.ySuperscriptYOffset=o.readShort(),this.yStrikeoutSize=o.readShort(),this.yStrikeoutPosition=o.readShort(),this.familyClass=o.readShort(),this.panose=function(){var u,d;for(d=[],u=0;u<10;++u)d.push(o.readByte());return d}(),this.charRange=function(){var u,d;for(d=[],u=0;u<4;++u)d.push(o.readInt());return d}(),this.vendorID=o.readString(4),this.selection=o.readShort(),this.firstCharIndex=o.readShort(),this.lastCharIndex=o.readShort(),this.version>0&&(this.ascent=o.readShort(),this.descent=o.readShort(),this.lineGap=o.readShort(),this.winAscent=o.readShort(),this.winDescent=o.readShort(),this.codePageRange=function(){var u,d;for(d=[],u=0;u<2;u=++u)d.push(o.readInt());return d}(),this.version>1))return this.xHeight=o.readShort(),this.capHeight=o.readShort(),this.defaultChar=o.readShort(),this.breakChar=o.readShort(),this.maxContext=o.readShort()},n}(),li=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="post",n.prototype.parse=function(o){var u,d,h;switch(o.pos=this.offset,this.format=o.readInt(),this.italicAngle=o.readInt(),this.underlinePosition=o.readShort(),this.underlineThickness=o.readShort(),this.isFixedPitch=o.readInt(),this.minMemType42=o.readInt(),this.maxMemType42=o.readInt(),this.minMemType1=o.readInt(),this.maxMemType1=o.readInt(),this.format){case 65536:case 196608:break;case 131072:var f;for(d=o.readUInt16(),this.glyphNameIndex=[],f=0;0<=d?f<d:f>d;f=0<=d?++f:--f)this.glyphNameIndex.push(o.readUInt16());for(this.names=[],h=[];o.pos<this.offset+this.length;)u=o.readByte(),h.push(this.names.push(o.readString(u)));return h;case 151552:return d=o.readUInt16(),this.offsets=o.read(d);case 262144:return this.map=function(){var _,v,w;for(w=[],f=_=0,v=this.file.maxp.numGlyphs;0<=v?_<v:_>v;f=0<=v?++_:--_)w.push(o.readUInt32());return w}.call(this)}},n}(),po=function(a,n){this.raw=a,this.length=a.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},tu=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="name",n.prototype.parse=function(o){var u,d,h,f,_,v,w,T,N,Z,y;for(o.pos=this.offset,o.readShort(),u=o.readShort(),v=o.readShort(),d=[],f=0;0<=u?f<u:f>u;f=0<=u?++f:--f)d.push({platformID:o.readShort(),encodingID:o.readShort(),languageID:o.readShort(),nameID:o.readShort(),length:o.readShort(),offset:this.offset+v+o.readShort()});for(w={},f=N=0,Z=d.length;N<Z;f=++N)o.pos=(h=d[f]).offset,T=o.readString(h.length),_=new po(T,h),null==w[y=h.nameID]&&(w[y]=[]),w[h.nameID].push(_);this.strings=w,this.copyright=w[0],this.fontFamily=w[1],this.fontSubfamily=w[2],this.uniqueSubfamily=w[3],this.fontName=w[4],this.version=w[5];try{this.postscriptName=w[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(R){this.postscriptName=w[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=w[7],this.manufacturer=w[8],this.designer=w[9],this.description=w[10],this.vendorUrl=w[11],this.designerUrl=w[12],this.license=w[13],this.licenseUrl=w[14],this.preferredFamily=w[15],this.preferredSubfamily=w[17],this.compatibleFull=w[18],this.sampleText=w[19]},n}(),eu=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="maxp",n.prototype.parse=function(o){return o.pos=this.offset,this.version=o.readInt(),this.numGlyphs=o.readUInt16(),this.maxPoints=o.readUInt16(),this.maxContours=o.readUInt16(),this.maxCompositePoints=o.readUInt16(),this.maxComponentContours=o.readUInt16(),this.maxZones=o.readUInt16(),this.maxTwilightPoints=o.readUInt16(),this.maxStorage=o.readUInt16(),this.maxFunctionDefs=o.readUInt16(),this.maxInstructionDefs=o.readUInt16(),this.maxStackElements=o.readUInt16(),this.maxSizeOfInstructions=o.readUInt16(),this.maxComponentElements=o.readUInt16(),this.maxComponentDepth=o.readUInt16()},n}(),iu=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="hmtx",n.prototype.parse=function(o){var u,d,h,_,v,w;for(o.pos=this.offset,this.metrics=[],u=0,v=this.file.hhea.numberOfMetrics;0<=v?u<v:u>v;u=0<=v?++u:--u)this.metrics.push({advance:o.readUInt16(),lsb:o.readInt16()});for(h=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var T,N;for(N=[],u=T=0;0<=h?T<h:T>h;u=0<=h?++T:--T)N.push(o.readInt16());return N}(),this.widths=function(){var T,N,Z,y;for(y=[],T=0,N=(Z=this.metrics).length;T<N;T++)y.push(Z[T].advance);return y}.call(this),d=this.widths[this.widths.length-1],w=[],u=_=0;0<=h?_<h:_>h;u=0<=h?++_:--_)w.push(this.widths.push(d));return w},n.prototype.forGlyph=function(o){return o in this.metrics?this.metrics[o]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[o-this.metrics.length]}},n}(),Yc=[].slice,Jc=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(o){var u,d,h,f,_,v,w,T,N,Z;return o in this.cache?this.cache[o]:(u=this.file.contents,d=(f=this.file.loca).indexOf(o),0===(h=f.lengthOf(o))?this.cache[o]=null:(u.pos=this.offset+d,_=(v=new yr(u.read(h))).readShort(),T=v.readShort(),Z=v.readShort(),w=v.readShort(),N=v.readShort(),this.cache[o]=-1===_?new Ur(v,T,Z,w,N):new Jn(v,_,T,Z,w,N),this.cache[o]))},n.prototype.encode=function(o,u,d){var h,f,_,v,w;for(_=[],f=[],v=0,w=u.length;v<w;v++)h=o[u[v]],f.push(_.length),h&&(_=_.concat(h.encode(d)));return f.push(_.length),{table:_,offsets:f}},n}(),Jn=function(){function a(n,o,u,d,h,f){this.raw=n,this.numberOfContours=o,this.xMin=u,this.yMin=d,this.xMax=h,this.yMax=f,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),Ur=function(){function a(n,o,u,d,h){var f,_;for(this.raw=n,this.xMin=o,this.yMin=u,this.xMax=d,this.yMax=h,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;_=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&_;)f.pos+=1&_?4:2,128&_?f.pos+=8:64&_?f.pos+=4:8&_&&(f.pos+=2)}return a.prototype.encode=function(){var n,o,u;for(o=new yr(Yc.call(this.raw.data)),n=0,u=this.glyphIDs.length;n<u;++n)o.pos=this.glyphOffsets[n];return o.data},a}(),fo=function(a){function n(){return n.__super__.constructor.apply(this,arguments)}return Yn(n,Tn),n.prototype.tag="loca",n.prototype.parse=function(o){var d;return o.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var h,f;for(f=[],d=0,h=this.length;d<h;d+=2)f.push(2*o.readUInt16());return f}.call(this):function(){var h,f;for(f=[],d=0,h=this.length;d<h;d+=4)f.push(o.readUInt32());return f}.call(this)},n.prototype.indexOf=function(o){return this.offsets[o]},n.prototype.lengthOf=function(o){return this.offsets[o+1]-this.offsets[o]},n.prototype.encode=function(o,u){for(var d=new Uint32Array(this.offsets.length),h=0,f=0,_=0;_<d.length;++_)if(d[_]=h,f<u.length&&u[f]==_){++f,d[_]=h;var w=this.offsets[_+1]-this.offsets[_];w>0&&(h+=w)}for(var T=new Array(4*d.length),N=0;N<d.length;++N)T[4*N+3]=255&d[N],T[4*N+2]=(65280&d[N])>>8,T[4*N+1]=(16711680&d[N])>>16,T[4*N]=(4278190080&d[N])>>24;return T},n}(),Vc=function(){function a(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var n,o,d,h;for(o in d=this.font.cmap.tables[0].codeMap,n={},h=this.subset)n[o]=d[h[o]];return n},a.prototype.glyphsFor=function(n){var o,u,d,h,f,_,v;for(d={},f=0,_=n.length;f<_;f++)d[h=n[f]]=this.font.glyf.glyphFor(h);for(h in o=[],d)(null!=(u=d[h])?u.compound:void 0)&&o.push.apply(o,u.glyphIDs);if(o.length>0)for(h in v=this.glyphsFor(o))d[h]=u=v[h];return d},a.prototype.encode=function(n,o){var u,d,h,f,v,w,T,N,Z,y,R,M,H,I;for(d in u=Rr.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(n),y={0:0},I=u.charMap)y[(v=I[d]).old]=v.new;for(R in Z=u.maxGlyphID,f)R in y||(y[R]=Z++);return T=function(B){var X,ut;for(X in ut={},B)ut[B[X]]=X;return ut}(y),N=Object.keys(T).sort(function(B,X){return B-X}),M=function(){var B,X,ut;for(ut=[],B=0,X=N.length;B<X;B++)ut.push(T[N[B]]);return ut}(),h=this.font.glyf.encode(f,M,y),w=this.font.loca.encode(h.offsets,M),H={cmap:this.font.cmap.raw(),glyf:h.table,loca:w,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(o)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},a}();Me.API.PDFObject=function(){var a;function n(){}return a=function(o,u){return(Array(u+1).join("0")+o).slice(-u)},n.convert=function(o){var d,h;if(Array.isArray(o))return"["+function(){var _,v,w;for(w=[],_=0,v=o.length;_<v;_++)w.push(n.convert(o[_]));return w}().join(" ")+"]";if("string"==typeof o)return"/"+o;if(null!=o?o.isString:void 0)return"("+o+")";if(o instanceof Date)return"(D:"+a(o.getUTCFullYear(),4)+a(o.getUTCMonth(),2)+a(o.getUTCDate(),2)+a(o.getUTCHours(),2)+a(o.getUTCMinutes(),2)+a(o.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(o)){for(d in h=["<<"],o)h.push("/"+d+" "+n.convert(o[d]));return h.push(">>"),h.join("\n")}return""+o},n}();const or=Me}}]);